/* Frozen Columns Enhancement for Users Table */
.frozen-column-container {
  position: relative;
  overflow-x: auto;
}

/* Base frozen column styles with theme integration */
.frozen-column {
  position: sticky;
  left: 0;
  z-index: 20;
  background: rgba(255, 255, 255, 0.85);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  backdrop-filter: blur(12px) saturate(180%);
  border-right: 1px solid rgba(0, 0, 0, 0.08);
  transition: background-color var(--theme-transition-duration, 0.25s) ease;
}

[data-theme-mode="dark"] .frozen-column {
  background: rgba(15, 20, 25, 0.85);
  border-right: 1px solid rgba(255, 255, 255, 0.08);
}

.frozen-column-user {
  position: sticky;
  left: 60px; /* Width of first column */
  z-index: 20;
  background: rgba(255, 255, 255, 0.85);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  backdrop-filter: blur(12px) saturate(180%);
  border-right: 1px solid rgba(0, 0, 0, 0.08);
  transition: background-color var(--theme-transition-duration, 0.25s) ease;
}

[data-theme-mode="dark"] .frozen-column-user {
  background: rgba(15, 20, 25, 0.85);
  border-right: 1px solid rgba(255, 255, 255, 0.08);
}

.frozen-column-header {
  background: rgba(255, 255, 255, 0.95);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  backdrop-filter: blur(12px) saturate(180%);
  z-index: 40;
  box-shadow: var(--content-shadow-light, 0 2px 8px rgba(0, 0, 0, 0.1));
  transition: background-color var(--theme-transition-duration, 0.25s) ease;
}

[data-theme-mode="dark"] .frozen-column-header {
  background: rgba(15, 20, 25, 0.95);
  box-shadow: var(--content-shadow-dark, 0 2px 12px rgba(0, 0, 0, 0.3));
}

/* Ensure proper layering for sticky headers with frozen columns */
.sticky-header-sl {
  position: sticky;
  top: 0;
  left: 0;
  z-index: 50 !important;
  background: rgba(255, 255, 255, 0.95) !important;
  -webkit-backdrop-filter: blur(12px) saturate(180%) !important;
  backdrop-filter: blur(12px) saturate(180%) !important;
  box-shadow: var(--content-shadow-light, 0 2px 8px rgba(0, 0, 0, 0.1)) !important;
  border-right: 1px solid rgba(0, 0, 0, 0.08) !important;
  transition: background-color var(--theme-transition-duration, 0.25s) ease !important;
}

[data-theme-mode="dark"] .sticky-header-sl {
  background: rgba(15, 20, 25, 0.95) !important;
  box-shadow: var(--content-shadow-dark, 0 2px 12px rgba(0, 0, 0, 0.3)) !important;
  border-right: 1px solid rgba(255, 255, 255, 0.08) !important;
}

.sticky-header-user {
  position: sticky;
  top: 0;
  left: 60px;
  z-index: 50 !important;
  background: rgba(255, 255, 255, 0.95) !important;
  -webkit-backdrop-filter: blur(12px) saturate(180%) !important;
  backdrop-filter: blur(12px) saturate(180%) !important;
  box-shadow: var(--content-shadow-light, 0 2px 8px rgba(0, 0, 0, 0.1)) !important;
  border-right: 1px solid rgba(0, 0, 0, 0.08) !important;
  transition: background-color var(--theme-transition-duration, 0.25s) ease !important;
}

[data-theme-mode="dark"] .sticky-header-user {
  background: rgba(15, 20, 25, 0.95) !important;
  box-shadow: var(--content-shadow-dark, 0 2px 12px rgba(0, 0, 0, 0.3)) !important;
  border-right: 1px solid rgba(255, 255, 255, 0.08) !important;
}

/* Device Status Indicators */
.device-status-chip {
  transition: all 0.2s ease-in-out;
}

.device-status-chip:hover {
  transform: scale(1.05);
}

.device-indicator {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.25rem 0.5rem;
  border-radius: 0.5rem;
  font-size: 0.75rem;
  font-weight: 500;
}

.device-indicator.locked {
  background: rgba(255, 165, 0, 0.1);
  color: #ff8c00;
  border: 1px solid rgba(255, 165, 0, 0.3);
}

.device-indicator.free {
  background: rgba(34, 197, 94, 0.1);
  color: #22c55e;
  border: 1px solid rgba(34, 197, 94, 0.3);
}

.device-indicator.disabled {
  background: rgba(107, 114, 128, 0.1);
  color: #6b7280;
  border: 1px solid rgba(107, 114, 128, 0.3);
}

.device-indicator.loading {
  background: rgba(59, 130, 246, 0.1);
  color: #3b82f6;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

/* Loading spinner animation for device status */
.device-loading-spinner {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Pulse effect for loading states */
.device-loading-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: .5;
  }
}

/* Table hover effects with theme integration */
.table-row-hover:hover {
  background-color: rgba(255, 255, 255, 0.05) !important;
  transition: background-color var(--theme-transition-fast, 0.15s) ease !important;
}

[data-theme-mode="dark"] .table-row-hover:hover {
  background-color: rgba(255, 255, 255, 0.03) !important;
}

/* Ensure frozen columns maintain hover consistency */
.table-row-hover:hover .frozen-column,
.table-row-hover:hover .frozen-column-user {
  background-color: rgba(255, 255, 255, 0.9) !important;
  transition: background-color var(--theme-transition-fast, 0.15s) ease !important;
}

[data-theme-mode="dark"] .table-row-hover:hover .frozen-column,
[data-theme-mode="dark"] .table-row-hover:hover .frozen-column-user {
  background-color: rgba(15, 20, 25, 0.9) !important;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .frozen-column-user {
    left: 60px; /* Keep consistent with desktop */
  }
  
  .sticky-header-user {
    left: 60px !important;
  }
}

@media (max-width: 640px) {
  .frozen-column-user {
    left: 60px; /* Keep consistent positioning */
  }
  
  .sticky-header-user {
    left: 60px !important;
  }
}

/* Smooth scrolling for table */
.table-scroll-container {
  scroll-behavior: smooth;
}

/* Enhanced glass effect for frozen columns */
.glass-frozen {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
  -webkit-backdrop-filter: blur(20px);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.18);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
}

/* Hover effects for table rows */
.table-row-hover:hover .frozen-column,
.table-row-hover:hover .frozen-column-user {
  background: rgba(26, 32, 44, 0.98);
  -webkit-backdrop-filter: blur(25px);
  backdrop-filter: blur(25px);
}
