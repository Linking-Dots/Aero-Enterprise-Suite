import{r as n,j as e,b as P,d as ge,e as fe,a as K,s as te,c as Pe,H as He}from"./app-DaB-CN0o.js";import{m as Ve,n as Ye,o as Ze,p as Je,P as Te,k as be,J as je,G as Xe,x as qe,B as ce,C as me,D as xe,E as le,h as Fe,z as Ce,b as he,e as Le,f as Qe,H as Ke,A as et}from"./App-BCgXjngS.js";import{S as tt}from"./StatsCards-Bn3lOPf_.js";import{c as se,F as ze,B as J}from"./react-toastify.esm-CzBbiHw6.js";import{F as ue}from"./ExclamationTriangleIcon-CWEnmACB.js";import{F as Se}from"./TrashIcon-CsMjb1-7.js";import{m as st}from"./chunk-O5MCAK4F-ycKgpbQ3.js";import{F as De}from"./UserIcon-B2hylrt8.js";import{F as Be}from"./CheckCircleIcon-X-G5qmsi.js";import{p as rt}from"./chunk-XVMALT6H-D0hF-l_o.js";import{F as pe}from"./EllipsisVerticalIcon-zc5N-o7a.js";import{F as Oe}from"./PencilIcon-Cn9OWJGH.js";import{F as Re}from"./EnvelopeIcon-DMw76KVb.js";import{F as at}from"./HashtagIcon-DsGifGdB.js";import{t as nt,a as lt,b as it,c as ot}from"./chunk-F3UDT23P-CIYUOVjL.js";import{t as dt}from"./chunk-YRZGWF2W-CNr6S42x.js";import{t as ct}from"./chunk-TSPNSPCL-BB-tv7nH.js";import{p as Ge}from"./chunk-EAPQ7RWQ-D7e8n7Cr.js";import{F as mt}from"./TrophyIcon-D41oWev8.js";import{F as Ue}from"./UserPlusIcon-DSbVuAYX.js";import{F as xt}from"./ChartBarIcon-RQWU8cPA.js";import{m as ht}from"./proxy-CjVFj0tM.js";import{F as pt}from"./TableCellsIcon-C8HLT4L_.js";import{F as gt}from"./FunnelIcon-TBE_0NoW.js";import{i as ft}from"./chunk-SSA7SXE4-C4o3Qyri.js";import{b as ut}from"./chunk-57V4RE7B-CpvGn1Xi.js";import"./ShieldCheckIcon-BJDzENCZ.js";import"./KeyIcon-FNnfzH4Z.js";import"./logo-eMlcfKMq.js";import"./features-animation-DHwWeTkE.js";import"./create-visual-element-wJ2WEOtq.js";import"./useProgressBar-BdNbZb54.js";import"./NumberFormatter-DNR9MAW-.js";import"./chunk-XJ2YRSUP-pJ1ENfHi.js";import"./useToggleState-BE-db7zu.js";import"./index-CErQMG-8.js";function bt({title:$,titleId:N,...r},v){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:v,"aria-labelledby":N},r),$?n.createElement("title",{id:N},$):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const We=n.forwardRef(bt),jt=({open:$,onClose:N,employee:r,onConfirm:v,loading:_=!1})=>{if(!r)return null;const j=r.active_projects_count>0||r.pending_leaves_count>0||r.active_trainings_count>0;return e.jsx(Ve,{isOpen:$,onClose:N,size:"2xl",classNames:{backdrop:"bg-black/50 backdrop-blur-sm",base:"border border-white/20 bg-white/90 backdrop-blur-md",header:"border-b border-danger/30 bg-gradient-to-r from-danger-50/50 to-danger-100/30",body:"py-0",footer:"border-t border-white/10 bg-white/5"},children:e.jsxs(Ye,{children:[e.jsx(Ze,{className:"flex items-center gap-4 pb-4",children:e.jsxs("div",{className:"flex items-center gap-4 text-danger",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-danger/20 to-danger/10 flex items-center justify-center border border-danger/30",children:e.jsx(ue,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-lg font-semibold",children:"Delete Employee"})]})}),e.jsxs(Je,{children:[e.jsxs("div",{className:"p-6 rounded-2xl bg-white/5 backdrop-blur-2xl border border-white/10 mb-6 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[e.jsx(Te,{src:r.profile_image_url||r.profile_image,name:r.name,size:"lg",className:"ring-2 ring-white/20 shadow-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:r.name}),e.jsx("p",{className:"text-sm text-default-500",children:r.email}),r.employee_id&&e.jsxs("span",{className:"inline-block mt-1 px-3 py-1 text-xs rounded-lg bg-white/10 border border-white/10",children:["ID: ",r.employee_id]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(be,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-xs text-default-500 font-medium",children:"Department"})]}),e.jsx("p",{className:"text-sm font-medium",children:r.department_name||"Not assigned"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(je,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-xs text-default-500 font-medium",children:"Designation"})]}),e.jsx("p",{className:"text-sm font-medium",children:r.designation_name||"Not assigned"})]})]})]}),e.jsx("div",{className:"mb-6 p-4 rounded-2xl bg-danger-50/50 backdrop-blur-2xl border border-danger/30",children:e.jsxs("div",{className:"flex items-center gap-3 text-danger",children:[e.jsx(ue,{className:"w-5 h-5"}),e.jsx("p",{className:"text-sm font-medium",children:"This action will permanently delete the employee record and cannot be undone."})]})}),j&&e.jsxs("div",{className:"p-6 rounded-2xl bg-warning-50/50 backdrop-blur-2xl border border-warning/30 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-warning/20 flex items-center justify-center",children:e.jsx(ue,{className:"w-4 h-4 text-warning"})}),e.jsx("h4",{className:"text-sm font-semibold text-warning",children:"Employee Has Active Data"})]}),e.jsx("p",{className:"text-sm text-default-500 mb-4",children:"This employee has the following active records that will also be affected:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.active_projects_count>0&&e.jsxs(se,{size:"sm",variant:"flat",color:"warning",className:"bg-warning/20 text-warning border border-warning/30",children:[r.active_projects_count," Active Projects"]}),r.pending_leaves_count>0&&e.jsxs(se,{size:"sm",variant:"flat",color:"warning",className:"bg-warning/20 text-warning border border-warning/30",children:[r.pending_leaves_count," Pending Leaves"]}),r.active_trainings_count>0&&e.jsxs(se,{size:"sm",variant:"flat",color:"warning",className:"bg-warning/20 text-warning border border-warning/30",children:[r.active_trainings_count," Active Trainings"]})]})]}),e.jsxs("div",{className:"p-6 rounded-2xl bg-white/5 border border-white/10 mb-4",children:[e.jsxs("p",{className:"text-sm mb-2 font-medium",children:["Are you sure you want to delete ",e.jsx("span",{className:"text-danger font-semibold",children:r.name}),"?"]}),e.jsx("p",{className:"text-xs text-default-500",children:"Type the employee's name below to confirm this permanent deletion:"})]})]}),e.jsxs(st,{className:"flex justify-between px-6 py-6 bg-white/5",children:[e.jsx(P,{variant:"light",onPress:N,isDisabled:_,className:"hover:bg-white/10",children:"Cancel"}),e.jsx(P,{color:"danger",variant:"solid",onPress:v,isLoading:_,startContent:!_&&e.jsx(Se,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-danger to-danger-600 hover:from-danger-600 hover:to-danger-700 shadow-lg",children:_?"Deleting...":"Delete Employee"})]})]})})},vt=({isOpen:$,onClose:N,employee:r,onImageUpdate:v})=>{const _=n.useRef(null),[j,Z]=n.useState(null),[x,U]=n.useState(null),[W,H]=n.useState(!1),[ee,b]=n.useState(0),[V,F]=n.useState(""),re=2*1024*1024,ie=["image/jpeg","image/jpg","image/png","image/webp"],X=100,ae=2e3,ne=(r==null?void 0:r.profile_image_url)||null,B=ne&&ne!==null,Y=C=>{const l=C.target.files[0];if(!l)return;if(F(""),!ie.includes(l.type)){F("Invalid file type. Please select a JPEG, PNG, or WebP image.");return}if(l.size>re){F(`File too large. Maximum size is ${re/1024/1024}MB.`);return}const h=new Image;h.onload=()=>{if(h.width<X||h.height<X){F(`Image dimensions too small. Minimum size is ${X}x${X} pixels.`);return}if(h.width>ae||h.height>ae){F(`Image dimensions too large. Maximum size is ${ae}x${ae} pixels.`);return}Z(l),U(URL.createObjectURL(l))},h.onerror=()=>{F("Invalid image file.")},h.src=URL.createObjectURL(l)},A=async()=>{var l,h,g,i;if(!j||!r)return;H(!0),b(0),F("");const C=new FormData;C.append("profile_image",j),C.append("user_id",r.id);try{const y=await K.post(route("profile.image.upload"),C,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:R=>{const Q=Math.round(R.loaded*100/R.total);b(Q)}});if(y.data.success){if(J.success(y.data.message||"Profile picture updated successfully!"),v){const R=y.data.profile_image_url;v(r.id,R)}G()}else throw new Error(y.data.message||"Upload failed")}catch(y){console.error("Upload error:",y);let R="Failed to upload profile picture";((l=y.response)==null?void 0:l.status)===413?R="File too large. Please choose a smaller image.":((h=y.response)==null?void 0:h.status)===422?R=y.response.data.message||"Validation failed":(i=(g=y.response)==null?void 0:g.data)!=null&&i.message?R=y.response.data.message:y.message&&(R=y.message),F(R),J.error(R)}finally{H(!1),b(0)}},q=async()=>{var l,h;if(!r)return;H(!0),F("");const C=new FormData;C.append("user_id",r.id);try{const g=await K.delete(route("profile.image.remove"),{data:C,headers:{"Content-Type":"multipart/form-data"}});if(g.data.success){if(J.success(g.data.message||"Profile picture removed successfully!"),v){const i=g.data.profile_image_url;v(r.id,i)}G()}else throw new Error(g.data.message||"Remove failed")}catch(g){console.error("Remove error:",g);const i=((h=(l=g.response)==null?void 0:l.data)==null?void 0:h.message)||g.message||"Failed to remove profile picture";F(i),J.error(i)}finally{H(!1)}},G=()=>{W||(Z(null),U(null),F(""),b(0),x&&URL.revokeObjectURL(x),N())};return r?e.jsx(Xe,{open:$,closeModal:G,maxWidth:"md",fullWidth:!0,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(We,{className:"w-6 h-6 text-blue-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Update Profile Picture"}),e.jsx("p",{className:"text-sm text-gray-500",children:(r==null?void 0:r.name)||"Employee"})]})]}),e.jsx(P,{isIconOnly:!0,variant:"light",onPress:G,className:"text-gray-400 hover:text-gray-600",children:e.jsx(ze,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(qe,{src:x||ne||void 0,name:(r==null?void 0:r.name)||"Employee",size:"lg",className:"w-24 h-24",fallback:e.jsx(De,{className:"w-12 h-12 text-gray-400"})})}),V&&e.jsx(se,{color:"danger",variant:"flat",startContent:e.jsx(ue,{className:"w-4 h-4"}),className:"mb-4 w-full",children:V}),W&&e.jsx("div",{className:"mb-4",children:e.jsx(rt,{value:ee,color:"primary",size:"sm",label:"Uploading...",showValueLabel:!0,className:"w-full"})}),e.jsx(ge,{className:"mb-4",children:e.jsxs(fe,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("input",{ref:_,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:Y,className:"hidden",disabled:W}),e.jsx(P,{onPress:()=>{var C;return(C=_.current)==null?void 0:C.click()},startContent:e.jsx(We,{className:"w-5 h-5"}),variant:"flat",color:"primary",disabled:W,className:"mb-3",children:"Choose New Picture"}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("p",{children:"Supported formats: JPEG, PNG, WebP"}),e.jsx("p",{children:"Maximum size: 2MB"}),e.jsx("p",{children:"Minimum dimensions: 100x100px"}),e.jsx("p",{children:"Maximum dimensions: 2000x2000px"})]})]}),j&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(j.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx(P,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>{Z(null),U(null),F("")},disabled:W,children:e.jsx(ze,{className:"w-4 h-4"})})]})})]})}),e.jsxs("div",{className:"flex justify-end gap-3",children:[B&&e.jsx(P,{onPress:q,startContent:e.jsx(Se,{className:"w-4 h-4"}),color:"danger",variant:"flat",disabled:W,children:"Remove Picture"}),e.jsx(P,{onPress:G,variant:"flat",disabled:W,children:"Cancel"}),e.jsx(P,{onPress:A,color:"primary",disabled:!j||W,isLoading:W,children:W?"Uploading...":"Update Picture"})]})]})}):null},yt=({allUsers:$,departments:N,designations:r,attendanceTypes:v,setUsers:_,isMobile:j,isTablet:Z,pagination:x,onPageChange:U,onRowsPerPageChange:W,totalUsers:H=0,loading:ee=!1,updateEmployeeOptimized:b,deleteEmployeeOptimized:V})=>{const[F,re]=n.useState(!1),[ie,X]=n.useState(null),[ae,ne]=n.useState({}),[B,Y]=n.useState(!1),[A,q]=n.useState(null),[G,C]=n.useState(!1),[l,h]=n.useState({isOpen:!1,employee:null}),g=()=>{var p;if(typeof window>"u")return"lg";const c=((p=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:p.trim())||"12px",f=parseInt(c);return f===0?"none":f<=4?"sm":f<=8?"md":f<=16?"lg":"full"},i=async(s,c)=>{var p,D,E,T,u,S,o,M,L,z,k,O;const f=new Promise(async(t,a)=>{try{if((await K.post(route("user.updateDepartment",{id:s}),{department:c})).status===200){const d=N.find(w=>w.id===parseInt(c))||null;b==null||b(s,{department_id:c,department_name:(d==null?void 0:d.name)||null,designation_id:null,designation_name:null}),t("Department updated successfully")}}catch(m){console.error("Error updating department:",m),a("Failed to update department")}});J.promise(f,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(te,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating department..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:((p=glassTheme.glassCard)==null?void 0:p.background)||"rgba(15, 20, 25, 0.15)",border:((D=glassTheme.glassCard)==null?void 0:D.border)||"1px solid rgba(255, 255, 255, 0.2)",color:((T=(E=glassTheme.palette)==null?void 0:E.text)==null?void 0:T.primary)||"#ffffff"}},success:{render({data:t}){return e.jsx("div",{children:t})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:((u=glassTheme.glassCard)==null?void 0:u.background)||"rgba(15, 20, 25, 0.15)",border:((S=glassTheme.glassCard)==null?void 0:S.border)||"1px solid rgba(255, 255, 255, 0.2)",color:((M=(o=glassTheme.palette)==null?void 0:o.text)==null?void 0:M.primary)||"#ffffff"}},error:{render({data:t}){return e.jsx("div",{children:t})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:((L=glassTheme.glassCard)==null?void 0:L.background)||"rgba(15, 20, 25, 0.15)",border:((z=glassTheme.glassCard)==null?void 0:z.border)||"1px solid rgba(255, 255, 255, 0.2)",color:((O=(k=glassTheme.palette)==null?void 0:k.text)==null?void 0:O.primary)||"#ffffff"}}})},y=async(s,c)=>{var p,D,E,T,u,S,o,M,L,z,k,O;const f=new Promise(async(t,a)=>{try{if((await K.post(route("user.updateDesignation",{id:s}),{designation_id:c})).status===200){const d=r.find(w=>w.id===parseInt(c))||null;b==null||b(s,{designation_id:c,designation_name:(d==null?void 0:d.title)||null}),t("Designation updated successfully")}}catch(m){console.error("Error updating designation:",m),a("Failed to update designation")}});J.promise(f,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(te,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating designation..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:((p=glassTheme.glassCard)==null?void 0:p.background)||"rgba(15, 20, 25, 0.15)",border:((D=glassTheme.glassCard)==null?void 0:D.border)||"1px solid rgba(255, 255, 255, 0.2)",color:((T=(E=glassTheme.palette)==null?void 0:E.text)==null?void 0:T.primary)||"#ffffff"}},success:{render({data:t}){return e.jsx("div",{children:t})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:((u=glassTheme.glassCard)==null?void 0:u.background)||"rgba(15, 20, 25, 0.15)",border:((S=glassTheme.glassCard)==null?void 0:S.border)||"1px solid rgba(255, 255, 255, 0.2)",color:((M=(o=glassTheme.palette)==null?void 0:o.text)==null?void 0:M.primary)||"#ffffff"}},error:{render({data:t}){return e.jsx("div",{children:t})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:((L=glassTheme.glassCard)==null?void 0:L.background)||"rgba(15, 20, 25, 0.15)",border:((z=glassTheme.glassCard)==null?void 0:z.border)||"1px solid rgba(255, 255, 255, 0.2)",color:((O=(k=glassTheme.palette)==null?void 0:k.text)==null?void 0:O.primary)||"#ffffff"}}})},R=async(s,c)=>{var p,D,E,T,u,S,o,M,L,z,k,O;const f=new Promise(async(t,a)=>{try{if((await K.post(route("user.updateAttendanceType",{id:s}),{attendance_type_id:c})).status===200){const d=v.find(w=>w.id===parseInt(c))||null;b&&b(s,{attendance_type_id:c,attendance_type_name:(d==null?void 0:d.name)||null}),t("Attendance type updated successfully")}}catch(m){console.error("Error updating attendance type:",m),a("Failed to update attendance type")}});J.promise(f,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(te,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating attendance type..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:((p=glassTheme.glassCard)==null?void 0:p.background)||"rgba(15, 20, 25, 0.15)",border:((D=glassTheme.glassCard)==null?void 0:D.border)||"1px solid rgba(255, 255, 255, 0.2)",color:((T=(E=glassTheme.palette)==null?void 0:E.text)==null?void 0:T.primary)||"#ffffff"}},success:{render({data:t}){return e.jsx("div",{children:t})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:((u=glassTheme.glassCard)==null?void 0:u.background)||"rgba(15, 20, 25, 0.15)",border:((S=glassTheme.glassCard)==null?void 0:S.border)||"1px solid rgba(255, 255, 255, 0.2)",color:((M=(o=glassTheme.palette)==null?void 0:o.text)==null?void 0:M.primary)||"#ffffff"}},error:{render({data:t}){return e.jsx("div",{children:t})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:((L=glassTheme.glassCard)==null?void 0:L.background)||"rgba(15, 20, 25, 0.15)",border:((z=glassTheme.glassCard)==null?void 0:z.border)||"1px solid rgba(255, 255, 255, 0.2)",color:((O=(k=glassTheme.palette)==null?void 0:k.text)==null?void 0:O.primary)||"#ffffff"}}})},Q=s=>{q(s),Y(!0)},ve=async()=>{var c,f,p,D,E,T,u,S,o,M,L,z;if(!A)return;C(!0);const s=new Promise(async(k,O)=>{var t,a,m,d;try{(await K.delete(route("user.delete",{id:A.id}))).status===200&&(V&&V(A.id),Y(!1),q(null),k("Employee deleted successfully"))}catch(w){console.error("Error deleting employee:",w);let I="Failed to delete employee";((t=w.response)==null?void 0:t.status)===403?I="You do not have permission to delete this employee":((a=w.response)==null?void 0:a.status)===404?I="Employee not found or already deleted":(d=(m=w.response)==null?void 0:m.data)!=null&&d.error&&(I=w.response.data.error),O(I)}finally{C(!1)}});J.promise(s,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(te,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Deleting employee..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:((c=glassTheme.glassCard)==null?void 0:c.background)||"rgba(15, 20, 25, 0.15)",border:((f=glassTheme.glassCard)==null?void 0:f.border)||"1px solid rgba(255, 255, 255, 0.2)",color:((D=(p=glassTheme.palette)==null?void 0:p.text)==null?void 0:D.primary)||"#ffffff"}},success:{render({data:k}){return e.jsx("div",{children:k})},icon:"âœ…",style:{backdropFilter:"blur(16px) saturate(200%)",background:((E=glassTheme.glassCard)==null?void 0:E.background)||"rgba(15, 20, 25, 0.15)",border:((T=glassTheme.glassCard)==null?void 0:T.border)||"1px solid rgba(255, 255, 255, 0.2)",color:((S=(u=glassTheme.palette)==null?void 0:u.text)==null?void 0:S.primary)||"#ffffff"}},error:{render({data:k}){return e.jsx("div",{children:k})},icon:"âŒ",style:{backdropFilter:"blur(16px) saturate(200%)",background:((o=glassTheme.glassCard)==null?void 0:o.background)||"rgba(15, 20, 25, 0.15)",border:((M=glassTheme.glassCard)==null?void 0:M.border)||"1px solid rgba(255, 255, 255, 0.2)",color:((z=(L=glassTheme.palette)==null?void 0:L.text)==null?void 0:z.primary)||"#ffffff"}}})},oe=()=>{Y(!1),q(null)},ye=s=>{h({isOpen:!0,employee:s})},we=()=>{h({isOpen:!1,employee:null})},Ne=(s,c)=>{b&&b(s,{profile_image_url:c})},_e=n.useMemo(()=>{const s=[{name:"#",uid:"sl",width:60},{name:"EMPLOYEE",uid:"employee",width:"auto",minWidth:200},{name:"DEPARTMENT",uid:"department",width:180},{name:"DESIGNATION",uid:"designation",width:180},{name:"ACTIONS",uid:"actions",width:80}];return j||s.splice(2,0,{name:"CONTACT",uid:"contact",width:220}),!j&&!Z&&s.splice(s.length-1,0,{name:"ATTENDANCE TYPE",uid:"attendance_type",width:180}),s},[j,Z]),ke=(s,c,f)=>{const p=s[c],T=(x!=null&&x.currentPage&&(x!=null&&x.perPage)?Number((x.currentPage-1)*x.perPage):0)+(typeof f=="number"?f:0)+1;switch(c){case"sl":return e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-white/10 backdrop-blur-md rounded-lg border border-white/20",children:e.jsx("span",{className:"text-sm font-semibold text-foreground",children:T})})});case"employee":return e.jsxs("div",{className:"min-w-max",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Te,{src:(s==null?void 0:s.profile_image_url)||(s==null?void 0:s.profile_image),name:s==null?void 0:s.name,size:j?"sm":"md",onClick:()=>ye(s)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"font-semibold text-foreground text-left whitespace-nowrap",children:s==null?void 0:s.name}),!j&&e.jsxs("p",{className:"text-default-500 text-left text-xs whitespace-nowrap",children:["ID: ",(s==null?void 0:s.employee_id)||"N/A"]})]})]}),j&&e.jsxs("div",{className:"flex flex-col gap-1 text-xs text-default-500 ml-10 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[e.jsx(at,{className:"w-3 h-3"}),(s==null?void 0:s.employee_id)||"N/A"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Re,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate max-w-[150px]",children:s==null?void 0:s.email})]}),(s==null?void 0:s.phone)&&e.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[e.jsx(Ce,{className:"w-3 h-3"}),s==null?void 0:s.phone]})]})]});case"contact":return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Re,{className:"w-4 h-4 text-default-400"}),e.jsx("span",{className:"text-foreground",children:s==null?void 0:s.email})]}),(s==null?void 0:s.phone)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ce,{className:"w-4 h-4 text-default-400"}),e.jsx("span",{className:"text-foreground",children:s==null?void 0:s.phone})]})]});case"department":return e.jsx("div",{className:"flex flex-col gap-2 min-w-[150px]",children:e.jsxs(ce,{children:[e.jsx(me,{children:e.jsx(P,{variant:"bordered",size:"sm",className:"justify-between backdrop-blur-md border-white/20 min-w-[150px] bg-white/10 hover:bg-white/15 transition-all duration-300",startContent:e.jsx(be,{className:"w-4 h-4"}),endContent:e.jsx(pe,{className:"w-4 h-4 rotate-90"}),children:e.jsx("span",{children:s.department_name||"Select Department"})})}),e.jsx(xe,{"aria-label":"Department options",children:N==null?void 0:N.map(o=>e.jsx(le,{onPress:()=>i(s.id,o.id),children:o.name},o.id.toString()))})]})});case"designation":const u=s.department_id,S=(r==null?void 0:r.filter(o=>o.department_id===parseInt(u)))||[];return e.jsx("div",{className:"flex flex-col gap-2 min-w-[150px]",children:e.jsxs(ce,{isDisabled:!u,children:[e.jsx(me,{children:e.jsx(P,{variant:"bordered",size:"sm",className:`justify-between backdrop-blur-md border-white/20 min-w-[150px] transition-all duration-300 ${u?"bg-white/10 hover:bg-white/15":"bg-gray-500/20 border-gray-400/40 opacity-50"}`,isDisabled:!u,startContent:e.jsx(je,{className:"w-4 h-4"}),endContent:u&&e.jsx(pe,{className:"w-4 h-4 rotate-90"}),children:e.jsx("span",{children:u?s.designation_name||"Select Designation":"Select Department First"})})}),e.jsx(xe,{"aria-label":"Designation options",children:S.map(o=>e.jsx(le,{onPress:()=>y(s.id,o.id),children:o.title},o.id.toString()))})]})});case"attendance_type":return e.jsx("div",{className:"flex flex-col gap-2 min-w-[150px]",children:e.jsxs(ce,{children:[e.jsx(me,{children:e.jsx(P,{variant:"bordered",size:"sm",className:"justify-between backdrop-blur-md border-white/20 min-w-[150px] bg-white/10 hover:bg-white/15 transition-all duration-300",startContent:e.jsx(Fe,{className:"w-4 h-4"}),endContent:e.jsx(pe,{className:"w-4 h-4 rotate-90"}),children:e.jsx("span",{children:s.attendance_type_name||"Select Type"})})}),e.jsx(xe,{"aria-label":"Attendance Type options",children:v==null?void 0:v.map(o=>e.jsx(le,{onPress:()=>R(s.id,o.id),children:o.name},o.id.toString()))})]})});case"actions":return e.jsx("div",{className:"relative flex justify-center items-center",children:e.jsxs(ce,{children:[e.jsx(me,{children:e.jsx(P,{isIconOnly:!0,variant:"light",className:"text-default-400 hover:text-foreground transition-all duration-300",children:e.jsx(pe,{className:"w-5 h-5"})})}),e.jsxs(xe,{"aria-label":"Employee Actions",children:[e.jsx(le,{startContent:e.jsx(Oe,{className:"w-4 h-4"}),onPress:()=>Pe.visit(route("profile",{user:s.id})),children:"Edit Profile"},"edit"),e.jsx(le,{className:"text-danger",color:"danger",startContent:e.jsx(Se,{className:"w-4 h-4"}),onPress:()=>Q(s),children:"Delete"},"delete")]})]})});default:return p}},de=()=>!x||ee?null:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 py-2",style:{borderTop:"1px solid color-mix(in srgb, var(--theme-content3) 30%, transparent)",background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)",backdropFilter:"blur(16px)"},children:[e.jsxs("span",{className:"text-xs mb-3 sm:mb-0 opacity-70",style:{color:"var(--theme-foreground)"},children:["Showing ",(x.currentPage-1)*x.perPage+1," to ",Math.min(x.currentPage*x.perPage,x.total)," of ",x.total," employees"]}),e.jsx(Ge,{total:Math.ceil(x.total/x.perPage),initialPage:x.currentPage,page:x.currentPage,onChange:U,size:j?"sm":"md",variant:"bordered",showControls:!0,style:{"--pagination-item-bg":"color-mix(in srgb, var(--theme-content2) 50%, transparent)","--pagination-item-border":"color-mix(in srgb, var(--theme-content3) 50%, transparent)"}})]});return e.jsxs("div",{className:"w-full overflow-hidden flex flex-col relative",style:{maxHeight:"calc(100vh - 200px)",background:"color-mix(in srgb, var(--theme-content1) 85%, transparent)",backdropFilter:"blur(16px)",border:"1px solid color-mix(in srgb, var(--theme-content2) 50%, transparent)",borderRadius:g()},children:[ee&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50",style:{background:"color-mix(in srgb, var(--theme-content1) 20%, transparent)",backdropFilter:"blur(8px)",borderRadius:g()},children:e.jsxs("div",{className:"flex flex-col items-center gap-4 p-6",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:g(),backdropFilter:"blur(16px)"},children:[e.jsx(te,{size:"lg",color:"primary"}),e.jsx("span",{className:"text-sm",style:{color:"var(--theme-foreground)"},children:"Loading employees..."})]})}),e.jsx("div",{className:"overflow-auto grow",children:e.jsxs(nt,{"aria-label":"Employees table",removeWrapper:!0,classNames:{base:"bg-transparent min-w-[800px]",th:"backdrop-blur-md font-medium text-xs sticky top-0 z-10 whitespace-nowrap",td:"py-3 whitespace-nowrap",table:"border-collapse table-auto",thead:"",tr:"hover:opacity-80 transition-all duration-200"},style:{"--table-header-bg":"color-mix(in srgb, var(--theme-content2) 60%, transparent)","--table-row-hover":"color-mix(in srgb, var(--theme-content2) 30%, transparent)","--table-border":"color-mix(in srgb, var(--theme-content3) 30%, transparent)"},isHeaderSticky:!0,isCompact:j,children:[e.jsx(dt,{columns:_e,children:s=>e.jsx(ct,{align:s.uid==="actions"||s.uid==="sl"?"center":"start",width:s.width,minWidth:s.minWidth,className:`backdrop-blur-md ${s.uid==="employee"?"whitespace-nowrap":""}`,style:{backgroundColor:"color-mix(in srgb, var(--theme-content2) 60%, transparent)",color:"var(--theme-foreground)",borderBottom:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)"},children:s.name},s.uid)}),e.jsx(lt,{items:$||[],emptyContent:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(De,{className:"w-12 h-12 mb-4 opacity-40",style:{color:"var(--theme-foreground)"}}),e.jsx("h6",{className:"text-lg font-semibold mb-2",style:{color:"var(--theme-foreground)"},children:"No employees found"}),e.jsx("p",{className:"text-sm opacity-70",style:{color:"var(--theme-foreground)"},children:"Try adjusting your search or filter criteria"})]}),loadingContent:e.jsx(te,{}),isLoading:ee,children:(s,c)=>{const f=$?$.findIndex(p=>p.id===s.id):c;return e.jsx(it,{className:"transition-all duration-200 hover:scale-[1.01]",style:{color:"var(--theme-foreground)",borderBottom:"1px solid color-mix(in srgb, var(--theme-content3) 30%, transparent)"},children:p=>e.jsx(ot,{className:"transition-all duration-300",children:e.jsx("div",{className:"transition-all duration-200",children:ke(s,p,f)})})},s.id)}})]})}),de(),e.jsx(jt,{open:B,onClose:oe,employee:A,onConfirm:ve,loading:G}),e.jsx(vt,{isOpen:l.isOpen,onClose:we,employee:l.employee,onImageUpdate:Ne})]})},wt=({title:$,departments:N,designations:r,attendanceTypes:v})=>{var de,s,c,f,p,D,E,T,u,S,o,M,L,z,k,O;const[_,j]=n.useState(!1),[Z,x]=n.useState(!1),[U,W]=n.useState(!1),[H,ee]=n.useState(!1);n.useEffect(()=>{const t=()=>{j(window.innerWidth<640),x(window.innerWidth<768),W(window.innerWidth>=1025),ee(window.innerWidth>=641&&window.innerWidth<=1024)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const[b,V]=n.useState([]),[F,re]=n.useState(!0),[ie,X]=n.useState(0),[ae,ne]=n.useState(1),[B,Y]=n.useState({search:"",department:"all",designation:"all",attendanceType:"all"}),[A,q]=n.useState("table"),[G,C]=n.useState(!1),[l,h]=n.useState({currentPage:1,perPage:10,total:0}),g=()=>{var d;if(typeof window>"u")return"lg";const a=((d=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:d.trim())||"12px",m=parseInt(a);return m===0?"none":m<=4?"sm":m<=8?"md":m<=16?"lg":"full"},[i,y]=n.useState({overview:{total_employees:0,active_employees:0,inactive_employees:0,total_departments:0,total_designations:0,total_attendance_types:0},distribution:{by_department:[],by_designation:[],by_attendance_type:[]},hiring_trends:{recent_hires:{last_30_days:0,last_90_days:0,last_year:0},monthly_growth_rate:0,current_month_hires:0},workforce_health:{status_ratio:{active_percentage:0,inactive_percentage:0,retention_rate:0},retention_rate:0,turnover_rate:0},quick_metrics:{headcount:0,active_ratio:0,department_diversity:0,role_diversity:0,recent_activity:0}}),R=n.useCallback(async()=>{re(!0);try{const{data:t}=await K.get(route("employees.paginate"),{params:{page:l.currentPage,perPage:l.perPage,search:B.search,department:B.department,designation:B.designation,attendanceType:B.attendanceType}});V(t.employees.data),X(t.employees.total),ne(t.employees.last_page),h(a=>({...a,total:t.employees.total})),t.stats&&y(t.stats)}catch(t){console.error("Error fetching employees:",t),J.error("Failed to load employees data")}finally{re(!1)}},[l.currentPage,l.perPage,B]),Q=n.useCallback(async()=>{try{const{data:t}=await K.get(route("employees.stats"));t.stats&&y(t.stats)}catch(t){console.error("Error fetching employee stats:",t)}},[]);n.useEffect(()=>{R(),Q()},[R,Q]);const ve=n.useCallback(t=>{Y(a=>({...a,search:t})),h(a=>({...a,currentPage:1}))},[]);n.useCallback(t=>{Y(a=>({...a,department:t,designation:t!=="all"?"all":a.designation})),h(a=>({...a,currentPage:1}))},[]),n.useCallback(t=>{Y(a=>({...a,designation:t})),h(a=>({...a,currentPage:1}))},[]),n.useCallback(t=>{Y(a=>({...a,attendanceType:t})),h(a=>({...a,currentPage:1}))},[]);const oe=n.useCallback(t=>{h(a=>({...a,currentPage:t}))},[]),ye=n.useCallback(t=>{h(a=>({...a,perPage:t,currentPage:1}))},[]),we=n.useCallback((t,a)=>{V(m=>m.map(d=>d.id===t?{...d,...a}:d))},[]),Ne=n.useCallback(t=>{V(a=>a.filter(m=>m.id!==t)),X(a=>a-1),h(a=>({...a,total:a.total-1})),Q()},[Q]);n.useMemo(()=>B.department==="all"?r:r.filter(t=>t.department_id===parseInt(B.department)),[r,B.department]);const _e=n.useMemo(()=>{var t,a,m,d,w,I,Ee,Ie,$e,Ae,Me;return[{title:"Total Employees",value:((t=i.overview)==null?void 0:t.total_employees)||0,icon:e.jsx(he,{}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"Total Headcount"},{title:"Active Employees",value:((a=i.overview)==null?void 0:a.active_employees)||0,icon:e.jsx(Be,{}),color:"text-green-400",iconBg:"bg-green-500/20",description:`${((d=(m=i.workforce_health)==null?void 0:m.status_ratio)==null?void 0:d.active_percentage)||0}% Active`},{title:"Departments",value:((w=i.overview)==null?void 0:w.total_departments)||0,icon:e.jsx(be,{}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Department Diversity"},{title:"Designations",value:((I=i.overview)==null?void 0:I.total_designations)||0,icon:e.jsx(je,{}),color:"text-orange-400",iconBg:"bg-orange-500/20",description:"Role Diversity"},{title:"Retention Rate",value:`${((Ee=i.workforce_health)==null?void 0:Ee.retention_rate)||0}%`,icon:e.jsx(mt,{}),color:"text-emerald-400",iconBg:"bg-emerald-500/20",description:"Employee Retention"},{title:"Recent Hires",value:(($e=(Ie=i.hiring_trends)==null?void 0:Ie.recent_hires)==null?void 0:$e.last_30_days)||0,icon:e.jsx(Ue,{}),color:"text-cyan-400",iconBg:"bg-cyan-500/20",description:"Last 30 Days"},{title:"Growth Rate",value:`${((Ae=i.hiring_trends)==null?void 0:Ae.monthly_growth_rate)||0}%`,icon:e.jsx(xt,{}),color:"text-pink-400",iconBg:"bg-pink-500/20",description:"Monthly Growth"},{title:"Attendance Types",value:((Me=i.overview)==null?void 0:Me.total_attendance_types)||0,icon:e.jsx(Fe,{}),color:"text-indigo-400",iconBg:"bg-indigo-500/20",description:"Available Types"}]},[i]),ke=({user:t,index:a})=>{const m=N==null?void 0:N.find(I=>I.id===t.department_id),d=r==null?void 0:r.find(I=>I.id===t.designation_id),w=v==null?void 0:v.find(I=>I.id===t.attendance_type_id);return e.jsx(ge,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-200 cursor-pointer h-full",onPress:()=>Pe.visit(route("profile",{user:t.id})),children:e.jsxs(fe,{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3 pb-3 border-b border-white/10",children:[e.jsx("div",{className:"shrink-0",children:e.jsx(Te,{src:(t==null?void 0:t.profile_image_url)||(t==null?void 0:t.profile_image),name:t==null?void 0:t.name,size:"md",fallback:e.jsx(De,{className:"w-4 h-4"})})}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("span",{className:"font-semibold text-foreground text-left text-sm",children:t==null?void 0:t.name}),e.jsxs("span",{className:"text-default-500 text-left text-xs",children:["ID: ",(t==null?void 0:t.employee_id)||"N/A"]})]}),e.jsx("div",{className:"flex-1 min-w-0 flex justify-end",children:e.jsx(P,{isIconOnly:!0,size:"sm",variant:"light",className:"text-default-400 hover:text-foreground",onPress:I=>{I.stopPropagation(),Pe.visit(route("profile",{user:t.id}))},children:e.jsx(Oe,{className:"w-4 h-4"})})})]}),e.jsx("div",{className:"flex-1 flex flex-col gap-3",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Re,{className:"w-4 h-4 text-default-400 shrink-0"}),e.jsx("span",{className:"text-default-600 text-xs truncate",children:t==null?void 0:t.email})]}),(t==null?void 0:t.phone)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ce,{className:"w-4 h-4 text-default-400 shrink-0"}),e.jsx("span",{className:"text-default-600 text-xs",children:t==null?void 0:t.phone})]})]})}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex flex-wrap gap-2",children:[m&&e.jsx(se,{size:"sm",variant:"flat",color:"primary",className:"text-xs",startContent:e.jsx(be,{className:"w-3 h-3"}),children:m.name}),d&&e.jsx(se,{size:"sm",variant:"flat",color:"secondary",className:"text-xs",startContent:e.jsx(je,{className:"w-3 h-3"}),children:d.title}),w&&e.jsx(se,{size:"sm",variant:"bordered",className:"text-xs",startContent:e.jsx(Fe,{className:"w-3 h-3"}),children:w.name})]})]})})};return e.jsxs(e.Fragment,{children:[e.jsx(He,{title:$||"Employee Directory"}),e.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Employee Directory Management",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full",children:e.jsx(ht.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.jsxs(ge,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                    var(--theme-content1, #FAFAFA) 20%, 
                    var(--theme-content2, #F4F4F5) 10%, 
                    var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(Le,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                      color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                      color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:e.jsx("div",{className:`${U?"p-6":H?"p-4":"p-3"} w-full`,children:e.jsx("div",{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx("div",{className:`
                              ${U?"p-3":H?"p-2.5":"p-2"} 
                              rounded-xl flex items-center justify-center
                            `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(he,{className:`
                                ${U?"w-8 h-8":H?"w-6 h-6":"w-5 h-5"}
                              `,style:{color:"var(--theme-primary)"}})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:`
                                ${U?"text-2xl":H?"text-xl":"text-lg"}
                                font-bold text-foreground
                                ${U?"":"truncate"}
                              `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Employee Directory"}),e.jsx("p",{className:`
                                ${U?"text-sm":"text-xs"} 
                                text-default-500
                                ${U?"":"truncate"}
                              `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Manage employee information and organizational structure"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:e.jsx(P,{className:"text-white font-medium",style:{background:"linear-gradient(135deg, var(--theme-primary), color-mix(in srgb, var(--theme-primary) 80%, var(--theme-secondary)))",borderRadius:g()},startContent:e.jsx(Ue,{className:"w-4 h-4"}),children:_?"Add":"Add Employee"})})]})})})}),e.jsxs(fe,{className:"p-6",children:[e.jsx(tt,{stats:_e,className:"mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"p-4",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:g(),backdropFilter:"blur(16px)"},children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--theme-foreground)"},children:"Department Distribution"}),e.jsx("div",{className:"space-y-3",children:(s=(de=i.distribution)==null?void 0:de.by_department)==null?void 0:s.slice(0,5).map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-80",style:{color:"var(--theme-foreground)"},children:t.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-2 rounded-full overflow-hidden",style:{background:"color-mix(in srgb, var(--theme-content3) 40%, transparent)"},children:e.jsx("div",{className:"h-full rounded-full",style:{width:`${t.percentage}%`,background:"linear-gradient(90deg, var(--theme-primary), color-mix(in srgb, var(--theme-primary) 80%, var(--theme-secondary)))"}})}),e.jsx("span",{className:"text-xs w-8 opacity-70",style:{color:"var(--theme-foreground)"},children:t.count})]})]},a))})]}),e.jsxs("div",{className:"p-4",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:g(),backdropFilter:"blur(16px)"},children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--theme-foreground)"},children:"Hiring Trends"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-80",style:{color:"var(--theme-foreground)"},children:"Last 30 Days"}),e.jsx("span",{className:"text-sm font-medium",style:{color:"var(--theme-foreground)"},children:((f=(c=i.hiring_trends)==null?void 0:c.recent_hires)==null?void 0:f.last_30_days)||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-80",style:{color:"var(--theme-foreground)"},children:"Last 90 Days"}),e.jsx("span",{className:"text-sm font-medium",style:{color:"var(--theme-foreground)"},children:((D=(p=i.hiring_trends)==null?void 0:p.recent_hires)==null?void 0:D.last_90_days)||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"This Year"}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:((T=(E=i.hiring_trends)==null?void 0:E.recent_hires)==null?void 0:T.last_year)||0})]}),e.jsx("div",{className:"pt-2 border-t border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Monthly Growth"}),e.jsxs("span",{className:`text-sm font-medium ${(((u=i.hiring_trends)==null?void 0:u.monthly_growth_rate)||0)>=0?"text-green-400":"text-red-400"}`,children:[((S=i.hiring_trends)==null?void 0:S.monthly_growth_rate)||0,"%"]})]})})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Workforce Health"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Retention Rate"}),e.jsxs("span",{className:"text-sm font-medium text-green-400",children:[((o=i.workforce_health)==null?void 0:o.retention_rate)||0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Turnover Rate"}),e.jsxs("span",{className:"text-sm font-medium text-orange-400",children:[((M=i.workforce_health)==null?void 0:M.turnover_rate)||0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Active Employees"}),e.jsxs("span",{className:"text-sm font-medium text-blue-400",children:[((z=(L=i.workforce_health)==null?void 0:L.status_ratio)==null?void 0:z.active_percentage)||0,"%"]})]})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Attendance Types"}),e.jsx("div",{className:"space-y-3",children:(O=(k=i.distribution)==null?void 0:k.by_attendance_type)==null?void 0:O.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-linear-to-r from-green-500 to-emerald-500 rounded-full",style:{width:`${t.percentage}%`}})}),e.jsx("span",{className:"text-xs text-default-500 w-8",children:t.count})]})]},a))})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[e.jsx("div",{className:"flex-1",children:e.jsx(ft,{label:"Search Employees",placeholder:"Search by name, email, or employee ID...",value:B.search,onChange:t=>ve(t.target.value),startContent:e.jsx(Qe,{className:"w-4 h-4 text-default-400"}),variant:"bordered",size:"sm",radius:g(),classNames:{input:"text-sm"},style:{fontFamily:'var(--fontFamily, "Inter")'},"aria-label":"Search employees"})}),e.jsxs("div",{className:"flex gap-2 items-end",children:[e.jsxs(ut,{variant:"bordered",style:{background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:g()},children:[e.jsxs(P,{isIconOnly:_,color:A==="table"?"primary":"default",onPress:()=>q("table"),style:{background:A==="table"?"var(--theme-primary)":"transparent",color:A==="table"?"white":"var(--theme-foreground)"},children:[e.jsx(pt,{className:"w-4 h-4"}),!_&&e.jsx("span",{className:"ml-1",children:"Table"})]}),e.jsxs(P,{isIconOnly:_,color:A==="grid"?"primary":"default",onPress:()=>q("grid"),style:{background:A==="grid"?"var(--theme-primary)":"transparent",color:A==="grid"?"white":"var(--theme-foreground)"},children:[e.jsx(Ke,{className:"w-4 h-4"}),!_&&e.jsx("span",{className:"ml-1",children:"Grid"})]})]}),e.jsx(P,{isIconOnly:!0,variant:"bordered",onPress:()=>C(!G),style:{background:G?"color-mix(in srgb, var(--theme-primary) 20%, transparent)":"color-mix(in srgb, var(--theme-content2) 30%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",color:G?"var(--theme-primary)":"var(--theme-foreground)",borderRadius:g()},children:e.jsx(gt,{className:"w-4 h-4"})})]})]})}),e.jsxs(ge,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',background:`linear-gradient(135deg, 
                      var(--theme-content1, #FAFAFA) 20%, 
                      var(--theme-content2, #F4F4F5) 10%, 
                      var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(Le,{className:"border-b pb-2",style:{borderColor:"var(--theme-divider, #E4E4E7)"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg flex items-center justify-center",style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)"},children:e.jsx(he,{className:"w-6 h-6",style:{color:"var(--theme-primary)"}})}),e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Employee Directory"})]})}),e.jsx(fe,{children:e.jsx("div",{className:"max-h-[84vh] overflow-y-auto",children:F?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(te,{size:"lg",color:"primary"}),e.jsx("p",{className:"mt-4 text-default-500",children:"Loading employees data..."})]}):A==="table"?e.jsx(yt,{allUsers:b,departments:N,designations:r,attendanceTypes:v,setUsers:V,isMobile:_,isTablet:Z,pagination:l,onPageChange:oe,onRowsPerPageChange:ye,totalUsers:ie,loading:F,updateEmployeeOptimized:we,deleteEmployeeOptimized:Ne}):e.jsxs("div",{className:"p-4",children:[b.length>0?e.jsx("div",{className:`grid gap-4 ${_?"grid-cols-1":Z?"grid-cols-2":"grid-cols-3 xl:grid-cols-4"}`,children:b.map((t,a)=>e.jsx(ke,{user:t,index:a},t.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(he,{className:"w-12 h-12 mx-auto text-default-300 mb-2"}),e.jsx("p",{className:"text-base text-default-500",children:"No employees found"}),e.jsx("p",{className:"text-sm text-default-500",children:"Try adjusting your search or filters"})]}),b.length>0&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 py-2",style:{borderTop:"1px solid color-mix(in srgb, var(--theme-content3) 30%, transparent)",background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)",backdropFilter:"blur(16px)"},children:[e.jsxs("span",{className:"text-xs mb-3 sm:mb-0 opacity-70",style:{color:"var(--theme-foreground)"},children:["Showing ",(l.currentPage-1)*l.perPage+1," to ",Math.min(l.currentPage*l.perPage,l.total)," of ",l.total," employees"]}),e.jsx(Ge,{total:Math.ceil(l.total/l.perPage),initialPage:l.currentPage,page:l.currentPage,onChange:oe,size:_?"sm":"md",variant:"bordered",showControls:!0,style:{"--pagination-item-bg":"color-mix(in srgb, var(--theme-content2) 50%, transparent)","--pagination-item-border":"color-mix(in srgb, var(--theme-content3) 50%, transparent)"}})]})]})})})]})]})]})})})})})]})};wt.layout=$=>e.jsx(et,{children:$});export{wt as default};
