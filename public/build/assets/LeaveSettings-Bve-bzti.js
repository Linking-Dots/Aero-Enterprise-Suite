import{K as ie,Q as fe,S as ye,z as re,B as he,C as W,D as ve,Y as je,q as we,n as Pe,r as b,O as _e,T as Ce,o as O,x as ae,y as P,U as Ne,m as Fe,j as e,f as $e,u as Le,H as ke,e as se,b as U,s as Y}from"./app-D00qZUV_.js";import{B as H}from"./react-toastify.esm-_Te1n1pU.js";import{e as Ie,s as te,l as E,A as De}from"./App-CBKq6AfW.js";import{G as Se}from"./logo-CkhZy88E.js";import{m as Re}from"./proxy-CATldSAx.js";import{F as Te}from"./PlusIcon-E5ITwJiX.js";import{$ as Ae,c as Ve,i as q}from"./chunk-SSA7SXE4-9JcL3FLw.js";import{t as ze,b as K,c as g,a as We}from"./chunk-F3UDT23P-vuYzCLb1.js";import{t as Ee}from"./chunk-YRZGWF2W-Cuc2yII8.js";import"./EnvelopeIcon-C2ghq-ql.js";import"./UserIcon-Bhn9e0vt.js";import"./ShieldCheckIcon-BL5m_bNY.js";import"./KeyIcon-C5wjYuzk.js";import"./features-animation-DlKdVSZX.js";import"./create-visual-element-C0h919DM.js";import"./CheckCircleIcon-B_eFrWu0.js";import"./ExclamationTriangleIcon-Tjm5PGF2.js";import"./chunk-XJ2YRSUP-BnwTe3Fo.js";import"./useToggleState-CeIEPEyr.js";import"./index-Cubd-ssQ.js";var qe=ie({slots:{base:"group relative max-w-fit inline-flex items-center justify-start cursor-pointer tap-highlight-transparent p-2 -m-2 select-none",wrapper:["relative","inline-flex","items-center","justify-center","shrink-0","overflow-hidden","border-solid","border-medium","box-border","border-default","rounded-full","group-data-[hover-unselected=true]:bg-default-100",...ye],hiddenInput:fe,labelWrapper:"flex flex-col ml-1",control:["z-10","w-2","h-2","opacity-0","scale-0","origin-center","rounded-full","group-data-[selected=true]:opacity-100","group-data-[selected=true]:scale-100"],label:"relative text-foreground select-none",description:"relative text-foreground-400"},variants:{color:{default:{control:"bg-default-500 text-default-foreground",wrapper:"group-data-[selected=true]:border-default-500"},primary:{control:"bg-primary text-primary-foreground",wrapper:"group-data-[selected=true]:border-primary"},secondary:{control:"bg-secondary text-secondary-foreground",wrapper:"group-data-[selected=true]:border-secondary"},success:{control:"bg-success text-success-foreground",wrapper:"group-data-[selected=true]:border-success"},warning:{control:"bg-warning text-warning-foreground",wrapper:"group-data-[selected=true]:border-warning"},danger:{control:"bg-danger text-danger-foreground",wrapper:"group-data-[selected=true]:border-danger"}},size:{sm:{wrapper:"w-4 h-4",control:"w-1.5 h-1.5",labelWrapper:"ml-1",label:"text-small",description:"text-tiny"},md:{wrapper:"w-5 h-5",control:"w-2 h-2",labelWrapper:"ms-2",label:"text-medium",description:"text-small"},lg:{wrapper:"w-6 h-6",control:"w-2.5 h-2.5",labelWrapper:"ms-2",label:"text-large",description:"text-medium"}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},isInvalid:{true:{control:"bg-danger text-danger-foreground",wrapper:"border-danger group-data-[selected=true]:border-danger",label:"text-danger",description:"text-danger-300"}},disableAnimation:{true:{},false:{wrapper:["group-data-[pressed=true]:scale-95","transition-transform-colors","motion-reduce:transition-none"],control:"transition-transform-opacity motion-reduce:transition-none",label:"transition-colors motion-reduce:transition-none",description:"transition-colors motion-reduce:transition-none"}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,isInvalid:!1}});ie({slots:{base:"relative flex flex-col gap-2",label:"relative text-foreground-500",wrapper:"flex flex-col flex-wrap gap-2 data-[orientation=horizontal]:flex-row",description:"text-tiny text-foreground-400",errorMessage:"text-tiny text-danger"},variants:{isRequired:{true:{label:"after:content-['*'] after:text-danger after:ml-0.5"}},isInvalid:{true:{description:"text-danger"}},disableAnimation:{true:{},false:{description:"transition-colors !duration-150 motion-reduce:transition-none"}}},defaultVariants:{isInvalid:!1,isRequired:!1}});const Be=new WeakMap;function Me(m,t,u){let{value:p,children:i,"aria-label":j,"aria-labelledby":C,onPressStart:o,onPressEnd:f,onPressChange:N,onPress:a,onPressUp:_,onClick:k}=m;const r=m.isDisabled||t.isDisabled;let s=t.selectedValue===p,l=v=>{v.stopPropagation(),t.setSelectedValue(p)},{pressProps:n,isPressed:x}=re({onPressStart:o,onPressEnd:f,onPressChange:N,onPress:a,onPressUp:_,onClick:k,isDisabled:r}),{pressProps:d,isPressed:h}=re({onPressStart:o,onPressEnd:f,onPressChange:N,onPressUp:_,onClick:k,isDisabled:r,onPress(v){var R;a==null||a(v),t.setSelectedValue(p),(R=u.current)===null||R===void 0||R.focus()}}),{focusableProps:F}=he(W(m,{onFocus:()=>t.setLastFocusedValue(p)}),u),B=W(n,F),w=ve(m,{labelable:!0}),I=-1;t.selectedValue!=null?t.selectedValue===p&&(I=0):(t.lastFocusedValue===p||t.lastFocusedValue==null)&&(I=0),r&&(I=void 0);let{name:A,form:V,descriptionId:z,errorMessageId:S,validationBehavior:$}=Be.get(t);return Ae(u,t.defaultSelectedValue,t.setSelectedValue),Ve({validationBehavior:$},t,u),{labelProps:W(d,{onClick:v=>v.preventDefault()}),inputProps:W(w,{...B,type:"radio",name:A,form:V,tabIndex:I,disabled:r,required:t.isRequired&&$==="native",checked:s,value:p,onChange:l,"aria-describedby":[m["aria-describedby"],t.isInvalid?S:null,z].filter(Boolean).join(" ")||void 0}),isDisabled:r,isSelected:s,isPressed:x||h}}var[br,Ge]=je({name:"RadioGroupContext",strict:!1});function Oe(m){var t,u,p,i,j;const C=we(),o=Ge(),{as:f,ref:N,classNames:a,id:_,value:k,children:r,description:s,size:l=(t=o==null?void 0:o.size)!=null?t:"md",color:n=(u=o==null?void 0:o.color)!=null?u:"primary",isDisabled:x=(p=o==null?void 0:o.isDisabled)!=null?p:!1,disableAnimation:d=(j=(i=o==null?void 0:o.disableAnimation)!=null?i:C==null?void 0:C.disableAnimation)!=null?j:!1,onChange:h=o==null?void 0:o.onChange,autoFocus:F=!1,className:B,...w}=m,I=f||"label",A=Pe(N),V=b.useRef(null),z=b.useId(),S=b.useId(),$=b.useMemo(()=>{var c;return(c=o.isRequired)!=null?c:!1},[o.isRequired]),v=o.isInvalid,R=b.useMemo(()=>{const c=[w["aria-describedby"],S].filter(Boolean).join(" ")||void 0;return{id:_,isRequired:$,isDisabled:x,"aria-label":w["aria-label"],"aria-labelledby":w["aria-labelledby"]||z,"aria-describedby":c}},[_,x,$,s,w["aria-label"],w["aria-labelledby"],w["aria-describedby"],S]),{inputProps:D,isDisabled:L,isSelected:T,isPressed:ne}=Me({value:k,children:typeof r=="function"?!0:r,...R},o.groupState,V),{focusProps:Q,isFocused:J,isFocusVisible:M}=_e({autoFocus:F}),X=L||D.readOnly,{hoverProps:de,isHovered:G}=Ce({isDisabled:X}),Z=X?!1:ne,y=b.useMemo(()=>qe({color:n,size:l,isInvalid:v,isDisabled:L,disableAnimation:d}),[n,l,L,v,d]),ee=O(a==null?void 0:a.base,B),ce=b.useCallback((c={})=>({...c,ref:A,className:y.base({class:ee}),"data-disabled":P(L),"data-focus":P(J),"data-focus-visible":P(M),"data-selected":P(T),"data-invalid":P(v),"data-hover":P(G),"data-pressed":P(Z),"data-hover-unselected":P(G&&!T),"data-readonly":P(D.readOnly),"aria-required":P($),...ae(de,w)}),[y,ee,A,L,J,M,T,v,G,Z,D.readOnly,$,w]),pe=b.useCallback((c={})=>({...c,"aria-hidden":!0,className:O(y.wrapper({class:O(a==null?void 0:a.wrapper,c.className)}))}),[y,a==null?void 0:a.wrapper]),ue=b.useCallback((c={})=>({ref:V,...ae(c,D,Q),className:y.hiddenInput({class:a==null?void 0:a.hiddenInput}),onChange:Ne(D.onChange,h)}),[D,Q,h]),be=b.useCallback((c={})=>({...c,id:z,className:y.label({class:a==null?void 0:a.label})}),[y,a==null?void 0:a.label,L,T,v]),xe=b.useCallback((c={})=>({...c,className:y.labelWrapper({class:a==null?void 0:a.labelWrapper})}),[y,a==null?void 0:a.labelWrapper]),ge=b.useCallback((c={})=>({...c,className:y.control({class:a==null?void 0:a.control})}),[y,a==null?void 0:a.control]),me=b.useCallback((c={})=>({...c,id:S,className:y.description({class:a==null?void 0:a.description})}),[y,a==null?void 0:a.description]);return{Component:I,children:r,isSelected:T,isDisabled:L,isInvalid:v,isFocusVisible:M,description:s,getBaseProps:ce,getWrapperProps:pe,getInputProps:ue,getLabelProps:be,getLabelWrapperProps:xe,getControlProps:ge,getDescriptionProps:me}}var oe=Fe((m,t)=>{const{Component:u,children:p,description:i,getBaseProps:j,getWrapperProps:C,getInputProps:o,getLabelProps:f,getLabelWrapperProps:N,getControlProps:a,getDescriptionProps:_}=Oe({...m,ref:t});return e.jsxs(u,{...j(),children:[e.jsx("input",{...o()}),e.jsx("span",{...C(),children:e.jsx("span",{...a()})}),e.jsxs("div",{...N(),children:[p&&e.jsx("span",{...f(),children:p}),i&&e.jsx("span",{..._(),children:i})]})]})});oe.displayName="HeroUI.Radio";var le=oe;const Ue=({title:m})=>{const t={type:"",days:"",eligibility:"",carry_forward:"",earned_leave:"",special_conditions:""},[u,p]=b.useState($e().props.leaveTypes),[i,j]=b.useState(t),[C,o]=b.useState(!1);Le();const f=r=>{const{name:s,value:l}=r.target;j({...i,[s]:l})},N=async()=>{const r=new Promise(async(s,l)=>{var n,x;try{const d=await axios.post("/add-leave-type",i);d.status===201?(p([...u,{...i,id:d.data.id}]),j(t),s(["Leave type added successfully."])):l(["Failed to add leave type. Please try again."])}catch(d){console.error(d),l([((x=(n=d.response)==null?void 0:n.data)==null?void 0:x.message)||"Failed to add leave type. Please try again."])}});H.promise(r,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(Y,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Adding leave type..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}},success:{render({data:s}){return e.jsx(e.Fragment,{children:s.map((l,n)=>e.jsx("div",{children:l},n))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}},error:{render({data:s}){return e.jsx(e.Fragment,{children:s})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}}})},a=async r=>{const s=u.find(l=>l.id===r);j(s),o(!0)},_=()=>{const r=new Promise(async(s,l)=>{var n,x;try{const d=await axios.put(`/update-leave-type/${i.id}`,i);if(d.status===200){const h=u.map(F=>F.id===i.id?{...i,id:d.data.id}:F);p(h),j(t),o(!1),s(["Leave type updated successfully."])}else l(["Failed to update leave type. Please try again."])}catch(d){console.error(d),l([((x=(n=d.response)==null?void 0:n.data)==null?void 0:x.message)||"Failed to update leave type. Please try again."])}});H.promise(r,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(Y,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating leave type..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}},success:{render({data:s}){return e.jsx(e.Fragment,{children:s.map((l,n)=>e.jsx("div",{children:l},n))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}},error:{render({data:s}){return e.jsx(e.Fragment,{children:s})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}}})},k=async r=>{const s=new Promise(async(l,n)=>{var x,d;try{const h=await axios.delete(`/delete-leave-type/${r}`);h.status===200?(p(u.filter(F=>F.id!==r)),l([h.data.message||"Leave type deleted successfully."])):n(["Failed to delete leave type. Please try again."])}catch(h){console.error(h),n([((d=(x=h.response)==null?void 0:x.data)==null?void 0:d.message)||"Failed to delete leave type. Please try again."])}});H.promise(s,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(Y,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Deleting leave type..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}},success:{render({data:l}){return e.jsx(e.Fragment,{children:l.map((n,x)=>e.jsx("div",{children:n},x))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}},error:{render({data:l}){return e.jsx(e.Fragment,{children:l})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}}})};return e.jsxs(e.Fragment,{children:[e.jsx(ke,{title:m}),e.jsx("div",{className:"flex justify-center p-2",children:e.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsxs(Se,{children:[e.jsx(Ie,{className:"p-6",children:e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Leave Settings"})}),e.jsx(se,{className:"px-6 pb-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 items-center",children:[e.jsx("div",{children:e.jsx(q,{label:"Leave Type",name:"type",value:i.type,onChange:f})}),e.jsx("div",{children:e.jsx(q,{label:"Number of Days",name:"days",type:"number",value:i.days,onChange:f})}),e.jsx("div",{children:e.jsxs(te,{label:"Carry Forward",name:"carry_forward",selectedKeys:i.carry_forward?[String(i.carry_forward)]:[],onSelectionChange:r=>{const s=Array.from(r)[0];f({target:{name:"carry_forward",value:s==="true"}})},children:[e.jsx(E,{value:"true",children:"Yes"},"true"),e.jsx(E,{value:"false",children:"No"},"false")]})}),e.jsx("div",{children:e.jsxs(te,{label:"Earned Leave",name:"earned_leave",selectedKeys:i.earned_leave?[String(i.earned_leave)]:[],onSelectionChange:r=>{const s=Array.from(r)[0];f({target:{name:"earned_leave",value:s==="true"}})},children:[e.jsx(E,{value:"true",children:"Yes"},"true"),e.jsx(E,{value:"false",children:"No"},"false")]})}),e.jsx("div",{className:"sm:col-span-2",children:e.jsx(q,{label:"Eligibility Criteria",name:"eligibility",value:i.eligibility,onChange:f})}),e.jsx("div",{className:"sm:col-span-2",children:e.jsx(q,{label:"Special Conditions",name:"special_conditions",value:i.special_conditions,onChange:f})}),e.jsx("div",{className:"col-span-full flex justify-center",children:e.jsx(U,{variant:"bordered",color:"primary",onPress:C?_:N,startContent:e.jsx(Te,{className:"w-4 h-4"}),children:C?"Update Leave Type":"Add Leave Type"})})]})}),e.jsx(se,{children:e.jsx("div",{className:"overflow-auto max-h-[84vh]",children:e.jsxs(ze,{"aria-label":"Leave types table",children:[e.jsx(Ee,{children:e.jsxs(K,{children:[e.jsx(g,{children:"Type"}),e.jsx(g,{children:"Days"}),e.jsx(g,{children:"Eligibility"}),e.jsx(g,{children:"Carry Forward"}),e.jsx(g,{children:"Earned Leave"}),e.jsx(g,{children:"Special Conditions"}),e.jsx(g,{children:"Actions"})]})}),e.jsx(We,{children:u.length>0?u.map(r=>e.jsxs(K,{children:[e.jsx(g,{children:r.type}),e.jsx(g,{children:r.days}),e.jsx(g,{children:r.eligibility}),e.jsx(g,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{isSelected:!0,color:r.carry_forward?"success":"danger",isDisabled:!0}),e.jsx("span",{className:r.carry_forward?"text-success":"text-danger",children:r.carry_forward?"Yes":"No"})]})}),e.jsx(g,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{isSelected:!0,color:r.earned_leave?"success":"danger",isDisabled:!0}),e.jsx("span",{className:r.earned_leave?"text-success":"text-danger",children:r.earned_leave?"Yes":"No"})]})}),e.jsx(g,{children:r.special_conditions?r.special_conditions:"N/A"}),e.jsx(g,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(U,{variant:"bordered",color:"primary",size:"sm",onPress:()=>a(r.id),children:"Edit"}),e.jsx(U,{variant:"bordered",color:"danger",size:"sm",onPress:()=>k(r.id),children:"Delete"})]})})]},r.id)):e.jsx(K,{children:e.jsx(g,{colSpan:7,className:"text-center",children:"No leave types available."})})})]})})})]})})})]})};Ue.layout=m=>e.jsx(De,{children:m});export{Ue as default};
