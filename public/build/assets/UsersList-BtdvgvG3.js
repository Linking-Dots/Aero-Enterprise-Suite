import{aW as Ro,aX as Oe,aY as en,aZ as wn,a_ as Bo,a$ as Nn,b0 as tn,b1 as gt,b2 as $t,b3 as Do,b4 as _n,b5 as ko,b6 as Lo,b7 as Oo,b8 as Vo,b9 as En,ba as Sn,bb as zo,bc as Mo,bd as Ko,be as Uo,bf as Go,bg as Wo,bh as Ho,bi as qo,bj as Zo,bk as An,bl as Jo,bm as Yo,bn as Xo,bo as Qo,P as ea,r as d,$ as ta,bp as In,bq as na,br as oa,a6 as aa,o as sa,bs as ft,bt as ra,ap as la,bu as ia,bv as ua,J as nn,y as ca,z as da,l as on,D as ge,n as Be,B as ma,a2 as ht,E as xt,k as pa,j as n,f as pe,A as fa,s as tt,L as an,F as De,b as ke,bw as Tn,bx as Pn,by as Ct,bz as ot,bA as ha,bB as xa,bC as Qe,H as va,c as Ne,d as _e,h as sn}from"./app-C4YbM0cY.js";import{$ as ba,R as ya,S as ga,j as jt,k as Me,d as Ft,a as wt,b as Nt,m as Ce,c as $a,e as Ca,f as ja,g as Fa,w as rn,v as et,B as wa,A as Na}from"./Dashboard-DNnRqyii.js";import{S as _a}from"./StatsCards-2DajQPXQ.js";import{a as Ea,B as me}from"./react-toastify.esm-93-yPS2R.js";import{F as Sa}from"./HashtagIcon-DXR0uNsY.js";import{F as at}from"./UserIcon-DNNIiygE.js";import{F as _t}from"./EnvelopeIcon-CsCf303n.js";import{F as Ke,a as Rn}from"./DeviceTabletIcon-CavS-k9T.js";import{F as Bn}from"./CheckCircleIcon-CuTslx_W.js";import{F as Ue}from"./ShieldCheckIcon-S2KchRHG.js";import{F as Et}from"./EllipsisVerticalIcon-BG3F14o2.js";import{F as Aa}from"./UserGroupIcon-ChPrGxyW.js";import{F as Dn}from"./PencilIcon-CLWpnjKi.js";import{F as st}from"./LockOpenIcon-hXAS6_Wu.js";import{F as rt}from"./LockClosedIcon-DS7O68yr.js";import{F as kn}from"./ClockIcon-DJjegmaw.js";import{t as St,b as Ln}from"./XMarkIcon-D7WQrQEO.js";import{$ as vt,d as Ia,t as Ta,a as Pa,b as Ra,c as Ba}from"./chunk-F3UDT23P-BO2Le-zd.js";import{t as Da,a as ka}from"./chunk-YRZGWF2W-CieaW2nn.js";import{p as On}from"./chunk-APIAPHLK-D-NB9IVL.js";import{c as $e}from"./chunk-IHOGUXIG-BeDIbgAV.js";import{u as Vn}from"./chunk-S574QCAN-Hp7YwJKa.js";import{U as La}from"./user-CR80p9bu.js";import{C as Oa}from"./camera-Bu4zteoG.js";import{$ as Va,b as za,c as Ma,d as Ka,e as Ua,f as Ga,g as Wa,a as Ha,h as qa,C as Za,s as Le,l as he}from"./chunk-Y2AYO5NJ-DDorzfY7.js";import{e as Ja,l as Ya,j as Xa,m as ln,a as Qa,F as es,u as ts,i as fe}from"./chunk-SSA7SXE4-DT25SwRj.js";import{$ as ns}from"./useFilter-Cu9yrOes.js";import{c as Rt}from"./createLucideIcon-CEOsjYPm.js";import{s as zn}from"./chunk-TQNYOUFX-DheDzjuL.js";import{m as os}from"./chunk-O5MCAK4F-CNxiP6Me.js";import{F as as}from"./XCircleIcon-BDXVJ45C.js";import{F as ss}from"./TrophyIcon-C6Ewaw-T.js";import{F as bt}from"./UserPlusIcon-030qwkDz.js";import{F as un}from"./ChartBarIcon-B68NIuxm.js";import{m as rs}from"./proxy-Bxc3-vSH.js";import{F as ls}from"./DocumentArrowDownIcon-C0r0RmI6.js";import{F as is}from"./ChartPieIcon-DRmoIi2C.js";import{F as us}from"./MagnifyingGlassIcon-CcSZ7eOY.js";import{F as cs}from"./TableCellsIcon-BooWrctH.js";import{c as ds}from"./chunk-D5XJWRAV-BSxR7J2f.js";import{s as de}from"./chunk-TLYTI3QM-zjNCnlua.js";import{b as ms}from"./chunk-57V4RE7B-CJQ_L9zC.js";import"./MapPinIcon-BJIAvbnu.js";import"./KeyIcon-CBqi7GR8.js";import"./index-w-nm4fre.js";import"./logo-Pwvcz7fP.js";import"./ExclamationTriangleIcon-Be9HgShS.js";import"./chunk-XJ2YRSUP-DeAeOtef.js";import"./useToggleState-B09K58Gv.js";import"./create-visual-element-lu0LZd4h.js";var ps=/\s/;function fs(e){for(var t=e.length;t--&&ps.test(e.charAt(t)););return t}var hs=/^\s+/;function xs(e){return e&&e.slice(0,fs(e)+1).replace(hs,"")}var cn=NaN,vs=/^[-+]0x[0-9a-f]+$/i,bs=/^0b[01]+$/i,ys=/^0o[0-7]+$/i,gs=parseInt;function dn(e){if(typeof e=="number")return e;if(Ro(e))return cn;if(Oe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Oe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=xs(e);var a=bs.test(e);return a||ys.test(e)?gs(e.slice(2),a?2:8):vs.test(e)?cn:+e}function Mn(e){return e}function $s(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}var Cs=800,js=16,Fs=Date.now;function ws(e){var t=0,a=0;return function(){var u=Fs(),l=js-(u-a);if(a=u,l>0){if(++t>=Cs)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ns(e){return function(){return e}}var _s=en?function(e,t){return en(e,"toString",{configurable:!0,enumerable:!1,value:Ns(t),writable:!0})}:Mn,Kn=ws(_s),mn=Math.max;function Un(e,t,a){return t=mn(t===void 0?e.length-1:t,0),function(){for(var u=arguments,l=-1,m=mn(u.length-t,0),x=Array(m);++l<m;)x[l]=u[t+l];l=-1;for(var y=Array(t+1);++l<t;)y[l]=u[l];return y[t]=a(x),$s(e,this,y)}}function Es(e,t){return Kn(Un(e,t,Mn),e+"")}function Ss(e,t,a){if(!Oe(a))return!1;var u=typeof t;return(u=="number"?wn(a)&&Bo(t,a.length):u=="string"&&t in a)?Nn(a[t],e):!1}function As(e){return Es(function(t,a){var u=-1,l=a.length,m=l>1?a[l-1]:void 0,x=l>2?a[2]:void 0;for(m=e.length>3&&typeof m=="function"?(l--,m):void 0,x&&Ss(a[0],a[1],x)&&(m=l<3?void 0:m,l=1),t=Object(t);++u<l;){var y=a[u];y&&e(t,y,u,m)}return t})}var pn=tn?tn.isConcatSpreadable:void 0;function Is(e){return gt(e)||$t(e)||!!(pn&&e&&e[pn])}function Ts(e,t,a,u,l){var m=-1,x=e.length;for(a||(a=Is),l||(l=[]);++m<x;){var y=e[m];a(y)?Do(l,y):l[l.length]=y}return l}function Ps(e){var t=e==null?0:e.length;return t?Ts(e):[]}function Rs(e){return Kn(Un(e,void 0,Ps),e+"")}var Bs="[object Object]",Ds=Function.prototype,ks=Object.prototype,Gn=Ds.toString,Ls=ks.hasOwnProperty,Os=Gn.call(Object);function Wn(e){if(!_n(e)||ko(e)!=Bs)return!1;var t=Lo(e);if(t===null)return!0;var a=Ls.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&Gn.call(a)==Os}function Vs(e,t,a){var u=-1,l=e.length;t<0&&(t=-t>l?0:l+t),a=a>l?l:a,a<0&&(a+=l),l=t>a?0:a-t>>>0,t>>>=0;for(var m=Array(l);++u<l;)m[u]=e[u+t];return m}function zs(e){return function(t,a,u){for(var l=-1,m=Object(t),x=u(t),y=x.length;y--;){var v=x[++l];if(a(m[v],v,m)===!1)break}return t}}var Ms=zs(),yt=function(){return Oo.Date.now()},Ks="Expected a function",Us=Math.max,Gs=Math.min;function Ws(e,t,a){var u,l,m,x,y,v,T=0,A=!1,z=!1,R=!0;if(typeof e!="function")throw new TypeError(Ks);t=dn(t)||0,Oe(a)&&(A=!0,z="maxWait"in a,m=z?Us(dn(a.maxWait)||0,t):m,R="trailing"in a?!0:R);function J(E){var S=u,g=l;return u=l=void 0,T=E,x=e.apply(g,S),x}function H(E){return T=E,y=setTimeout(_,t),A?J(E):x}function O(E){var S=E-v,g=E-T,k=t-S;return z?Gs(k,m-g):k}function M(E){var S=E-v,g=E-T;return v===void 0||S>=t||S<0||z&&g>=m}function _(){var E=yt();if(M(E))return te(E);y=setTimeout(_,O(E))}function te(E){return y=void 0,R&&u?J(E):(u=l=void 0,x)}function V(){y!==void 0&&clearTimeout(y),T=0,u=v=l=y=void 0}function Q(){return y===void 0?x:te(yt())}function N(){var E=yt(),S=M(E);if(u=arguments,l=this,v=E,S){if(y===void 0)return H(v);if(z)return clearTimeout(y),y=setTimeout(_,t),J(v)}return y===void 0&&(y=setTimeout(_,t)),x}return N.cancel=V,N.flush=Q,N}function At(e,t,a){(a!==void 0&&!Nn(e[t],a)||a===void 0&&!(t in e))&&Vo(e,t,a)}function Hs(e){return _n(e)&&wn(e)}function It(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function qs(e){return En(e,Sn(e))}function Zs(e,t,a,u,l,m,x){var y=It(e,a),v=It(t,a),T=x.get(v);if(T){At(e,a,T);return}var A=m?m(y,v,a+"",e,t,x):void 0,z=A===void 0;if(z){var R=gt(v),J=!R&&zo(v),H=!R&&!J&&Mo(v);A=v,R||J||H?gt(y)?A=y:Hs(y)?A=Ko(y):J?(z=!1,A=Uo(v,!0)):H?(z=!1,A=Go(v,!0)):A=[]:Wn(v)||$t(v)?(A=y,$t(y)?A=qs(y):(!Oe(y)||Wo(y))&&(A=Ho(v))):z=!1}z&&(x.set(v,A),l(A,v,u,m,x),x.delete(v)),At(e,a,A)}function Hn(e,t,a,u,l){e!==t&&Ms(t,function(m,x){if(l||(l=new qo),Oe(m))Zs(e,t,x,a,Hn,u,l);else{var y=u?u(It(e,x),m,x+"",e,t,l):void 0;y===void 0&&(y=m),At(e,x,y)}},Sn)}function Js(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function Ys(e,t){return t.length<2?e:Zo(e,Vs(t,0,-1))}var Tt=As(function(e,t,a){Hn(e,t,a)});function Xs(e,t){return t=An(t,e),e=Ys(e,t),e==null||delete e[Jo(Js(t))]}function Qs(e){return Wn(e)?void 0:e}var er=1,tr=2,nr=4,fn=Rs(function(e,t){var a={};if(e==null)return a;var u=!1;t=Yo(t,function(m){return m=An(m,e),u||(u=m.length>1),m}),En(e,Xo(e),a),u&&(a=Qo(a,er|tr|nr,Qs));for(var l=t.length;l--;)Xs(a,t[l]);return a}),hn=ea({slots:{base:"group inline-flex flex-column w-full",listboxWrapper:"scroll-py-6 w-full",listbox:"",popoverContent:"w-full p-1 overflow-hidden",endContentWrapper:"relative flex h-full items-center -mr-2",clearButton:["text-medium","translate-x-1","cursor-text","opacity-0","pointer-events-none","text-default-500","group-data-[invalid=true]:text-danger","data-[visible=true]:opacity-100","data-[visible=true]:pointer-events-auto","data-[visible=true]:cursor-pointer","sm:data-[visible=true]:opacity-0","sm:data-[visible=true]:pointer-events-none","sm:group-data-[hover=true]:data-[visible=true]:opacity-100","sm:group-data-[hover=true]:data-[visible=true]:pointer-events-auto"],selectorButton:"text-medium"},variants:{isClearable:{true:{},false:{clearButton:"hidden"}},disableAnimation:{true:{selectorButton:"transition-none"},false:{selectorButton:"transition-transform duration-150 ease motion-reduce:transition-none"}},disableSelectorIconRotation:{true:{},false:{selectorButton:"data-[open=true]:rotate-180"}}},defaultVariants:{isClearable:!0,disableSelectorIconRotation:!1}});function or(e){var t;let{defaultFilter:a,menuTrigger:u="input",allowsEmptyCollection:l=!1,allowsCustomValue:m,shouldCloseOnBlur:x=!0}=e,[y,v]=d.useState(!1),[T,A]=d.useState(!1),[z,R]=d.useState(null),J=U=>{e.onSelectionChange&&e.onSelectionChange(U),U===_&&(K(),w())};var H;let{collection:O,selectionManager:M,selectedKey:_,setSelectedKey:te,selectedItem:V,disabledKeys:Q}=ba({...e,onSelectionChange:J,items:(H=e.items)!==null&&H!==void 0?H:e.defaultItems}),[N,E]=ta(e.inputValue,xn(e.defaultInputValue,_,O)||"",e.onInputChange),[S]=d.useState(_),[g]=d.useState(N),k=O,s=d.useMemo(()=>e.items!=null||!a?O:ar(O,N,a),[O,N,a,e.items]),[f,$]=d.useState(s),o=d.useRef("focus"),F=Ea({...e,onOpenChange:U=>{e.onOpenChange&&e.onOpenChange(U,U?o.current:void 0),M.setFocused(U),U||M.setFocusedKey(null)},isOpen:void 0,defaultOpen:void 0}),P=(U=null,X)=>{let ee=X==="manual"||X==="focus"&&u==="focus";(l||s.size>0||ee&&k.size>0||e.items)&&(ee&&!F.isOpen&&e.items===void 0&&v(!0),o.current=X,R(U),F.open())},j=(U=null,X)=>{let ee=X==="manual"||X==="focus"&&u==="focus";!(l||s.size>0||ee&&k.size>0||e.items)&&!F.isOpen||(ee&&!F.isOpen&&e.items===void 0&&v(!0),F.isOpen||(o.current=X),C(U))},c=d.useCallback(()=>{$(y?k:s)},[y,k,s]),C=d.useCallback((U=null)=>{F.isOpen&&c(),R(U),F.toggle()},[F,c]),w=d.useCallback(()=>{F.isOpen&&(c(),F.close())},[F,c]),[i,G]=d.useState(N),K=()=>{var U,X;let ee=_!=null&&(X=(U=O.getItem(_))===null||U===void 0?void 0:U.textValue)!==null&&X!==void 0?X:"";G(ee),E(ee)};var Y,oe;let W=d.useRef((oe=(Y=e.selectedKey)!==null&&Y!==void 0?Y:e.defaultSelectedKey)!==null&&oe!==void 0?oe:null);var le;let je=d.useRef(_!=null&&(le=(t=O.getItem(_))===null||t===void 0?void 0:t.textValue)!==null&&le!==void 0?le:"");d.useEffect(()=>{var U;T&&(s.size>0||l)&&!F.isOpen&&N!==i&&u!=="manual"&&P(null,"input"),!y&&!l&&F.isOpen&&s.size===0&&w(),_!=null&&_!==W.current&&w(),N!==i&&(M.setFocusedKey(null),v(!1),N===""&&(e.inputValue===void 0||e.selectedKey===void 0)&&te(null)),_!==W.current&&(e.inputValue===void 0||e.selectedKey===void 0)?K():i!==N&&G(N);var X;let ee=_!=null&&(X=(U=O.getItem(_))===null||U===void 0?void 0:U.textValue)!==null&&X!==void 0?X:"";!T&&_!=null&&e.inputValue===void 0&&_===W.current&&je.current!==ee&&(G(ee),E(ee)),W.current=_,je.current=ee});let ie=Ja({...e,value:d.useMemo(()=>({inputValue:N,selectedKey:_}),[N,_])}),Fe=()=>{m&&_==null?p():L()},p=()=>{W.current=null,te(null),w()},L=()=>{if(e.selectedKey!==void 0&&e.inputValue!==void 0){var U,X;(U=e.onSelectionChange)===null||U===void 0||U.call(e,_);var ee;let be=_!=null&&(ee=(X=O.getItem(_))===null||X===void 0?void 0:X.textValue)!==null&&ee!==void 0?ee:"";G(be),w()}else K(),w()};const q=()=>{if(m){var U,X;const ee=_!=null&&(X=(U=O.getItem(_))===null||U===void 0?void 0:U.textValue)!==null&&X!==void 0?X:"";N===ee?L():p()}else L()};let ae=()=>{F.isOpen&&M.focusedKey!=null?_===M.focusedKey?L():te(M.focusedKey):q()},ue=d.useRef(N),ce=U=>{U?(ue.current=N,u==="focus"&&!e.isReadOnly&&P(null,"focus")):(x&&q(),N!==ue.current&&ie.commitValidation()),A(U)},xe=d.useMemo(()=>F.isOpen?y?k:s:f,[F.isOpen,k,s,y,f]);var Se;let we=(Se=e.defaultSelectedKey)!==null&&Se!==void 0?Se:S;var Ae;return{...ie,...F,focusStrategy:z,toggle:j,open:P,close:q,selectionManager:M,selectedKey:_,defaultSelectedKey:we,setSelectedKey:te,disabledKeys:Q,isFocused:T,setFocused:ce,selectedItem:V,collection:xe,inputValue:N,defaultInputValue:(Ae=xn(e.defaultInputValue,we,O))!==null&&Ae!==void 0?Ae:g,setInputValue:E,commit:ae,revert:Fe}}function ar(e,t,a){return new Va(qn(e,e,t,a))}function qn(e,t,a,u){let l=[];for(let m of t)if(m.type==="section"&&m.hasChildNodes){let x=qn(e,In(m,e),a,u);[...x].some(y=>y.type==="item")&&l.push({...m,childNodes:x})}else m.type==="item"&&u(m.textValue,a)?l.push({...m}):m.type!=="item"&&l.push({...m});return l}function xn(e,t,a){if(e==null){var u,l;if(t!=null)return(l=(u=a.getItem(t))===null||u===void 0?void 0:u.textValue)!==null&&l!==void 0?l:""}return e}var Zn={};Zn={buttonLabel:"عرض المقترحات",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} خيار`,other:()=>`${t.number(e.optionCount)} خيارات`})} متاحة.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`المجموعة المدخلة ${e.groupTitle}, مع ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} خيار`,other:()=>`${t.number(e.groupCount)} خيارات`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", محدد",other:""},e.isSelected)}`,listboxLabel:"مقترحات",selectedAnnouncement:e=>`${e.optionText}، محدد`};var Jn={};Jn={buttonLabel:"Покажи предложения",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} опция`,other:()=>`${t.number(e.optionCount)} опции`})} на разположение.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Въведена група ${e.groupTitle}, с ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} опция`,other:()=>`${t.number(e.groupCount)} опции`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", избрани",other:""},e.isSelected)}`,listboxLabel:"Предложения",selectedAnnouncement:e=>`${e.optionText}, избрани`};var Yn={};Yn={buttonLabel:"Zobrazit doporučení",countAnnouncement:(e,t)=>`K dispozici ${t.plural(e.optionCount,{one:()=>`je ${t.number(e.optionCount)} možnost`,other:()=>`jsou/je ${t.number(e.optionCount)} možnosti/-í`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Zadaná skupina „${e.groupTitle}“ ${t.plural(e.groupCount,{one:()=>`s ${t.number(e.groupCount)} možností`,other:()=>`se ${t.number(e.groupCount)} možnostmi`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:" (vybráno)",other:""},e.isSelected)}`,listboxLabel:"Návrhy",selectedAnnouncement:e=>`${e.optionText}, vybráno`};var Xn={};Xn={buttonLabel:"Vis forslag",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} mulighed tilgængelig`,other:()=>`${t.number(e.optionCount)} muligheder tilgængelige`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Angivet gruppe ${e.groupTitle}, med ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} mulighed`,other:()=>`${t.number(e.groupCount)} muligheder`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", valgt",other:""},e.isSelected)}`,listboxLabel:"Forslag",selectedAnnouncement:e=>`${e.optionText}, valgt`};var Qn={};Qn={buttonLabel:"Empfehlungen anzeigen",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} Option`,other:()=>`${t.number(e.optionCount)} Optionen`})} verfügbar.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Eingetretene Gruppe ${e.groupTitle}, mit ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} Option`,other:()=>`${t.number(e.groupCount)} Optionen`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", ausgewählt",other:""},e.isSelected)}`,listboxLabel:"Empfehlungen",selectedAnnouncement:e=>`${e.optionText}, ausgewählt`};var eo={};eo={buttonLabel:"Προβολή προτάσεων",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} επιλογή`,other:()=>`${t.number(e.optionCount)} επιλογές `})} διαθέσιμες.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Εισαγμένη ομάδα ${e.groupTitle}, με ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} επιλογή`,other:()=>`${t.number(e.groupCount)} επιλογές`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", επιλεγμένο",other:""},e.isSelected)}`,listboxLabel:"Προτάσεις",selectedAnnouncement:e=>`${e.optionText}, επιλέχθηκε`};var to={};to={focusAnnouncement:(e,t)=>`${t.select({true:()=>`Entered group ${e.groupTitle}, with ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} option`,other:()=>`${t.number(e.groupCount)} options`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", selected",other:""},e.isSelected)}`,countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} option`,other:()=>`${t.number(e.optionCount)} options`})} available.`,selectedAnnouncement:e=>`${e.optionText}, selected`,buttonLabel:"Show suggestions",listboxLabel:"Suggestions"};var no={};no={buttonLabel:"Mostrar sugerencias",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opción`,other:()=>`${t.number(e.optionCount)} opciones`})} disponible(s).`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Se ha unido al grupo ${e.groupTitle}, con ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opción`,other:()=>`${t.number(e.groupCount)} opciones`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", seleccionado",other:""},e.isSelected)}`,listboxLabel:"Sugerencias",selectedAnnouncement:e=>`${e.optionText}, seleccionado`};var oo={};oo={buttonLabel:"Kuva soovitused",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} valik`,other:()=>`${t.number(e.optionCount)} valikud`})} saadaval.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Sisestatud rühm ${e.groupTitle}, valikuga ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} valik`,other:()=>`${t.number(e.groupCount)} valikud`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", valitud",other:""},e.isSelected)}`,listboxLabel:"Soovitused",selectedAnnouncement:e=>`${e.optionText}, valitud`};var ao={};ao={buttonLabel:"Näytä ehdotukset",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} vaihtoehto`,other:()=>`${t.number(e.optionCount)} vaihtoehdot`})} saatavilla.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Mentiin ryhmään ${e.groupTitle}, ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} vaihtoehdon`,other:()=>`${t.number(e.groupCount)} vaihtoehdon`})} kanssa.`,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", valittu",other:""},e.isSelected)}`,listboxLabel:"Ehdotukset",selectedAnnouncement:e=>`${e.optionText}, valittu`};var so={};so={buttonLabel:"Afficher les suggestions",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} option`,other:()=>`${t.number(e.optionCount)} options`})} disponible(s).`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Groupe ${e.groupTitle} rejoint, avec ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} option`,other:()=>`${t.number(e.groupCount)} options`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", sélectionné(s)",other:""},e.isSelected)}`,listboxLabel:"Suggestions",selectedAnnouncement:e=>`${e.optionText}, sélectionné`};var ro={};ro={buttonLabel:"הצג הצעות",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`אפשרות ${t.number(e.optionCount)}`,other:()=>`${t.number(e.optionCount)} אפשרויות`})} במצב זמין.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`נכנס לקבוצה ${e.groupTitle}, עם ${t.plural(e.groupCount,{one:()=>`אפשרות ${t.number(e.groupCount)}`,other:()=>`${t.number(e.groupCount)} אפשרויות`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", נבחר",other:""},e.isSelected)}`,listboxLabel:"הצעות",selectedAnnouncement:e=>`${e.optionText}, נבחר`};var lo={};lo={buttonLabel:"Prikaži prijedloge",countAnnouncement:(e,t)=>`Dostupno još: ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opcija`,other:()=>`${t.number(e.optionCount)} opcije/a`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Unesena skupina ${e.groupTitle}, s ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opcijom`,other:()=>`${t.number(e.groupCount)} opcije/a`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", odabranih",other:""},e.isSelected)}`,listboxLabel:"Prijedlozi",selectedAnnouncement:e=>`${e.optionText}, odabrano`};var io={};io={buttonLabel:"Javaslatok megjelenítése",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} lehetőség`,other:()=>`${t.number(e.optionCount)} lehetőség`})} áll rendelkezésre.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Belépett a(z) ${e.groupTitle} csoportba, amely ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} lehetőséget`,other:()=>`${t.number(e.groupCount)} lehetőséget`})} tartalmaz. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", kijelölve",other:""},e.isSelected)}`,listboxLabel:"Javaslatok",selectedAnnouncement:e=>`${e.optionText}, kijelölve`};var uo={};uo={buttonLabel:"Mostra suggerimenti",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opzione disponibile`,other:()=>`${t.number(e.optionCount)} opzioni disponibili`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Ingresso nel gruppo ${e.groupTitle}, con ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opzione`,other:()=>`${t.number(e.groupCount)} opzioni`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", selezionato",other:""},e.isSelected)}`,listboxLabel:"Suggerimenti",selectedAnnouncement:e=>`${e.optionText}, selezionato`};var co={};co={buttonLabel:"候補を表示",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} 個のオプション`,other:()=>`${t.number(e.optionCount)} 個のオプション`})}を利用できます。`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`入力されたグループ ${e.groupTitle}、${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} 個のオプション`,other:()=>`${t.number(e.groupCount)} 個のオプション`})}を含む。`,other:""},e.isGroupChange)}${e.optionText}${t.select({true:"、選択済み",other:""},e.isSelected)}`,listboxLabel:"候補",selectedAnnouncement:e=>`${e.optionText}、選択済み`};var mo={};mo={buttonLabel:"제안 사항 표시",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)}개 옵션`,other:()=>`${t.number(e.optionCount)}개 옵션`})}을 사용할 수 있습니다.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`입력한 그룹 ${e.groupTitle}, ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)}개 옵션`,other:()=>`${t.number(e.groupCount)}개 옵션`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", 선택됨",other:""},e.isSelected)}`,listboxLabel:"제안",selectedAnnouncement:e=>`${e.optionText}, 선택됨`};var po={};po={buttonLabel:"Rodyti pasiūlymus",countAnnouncement:(e,t)=>`Yra ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} parinktis`,other:()=>`${t.number(e.optionCount)} parinktys (-ių)`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Įvesta grupė ${e.groupTitle}, su ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} parinktimi`,other:()=>`${t.number(e.groupCount)} parinktimis (-ių)`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", pasirinkta",other:""},e.isSelected)}`,listboxLabel:"Pasiūlymai",selectedAnnouncement:e=>`${e.optionText}, pasirinkta`};var fo={};fo={buttonLabel:"Rādīt ieteikumus",countAnnouncement:(e,t)=>`Pieejamo opciju skaits: ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opcija`,other:()=>`${t.number(e.optionCount)} opcijas`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Ievadīta grupa ${e.groupTitle}, ar ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opciju`,other:()=>`${t.number(e.groupCount)} opcijām`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", atlasīta",other:""},e.isSelected)}`,listboxLabel:"Ieteikumi",selectedAnnouncement:e=>`${e.optionText}, atlasīta`};var ho={};ho={buttonLabel:"Vis forslag",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} alternativ`,other:()=>`${t.number(e.optionCount)} alternativer`})} finnes.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Angitt gruppe ${e.groupTitle}, med ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} alternativ`,other:()=>`${t.number(e.groupCount)} alternativer`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", valgt",other:""},e.isSelected)}`,listboxLabel:"Forslag",selectedAnnouncement:e=>`${e.optionText}, valgt`};var xo={};xo={buttonLabel:"Suggesties weergeven",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} optie`,other:()=>`${t.number(e.optionCount)} opties`})} beschikbaar.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Groep ${e.groupTitle} ingevoerd met ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} optie`,other:()=>`${t.number(e.groupCount)} opties`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", geselecteerd",other:""},e.isSelected)}`,listboxLabel:"Suggesties",selectedAnnouncement:e=>`${e.optionText}, geselecteerd`};var vo={};vo={buttonLabel:"Wyświetlaj sugestie",countAnnouncement:(e,t)=>`dostępna/dostępne(-nych) ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opcja`,other:()=>`${t.number(e.optionCount)} opcje(-i)`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Dołączono do grupy ${e.groupTitle}, z ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opcją`,other:()=>`${t.number(e.groupCount)} opcjami`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", wybrano",other:""},e.isSelected)}`,listboxLabel:"Sugestie",selectedAnnouncement:e=>`${e.optionText}, wybrano`};var bo={};bo={buttonLabel:"Mostrar sugestões",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opção`,other:()=>`${t.number(e.optionCount)} opções`})} disponível.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Grupo inserido ${e.groupTitle}, com ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opção`,other:()=>`${t.number(e.groupCount)} opções`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", selecionado",other:""},e.isSelected)}`,listboxLabel:"Sugestões",selectedAnnouncement:e=>`${e.optionText}, selecionado`};var yo={};yo={buttonLabel:"Apresentar sugestões",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opção`,other:()=>`${t.number(e.optionCount)} opções`})} disponível.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Grupo introduzido ${e.groupTitle}, com ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opção`,other:()=>`${t.number(e.groupCount)} opções`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", selecionado",other:""},e.isSelected)}`,listboxLabel:"Sugestões",selectedAnnouncement:e=>`${e.optionText}, selecionado`};var go={};go={buttonLabel:"Afișare sugestii",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opțiune`,other:()=>`${t.number(e.optionCount)} opțiuni`})} disponibile.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Grup ${e.groupTitle} introdus, cu ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opțiune`,other:()=>`${t.number(e.groupCount)} opțiuni`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", selectat",other:""},e.isSelected)}`,listboxLabel:"Sugestii",selectedAnnouncement:e=>`${e.optionText}, selectat`};var $o={};$o={buttonLabel:"Показать предложения",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} параметр`,other:()=>`${t.number(e.optionCount)} параметров`})} доступно.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Введенная группа ${e.groupTitle}, с ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} параметром`,other:()=>`${t.number(e.groupCount)} параметрами`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", выбранными",other:""},e.isSelected)}`,listboxLabel:"Предложения",selectedAnnouncement:e=>`${e.optionText}, выбрано`};var Co={};Co={buttonLabel:"Zobraziť návrhy",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} možnosť`,other:()=>`${t.number(e.optionCount)} možnosti/-í`})} k dispozícii.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Zadaná skupina ${e.groupTitle}, s ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} možnosťou`,other:()=>`${t.number(e.groupCount)} možnosťami`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", vybraté",other:""},e.isSelected)}`,listboxLabel:"Návrhy",selectedAnnouncement:e=>`${e.optionText}, vybraté`};var jo={};jo={buttonLabel:"Prikaži predloge",countAnnouncement:(e,t)=>`Na voljo je ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opcija`,other:()=>`${t.number(e.optionCount)} opcije`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Vnesena skupina ${e.groupTitle}, z ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opcija`,other:()=>`${t.number(e.groupCount)} opcije`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", izbrano",other:""},e.isSelected)}`,listboxLabel:"Predlogi",selectedAnnouncement:e=>`${e.optionText}, izbrano`};var Fo={};Fo={buttonLabel:"Prikaži predloge",countAnnouncement:(e,t)=>`Dostupno još: ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opcija`,other:()=>`${t.number(e.optionCount)} opcije/a`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Unesena grupa ${e.groupTitle}, s ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opcijom`,other:()=>`${t.number(e.groupCount)} optione/a`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", izabranih",other:""},e.isSelected)}`,listboxLabel:"Predlozi",selectedAnnouncement:e=>`${e.optionText}, izabrano`};var wo={};wo={buttonLabel:"Visa förslag",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} alternativ`,other:()=>`${t.number(e.optionCount)} alternativ`})} tillgängliga.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Ingick i gruppen ${e.groupTitle} med ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} alternativ`,other:()=>`${t.number(e.groupCount)} alternativ`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", valda",other:""},e.isSelected)}`,listboxLabel:"Förslag",selectedAnnouncement:e=>`${e.optionText}, valda`};var No={};No={buttonLabel:"Önerileri göster",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} seçenek`,other:()=>`${t.number(e.optionCount)} seçenekler`})} kullanılabilir.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Girilen grup ${e.groupTitle}, ile ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} seçenek`,other:()=>`${t.number(e.groupCount)} seçenekler`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", seçildi",other:""},e.isSelected)}`,listboxLabel:"Öneriler",selectedAnnouncement:e=>`${e.optionText}, seçildi`};var _o={};_o={buttonLabel:"Показати пропозиції",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} параметр`,other:()=>`${t.number(e.optionCount)} параметри(-ів)`})} доступно.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Введена група ${e.groupTitle}, з ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} параметр`,other:()=>`${t.number(e.groupCount)} параметри(-ів)`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", вибрано",other:""},e.isSelected)}`,listboxLabel:"Пропозиції",selectedAnnouncement:e=>`${e.optionText}, вибрано`};var Eo={};Eo={buttonLabel:"显示建议",countAnnouncement:(e,t)=>`有 ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} 个选项`,other:()=>`${t.number(e.optionCount)} 个选项`})}可用。`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`进入了 ${e.groupTitle} 组，其中有 ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} 个选项`,other:()=>`${t.number(e.groupCount)} 个选项`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", 已选择",other:""},e.isSelected)}`,listboxLabel:"建议",selectedAnnouncement:e=>`${e.optionText}, 已选择`};var So={};So={buttonLabel:"顯示建議",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} 選項`,other:()=>`${t.number(e.optionCount)} 選項`})} 可用。`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`輸入的群組 ${e.groupTitle}, 有 ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} 選項`,other:()=>`${t.number(e.groupCount)} 選項`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", 已選取",other:""},e.isSelected)}`,listboxLabel:"建議",selectedAnnouncement:e=>`${e.optionText}, 已選取`};var Ao={};Ao={"ar-AE":Zn,"bg-BG":Jn,"cs-CZ":Yn,"da-DK":Xn,"de-DE":Qn,"el-GR":eo,"en-US":to,"es-ES":no,"et-EE":oo,"fi-FI":ao,"fr-FR":so,"he-IL":ro,"hr-HR":lo,"hu-HU":io,"it-IT":uo,"ja-JP":co,"ko-KR":mo,"lt-LT":po,"lv-LV":fo,"nb-NO":ho,"nl-NL":xo,"pl-PL":vo,"pt-BR":bo,"pt-PT":yo,"ro-RO":go,"ru-RU":$o,"sk-SK":Co,"sl-SI":jo,"sr-SP":Fo,"sv-SE":wo,"tr-TR":No,"uk-UA":_o,"zh-CN":Eo,"zh-TW":So};function sr(e){return e&&e.__esModule?e.default:e}function rr(e,t){let{buttonRef:a,popoverRef:u,inputRef:l,listBoxRef:m,keyboardDelegate:x,layoutDelegate:y,shouldFocusWrap:v,isReadOnly:T,isDisabled:A}=e,z=d.useRef(null);a=a??z;let R=za(sr(Ao),"@react-aria/combobox"),{menuTriggerProps:J,menuProps:H}=Ma({type:"listbox",isDisabled:A||T},t,a);Ka.set(t,{id:H.id});let{collection:O}=t,{disabledKeys:M}=t.selectionManager,_=d.useMemo(()=>x||new na({collection:O,disabledKeys:M,ref:m,layoutDelegate:y}),[x,y,O,M,m]),{collectionProps:te}=oa({selectionManager:t.selectionManager,keyboardDelegate:_,disallowTypeAhead:!0,disallowEmptySelection:!0,shouldFocusWrap:v,ref:l,isVirtualized:!0}),V=aa(),Q=p=>{if(!p.nativeEvent.isComposing)switch(p.key){case"Enter":case"Tab":if(t.isOpen&&p.key==="Enter"&&p.preventDefault(),t.isOpen&&m.current&&t.selectionManager.focusedKey!=null){let L=t.collection.getItem(t.selectionManager.focusedKey);if(L!=null&&L.props.href){let q=m.current.querySelector(`[data-key="${CSS.escape(t.selectionManager.focusedKey.toString())}"]`);p.key==="Enter"&&q instanceof HTMLAnchorElement&&V.open(q,p,L.props.href,L.props.routerOptions),t.close();break}else if(L!=null&&L.props.onAction){L.props.onAction(),t.close();break}}t.commit();break;case"Escape":(t.selectedKey!==null||t.inputValue===""||e.allowsCustomValue)&&p.continuePropagation(),t.revert();break;case"ArrowDown":t.open("first","manual");break;case"ArrowUp":t.open("last","manual");break;case"ArrowLeft":case"ArrowRight":t.selectionManager.setFocusedKey(null);break}},N=p=>{var L;let q=(a==null?void 0:a.current)&&a.current===p.relatedTarget,ae=(L=u.current)===null||L===void 0?void 0:L.contains(p.relatedTarget);q||ae||(e.onBlur&&e.onBlur(p),t.setFocused(!1))},E=p=>{t.isFocused||(e.onFocus&&e.onFocus(p),t.setFocused(!0))},{isInvalid:S,validationErrors:g,validationDetails:k}=t.displayValidation,{labelProps:s,inputProps:f,descriptionProps:$,errorMessageProps:o}=Ya({...e,onChange:t.setInputValue,onKeyDown:T?e.onKeyDown:sa(t.isOpen&&te.onKeyDown,Q,e.onKeyDown),onBlur:N,value:t.inputValue,defaultValue:t.defaultInputValue,onFocus:E,autoComplete:"off",validate:void 0,[Xa]:t},l),b=p=>{if(p.pointerType==="touch"){var L;(L=l.current)===null||L===void 0||L.focus(),t.toggle(null,"manual")}},F=p=>{if(p.pointerType!=="touch"){var L;(L=l.current)===null||L===void 0||L.focus(),t.toggle(p.pointerType==="keyboard"||p.pointerType==="virtual"?"first":null,"manual")}},P=ln({id:J.id,"aria-label":R.format("buttonLabel"),"aria-labelledby":e["aria-labelledby"]||s.id}),j=ln({id:H.id,"aria-label":R.format("listboxLabel"),"aria-labelledby":e["aria-labelledby"]||s.id}),c=d.useRef(0),C=p=>{if(A||T)return;if(p.timeStamp-c.current<500){var L;p.preventDefault(),(L=l.current)===null||L===void 0||L.focus();return}let q=p.target.getBoundingClientRect(),ae=p.changedTouches[0],ue=Math.ceil(q.left+.5*q.width),ce=Math.ceil(q.top+.5*q.height);if(ae.clientX===ue&&ae.clientY===ce){var xe;p.preventDefault(),(xe=l.current)===null||xe===void 0||xe.focus(),t.toggle(null,"manual"),c.current=p.timeStamp}},w=t.selectionManager.focusedKey!=null&&t.isOpen?t.collection.getItem(t.selectionManager.focusedKey):void 0;var i;let G=(i=w==null?void 0:w.parentKey)!==null&&i!==void 0?i:null;var K;let Y=(K=t.selectionManager.focusedKey)!==null&&K!==void 0?K:null,oe=d.useRef(G),W=d.useRef(Y);d.useEffect(()=>{if(ft()&&w!=null&&Y!=null&&Y!==W.current){let L=t.selectionManager.isSelected(Y),q=G!=null?t.collection.getItem(G):null,ae=(q==null?void 0:q["aria-label"])||(typeof(q==null?void 0:q.rendered)=="string"?q.rendered:"")||"";var p;let ue=R.format("focusAnnouncement",{isGroupChange:(p=q&&G!==oe.current)!==null&&p!==void 0?p:!1,groupTitle:ae,groupCount:q?[...In(q,t.collection)].length:0,optionText:w["aria-label"]||w.textValue||"",isSelected:L});vt(ue)}oe.current=G,W.current=Y});let le=Ua(t.collection),je=d.useRef(le),ie=d.useRef(t.isOpen);d.useEffect(()=>{let p=t.isOpen!==ie.current&&(t.selectionManager.focusedKey==null||ft());if(t.isOpen&&(p||le!==je.current)){let L=R.format("countAnnouncement",{optionCount:le});vt(L)}je.current=le,ie.current=t.isOpen});let Fe=d.useRef(t.selectedKey);return d.useEffect(()=>{if(ft()&&t.isFocused&&t.selectedItem&&t.selectedKey!==Fe.current){let p=t.selectedItem["aria-label"]||t.selectedItem.textValue||"",L=R.format("selectedAnnouncement",{optionText:p});vt(L)}Fe.current=t.selectedKey}),d.useEffect(()=>{if(t.isOpen)return ya([l.current,u.current].filter(p=>p!=null))},[t.isOpen,l,u]),Ia(()=>{!w&&l.current&&ra(la(l.current))===l.current&&ia(l.current,null)},[w]),ua(m,"react-aria-item-action",t.isOpen?()=>{t.close()}:void 0),{labelProps:s,buttonProps:{...J,...P,excludeFromTabOrder:!0,preventFocusOnPress:!0,onPress:b,onPressStart:F,isDisabled:A||T},inputProps:nn(f,{role:"combobox","aria-expanded":J["aria-expanded"],"aria-controls":t.isOpen?H.id:void 0,"aria-autocomplete":"list","aria-activedescendant":w?Ga(t,w.key):void 0,onTouchEnd:C,autoCorrect:"off",spellCheck:"false"}),listBoxProps:nn(H,j,{autoFocus:t.focusStrategy||!0,shouldUseVirtualFocus:!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,linkBehavior:"selection",UNSTABLE_itemBehavior:"action"}),descriptionProps:$,errorMessageProps:o,isInvalid:S,validationErrors:g,validationDetails:k}}function lr(e){var t,a,u,l,m;const x=ca(),{validationBehavior:y}=Qa(es)||{},[v,T]=da(e,hn.variantKeys),A=(a=(t=e.disableAnimation)!=null?t:x==null?void 0:x.disableAnimation)!=null?a:!1,z=e.disableClearable!==void 0?!e.disableClearable:e.isReadOnly?!1:e.isClearable,{ref:R,as:J,label:H,isLoading:O,menuTrigger:M="focus",filterOptions:_={sensitivity:"base"},children:te,selectorIcon:V,clearIcon:Q,scrollRef:N,defaultFilter:E,endContent:S,allowsEmptyCollection:g=!0,shouldCloseOnBlur:k=!0,popoverProps:s={},inputProps:f={},scrollShadowProps:$={},listboxProps:o={},selectorButtonProps:b={},clearButtonProps:F={},showScrollIndicators:P=!0,allowsCustomValue:j=!1,isVirtualized:c,maxListboxHeight:C=256,itemHeight:w=32,validationBehavior:i=(u=y??(x==null?void 0:x.validationBehavior))!=null?u:"native",className:G,classNames:K,errorMessage:Y,onOpenChange:oe,onClose:W,onClear:le,isReadOnly:je=!1,...ie}=v,{contains:Fe}=ns(_);let p=or({...e,children:te,menuTrigger:M,validationBehavior:i,shouldCloseOnBlur:k,allowsEmptyCollection:g,defaultFilter:E&&typeof E=="function"?E:Fe,onOpenChange:(D,B)=>{oe==null||oe(D,B),D||W==null||W()}});p={...p,...je&&{disabledKeys:new Set([...p.collection.getKeys()])}};const L=d.useRef(null),q=d.useRef(null),ae=d.useRef(null),ue=d.useRef(null),ce=on(R),xe=on(N),{buttonProps:Se,inputProps:we,listBoxProps:Ae,isInvalid:U,validationDetails:X,validationErrors:ee}=rr({validationBehavior:i,...e,inputRef:ce,buttonRef:L,listBoxRef:ae,popoverRef:ue},p),be=e.isInvalid||U,ne={inputProps:ge({label:H,ref:ce,wrapperRef:q,onClick:()=>{!p.isOpen&&p.selectedItem&&p.open()},isClearable:!1,disableAnimation:A},f),popoverProps:ge({offset:5,placement:"bottom",triggerScaleOnOpen:!1,disableAnimation:A},s),scrollShadowProps:ge({ref:xe,isEnabled:(l=P&&p.collection.size>5)!=null?l:!0,hideScrollBar:!0,offset:15},$),listboxProps:ge({hideEmptyContent:j,emptyContent:"No results found.",disableAnimation:A},o),selectorButtonProps:ge({isLoading:O,size:"sm",variant:"light",radius:"full",color:be?"danger":e==null?void 0:e.color,isIconOnly:!0,disableAnimation:A},b),clearButtonProps:ge({size:"sm",variant:"light",radius:"full",color:be?"danger":e==null?void 0:e.color,isIconOnly:!0,disableAnimation:A},F)},We=Be(K==null?void 0:K.base,G),Pe=(m=ne.listboxProps)!=null&&m.hideEmptyContent?p.isOpen&&!!p.collection.size:p.isOpen;if(ts(()=>{if(!ce.current)return;const D=ce.current.value,B=p.collection.getItem(D);B&&p.inputValue!==B.textValue&&(p.setSelectedKey(D),p.setInputValue(B.textValue))},[ce.current]),d.useEffect(()=>{let D;if(p.selectedKey!==null&&p.collection.getItem(p.selectedKey)&&!p.disabledKeys.has(p.selectedKey))D=p.selectedKey;else{let B=p.collection.getFirstKey();for(;B&&p.disabledKeys.has(B);)B=p.collection.getKeyAfter(B);D=B}p.selectionManager.setFocusedKey(D)},[p.collection,p.disabledKeys,p.selectedKey]),d.useEffect(()=>{if(p.isOpen&&ue.current&&ae.current){let D=ae.current.querySelector("[aria-selected=true] [data-label=true]"),B=xe.current;if(D&&B&&D.parentElement){let ve=(B==null?void 0:B.getBoundingClientRect()).height;B.scrollTop=D.parentElement.offsetTop-ve/2+D.parentElement.clientHeight/2,p.selectionManager.setFocusedKey(p.selectedKey)}}},[p.isOpen,A]),d.useEffect(()=>{if(Pe&&ue.current&&q.current){let D=q.current.getBoundingClientRect(),B=ue.current;B.style.width=D.width+"px"}},[Pe]),we.onKeyDown){const D=we.onKeyDown;we.onKeyDown=B=>("continuePropagation"in B&&(B.stopPropagation=()=>{}),D(B))}const He=J||"div",ye=d.useMemo(()=>hn({...T,isClearable:z,disableAnimation:A}),[ma(T),z,A]),qe=()=>({"data-invalid":xt(be),"data-open":xt(p.isOpen),className:ye.base({class:We})}),Ze=()=>{var D;return{ref:L,...ge(Se,ne.selectorButtonProps),"data-open":xt(p.isOpen),className:ye.selectorButton({class:Be(K==null?void 0:K.selectorButton,(D=ne.selectorButtonProps)==null?void 0:D.className)})}},Je=()=>{var D,B;return{...ne.clearButtonProps,preventFocusOnPress:!0,excludeFromTabOrder:!0,onPressStart:()=>{var se;(se=ce.current)==null||se.focus()},onPress:se=>{var ve,Ie;(Ie=(ve=ne.clearButtonProps)==null?void 0:ve.onPress)==null||Ie.call(ve,se),p.selectedItem&&p.setSelectedKey(null),p.setInputValue(""),p.open(),le==null||le()},"data-visible":!!p.selectedItem||((D=p.inputValue)==null?void 0:D.length)>0,className:ye.clearButton({class:Be(K==null?void 0:K.clearButton,(B=ne.clearButtonProps)==null?void 0:B.className)})}},Ye=i==="native"&&p.displayValidation.isInvalid===!1&&p.realtimeValidation.isInvalid===!0;return{Component:He,inputRef:ce,label:H,state:p,slots:ye,classNames:K,isLoading:O,clearIcon:Q,isOpen:Pe,endContent:S,isClearable:z,disableAnimation:A,allowsCustomValue:j,selectorIcon:V,getBaseProps:qe,getInputProps:()=>({...ie,...we,...ne.inputProps,isInvalid:Ye?void 0:be,validationBehavior:i,errorMessage:typeof Y=="function"?Y({isInvalid:be,validationErrors:ee,validationDetails:X}):Y||(ee==null?void 0:ee.join(" ")),onClick:ht(ne.inputProps.onClick,ie.onClick)}),getListBoxProps:()=>{const D=c??p.collection.size>50;return{state:p,ref:ae,isVirtualized:D,virtualization:D?{maxListboxHeight:C,itemHeight:w}:void 0,scrollShadowProps:ne.scrollShadowProps,...ge(ne.listboxProps,Ae,{shouldHighlightOnFocus:!0})}},getPopoverProps:(D={})=>{var B,se,ve;const Ie=ge(ne.popoverProps,D);return{state:p,ref:ue,triggerRef:q,scrollRef:ae,triggerType:"listbox",...Ie,classNames:{...(B=ne.popoverProps)==null?void 0:B.classNames,content:ye.popoverContent({class:Be(K==null?void 0:K.popoverContent,(ve=(se=ne.popoverProps)==null?void 0:se.classNames)==null?void 0:ve.content,D.className)})},disableDialogFocus:!0}},getEmptyPopoverProps:()=>({ref:ue,className:"hidden"}),getClearButtonProps:Je,getSelectorButtonProps:Ze,getListBoxWrapperProps:(D={})=>{var B,se;return{...ge(ne.scrollShadowProps,D),className:ye.listboxWrapper({class:Be(K==null?void 0:K.listboxWrapper,(B=ne.scrollShadowProps)==null?void 0:B.className,D==null?void 0:D.className)}),style:{maxHeight:(se=e.maxListboxHeight)!=null?se:256}}},getEndContentWrapperProps:(D={})=>({className:ye.endContentWrapper({class:Be(K==null?void 0:K.endContentWrapper,D==null?void 0:D.className)}),onPointerDown:ht(D.onPointerDown,B=>{var se;B.button===0&&B.currentTarget===B.target&&((se=ce.current)==null||se.focus())}),onMouseDown:ht(D.onMouseDown,B=>{B.button===0&&B.currentTarget===B.target&&B.preventDefault()})})}}var ir=pa(function(t,a){var u;const{Component:l,isOpen:m,disableAnimation:x,selectorIcon:y=n.jsx(Za,{}),clearIcon:v=n.jsx(ga,{}),endContent:T,getBaseProps:A,getSelectorButtonProps:z,getInputProps:R,getListBoxProps:J,getPopoverProps:H,getEmptyPopoverProps:O,getClearButtonProps:M,getListBoxWrapperProps:_,getEndContentWrapperProps:te}=lr({...t,ref:a}),V=J(),Q=m?n.jsx(Wa,{...H(),children:n.jsx(Ha,{..._(),children:n.jsx(qa,{...V})})}):((u=V.state)==null?void 0:u.collection.size)===0?n.jsx("div",{...O()}):null;return n.jsxs(l,{...A(),children:[n.jsx(fe,{...R(),endContent:n.jsxs("div",{...te(),children:[T||n.jsx(pe,{...M(),children:v}),y&&n.jsx(pe,{...z(),children:y})]})}),x?Q:n.jsx(fa,{children:Q})]})}),ur=ir;function cr({title:e,titleId:t,...a},u){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:u,"aria-labelledby":t},a),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const vn=d.forwardRef(cr);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bn=Rt("eye-off",dr);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yn=Rt("eye",mr);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fr=Rt("lock",pr),Te=()=>"var(--borderRadius, 12px)",hr=({allUsers:e,roles:t,isMobile:a,isTablet:u,setUsers:l,pagination:m,onPageChange:x,onRowsPerPageChange:y,totalUsers:v=0,onEdit:T,loading:A=!1,updateUserOptimized:z,deleteUserOptimized:R,toggleUserStatusOptimized:J,updateUserRolesOptimized:H,toggleSingleDeviceLogin:O,resetUserDevice:M,deviceActions:_={}})=>{const[te,V]=d.useState({}),Q=(o,b="w-5 h-5")=>{const F=(o==null?void 0:o.toLowerCase())||"";return F.includes("mobile")||F.includes("android")||F.includes("iphone")?n.jsx(Ke,{className:`${b} text-primary`}):F.includes("tablet")||F.includes("ipad")?n.jsx(Rn,{className:`${b} text-secondary`}):n.jsx(Ln,{className:`${b} text-default-500`})},N=o=>{const b=(o==null?void 0:o.toLowerCase())||"";return b.includes("mobile")||b.includes("android")||b.includes("iphone")?"Mobile Device":b.includes("tablet")||b.includes("ipad")?"Tablet":"Desktop"},E=(o,b,F)=>{V(P=>({...P,[`${o}-${b}`]:F}))},S=(o,b)=>te[`${o}-${b}`]||!1;async function g(o,b){E(o,"role",!0);const F=new Promise(async(P,j)=>{var c;try{const C=await axios.post(route("user.updateRole",{id:o}),{roles:b});C.status===200&&(H&&H(o,b),P([C.data.message||"Role updated successfully"]))}catch(C){((c=C.response)==null?void 0:c.status)===422?j(C.response.data.errors||["Failed to update user role."]):j(["An unexpected error occurred. Please try again later."])}finally{E(o,"role",!1)}});return me.promise(F,{pending:"Updating employee role...",success:{render({data:P}){return P.join(", ")}},error:{render({data:P}){return Array.isArray(P)?P.join(", "):P}}}),F}const k=d.useMemo(()=>{const o=[{name:"#",uid:"sl"},{name:"USER",uid:"user"},{name:"EMAIL",uid:"email"},{name:"DEPARTMENT",uid:"department"},{name:"DEVICE STATUS",uid:"device_status"},{name:"STATUS",uid:"status"},{name:"ROLES",uid:"roles"},{name:"ACTIONS",uid:"actions"}];if(!a&&!u)o.splice(3,0,{name:"PHONE",uid:"phone"});else if(a)o.splice(o.findIndex(b=>b.uid==="department"),1),o.splice(o.findIndex(b=>b.uid==="device_status"),1);else if(u){const b=o.findIndex(F=>F.uid==="device_status");if(b>-1){const F=o.splice(b,1)[0];o.splice(2,0,F)}}return o},[a,u]),s=async(o,b)=>{if(!S(o,"status")){E(o,"status",!0);try{J?(J(o,!b),me.success(`User status ${b?"deactivated":"activated"} successfully`)):l&&(l(F=>F.map(P=>P.id===o?{...P,active:!b}:P)),me.success(`User status ${b?"deactivated":"activated"} successfully`))}catch(F){console.error("Error toggling user status:",F),me.error("Failed to update user status")}finally{E(o,"status",!1)}}},f=(o,b,F)=>{var j,c;const P=o[b];switch(b){case"sl":const i=(m!=null&&m.currentPage&&(m!=null&&m.perPage)?Number((m.currentPage-1)*m.perPage):0)+(typeof F=="number"?F:0)+1;return n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"flex items-center justify-center w-8 h-8 border shadow-sm",style:{background:"var(--theme-content2, #F4F4F5)",borderColor:"var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 8px)",color:"var(--theme-foreground, #000000)"},children:n.jsx("span",{className:"text-sm font-bold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i})})});case"user":return n.jsx(Vn,{className:"w-fit max-w-full",avatarProps:{radius:Te(),size:"sm",src:(o==null?void 0:o.profile_image_url)||(o==null?void 0:o.profile_image),showFallback:!0,name:(o==null?void 0:o.name)||"Unnamed User",isBordered:!0,style:{borderColor:"var(--theme-primary, #3B82F6)",borderWidth:"2px"}},name:n.jsx("span",{className:"text-sm font-semibold whitespace-nowrap text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:(o==null?void 0:o.name)||"Unnamed User"}),description:n.jsxs("span",{className:"text-xs text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["ID: ",o==null?void 0:o.id]})});case"email":return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 rounded-md",style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)"},children:n.jsx(_t,{className:"w-3.5 h-3.5"})}),n.jsx("span",{className:"text-sm font-medium text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:o.email})]});case"phone":return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 rounded-md",style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)"},children:n.jsx(jt,{className:"w-3.5 h-3.5"})}),n.jsx("span",{className:"text-sm font-medium text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:o.phone||"N/A"})]});case"department":return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 rounded-md",style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)"},children:n.jsx(Me,{className:"w-3.5 h-3.5"})}),n.jsx("span",{className:"text-sm font-medium text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((j=o==null?void 0:o.department)==null?void 0:j.name)||"N/A"})]});case"device_status":const G=S(o.id,"deviceToggle");return n.jsx("div",{className:"flex items-center space-x-2",children:o.single_device_login?n.jsxs(n.Fragment,{children:[n.jsx($e,{size:"sm",variant:"flat",color:o.active_device?"warning":"success",startContent:G?n.jsx("div",{className:"animate-spin",children:n.jsx(De,{className:"w-3 h-3"})}):o.active_device?n.jsx(rt,{className:"w-3 h-3"}):n.jsx(st,{className:"w-3 h-3"}),children:G?"Loading...":o.active_device?"Locked":"Free"}),o.active_device&&!G&&n.jsx(St,{content:n.jsxs("div",{className:"backdrop-blur-md border rounded-lg p-4 shadow-2xl max-w-sm",style:{background:"color-mix(in srgb, var(--theme-content1) 20%, transparent)",borderColor:"var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)"},children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[Q(o.active_device.user_agent,"w-5 h-5"),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-foreground text-sm",style:{fontFamily:'var(--fontFamily, "Inter")'},children:o.active_device.device_name||"Unknown Device"}),n.jsx("div",{className:"text-xs text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:N(o.active_device.user_agent)})]})]}),n.jsx("div",{className:"space-y-2 text-xs",children:n.jsx("div",{className:"pt-2 mt-2 border-t",style:{borderColor:"color-mix(in srgb, var(--theme-divider) 20%, transparent)"},children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(kn,{className:"w-3 h-3 text-success"}),n.jsx("span",{className:"text-success text-xs font-medium",style:{fontFamily:'var(--fontFamily, "Inter")'},children:o.active_device.is_active?"Currently Active":"Inactive"})]})})})]}),placement:"top",classNames:{content:"p-0 bg-transparent shadow-none border-none"},children:n.jsx("div",{className:"flex items-center p-1 rounded-sm hover:bg-content1/10 transition-colors cursor-default",children:Q(o.active_device.user_agent,"w-4 h-4")})})]}):n.jsx($e,{size:"sm",variant:"flat",color:"default",startContent:G?n.jsx("div",{className:"animate-spin",children:n.jsx(De,{className:"w-3 h-3"})}):n.jsx(Ue,{className:"w-3 h-3"}),children:G?"Loading...":"Disabled"})});case"status":return n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o.active,onChange:()=>s(o.id,o.active),disabled:S(o.id,"status")}),n.jsx("div",{className:"w-11 h-6 peer-focus:outline-hidden peer-focus:ring-4 peer-focus:ring-opacity-30 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all",style:{backgroundColor:o.active?"var(--theme-success, #10B981)":"var(--theme-danger, #EF4444)"}}),S(o.id,"status")&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx(tt,{size:"sm",color:"default"})})]}),n.jsx("span",{className:"text-xs font-medium",style:{color:o.active?"var(--theme-success, #10B981)":"var(--theme-danger, #EF4444)",fontFamily:'var(--fontFamily, "Inter")'},children:o.active?"Active":"Inactive"})]});case"roles":const K=((c=o.roles)==null?void 0:c.map(W=>typeof W=="object"&&W!==null?W.name:W))||[],Y=new Set(K),oe=Array.from(Y).join(", ")||"No Roles";return n.jsx("div",{className:"flex items-center",children:n.jsxs(Ft,{isDisabled:S(o.id,"role"),className:"max-w-[220px]",children:[n.jsx(wt,{children:n.jsx(pe,{className:"capitalize",variant:"solid",size:"sm",radius:Te(),startContent:S(o.id,"role")?n.jsx(tt,{size:"sm"}):null,style:{background:"var(--theme-primary, #3B82F6)",color:"white",fontFamily:'var(--fontFamily, "Inter")',borderRadius:Te()},children:oe})}),n.jsx(Nt,{disallowEmptySelection:!1,"aria-label":"Role selection",closeOnSelect:!1,selectedKeys:Y,selectionMode:"multiple",variant:"flat",onSelectionChange:W=>{const le=Array.from(W);g(o.id,le)},children:(t||[]).map(W=>n.jsx(Ce,{children:typeof W=="object"&&W!==null?W.name:W},typeof W=="object"&&W!==null?W.name:W))})]})});case"actions":return n.jsx("div",{className:"flex justify-center items-center",children:n.jsxs(Ft,{children:[n.jsx(wt,{children:n.jsx(pe,{isIconOnly:!0,size:"sm",variant:"solid",radius:Te(),style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)",fontFamily:'var(--fontFamily, "Inter")',borderRadius:Te()},className:"hover:opacity-80 transition-opacity",children:n.jsx(Et,{className:"w-4 h-4"})})}),n.jsxs(Nt,{style:{background:"var(--theme-content1, #FFFFFF)",border:"1px solid var(--theme-divider, #E5E7EB)",borderRadius:Te()},children:[n.jsx(Ce,{textValue:"View Profile",href:route("profile",{user:o.id}),as:an,className:"text-blue-500",startContent:n.jsx(at,{className:"w-4 h-4"}),children:"View Profile"}),n.jsx(Ce,{textValue:"Edit User",onPress:()=>{T&&T(o)},className:"text-amber-500",startContent:n.jsx(Dn,{className:"w-4 h-4"}),children:"Edit"}),n.jsx(Ce,{textValue:"Device Toggle",onPress:()=>{O&&!S(o.id,"deviceToggle")&&(E(o.id,"deviceToggle",!0),O(o.id,!o.single_device_login).finally(()=>{E(o.id,"deviceToggle",!1)}))},isDisabled:_[o.id]||S(o.id,"deviceToggle"),startContent:S(o.id,"deviceToggle")?n.jsx("div",{className:"animate-spin",children:n.jsx(De,{className:"w-4 h-4"})}):o.single_device_login?n.jsx(st,{className:"w-4 h-4"}):n.jsx(rt,{className:"w-4 h-4"}),className:o.single_device_login?"text-orange-500":"text-green-500",children:S(o.id,"deviceToggle")?"Processing...":o.single_device_login?"Disable Device Lock":"Enable Device Lock"}),o.single_device_login&&o.active_device&&n.jsx(Ce,{textValue:"Reset Device",onPress:()=>{M&&!S(o.id,"deviceReset")&&(E(o.id,"deviceReset",!0),M(o.id).finally(()=>{E(o.id,"deviceReset",!1)}))},isDisabled:_[o.id]||S(o.id,"deviceReset"),startContent:S(o.id,"deviceReset")?n.jsx("div",{className:"animate-spin",children:n.jsx(De,{className:"w-4 h-4"})}):n.jsx(De,{className:"w-4 h-4"}),className:"text-red-500",children:S(o.id,"deviceReset")?"Resetting...":"Reset Device"}),n.jsx(Ce,{textValue:"View Devices",href:route("admin.users.devices",{userId:o.id}),as:an,startContent:n.jsx(Ke,{className:"w-4 h-4"}),className:"text-blue-500",children:"View Device History"})]})]})});default:return P}},$=()=>!e||!v||A?null:n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-6 py-4 border-t",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:"var(--theme-content2, #F4F4F5)",borderRadius:"0 0 var(--borderRadius, 12px) var(--borderRadius, 12px)"},children:[n.jsxs("span",{className:"text-sm text-default-600 mb-3 sm:mb-0 font-medium",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["Showing"," ",n.jsx("span",{className:"font-semibold text-default-900",children:(m.currentPage-1)*m.perPage+1})," ","to"," ",n.jsx("span",{className:"font-semibold text-default-900",children:Math.min(m.currentPage*m.perPage,v)})," ","of"," ",n.jsx("span",{className:"font-semibold text-default-900",children:v})," ","users"]}),n.jsx(On,{total:Math.ceil(v/m.perPage),initialPage:m.currentPage,page:m.currentPage,onChange:x,size:a?"sm":"md",variant:"flat",showControls:!0,radius:Te(),style:{fontFamily:'var(--fontFamily, "Inter")'},classNames:{wrapper:"gap-1",item:"bg-default-100 hover:bg-default-200 text-default-700 font-medium border border-default-200",cursor:"bg-primary text-primary-foreground font-semibold shadow-md",prev:"bg-default-100 hover:bg-default-200 text-default-700 border border-default-200",next:"bg-default-100 hover:bg-default-200 text-default-700 border border-default-200"}})]});return n.jsxs("div",{className:"w-full flex flex-col border rounded-lg shadow-lg",style:{maxHeight:"calc(100vh - 240px)",borderColor:"var(--theme-divider, #E4E4E7)",background:"var(--theme-content1, #FFFFFF)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:[n.jsx("div",{className:"flex-1 overflow-auto",style:{scrollbarWidth:"thin",scrollbarColor:"var(--theme-divider, #E4E4E7) transparent"},children:n.jsxs(Ta,{removeWrapper:!0,selectionMode:"none",isCompact:a,classNames:{base:"min-w-[900px]",wrapper:"p-0 shadow-none",th:"text-default-600 border-b font-semibold text-xs sticky top-0 z-30",td:"border-b py-4 px-3",table:"border-collapse w-full",thead:"sticky top-0 z-30",tbody:"",tr:"hover:bg-default-50 transition-colors duration-150",emptyWrapper:"text-center h-32",loadingWrapper:"h-32"},style:{"--table-border-color":"var(--theme-divider, #E4E4E7)","--table-header-bg":"var(--theme-content2, #F4F4F5)","--table-row-hover":"var(--theme-default-50, #F9FAFB)"},children:[n.jsx(Da,{columns:k,children:o=>n.jsx(ka,{align:o.uid==="actions"||o.uid==="sl"?"center":"start",width:o.uid==="user"?280:o.uid==="email"?240:o.uid==="phone"?140:o.uid==="department"||o.uid==="device_status"?160:o.uid==="status"?120:o.uid==="roles"?180:o.uid==="actions"?120:void 0,style:{background:"var(--table-header-bg)",borderColor:"var(--table-border-color)",fontFamily:'var(--fontFamily, "Inter")',fontSize:"0.75rem",fontWeight:"600"},children:n.jsxs("div",{className:"flex items-center gap-2 py-1",children:[o.uid==="sl"&&n.jsx(Sa,{className:"w-3 h-3 text-default-400"}),o.uid==="user"&&n.jsx(at,{className:"w-3 h-3 text-default-400"}),o.uid==="email"&&n.jsx(_t,{className:"w-3 h-3 text-default-400"}),o.uid==="phone"&&n.jsx(jt,{className:"w-3 h-3 text-default-400"}),o.uid==="department"&&n.jsx(Me,{className:"w-3 h-3 text-default-400"}),o.uid==="device_status"&&n.jsx(Ke,{className:"w-3 h-3 text-default-400"}),o.uid==="status"&&n.jsx(Bn,{className:"w-3 h-3 text-default-400"}),o.uid==="roles"&&n.jsx(Ue,{className:"w-3 h-3 text-default-400"}),o.uid==="actions"&&n.jsx(Et,{className:"w-3 h-3 text-default-400"}),n.jsx("span",{children:o.name})]})},o.uid)}),n.jsx(Pa,{items:e||[],emptyContent:n.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[n.jsx(Aa,{className:"w-12 h-12 text-default-300 mb-3"}),n.jsx("p",{className:"text-default-500 font-medium",children:"No users found"}),n.jsx("p",{className:"text-default-400 text-sm",children:"Try adjusting your search or filters"})]}),loadingContent:n.jsx("div",{className:"flex justify-center items-center py-8",children:n.jsx(tt,{size:"lg",color:"primary"})}),isLoading:A,children:(o,b)=>{const F=e?e.findIndex(P=>P.id===o.id):b;return n.jsx(Ra,{className:"group",style:{background:"var(--theme-content1, #FFFFFF)"},children:P=>n.jsx(Ba,{style:{borderColor:"var(--table-border-color)",fontFamily:'var(--fontFamily, "Inter")',background:"inherit"},children:f(o,P,F)})},o.id)}})]})}),$()]})};let Ge=ke.create(),Io=(e,t)=>`${e.method}:${e.baseURL??t.defaults.baseURL??""}${e.url}`,To=e=>e.status===204&&e.headers["precognition-success"]==="true";const lt={},Ee={get:(e,t={},a={})=>ze(Ve("get",e,t,a)),post:(e,t={},a={})=>ze(Ve("post",e,t,a)),patch:(e,t={},a={})=>ze(Ve("patch",e,t,a)),put:(e,t={},a={})=>ze(Ve("put",e,t,a)),delete:(e,t={},a={})=>ze(Ve("delete",e,t,a)),use(e){return Ge=e,Ee},axios(){return Ge},fingerprintRequestsUsing(e){return Io=e===null?()=>null:e,Ee},determineSuccessUsing(e){return To=e,Ee}},Ve=(e,t,a,u)=>({url:t,method:e,...u,...["get","delete"].includes(e)?{params:Tt({},a,u==null?void 0:u.params)}:{data:Tt({},a,u==null?void 0:u.data)}}),ze=(e={})=>{const t=[xr,br,yr].reduce((a,u)=>u(a),e);return(t.onBefore??(()=>!0))()===!1?Promise.resolve(null):((t.onStart??(()=>null))(),Ge.request(t).then(async a=>{t.precognitive&&gn(a);const u=a.status;let l=a;return t.precognitive&&t.onPrecognitionSuccess&&To(l)&&(l=await Promise.resolve(t.onPrecognitionSuccess(l)??l)),t.onSuccess&&vr(u)&&(l=await Promise.resolve(t.onSuccess(l)??l)),($n(t,u)??(x=>x))(l)??l},a=>gr(a)?Promise.reject(a):(t.precognitive&&gn(a.response),($n(t,a.response.status)??((l,m)=>Promise.reject(m)))(a.response,a))).finally(t.onFinish??(()=>null)))},xr=e=>{const t=e.only??e.validate;return{...e,timeout:e.timeout??Ge.defaults.timeout??3e4,precognitive:e.precognitive!==!1,fingerprint:typeof e.fingerprint>"u"?Io(e,Ge):e.fingerprint,headers:{...e.headers,"Content-Type":$r(e),...e.precognitive!==!1?{Precognition:!0}:{},...t?{"Precognition-Validate-Only":Array.from(t).join()}:{}}}},vr=e=>e>=200&&e<300,br=e=>{var t;return typeof e.fingerprint!="string"||((t=lt[e.fingerprint])==null||t.abort(),delete lt[e.fingerprint]),e},yr=e=>typeof e.fingerprint!="string"||e.signal||e.cancelToken||!e.precognitive?e:(lt[e.fingerprint]=new AbortController,{...e,signal:lt[e.fingerprint].signal}),gn=e=>{var t;if(((t=e.headers)==null?void 0:t.precognition)!=="true")throw Error("Did not receive a Precognition response. Ensure you have the Precognition middleware in place for the route.")},gr=e=>{var t;return!Pn(e)||typeof((t=e.response)==null?void 0:t.status)!="number"||Tn(e)},$n=(e,t)=>({401:e.onUnauthorized,403:e.onForbidden,404:e.onNotFound,409:e.onConflict,422:e.onValidationError,423:e.onLocked})[t],$r=e=>{var t,a,u;return((t=e.headers)==null?void 0:t["Content-Type"])??((a=e.headers)==null?void 0:a["Content-type"])??((u=e.headers)==null?void 0:u["content-type"])??(Po(e.data)?"multipart/form-data":"application/json")},Po=e=>Bt(e)||typeof e=="object"&&e!==null&&Object.values(e).some(t=>Po(t)),Bt=e=>typeof File<"u"&&e instanceof File||e instanceof Blob||typeof FileList<"u"&&e instanceof FileList&&e.length>0,Cn=e=>typeof e=="string"?e:e(),jn=e=>typeof e=="string"?e.toLowerCase():e(),Cr=(e,t={})=>{const a={errorsChanged:[],touchedChanged:[],validatingChanged:[],validatedChanged:[]};let u=!1,l=!1;const m=f=>f!==l?(l=f,a.validatingChanged):[];let x=[];const y=f=>{const $=[...new Set(f)];return x.length!==$.length||!$.every(o=>x.includes(o))?(x=$,a.validatedChanged):[]},v=()=>x.filter(f=>typeof z[f]>"u");let T=[];const A=f=>{const $=[...new Set(f)];return T.length!==$.length||!$.every(o=>T.includes(o))?(T=$,a.touchedChanged):[]};let z={};const R=f=>{const $=Fr(f);return ha(z,$)?[]:(z=$,a.errorsChanged)},J=f=>{const $={...z};return delete $[nt(f)],R($)},H=()=>Object.keys(z).length>0;let O=1500;const M=f=>{O=f,E.cancel(),E=N()};let _=t,te=null,V=[],Q=null;const N=()=>Ws(f=>{e({get:($,o={},b={})=>Ee.get($,k(o),S(b,f,o)),post:($,o={},b={})=>Ee.post($,k(o),S(b,f,o)),patch:($,o={},b={})=>Ee.patch($,k(o),S(b,f,o)),put:($,o={},b={})=>Ee.put($,k(o),S(b,f,o)),delete:($,o={},b={})=>Ee.delete($,k(o),S(b,f,o))}).catch($=>{var o;return Tn($)||Pn($)&&((o=$.response)==null?void 0:o.status)===422?null:Promise.reject($)})},O,{leading:!0,trailing:!0});let E=N();const S=(f,$,o={})=>{const b={...f,...$},F=Array.from(b.only??b.validate??T);return{...$,...xa(f,$),only:F,timeout:b.timeout??5e3,onValidationError:(P,j)=>([...y([...x,...F]),...R(Tt(fn({...z},F),P.data.errors))].forEach(c=>c()),b.onValidationError?b.onValidationError(P,j):Promise.reject(j)),onSuccess:P=>(y([...x,...F]).forEach(j=>j()),b.onSuccess?b.onSuccess(P):P),onPrecognitionSuccess:P=>([...y([...x,...F]),...R(fn({...z},F))].forEach(j=>j()),b.onPrecognitionSuccess?b.onPrecognitionSuccess(P):P),onBefore:()=>b.onBeforeValidation&&b.onBeforeValidation({data:o,touched:T},{data:_,touched:V})===!1||(b.onBefore||(()=>!0))()===!1?!1:(Q=T,te=o,!0),onStart:()=>{m(!0).forEach(P=>P()),(b.onStart??(()=>null))()},onFinish:()=>{m(!1).forEach(P=>P()),V=Q,_=te,Q=te=null,(b.onFinish??(()=>null))()}}},g=(f,$,o)=>{if(typeof f>"u"){const b=Array.from((o==null?void 0:o.only)??(o==null?void 0:o.validate)??[]);A([...T,...b]).forEach(F=>F()),E(o??{});return}if(Bt($)&&!u){console.warn('Precognition file validation is not active. Call the "validateFiles" function on your form to enable it.');return}f=nt(f),ot(_,f)!==$&&(A([f,...T]).forEach(b=>b()),E(o??{}))},k=f=>u===!1?Pt(f):f,s={touched:()=>T,validate(f,$,o){return typeof f=="object"&&!("target"in f)&&(o=f,f=$=void 0),g(f,$,o),s},touch(f){const $=Array.isArray(f)?f:[nt(f)];return A([...T,...$]).forEach(o=>o()),s},validating:()=>l,valid:v,errors:()=>z,hasErrors:H,setErrors(f){return R(f).forEach($=>$()),s},forgetError(f){return J(f).forEach($=>$()),s},reset(...f){if(f.length===0)A([]).forEach($=>$());else{const $=[...T];f.forEach(o=>{$.includes(o)&&$.splice($.indexOf(o),1),Ct(_,o,ot(t,o))}),A($).forEach(o=>o())}return s},setTimeout(f){return M(f),s},on(f,$){return a[f].push($),s},validateFiles(){return u=!0,s}};return s},jr=e=>Object.keys(e).reduce((t,a)=>({...t,[a]:Array.isArray(e[a])?e[a][0]:e[a]}),{}),Fr=e=>Object.keys(e).reduce((t,a)=>({...t,[a]:typeof e[a]=="string"?[e[a]]:e[a]}),{}),nt=e=>typeof e!="string"?e.target.name:e,Pt=e=>{const t={...e};return Object.keys(t).forEach(a=>{const u=t[a];if(u!==null){if(Bt(u)){delete t[a];return}if(Array.isArray(u)){t[a]=Object.values(Pt({...u}));return}if(typeof u=="object"){t[a]=Pt(t[a]);return}}}),t},wr=(e,t,a,u={})=>{const l=d.useRef(null);l.current===null&&(l.current=Qe(a));const m=d.useRef(null);m.current===null&&(m.current=Object.keys(l));const x=d.useRef(l.current),[y,v]=d.useState([]),[T,A]=d.useState([]),[z,R]=d.useState(!1),[J,H]=d.useState(!1),[O,M]=d.useState({}),[_,te]=d.useState(!1),[V,Q]=d.useState(()=>Qe(l.current)),N=d.useRef(null);N.current===null&&(N.current=Cr(g=>g[jn(e)](Cn(t),x.current,u),a).on("validatingChanged",()=>{R(N.current.validating())}).on("validatedChanged",()=>{v(N.current.valid())}).on("touchedChanged",()=>{A(N.current.touched())}).on("errorsChanged",()=>{te(N.current.hasErrors()),M(jr(N.current.errors())),v(N.current.valid())}));const E=g=>({...g,precognitive:!1,onStart:()=>{H(!0),(g.onStart??(()=>null))()},onFinish:()=>{H(!1),(g.onFinish??(()=>null))()},onValidationError:(k,s)=>(N.current.setErrors(k.data.errors),g.onValidationError?g.onValidationError(k):Promise.reject(s))}),S={data:V,setData(g,k){if(typeof g=="object")x.current=g,Q(g);else{const s=Qe(x.current);x.current=Ct(s,g,k),Q(x.current)}return S},touched(g){return typeof g=="string"?T.includes(g):T.length>0},touch(g){return N.current.touch(g),S},validate(g,k){return typeof g=="object"&&!("target"in g)&&(k=g,g=void 0),typeof g>"u"?N.current.validate(k):(g=nt(g),N.current.validate(g,ot(x.current,g),k)),S},validating:z,valid(g){return y.includes(g)},invalid(g){return typeof O[g]<"u"},errors:O,hasErrors:_,setErrors(g){return N.current.setErrors(g),S},forgetError(g){return N.current.forgetError(g),S},reset(...g){const k=Qe(l.current);return g.length===0?(x.current=k,Q(k)):(g.forEach(s=>Ct(x.current,s,ot(k,s))),Q(x.current)),N.current.reset(...g),S},setValidationTimeout(g){return N.current.setTimeout(g),S},processing:J,async submit(g={}){return Ee[jn(e)](Cn(t),x.current,E(g))},validateFiles(){return N.current.validateFiles(),S},validator(){return N.current}};return S},Fn=({user:e,allUsers:t,departments:a,designations:u,roles:l,setUsers:m,open:x,closeModal:y,editMode:v=!1})=>{var P;const[T,A]=d.useState(!1),[z,R]=d.useState(!1),[J,H]=d.useState((e==null?void 0:e.profile_image_url)||(e==null?void 0:e.profile_image)||null),[O,M]=d.useState(null),[_,te]=d.useState(t),[V,Q]=d.useState("lg"),[N,E]=d.useState(u||[]),[S,g]=d.useState(t||[]),k=()=>{var w;if(typeof window>"u")return"lg";const c=((w=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:w.trim())||"12px",C=parseInt(c);return C===0?"none":C<=4?"sm":C<=8?"md":C<=16?"lg":"full"};d.useEffect(()=>{typeof window<"u"&&Q(k())},[]);const s=wr(v?"put":"post",v&&(e!=null&&e.id)?route("users.update",{user:e.id}):route("users.store"),{id:(e==null?void 0:e.id)||"",name:(e==null?void 0:e.name)||"",user_name:(e==null?void 0:e.user_name)||"",gender:(e==null?void 0:e.gender)||"",birthday:(e==null?void 0:e.birthday)||"",date_of_joining:(e==null?void 0:e.date_of_joining)||"",address:(e==null?void 0:e.address)||"",employee_id:(e==null?void 0:e.employee_id)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||"",department_id:(e==null?void 0:e.department_id)||"",designation_id:(e==null?void 0:e.designation_id)||"",report_to:(e==null?void 0:e.report_to)||"",password:"",password_confirmation:"",roles:((P=e==null?void 0:e.roles)==null?void 0:P.map(j=>typeof j=="object"?j.name:j))||[],single_device_login_enabled:(e==null?void 0:e.single_device_login_enabled)||(e==null?void 0:e.single_device_login)||!1,profile_image:null});d.useEffect(()=>{if(s.data.department_id){const j=(u==null?void 0:u.filter(c=>String(c.department_id)===String(s.data.department_id)))||[];E(j),s.data.designation_id&&(j.some(C=>String(C.id)===String(s.data.designation_id))||o("designation_id",""))}else E(u||[])},[s.data.department_id,u]),d.useEffect(()=>{if(s.data.department_id&&s.data.designation_id){const j=u==null?void 0:u.find(C=>String(C.id)===String(s.data.designation_id));if(!j){g([]),o("report_to","");return}if(j.hierarchy_level===1){g([]),o("report_to","");return}const c=(t==null?void 0:t.filter(C=>{var oe;const w=C.department_id||((oe=C.department)==null?void 0:oe.id),i=String(w)===String(s.data.department_id),G=u==null?void 0:u.find(W=>String(W.id)===String(C.designation_id)),K=G&&G.hierarchy_level<j.hierarchy_level,Y=!v||!s.data.id||C.id!==s.data.id;return i&&K&&Y}))||[];console.log("Selected designation:",j.title,"Level:",j.hierarchy_level),console.log("Filtered supervisors (higher hierarchy):",c.length,c),g(c),s.data.report_to&&(c.some(w=>String(w.id)===String(s.data.report_to))||o("report_to",""))}else if(s.data.department_id){const j=(t==null?void 0:t.filter(c=>{var G;const C=c.department_id||((G=c.department)==null?void 0:G.id),w=String(C)===String(s.data.department_id),i=!v||!s.data.id||c.id!==s.data.id;return w&&i}))||[];g(j)}else{const j=(t==null?void 0:t.filter(c=>!v||!s.data.id||c.id!==s.data.id))||[];g(j)}},[s.data.department_id,s.data.designation_id,t,s.data.id,v,u]),d.useEffect(()=>{(e!=null&&e.profile_image_url||e!=null&&e.profile_image)&&H(e.profile_image_url||e.profile_image)},[e]);const f=async()=>{if(O){const c=O.type;if(!["image/jpeg","image/jpg","image/png"].includes(c)){me.error("Invalid file type. Only JPEG and PNG are allowed.",{icon:"🔴"});return}s.setData("profile_image",O)}const j=new Promise(async(c,C)=>{try{await s.submit({preserveScroll:!0,transform:w=>({...w,single_device_login_enabled:w.single_device_login_enabled?1:0}),onSuccess:w=>{m&&m(v?i=>i.map(G=>G.id===w.data.user.id?w.data.user:G):i=>[...i,w.data.user]),y(),c([w.data.message||`User ${v?"updated":"created"} successfully`])},onError:w=>{const i=Object.values(w).flat();i.length>0?C(i.join(", ")):C(`Failed to ${v?"update":"create"} user. Please check the form for errors.`)}})}catch(w){if(console.error("Form submission error:",w),w.response)if(w.response.status===422){const i=w.response.data.errors||{},G=Object.values(i).flat();C(G.length>0?G.join(", "):"Validation failed. Please check the form.")}else w.response.status===500?C(w.response.data.message||"Server error occurred. Please try again later."):C(`HTTP Error ${w.response.status}: ${w.response.data.message||"An unexpected error occurred."}`);else w.request?C("No response received from the server. Please check your internet connection."):C("An error occurred while setting up the request.")}});me.promise(j,{pending:`${v?"Updating":"Creating"} user...`,success:{render({data:c}){return c.join(", ")}},error:{render({data:c}){return c}}})},$=j=>{const c=j.target.files[0];if(c){const C=URL.createObjectURL(c);H(C),M(c)}},o=(j,c)=>{s.setData(j,c),s.touched(j)&&s.validate(j)},b=()=>{A(!T)},F=()=>{var j,c,C,w,i;if(v)return s.isDirty&&!s.processing;{const G=((j=s.data.name)==null?void 0:j.trim())&&((c=s.data.user_name)==null?void 0:c.trim())&&((C=s.data.email)==null?void 0:C.trim())&&((w=s.data.password)==null?void 0:w.trim())&&((i=s.data.password_confirmation)==null?void 0:i.trim()),K=s.data.password===s.data.password_confirmation;return G&&K&&!s.processing}};return n.jsx($a,{isOpen:x,onClose:y,size:"3xl",radius:V,scrollBehavior:"inside",classNames:{base:"backdrop-blur-md max-h-[95vh] my-2",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider flex-shrink-0",body:"overflow-y-auto max-h-[calc(95vh-160px)]",footer:"border-t border-divider flex-shrink-0",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:n.jsx(Ca,{children:j=>n.jsxs(n.Fragment,{children:[n.jsx(ja,{className:"flex flex-col gap-1 py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(La,{className:"w-5 h-5 sm:w-6 sm:h-6",style:{color:"var(--theme-primary)"}}),n.jsxs("div",{children:[n.jsx("span",{className:"text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:v?"Edit User":"Add New User"}),n.jsx("p",{className:"text-sm text-default-500 mt-0.5",style:{fontFamily:'var(--fontFamily, "Inter")'},children:v?"Update user information":"Create a new user account"})]})]})}),n.jsx(Fa,{className:"py-4 px-4 sm:py-6 sm:px-6 overflow-y-auto",style:{fontFamily:'var(--fontFamily, "Inter")'},children:n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsxs("div",{className:"relative group cursor-pointer",onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),children:[n.jsx(rn,{src:J,alt:"Profile",className:"w-32 h-32 text-large transition-all duration-300",style:{border:"4px solid var(--theme-divider, #E4E4E7)",filter:z?"brightness(70%)":"brightness(100%)"}}),n.jsxs("label",{htmlFor:"icon-button-file",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-opacity duration-300",style:{opacity:z?1:0},children:[n.jsx("input",{accept:"image/*",id:"icon-button-file",type:"file",className:"hidden",onChange:$}),n.jsx(Oa,{className:"w-8 h-8 text-white"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(fe,{label:"Full Name",placeholder:"Enter full name",value:s.data.name,onChange:c=>o("name",c.target.value),onBlur:()=>s.validate("name"),isInvalid:s.invalid("name"),errorMessage:s.errors.name,isRequired:!0,variant:"bordered",size:"sm",radius:V,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx(fe,{label:"Username",placeholder:"Enter username",value:s.data.user_name,onChange:c=>o("user_name",c.target.value),onBlur:()=>s.validate("user_name"),isInvalid:s.invalid("user_name"),errorMessage:s.errors.user_name,isRequired:!0,variant:"bordered",size:"sm",radius:V,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx(fe,{label:"Email",type:"email",placeholder:"Enter email address",value:s.data.email,onChange:c=>o("email",c.target.value),onBlur:()=>s.validate("email"),isInvalid:s.invalid("email"),errorMessage:s.errors.email,isRequired:!0,variant:"bordered",size:"sm",radius:V,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx(fe,{label:"Phone",placeholder:"Enter phone number",value:s.data.phone,onChange:c=>o("phone",c.target.value),onBlur:()=>s.validate("phone"),isInvalid:s.invalid("phone"),errorMessage:s.errors.phone,variant:"bordered",size:"sm",radius:V,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx(Le,{label:"Department",placeholder:"Select department",selectedKeys:s.data.department_id?new Set([String(s.data.department_id)]):new Set,onSelectionChange:c=>{const C=Array.from(c)[0];o("department_id",C||"")},onClose:()=>s.validate("department_id"),isInvalid:s.invalid("department_id"),errorMessage:s.errors.department_id,variant:"bordered",size:"sm",radius:V,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:a==null?void 0:a.map(c=>n.jsx(he,{value:c.id,children:c.name},c.id))}),n.jsx(Le,{label:"Designation",placeholder:"Select designation",selectedKeys:s.data.designation_id?new Set([String(s.data.designation_id)]):new Set,onSelectionChange:c=>{const C=Array.from(c)[0];o("designation_id",C||"")},onClose:()=>s.validate("designation_id"),isInvalid:s.invalid("designation_id"),errorMessage:s.errors.designation_id,isDisabled:!s.data.department_id||N.length===0,variant:"bordered",size:"sm",radius:V,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:N==null?void 0:N.map(c=>n.jsx(he,{value:c.id,children:c.title||c.name},c.id))}),n.jsxs(Le,{label:"Gender",placeholder:"Select gender",selectedKeys:s.data.gender?new Set([s.data.gender]):new Set,onSelectionChange:c=>{const C=Array.from(c)[0];o("gender",C||"")},onClose:()=>s.validate("gender"),isInvalid:s.invalid("gender"),errorMessage:s.errors.gender,variant:"bordered",size:"sm",radius:V,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:[n.jsx(he,{value:"male",children:"Male"},"male"),n.jsx(he,{value:"female",children:"Female"},"female"),n.jsx(he,{value:"other",children:"Other"},"other")]}),n.jsx(fe,{label:"Employee ID",placeholder:"Enter employee ID",value:s.data.employee_id,onChange:c=>o("employee_id",c.target.value),onBlur:()=>s.validate("employee_id"),isInvalid:s.invalid("employee_id"),errorMessage:s.errors.employee_id,variant:"bordered",size:"sm",radius:V,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx(fe,{label:"Date of Birth",type:"date",value:s.data.birthday,onChange:c=>o("birthday",c.target.value),onBlur:()=>s.validate("birthday"),isInvalid:s.invalid("birthday"),errorMessage:s.errors.birthday,variant:"bordered",size:"sm",radius:V,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx(fe,{label:"Date of Joining",type:"date",value:s.data.date_of_joining,onChange:c=>o("date_of_joining",c.target.value),onBlur:()=>s.validate("date_of_joining"),isInvalid:s.invalid("date_of_joining"),errorMessage:s.errors.date_of_joining,variant:"bordered",size:"sm",radius:V,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(ur,{label:"Reports To",placeholder:s.data.department_id?s.data.designation_id?S.length===0?"No supervisor needed (Top-level position)":"Search for a supervisor...":"Select designation first":"Select department first",selectedKey:s.data.report_to?String(s.data.report_to):null,onSelectionChange:c=>{o("report_to",c||"")},isInvalid:s.invalid("report_to"),errorMessage:s.errors.report_to,isDisabled:!s.data.department_id||!s.data.designation_id||S.length===0,variant:"bordered",size:"sm",radius:V,classNames:{base:"w-full"},style:{fontFamily:'var(--fontFamily, "Inter")'},allowsCustomValue:!1,items:S||[],children:c=>n.jsx(he,{textValue:c.name,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rn,{src:c.profile_image_url||c.profile_image,name:c.name,size:"sm",className:"flex-shrink-0"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-small font-medium",children:c.name}),c.email&&n.jsx("span",{className:"text-tiny text-default-400",children:c.email})]})]})},c.id)}),s.data.designation_id&&S.length===0&&n.jsx("p",{className:"text-xs text-default-400 px-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"This designation is at the top of the hierarchy and doesn't require a supervisor."})]})]}),n.jsx(fe,{label:"Address",placeholder:"Enter address",value:s.data.address,onChange:c=>o("address",c.target.value),onBlur:()=>s.validate("address"),isInvalid:s.invalid("address"),errorMessage:s.errors.address,variant:"bordered",size:"sm",radius:V,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx("div",{className:"col-span-full",children:n.jsx(Le,{label:"Roles",placeholder:"Select user roles",selectionMode:"multiple",selectedKeys:new Set(s.data.roles),onSelectionChange:c=>{const C=Array.from(c);o("roles",C)},onClose:()=>s.validate("roles"),isInvalid:s.invalid("roles"),errorMessage:s.errors.roles,variant:"bordered",size:"sm",radius:V,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},renderValue:c=>n.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(C=>n.jsx($e,{size:"sm",color:"secondary",variant:"flat",children:C.textValue},C.key))}),children:l==null?void 0:l.map(c=>{const C=typeof c=="object"?c.name:c;return n.jsx(he,{value:C,textValue:C,children:C},C)})})}),n.jsx("div",{className:"col-span-full",children:n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)"},children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"w-4 h-4",style:{color:"var(--theme-primary)"}}),n.jsx("span",{className:"text-sm font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Single Device Login"})]}),n.jsx("p",{className:"text-xs text-default-500 mt-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Restrict user to login from only one device at a time"})]}),n.jsx(zn,{isSelected:s.data.single_device_login_enabled,onValueChange:c=>o("single_device_login_enabled",c),color:s.data.single_device_login_enabled?"warning":"default",size:"sm"})]})}),!v&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(fe,{label:"Password",type:T?"text":"password",placeholder:"Enter password",value:s.data.password,onChange:c=>o("password",c.target.value),onBlur:()=>s.validate("password"),isInvalid:s.invalid("password"),errorMessage:s.errors.password,isRequired:!v,variant:"bordered",size:"sm",radius:V,endContent:n.jsx("button",{className:"focus:outline-none",type:"button",onClick:b,children:T?n.jsx(bn,{className:"w-4 h-4 text-default-400"}):n.jsx(yn,{className:"w-4 h-4 text-default-400"})}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx(fe,{label:"Confirm Password",type:T?"text":"password",placeholder:"Confirm password",value:s.data.password_confirmation,onChange:c=>o("password_confirmation",c.target.value),onBlur:()=>s.validate("password_confirmation"),isInvalid:s.invalid("password_confirmation")||s.data.password!==s.data.password_confirmation&&s.data.password_confirmation,errorMessage:s.errors.password_confirmation||(s.data.password!==s.data.password_confirmation&&s.data.password_confirmation?"Passwords do not match":""),isRequired:!v,variant:"bordered",size:"sm",radius:V,endContent:n.jsx("button",{className:"focus:outline-none",type:"button",onClick:b,children:T?n.jsx(bn,{className:"w-4 h-4 text-default-400"}):n.jsx(yn,{className:"w-4 h-4 text-default-400"})}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})]})]})}),n.jsxs(os,{className:"flex justify-between px-4 sm:px-6 py-3 sm:py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[n.jsx(pe,{variant:"light",onPress:y,isDisabled:s.processing,radius:V,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),n.jsx(pe,{variant:"solid",color:"primary",onPress:f,isLoading:s.processing,isDisabled:!F(),radius:V,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:v?"Update User":"Add User"})]})]})})})},Nr=({title:e,roles:t,departments:a,designations:u})=>{var X,ee,be,ne,We,Pe,He,ye,qe,Ze,Je,Ye,it,ut,ct,dt,mt,pt,D,B,se,ve,Ie,Dt,kt,Lt,Ot,Vt,zt,Mt,Kt,Ut,Gt,Wt;const[l,m]=d.useState(!1),[x,y]=d.useState(!1),[v,T]=d.useState(!1),[A,z]=d.useState(!1),[R,J]=d.useState("lg"),H=()=>{var Z;if(typeof window>"u")return"lg";const h=((Z=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:Z.trim())||"12px",I=parseInt(h);return I===0?"none":I<=4?"sm":I<=8?"md":I<=12?"lg":"xl"};d.useEffect(()=>{typeof window<"u"&&J(H())},[]),d.useEffect(()=>{const r=()=>{m(window.innerWidth<640),y(window.innerWidth<768),T(window.innerWidth>=1025),z(window.innerWidth>=641&&window.innerWidth<=1024)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);const[O,M]=d.useState([]),[_,te]=d.useState(!0),[V,Q]=d.useState(null),[N,E]=d.useState(0),[S,g]=d.useState(1),[k,s]=d.useState(null),[f,$]=d.useState({search:"",role:"all",status:"all",department:"all"}),[o,b]=d.useState(!1),[F,P]=d.useState("table"),[j,c]=d.useState({currentPage:1,perPage:10,total:O.length}),[C,w]=d.useState({}),[i,G]=d.useState({overview:{total_users:0,active_users:0,inactive_users:0,deleted_users:0,total_roles:0,total_departments:0},distribution:{by_role:[],by_department:[],by_status:[]},activity:{recent_registrations:{new_users_30_days:0,new_users_90_days:0,new_users_year:0,recently_active:0},user_growth_rate:0,current_month_registrations:0},security:{access_metrics:{users_with_roles:0,users_without_roles:0,admin_users:0,regular_users:0},role_distribution:[]},health:{status_ratio:{active_percentage:0,inactive_percentage:0,deleted_percentage:0},system_metrics:{user_activation_rate:0,role_coverage:0,department_coverage:0}},quick_metrics:{total_users:0,active_ratio:0,role_diversity:0,department_diversity:0,recent_activity:0,system_health_score:0}}),K=d.useMemo(()=>({data:O,total:N,current_page:j.currentPage,per_page:j.perPage,last_page:S}),[O,N,j.currentPage,j.perPage,S]),Y=d.useCallback(async()=>{try{const{data:r}=await ke.get(route("users.stats"));r.stats&&G(r.stats)}catch(r){console.error("Error fetching user stats:",r)}},[]),oe=d.useCallback(async()=>{te(!0);try{const r=await ke.get(route("users.paginate"),{params:{page:j.currentPage,perPage:j.perPage,search:f.search||void 0,role:f.role!=="all"?f.role:void 0,status:f.status!=="all"?f.status:void 0,department:f.department!=="all"?f.department:void 0}});if(r.status===200){const{users:h}=r.data;h.data&&Array.isArray(h.data)?(M(h.data),h.meta?(E(h.meta.total||0),g(h.meta.last_page||1)):(E(h.total||h.data.length),g(h.last_page||1))):Array.isArray(h)?(M(h),E(h.length),g(1)):(console.error("Unexpected users data format:",h),M([]),E(0),g(1))}}catch(r){console.error("Error fetching users:",r),me.error("Failed to load users data"),M([])}finally{te(!1)}},[f,j.currentPage,j.perPage]);d.useEffect(()=>{oe()},[oe]),d.useEffect(()=>{Y();const r=setInterval(Y,6e4);return()=>clearInterval(r)},[Y]);const W=(r,h)=>{$(I=>({...I,[r]:h})),c(I=>({...I,currentPage:1}))},le=r=>{c(h=>({...h,currentPage:r})),window.scrollTo({top:0,behavior:"smooth"})},je=r=>{c(h=>({...h,currentPage:1,perPage:r}))},ie=d.useCallback((r,h=null)=>{s(r),Q(h)},[]),Fe=d.useCallback(()=>{s(null),Q(null)},[]),p=d.useCallback(r=>{M(r)},[]),L=d.useCallback(r=>{M(h=>h.map(I=>I.id===r.id?{...I,...r}:I))},[]),q=d.useCallback(r=>{M(h=>h.filter(I=>I.id!==r)),Y()},[Y]),ae=d.useCallback((r,h)=>{M(I=>I.map(Z=>Z.id===r?{...Z,active:h}:Z)),Y()},[Y]),ue=d.useCallback((r,h)=>{M(I=>I.map(Z=>Z.id===r?{...Z,roles:h}:Z)),Y()},[Y]),ce=d.useCallback(async(r,h)=>{var I,Z;w(re=>({...re,[r]:!0}));try{const re=await ke.post(route("admin.users.devices.toggle",{userId:r}));re.data.success&&(M(Xe=>Xe.map(Re=>Re.id===r?{...Re,single_device_login_enabled:re.data.single_device_login_enabled}:Re)),me.success(re.data.message))}catch(re){console.error("Error toggling single device login:",re),me.error(((Z=(I=re.response)==null?void 0:I.data)==null?void 0:Z.message)||"Failed to toggle single device login")}finally{w(re=>({...re,[r]:!1}))}},[]),xe=d.useCallback(async r=>{w(h=>({...h,[r]:!0}));try{const h=await ke.post(route("admin.users.devices.reset",{userId:r}),{reason:"Admin reset via user management"});h.data.success&&(M(I=>I.map(Z=>Z.id===r?{...Z,active_device:null}:Z)),me.success(h.data.message||"User devices have been reset"))}catch(h){console.error("Error resetting user devices:",h),me.error("Failed to reset user devices")}finally{w(h=>({...h,[r]:!1}))}},[]);d.useCallback(async r=>{try{const h=await ke.get(route("admin.users.devices",{userId:r}));if(h.data.success){const I=h.data.devices;if(I.length===0)me.info("User has no registered devices");else{const Z=I.filter(re=>re.is_active).length;me.info(`User has ${I.length} device(s): ${Z} active, ${I.length-Z} inactive`)}}}catch(h){console.error("Error fetching user devices:",h),me.error("Failed to fetch device information")}},[]);const Se=(r,h="w-4 h-4")=>{const I=(r==null?void 0:r.toLowerCase())||"";return I.includes("mobile")||I.includes("android")||I.includes("iphone")?n.jsx(Ke,{className:`${h} text-primary`}):I.includes("tablet")||I.includes("ipad")?n.jsx(Rn,{className:`${h} text-secondary`}):n.jsx(Ln,{className:`${h} text-default-500`})},we=r=>{const h=(r==null?void 0:r.toLowerCase())||"";return h.includes("mobile")||h.includes("android")||h.includes("iphone")?"Mobile":h.includes("tablet")||h.includes("ipad")?"Tablet":"Desktop"},Ae=({user:r,index:h})=>n.jsx(Ne,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-200 h-full min-h-[320px]",style:{background:`linear-gradient(135deg, 
          color-mix(in srgb, var(--theme-content1) 90%, transparent) 20%, 
          color-mix(in srgb, var(--theme-content2) 80%, transparent) 80%)`,borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(_e,{className:"p-3 flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-start gap-2 mb-3 pb-2 border-b border-white/10",children:[n.jsx(Vn,{avatarProps:{radius:"md",src:(r==null?void 0:r.profile_image_url)||(r==null?void 0:r.profile_image),size:"sm",fallback:n.jsx(at,{className:"w-4 h-4"}),style:{borderColor:"var(--theme-primary)",borderWidth:"2px"}},name:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-semibold text-foreground text-sm line-clamp-1",children:r.name}),n.jsxs("span",{className:"text-default-500 text-xs line-clamp-1",children:["ID: ",r.id]})]}),classNames:{wrapper:"flex-1 min-w-0",name:"text-sm font-semibold",description:"text-xs text-default-500"}}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(St,{content:"Edit User",size:"sm",children:n.jsx(pe,{isIconOnly:!0,size:"sm",variant:"light",className:"text-default-400 hover:text-primary min-w-6 w-6 h-6",onPress:()=>ie("edit",r),children:n.jsx(Dn,{className:"w-3 h-3"})})}),n.jsxs(Ft,{placement:"bottom-end",children:[n.jsx(wt,{children:n.jsx(pe,{isIconOnly:!0,size:"sm",variant:"ghost",radius:R,isDisabled:C[r.id],className:"min-w-6 w-6 h-6",style:{background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)"},children:n.jsx(Et,{className:"w-3 h-3"})})}),n.jsxs(Nt,{"aria-label":"Device management actions",variant:"bordered",className:"min-w-[180px]",style:{background:"color-mix(in srgb, var(--theme-content1) 95%, transparent)",backdropFilter:"blur(16px)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:[n.jsx(Ce,{startContent:r.single_device_login?n.jsx(st,{className:"w-3 h-3"}):n.jsx(rt,{className:"w-3 h-3"}),onPress:()=>ce(r.id,!r.single_device_login),isDisabled:C[r.id],className:"text-xs",children:r.single_device_login?"Disable Lock":"Enable Lock"},"toggle-device-lock"),r.single_device_login&&r.active_device&&n.jsx(Ce,{startContent:n.jsx(De,{className:"w-3 h-3"}),onPress:()=>xe(r.id),isDisabled:C[r.id],className:"text-xs",children:"Reset Device"},"reset-device"),n.jsx(Ce,{startContent:n.jsx(Ke,{className:"w-3 h-3"}),onPress:()=>sn.visit(route("admin.users.devices",{userId:r.id})),className:"text-xs",children:"Device History"},"view-devices"),n.jsx(Ce,{startContent:n.jsx(at,{className:"w-3 h-3"}),onPress:()=>sn.visit(route("profile",{user:r.id})),className:"text-xs",children:"View Profile"},"view-profile")]})]})]})]}),n.jsxs("div",{className:"space-y-2 mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx(_t,{className:"w-3 h-3 text-default-400 shrink-0"}),n.jsx("span",{className:"text-default-600 line-clamp-1 flex-1",children:r.email})]}),r.phone&&n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx(jt,{className:"w-3 h-3 text-default-400 shrink-0"}),n.jsx("span",{className:"text-default-600 line-clamp-1",children:r.phone})]}),(r.department||r.department_id)&&n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx(Me,{className:"w-3 h-3 text-default-400 shrink-0"}),n.jsx("span",{className:"text-default-600 line-clamp-1",children:typeof r.department=="string"?r.department:"N/A"})]})]}),n.jsxs("div",{className:"mb-3 p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-content2) 40%, transparent)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-xs font-medium text-default-700",children:"Device Status"}),r.single_device_login&&r.active_device&&n.jsx(St,{content:n.jsxs("div",{className:"p-2 max-w-xs",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Se(r.active_device.user_agent,"w-4 h-4"),n.jsx("span",{className:"font-medium text-xs",children:r.active_device.device_name||"Unknown Device"})]}),n.jsxs("div",{className:"text-xs text-default-500",children:[we(r.active_device.user_agent)," •",r.active_device.is_active?" Active":" Inactive"]})]}),size:"sm",children:n.jsx("div",{className:"cursor-help",children:Se(r.active_device.user_agent,"w-4 h-4")})})]}),n.jsx($e,{size:"sm",variant:"flat",color:r.single_device_login?r.active_device?"warning":"success":"default",startContent:r.single_device_login?r.active_device?n.jsx(rt,{className:"w-3 h-3"}):n.jsx(st,{className:"w-3 h-3"}):n.jsx(Ue,{className:"w-3 h-3"}),className:"text-xs",children:r.single_device_login?r.active_device?"Locked":"Free":"Disabled"})]}),n.jsxs("div",{className:"mt-auto space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs font-medium text-default-700",children:"Status"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zn,{size:"sm",isSelected:r.active,onValueChange:I=>ae(r.id,I),color:r.active?"success":"danger",classNames:{wrapper:"group-data-[selected=true]:bg-success",thumb:"group-data-[selected=true]:ml-4"}}),n.jsx("span",{className:`text-xs font-medium ${r.active?"text-success":"text-danger"}`,children:r.active?"Active":"Inactive"})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium text-default-700 mb-1 block",children:"Roles"}),n.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.roles&&r.roles.length>0?r.roles.slice(0,3).map((I,Z)=>{const re=typeof I=="object"&&I!==null?I.name:I;return n.jsx($e,{size:"sm",variant:"flat",color:"secondary",className:"text-xs h-5",children:re},Z)}):n.jsx($e,{size:"sm",variant:"bordered",color:"default",className:"text-xs h-5",children:"No Roles"}),r.roles&&r.roles.length>3&&n.jsxs($e,{size:"sm",variant:"bordered",color:"primary",className:"text-xs h-5",children:["+",r.roles.length-3]})]})]})]})]})}),U=d.useMemo(()=>{var r,h,I,Z,re,Xe,Re,Ht,qt,Zt,Jt,Yt,Xt,Qt;return[{title:"Total Users",value:((r=i==null?void 0:i.overview)==null?void 0:r.total_users)||0,icon:n.jsx(et,{className:"w-5 h-5"}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"All users"},{title:"Active Users",value:((h=i==null?void 0:i.overview)==null?void 0:h.active_users)||0,icon:n.jsx(Bn,{className:"w-5 h-5"}),color:"text-green-400",iconBg:"bg-green-500/20",description:`${((Z=(I=i==null?void 0:i.health)==null?void 0:I.status_ratio)==null?void 0:Z.active_percentage)||0}% Active`},{title:"Inactive Users",value:((re=i==null?void 0:i.overview)==null?void 0:re.inactive_users)||0,icon:n.jsx(as,{className:"w-5 h-5"}),color:"text-red-400",iconBg:"bg-red-500/20",description:`${((Re=(Xe=i==null?void 0:i.health)==null?void 0:Xe.status_ratio)==null?void 0:Re.inactive_percentage)||0}% Inactive`},{title:"Total Roles",value:((Ht=i==null?void 0:i.overview)==null?void 0:Ht.total_roles)||0,icon:n.jsx(Ue,{className:"w-5 h-5"}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Role diversity"},{title:"Role Coverage",value:`${((Zt=(qt=i==null?void 0:i.health)==null?void 0:qt.system_metrics)==null?void 0:Zt.role_coverage)||0}%`,icon:n.jsx(ss,{className:"w-5 h-5"}),color:"text-emerald-400",iconBg:"bg-emerald-500/20",description:"Users with roles"},{title:"Recent Activity",value:((Yt=(Jt=i==null?void 0:i.activity)==null?void 0:Jt.recent_registrations)==null?void 0:Yt.recently_active)||0,icon:n.jsx(kn,{className:"w-5 h-5"}),color:"text-cyan-400",iconBg:"bg-cyan-500/20",description:"Active last 7 days"},{title:"System Health",value:`${((Xt=i==null?void 0:i.quick_metrics)==null?void 0:Xt.system_health_score)||0}%`,icon:n.jsx(vn,{className:"w-5 h-5"}),color:"text-pink-400",iconBg:"bg-pink-500/20",description:"Overall health"},{title:"Departments",value:((Qt=i==null?void 0:i.overview)==null?void 0:Qt.total_departments)||0,icon:n.jsx(Me,{className:"w-5 h-5"}),color:"text-indigo-400",iconBg:"bg-indigo-500/20",description:"Department diversity"}]},[i]);return d.useMemo(()=>{const r=[];return r.push({label:l?"Add":"Add User",icon:n.jsx(bt,{className:"w-4 h-4"}),onPress:()=>ie("add"),className:"bg-linear-to-r from-(--theme-primary) to-(--theme-secondary) text-white font-medium hover:opacity-90"}),r.push({label:l?"":"Export",isIconOnly:l,icon:n.jsx(un,{className:"w-4 h-4"}),variant:"bordered",className:"border-[rgba(var(--theme-primary-rgb),0.3)] bg-[rgba(var(--theme-primary-rgb),0.05)] hover:bg-[rgba(var(--theme-primary-rgb),0.1)]"}),r},[l,ie]),n.jsxs(n.Fragment,{children:[n.jsx(va,{title:e||"Users Management"}),k==="add"&&n.jsx(Fn,{user:null,allUsers:O,departments:a,designations:u,roles:t,open:k==="add",setUsers:p,closeModal:Fe,editMode:!1}),k==="edit"&&V&&n.jsx(Fn,{user:V,allUsers:O,departments:a,designations:u,roles:t,open:k==="edit",setUsers:p,closeModal:Fe,editMode:!0}),n.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Users Management",children:n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"w-full",children:n.jsx(rs.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:n.jsxs(Ne,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                    var(--theme-content1, #FAFAFA) 20%, 
                    var(--theme-content2, #F4F4F5) 10%, 
                    var(--theme-content3, #F1F3F4) 20%)`},children:[n.jsx(ds,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                      color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                      color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:n.jsx("div",{className:`${v?"p-6":A?"p-4":"p-3"} w-full`,children:n.jsx("div",{className:"flex flex-col space-y-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[_?n.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[n.jsx(de,{className:"w-12 h-12 rounded-xl"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx(de,{className:"w-64 h-6 rounded mb-2"}),n.jsx(de,{className:"w-48 h-4 rounded"})]})]}):n.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[n.jsx("div",{className:`
                                ${v?"p-3":A?"p-2.5":"p-2"} 
                                rounded-xl flex items-center justify-center
                              `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsx(et,{className:`
                                  ${v?"w-8 h-8":A?"w-6 h-6":"w-5 h-5"}
                                `,style:{color:"var(--theme-primary)"}})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h4",{className:`
                                  ${v?"text-2xl":A?"text-xl":"text-lg"}
                                  font-bold text-foreground
                                  ${v?"":"truncate"}
                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Users Management"}),n.jsx("p",{className:`
                                  ${v?"text-sm":"text-xs"} 
                                  text-default-500
                                  ${v?"":"truncate"}
                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Manage user accounts, roles and permissions"})]})]}),_?n.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[n.jsx(de,{className:"w-24 h-8 rounded"}),n.jsx(de,{className:"w-20 h-8 rounded"})]}):n.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[n.jsx(pe,{size:l?"sm":"md",color:"primary",startContent:n.jsx(bt,{className:"w-4 h-4"}),onPress:()=>ie("add"),radius:R,style:{fontFamily:'var(--fontFamily, "Inter")'},className:"min-w-0",children:l?"Add":"Add User"}),n.jsx(pe,{size:l?"sm":"md",variant:"bordered",startContent:n.jsx(ls,{className:"w-4 h-4"}),radius:R,style:{background:"color-mix(in srgb, var(--theme-primary) 10%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-primary) 30%, transparent)",color:"var(--theme-primary)",fontFamily:'var(--fontFamily, "Inter")'},className:"min-w-0",children:l?"Export":"Export Users"})]})]})})})}),n.jsxs(_e,{className:"p-6",children:[n.jsx(_a,{stats:U,className:"mb-6",isLoading:_}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-6",children:_?n.jsx(n.Fragment,{children:Array.from({length:6}).map((r,h)=>n.jsx(Ne,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-default) 10%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(_e,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(de,{className:"w-9 h-9 rounded-lg"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(de,{className:"w-24 h-4 rounded mb-1"}),n.jsx(de,{className:"w-32 h-3 rounded"})]})]}),n.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((I,Z)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(de,{className:"w-20 h-3 rounded"}),n.jsx(de,{className:"w-12 h-3 rounded"})]},Z))})]})},h))}):n.jsxs(n.Fragment,{children:[n.jsx(Ne,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(_e,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:n.jsx(is,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}})}),n.jsxs("div",{children:[n.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role Distribution"}),n.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User roles breakdown"})]})]}),n.jsx("div",{className:"space-y-3",children:((ee=(X=i==null?void 0:i.distribution)==null?void 0:X.by_role)==null?void 0:ee.length)>0?i.distribution.by_role.slice(0,4).map((r,h)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:`color-mix(in srgb, var(--theme-primary) ${80-h*15}%, var(--theme-secondary) ${20+h*15}%)`}}),n.jsx("span",{className:"text-sm text-foreground truncate",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r.name})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-sm font-medium text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r.count}),n.jsxs("span",{className:"text-xs text-default-500 ml-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["(",r.percentage,"%)"]})]})]},h)):n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-sm text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No role data available"})})})]})}),n.jsx(Ne,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-secondary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(_e,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-secondary) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:n.jsx(et,{className:"w-5 h-5",style:{color:"var(--theme-secondary)"}})}),n.jsxs("div",{children:[n.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User Status"}),n.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Active vs inactive users"})]})]}),n.jsx("div",{className:"space-y-3",children:((ne=(be=i==null?void 0:i.distribution)==null?void 0:be.by_status)==null?void 0:ne.length)>0?i.distribution.by_status.map((r,h)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:r.name==="Active"?"var(--theme-success)":r.name==="Inactive"?"var(--theme-danger)":"var(--theme-default)"}}),n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r.name})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-sm font-medium text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r.count}),n.jsxs("span",{className:"text-xs text-default-500 ml-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["(",r.percentage,"%)"]})]})]},h)):n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-sm text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No status data available"})})})]})}),n.jsx(Ne,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-warning) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(_e,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-warning) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:n.jsx(Me,{className:"w-5 h-5",style:{color:"var(--theme-warning)"}})}),n.jsxs("div",{children:[n.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Departments"}),n.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Users by department"})]})]}),n.jsx("div",{className:"space-y-3",children:((Pe=(We=i==null?void 0:i.distribution)==null?void 0:We.by_department)==null?void 0:Pe.length)>0?i.distribution.by_department.slice(0,4).map((r,h)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:`color-mix(in srgb, var(--theme-warning) ${80-h*15}%, var(--theme-primary) ${20+h*15}%)`}}),n.jsx("span",{className:"text-sm text-foreground truncate",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r.name})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-sm font-medium text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r.count}),n.jsxs("span",{className:"text-xs text-default-500 ml-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["(",r.percentage,"%)"]})]})]},h)):n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-sm text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No department data available"})})})]})}),n.jsx(Ne,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-success) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(_e,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-success) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:n.jsx(un,{className:"w-5 h-5",style:{color:"var(--theme-success)"}})}),n.jsxs("div",{children:[n.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User Growth"}),n.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Registration trends"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"New (30 days)"}),n.jsx("span",{className:"text-sm font-medium text-success",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((ye=(He=i==null?void 0:i.activity)==null?void 0:He.recent_registrations)==null?void 0:ye.new_users_30_days)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"New (90 days)"}),n.jsx("span",{className:"text-sm font-medium text-primary",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((Ze=(qe=i==null?void 0:i.activity)==null?void 0:qe.recent_registrations)==null?void 0:Ze.new_users_90_days)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Recently Active"}),n.jsx("span",{className:"text-sm font-medium text-secondary",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((Ye=(Je=i==null?void 0:i.activity)==null?void 0:Je.recent_registrations)==null?void 0:Ye.recently_active)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Growth Rate"}),n.jsx($e,{size:"sm",color:(((it=i==null?void 0:i.activity)==null?void 0:it.user_growth_rate)||0)>0?"success":(((ut=i==null?void 0:i.activity)==null?void 0:ut.user_growth_rate)||0)<0?"danger":"default",variant:"flat",radius:R,children:n.jsxs("span",{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((ct=i==null?void 0:i.activity)==null?void 0:ct.user_growth_rate)||0,"%"]})})]})]})]})}),n.jsx(Ne,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(_e,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:n.jsx(Ue,{className:"w-5 h-5",style:{color:"var(--theme-danger)"}})}),n.jsxs("div",{children:[n.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Access Control"}),n.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role assignments"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"With Roles"}),n.jsx("span",{className:"text-sm font-medium text-success",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((mt=(dt=i==null?void 0:i.security)==null?void 0:dt.access_metrics)==null?void 0:mt.users_with_roles)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Without Roles"}),n.jsx("span",{className:"text-sm font-medium text-danger",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((D=(pt=i==null?void 0:i.security)==null?void 0:pt.access_metrics)==null?void 0:D.users_without_roles)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Admin Users"}),n.jsx("span",{className:"text-sm font-medium text-warning",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((se=(B=i==null?void 0:i.security)==null?void 0:B.access_metrics)==null?void 0:se.admin_users)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role Coverage"}),n.jsx($e,{size:"sm",color:(((Ie=(ve=i==null?void 0:i.health)==null?void 0:ve.system_metrics)==null?void 0:Ie.role_coverage)||0)>80?"success":(((kt=(Dt=i==null?void 0:i.health)==null?void 0:Dt.system_metrics)==null?void 0:kt.role_coverage)||0)>60?"warning":"danger",variant:"flat",radius:R,children:n.jsxs("span",{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((Ot=(Lt=i==null?void 0:i.health)==null?void 0:Lt.system_metrics)==null?void 0:Ot.role_coverage)||0,"%"]})})]})]})]})}),n.jsx(Ne,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-default) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(_e,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-default) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:n.jsx(vn,{className:"w-5 h-5",style:{color:"var(--theme-default)"}})}),n.jsxs("div",{children:[n.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"System Health"}),n.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Overall metrics"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Health Score"}),n.jsx($e,{size:"sm",color:(((Vt=i==null?void 0:i.quick_metrics)==null?void 0:Vt.system_health_score)||0)>80?"success":(((zt=i==null?void 0:i.quick_metrics)==null?void 0:zt.system_health_score)||0)>60?"warning":"danger",variant:"flat",radius:R,children:n.jsxs("span",{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((Mt=i==null?void 0:i.quick_metrics)==null?void 0:Mt.system_health_score)||0,"%"]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Activation Rate"}),n.jsxs("span",{className:"text-sm font-medium text-success",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((Ut=(Kt=i==null?void 0:i.health)==null?void 0:Kt.system_metrics)==null?void 0:Ut.user_activation_rate)||0,"%"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Total Roles"}),n.jsx("span",{className:"text-sm font-medium text-primary",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((Gt=i==null?void 0:i.overview)==null?void 0:Gt.total_roles)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Total Departments"}),n.jsx("span",{className:"text-sm font-medium text-warning",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((Wt=i==null?void 0:i.overview)==null?void 0:Wt.total_departments)||0})]})]})]})})]})}),n.jsx("div",{className:"mb-6",children:_?n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[n.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{className:"w-24 h-4 rounded"}),n.jsx(de,{className:"w-full h-10 rounded-lg"})]})}),n.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(de,{className:"w-20 h-4 rounded"}),n.jsx(de,{className:"w-full h-10 rounded-lg"})]})})]}):n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-end",children:[n.jsx("div",{className:"flex-1",children:n.jsx(fe,{label:"Search Users",placeholder:"Search by name, email or phone...",value:f.search,onValueChange:r=>W("search",r),variant:"bordered",size:l?"sm":"md",radius:R,startContent:n.jsx(us,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"border-default-200 hover:border-default-300"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),n.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[n.jsxs(Le,{label:"Status",selectedKeys:f.status?[f.status]:[],onSelectionChange:r=>W("status",Array.from(r)[0]),variant:"bordered",size:l?"sm":"md",radius:R,className:"w-32",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[n.jsx(he,{children:"All Status"},"all"),n.jsx(he,{children:"Active"},"active"),n.jsx(he,{children:"Inactive"},"inactive")]}),n.jsxs(Le,{label:"Role",selectedKeys:f.role?[f.role]:[],onSelectionChange:r=>W("role",Array.from(r)[0]),variant:"bordered",size:l?"sm":"md",radius:R,className:"w-32",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[n.jsx(he,{children:"All Roles"},"all"),t==null?void 0:t.map((r,h)=>{const I=typeof r=="object"&&r!==null?r.name:r,Z=typeof I=="string"?I.toLowerCase():String(I||`role-${h}`).toLowerCase();return n.jsx(he,{children:I||"Unknown Role"},Z)})]}),n.jsxs(ms,{variant:"bordered",radius:R,children:[n.jsx(pe,{isIconOnly:!0,color:F==="table"?"primary":"default",onPress:()=>P("table"),size:l?"sm":"md",children:n.jsx(cs,{className:"w-4 h-4"})}),n.jsx(pe,{isIconOnly:!0,color:F==="grid"?"primary":"default",onPress:()=>P("grid"),size:l?"sm":"md",children:n.jsx(wa,{className:"w-4 h-4"})})]})]})]})}),n.jsx("div",{className:"overflow-hidden",children:_?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx(tt,{size:"lg"})}):F==="table"?n.jsx(hr,{allUsers:K.data,roles:t,setUsers:p,isMobile:l,isTablet:x,pagination:j,onPageChange:le,onRowsPerPageChange:je,totalUsers:K.total,loading:_,onEdit:r=>ie("edit",r),updateUserOptimized:L,deleteUserOptimized:q,toggleUserStatusOptimized:ae,updateUserRolesOptimized:ue,toggleSingleDeviceLogin:ce,resetUserDevice:xe,deviceActions:C}):n.jsxs("div",{children:[K.data&&K.data.length>0?n.jsx("div",{className:`grid gap-4 ${l?"grid-cols-1":x?"grid-cols-2":"grid-cols-3 xl:grid-cols-4"}`,children:K.data.map((r,h)=>n.jsx(Ae,{user:r,index:h},r.id))}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(et,{className:"w-16 h-16 mx-auto text-default-300 mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No users found"}),n.jsx("p",{className:"text-default-500 mb-4",children:"Try adjusting your search criteria or filters"}),n.jsx(pe,{color:"primary",startContent:n.jsx(bt,{className:"w-4 h-4"}),onPress:()=>ie("add"),children:"Add First User"})]}),K.data&&K.data.length>0&&n.jsx("div",{className:"flex justify-center mt-6 border-t pt-4",style:{borderColor:"var(--theme-divider, #E4E4E7)"},children:n.jsx(On,{total:Math.ceil(K.total/j.perPage),initialPage:j.currentPage,page:j.currentPage,onChange:le,size:l?"sm":"md",variant:"bordered",showControls:!0,radius:R,style:{fontFamily:'var(--fontFamily, "Inter")'}})})]})})]})]})})})})})]})};Nr.layout=e=>n.jsx(Na,{children:e});export{Nr as default};
