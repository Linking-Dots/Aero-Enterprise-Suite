var A=Object.defineProperty;var M=(a,s,t)=>s in a?A(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;var y=(a,s,t)=>M(a,typeof s!="symbol"?s+"":s,t);import{r,R as L}from"./vendor-inertia-sUfCHI_5.js";import{j as e,a as $,e as X,b as O}from"./vendor-heroui-CinxWHhv.js";import{f as B,g as N,A as R,e as w}from"./vendor-framer-B7qqn1b6.js";import{F as _}from"./PencilIcon-BsmkHcSS.js";import{F as I}from"./CheckCircleIcon-BAvoXTNq.js";import{F as P}from"./TrashIcon-Dnjv_I7q.js";import{b as E}from"./app-Catfk_Bc.js";import{F as H}from"./ExclamationTriangleIcon-BarRaUA8.js";function V({title:a,titleId:s,...t},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},t),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const te=r.forwardRef(V);function W({title:a,titleId:s,...t},o){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},t),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const re=r.forwardRef(W),se=({children:a,onEdit:s,onDelete:t,onStatusChange:o,disabled:c=!1,className:m=""})=>{const[d,h]=r.useState(!1),[j,u]=r.useState(null),x=r.useRef(null),v=r.useRef(0),n=B(0),i=80,k=N(n,[-i,-40,0],[1,.5,0]),C=N(n,[0,40,i],[0,.5,1]),F=r.useCallback(l=>{c||(v.current=l.touches[0].clientX)},[c]),S=r.useCallback(l=>{if(c)return;const T=l.touches[0].clientX-v.current,b=Math.max(-i*1.5,Math.min(i*1.5,T));n.set(b),Math.abs(b)>20&&u(b<0?"left":"right")},[c,n]),D=r.useCallback(()=>{if(c)return;const l=n.get();Math.abs(l)>=i?l<0?(n.set(-i),h(!0),u("left")):(n.set(i),h(!0),u("right")):(n.set(0),h(!1),u(null))},[c,n]),f=r.useCallback(()=>{n.set(0),h(!1),u(null)},[n]),p=r.useCallback(l=>{l==null||l(),f()},[f]),g=r.useCallback(l=>{d&&x.current&&!x.current.contains(l.target)&&f()},[d,f]);return L.useEffect(()=>{if(d)return document.addEventListener("touchstart",g),()=>document.removeEventListener("touchstart",g)},[d,g]),e.jsxs("div",{ref:x,className:`relative overflow-hidden ${m}`,children:[e.jsx(R,{children:(j==="right"||n.get()>0)&&e.jsx(w.div,{className:"absolute left-0 top-0 bottom-0 flex items-stretch",style:{width:i,opacity:C},children:e.jsxs("button",{onClick:()=>p(s),className:"flex-1 flex flex-col items-center justify-center gap-1 bg-primary text-white active:bg-primary/80 transition-colors","aria-label":"Edit",children:[e.jsx(_,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:"Edit"})]})})}),e.jsx(R,{children:(j==="left"||n.get()<0)&&e.jsxs(w.div,{className:"absolute right-0 top-0 bottom-0 flex items-stretch",style:{width:i,opacity:k},children:[o&&e.jsxs("button",{onClick:()=>p(o),className:"flex-1 flex flex-col items-center justify-center gap-1 bg-success text-white active:bg-success/80 transition-colors","aria-label":"Complete",children:[e.jsx(I,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:"Done"})]}),t&&e.jsxs("button",{onClick:()=>p(t),className:"flex-1 flex flex-col items-center justify-center gap-1 bg-danger text-white active:bg-danger/80 transition-colors","aria-label":"Delete",children:[e.jsx(P,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:"Delete"})]})]})}),e.jsx(w.div,{style:{x:n},onTouchStart:F,onTouchMove:S,onTouchEnd:D,className:"relative bg-content1",children:a}),!d&&!c&&e.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-20 pointer-events-none",children:e.jsx(E,{className:"w-4 h-4 text-default-400"})})]})};class ae extends r.Component{constructor(t){super(t);y(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onRetry&&this.props.onRetry()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,o){console.error("ErrorBoundary caught an error:",t,o),this.setState({errorInfo:o}),this.props.onError&&this.props.onError(t,o)}render(){var t;if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const{fallbackTitle:o="Something went wrong",fallbackDescription:c="An unexpected error occurred. Please try again.",showDetails:m=!1,showRetry:d=!0}=this.props;return e.jsx($,{className:"border border-danger/20 bg-danger/5",style:{borderRadius:"var(--borderRadius, 12px)"},children:e.jsxs(X,{className:"flex flex-col items-center justify-center py-12 px-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-danger/10 flex items-center justify-center mb-4",children:e.jsx(H,{className:"w-8 h-8 text-danger"})}),e.jsx("h3",{className:"text-lg font-semibold text-danger mb-2",children:o}),e.jsx("p",{className:"text-sm text-default-600 mb-4 max-w-md",children:c}),m&&this.state.error&&e.jsx("div",{className:"w-full max-w-lg mb-4",children:e.jsxs("details",{className:"text-left",children:[e.jsx("summary",{className:"text-xs text-default-500 cursor-pointer hover:text-default-700",children:"Error Details"}),e.jsxs("pre",{className:"mt-2 p-3 bg-default-100 rounded-lg text-xs text-danger overflow-x-auto",children:[this.state.error.toString(),((t=this.state.errorInfo)==null?void 0:t.componentStack)&&e.jsx("span",{className:"text-default-500",children:this.state.errorInfo.componentStack})]})]})}),d&&e.jsx(O,{color:"danger",variant:"flat",onPress:this.handleRetry,startContent:e.jsx(E,{className:"w-4 h-4"}),style:{borderRadius:"var(--borderRadius, 12px)"},children:"Try Again"})]})})}return this.props.children}}export{ae as E,re as F,se as S,te as a};
