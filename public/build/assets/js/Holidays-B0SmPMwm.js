import{j as e,w as ue,x as fe,b as Y,y as he,z as B,h as E,i as Z,g as Le,s as Q,l as P,p as le,a as de,e as ce,P as Qe,m as Ge,n as Xe,o as Ue,q as Ke,r as Je,v as Ze,A as Ie,B as Re,C as Pe,D as Ye,t as et,F as ee,f as xe,E as Ee,d as tt}from"./vendor-heroui-CinxWHhv.js";import{r as x,J as rt,Q as at}from"./vendor-inertia-sUfCHI_5.js";import{S as st}from"./StatsCards-ccqGpMFI.js";import{u as re,f as W,x as ye,A as nt}from"./Dashboard-BK9cEOtI.js";import{a as ne,t as O,c as q,n as He,g as ge,d as ot,f as Te,e as it}from"./en-US-D8UQXs-H.js";import{F as ae}from"./ClockIcon-BKLni_N9.js";import{F as $}from"./CheckCircleIcon-BAvoXTNq.js";import{F as pe}from"./EllipsisVerticalIcon-CqOfKM9J.js";import{F as be}from"./EyeIcon-Ihhc2c0I.js";import{F as ve}from"./PencilIcon-BsmkHcSS.js";import{F as me}from"./TrashIcon-Dnjv_I7q.js";import{F as lt}from"./MagnifyingGlassIcon-BJyUDYwI.js";import{F as dt}from"./AdjustmentsHorizontalIcon-lemo7t2o.js";import{e as Ae}from"./vendor-framer-B7qqn1b6.js";import{s as G}from"./toastUtils-BVg-E_WQ.js";import{a as We}from"./vendor-utils-CrJAVL9K.js";import{F as we}from"./InformationCircleIcon-Hd0GuQtg.js";import{F as je}from"./ExclamationTriangleIcon-BarRaUA8.js";import{F as Ne}from"./ChartBarIcon-BGC3fra6.js";import{F as Fe}from"./MapPinIcon-DDwLGyCW.js";import{F as ct}from"./PlusIcon-BO1LbXgZ.js";import"./vendor-react-FouZbkAE.js";import"./app-BrvrVuek.js";import"./EnvelopeIcon-CFKoTD3N.js";import"./UserGroupIcon-CSQScwVa.js";import"./UserIcon-CgrjQ1A2.js";import"./ShieldCheckIcon-Ck-ae4AP.js";import"./XMarkIcon-twQGc8di.js";import"./KeyIcon-BIi5nz4o.js";import"./logo-DFaNDj_M.js";function X(r,t){var y,d,v,c;const a=ne(),s=(t==null?void 0:t.weekStartsOn)??((d=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:d.weekStartsOn)??a.weekStartsOn??((c=(v=a.locale)==null?void 0:v.options)==null?void 0:c.weekStartsOn)??0,n=O(r,t==null?void 0:t.in),l=n.getDay(),i=(l<s?7:0)+l-s;return n.setDate(n.getDate()-i),n.setHours(0,0,0,0),n}function se(r,t){return X(r,{...t,weekStartsOn:1})}function Be(r,t){const a=O(r,t==null?void 0:t.in),s=a.getFullYear(),n=q(a,0);n.setFullYear(s+1,0,4),n.setHours(0,0,0,0);const l=se(n),i=q(a,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const y=se(i);return a.getTime()>=l.getTime()?s+1:a.getTime()>=y.getTime()?s:s-1}function _e(r,t){const a=O(r,t==null?void 0:t.in);return a.setHours(0,0,0,0),a}function Ve(r,t,a){const[s,n]=He(a==null?void 0:a.in,r,t),l=_e(s),i=_e(n),y=+l-ge(l),d=+i-ge(i);return Math.round((y-d)/ot)}function mt(r,t){const a=Be(r,t),s=q(r,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),se(s)}function ut(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function ft(r){return!(!ut(r)&&typeof r!="number"||isNaN(+O(r)))}function te(r,t,a){const[s,n]=He(a==null?void 0:a.in,r,t),l=Ce(s,n),i=Math.abs(Ve(s,n));s.setDate(s.getDate()-l*i);const y=+(Ce(s,n)===-l),d=l*(i-y);return d===0?0:d}function Ce(r,t){const a=r.getFullYear()-t.getFullYear()||r.getMonth()-t.getMonth()||r.getDate()-t.getDate()||r.getHours()-t.getHours()||r.getMinutes()-t.getMinutes()||r.getSeconds()-t.getSeconds()||r.getMilliseconds()-t.getMilliseconds();return a<0?-1:a>0?1:a}function ht(r,t){const a=O(r,t==null?void 0:t.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function xt(r,t){const a=O(r,t==null?void 0:t.in);return Ve(a,ht(a))+1}function yt(r,t){const a=O(r,t==null?void 0:t.in),s=+se(a)-+mt(a);return Math.round(s/Te)+1}function $e(r,t){var c,D,j,_;const a=O(r,t==null?void 0:t.in),s=a.getFullYear(),n=ne(),l=(t==null?void 0:t.firstWeekContainsDate)??((D=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:D.firstWeekContainsDate)??n.firstWeekContainsDate??((_=(j=n.locale)==null?void 0:j.options)==null?void 0:_.firstWeekContainsDate)??1,i=q((t==null?void 0:t.in)||r,0);i.setFullYear(s+1,0,l),i.setHours(0,0,0,0);const y=X(i,t),d=q((t==null?void 0:t.in)||r,0);d.setFullYear(s,0,l),d.setHours(0,0,0,0);const v=X(d,t);return+a>=+y?s+1:+a>=+v?s:s-1}function gt(r,t){var y,d,v,c;const a=ne(),s=(t==null?void 0:t.firstWeekContainsDate)??((d=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((c=(v=a.locale)==null?void 0:v.options)==null?void 0:c.firstWeekContainsDate)??1,n=$e(r,t),l=q((t==null?void 0:t.in)||r,0);return l.setFullYear(n,0,s),l.setHours(0,0,0,0),X(l,t)}function pt(r,t){const a=O(r,t==null?void 0:t.in),s=+X(a,t)-+gt(a,t);return Math.round(s/Te)+1}function b(r,t){const a=r<0?"-":"",s=Math.abs(r).toString().padStart(t,"0");return a+s}const T={y(r,t){const a=r.getFullYear(),s=a>0?a:1-a;return b(t==="yy"?s%100:s,t.length)},M(r,t){const a=r.getMonth();return t==="M"?String(a+1):b(a+1,2)},d(r,t){return b(r.getDate(),t.length)},a(r,t){const a=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(r,t){return b(r.getHours()%12||12,t.length)},H(r,t){return b(r.getHours(),t.length)},m(r,t){return b(r.getMinutes(),t.length)},s(r,t){return b(r.getSeconds(),t.length)},S(r,t){const a=t.length,s=r.getMilliseconds(),n=Math.trunc(s*Math.pow(10,a-3));return b(n,t.length)}},V={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},De={G:function(r,t,a){const s=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(s,{width:"abbreviated"});case"GGGGG":return a.era(s,{width:"narrow"});case"GGGG":default:return a.era(s,{width:"wide"})}},y:function(r,t,a){if(t==="yo"){const s=r.getFullYear(),n=s>0?s:1-s;return a.ordinalNumber(n,{unit:"year"})}return T.y(r,t)},Y:function(r,t,a,s){const n=$e(r,s),l=n>0?n:1-n;if(t==="YY"){const i=l%100;return b(i,2)}return t==="Yo"?a.ordinalNumber(l,{unit:"year"}):b(l,t.length)},R:function(r,t){const a=Be(r);return b(a,t.length)},u:function(r,t){const a=r.getFullYear();return b(a,t.length)},Q:function(r,t,a){const s=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return b(s,2);case"Qo":return a.ordinalNumber(s,{unit:"quarter"});case"QQQ":return a.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,t,a){const s=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return b(s,2);case"qo":return a.ordinalNumber(s,{unit:"quarter"});case"qqq":return a.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,t,a){const s=r.getMonth();switch(t){case"M":case"MM":return T.M(r,t);case"Mo":return a.ordinalNumber(s+1,{unit:"month"});case"MMM":return a.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(s,{width:"wide",context:"formatting"})}},L:function(r,t,a){const s=r.getMonth();switch(t){case"L":return String(s+1);case"LL":return b(s+1,2);case"Lo":return a.ordinalNumber(s+1,{unit:"month"});case"LLL":return a.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(s,{width:"wide",context:"standalone"})}},w:function(r,t,a,s){const n=pt(r,s);return t==="wo"?a.ordinalNumber(n,{unit:"week"}):b(n,t.length)},I:function(r,t,a){const s=yt(r);return t==="Io"?a.ordinalNumber(s,{unit:"week"}):b(s,t.length)},d:function(r,t,a){return t==="do"?a.ordinalNumber(r.getDate(),{unit:"date"}):T.d(r,t)},D:function(r,t,a){const s=xt(r);return t==="Do"?a.ordinalNumber(s,{unit:"dayOfYear"}):b(s,t.length)},E:function(r,t,a){const s=r.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(s,{width:"short",context:"formatting"});case"EEEE":default:return a.day(s,{width:"wide",context:"formatting"})}},e:function(r,t,a,s){const n=r.getDay(),l=(n-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return b(l,2);case"eo":return a.ordinalNumber(l,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});case"eeee":default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(r,t,a,s){const n=r.getDay(),l=(n-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return b(l,t.length);case"co":return a.ordinalNumber(l,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});case"cccc":default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(r,t,a){const s=r.getDay(),n=s===0?7:s;switch(t){case"i":return String(n);case"ii":return b(n,t.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(s,{width:"short",context:"formatting"});case"iiii":default:return a.day(s,{width:"wide",context:"formatting"})}},a:function(r,t,a){const n=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(r,t,a){const s=r.getHours();let n;switch(s===12?n=V.noon:s===0?n=V.midnight:n=s/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(r,t,a){const s=r.getHours();let n;switch(s>=17?n=V.evening:s>=12?n=V.afternoon:s>=4?n=V.morning:n=V.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(r,t,a){if(t==="ho"){let s=r.getHours()%12;return s===0&&(s=12),a.ordinalNumber(s,{unit:"hour"})}return T.h(r,t)},H:function(r,t,a){return t==="Ho"?a.ordinalNumber(r.getHours(),{unit:"hour"}):T.H(r,t)},K:function(r,t,a){const s=r.getHours()%12;return t==="Ko"?a.ordinalNumber(s,{unit:"hour"}):b(s,t.length)},k:function(r,t,a){let s=r.getHours();return s===0&&(s=24),t==="ko"?a.ordinalNumber(s,{unit:"hour"}):b(s,t.length)},m:function(r,t,a){return t==="mo"?a.ordinalNumber(r.getMinutes(),{unit:"minute"}):T.m(r,t)},s:function(r,t,a){return t==="so"?a.ordinalNumber(r.getSeconds(),{unit:"second"}):T.s(r,t)},S:function(r,t){return T.S(r,t)},X:function(r,t,a){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return Me(s);case"XXXX":case"XX":return A(s);case"XXXXX":case"XXX":default:return A(s,":")}},x:function(r,t,a){const s=r.getTimezoneOffset();switch(t){case"x":return Me(s);case"xxxx":case"xx":return A(s);case"xxxxx":case"xxx":default:return A(s,":")}},O:function(r,t,a){const s=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Se(s,":");case"OOOO":default:return"GMT"+A(s,":")}},z:function(r,t,a){const s=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Se(s,":");case"zzzz":default:return"GMT"+A(s,":")}},t:function(r,t,a){const s=Math.trunc(+r/1e3);return b(s,t.length)},T:function(r,t,a){return b(+r,t.length)}};function Se(r,t=""){const a=r>0?"-":"+",s=Math.abs(r),n=Math.trunc(s/60),l=s%60;return l===0?a+String(n):a+String(n)+t+b(l,2)}function Me(r,t){return r%60===0?(r>0?"-":"+")+b(Math.abs(r)/60,2):A(r,t)}function A(r,t=""){const a=r>0?"-":"+",s=Math.abs(r),n=b(Math.trunc(s/60),2),l=b(s%60,2);return a+n+t+l}const ke=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ze=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},bt=(r,t)=>{const a=r.match(/(P+)(p+)?/)||[],s=a[1],n=a[2];if(!n)return ke(r,t);let l;switch(s){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",ke(s,t)).replace("{{time}}",ze(n,t))},vt={p:ze,P:bt},wt=/^D+$/,jt=/^Y+$/,Nt=["D","DD","YY","YYYY"];function Ft(r){return wt.test(r)}function _t(r){return jt.test(r)}function Ct(r,t,a){const s=Dt(r,t,a);if(console.warn(s),Nt.includes(r))throw new RangeError(s)}function Dt(r,t,a){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${s} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const St=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kt=/^'([^]*?)'?$/,Ot=/''/g,It=/[a-zA-Z]/;function z(r,t,a){var c,D,j,_;const s=ne(),n=s.locale??it,l=s.firstWeekContainsDate??((D=(c=s.locale)==null?void 0:c.options)==null?void 0:D.firstWeekContainsDate)??1,i=s.weekStartsOn??((_=(j=s.locale)==null?void 0:j.options)==null?void 0:_.weekStartsOn)??0,y=O(r,a==null?void 0:a.in);if(!ft(y))throw new RangeError("Invalid time value");let d=t.match(Mt).map(m=>{const g=m[0];if(g==="p"||g==="P"){const h=vt[g];return h(m,n.formatLong)}return m}).join("").match(St).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:Rt(m)};if(De[g])return{isToken:!0,value:m};if(g.match(It))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});n.localize.preprocessor&&(d=n.localize.preprocessor(y,d));const v={firstWeekContainsDate:l,weekStartsOn:i,locale:n};return d.map(m=>{if(!m.isToken)return m.value;const g=m.value;(_t(g)||Ft(g))&&Ct(g,t,String(r));const h=De[g[0]];return h(y,g,n.localize,v)}).join("")}function Rt(r){const t=r.match(kt);return t?t[1].replace(Ot,"'"):r}function Pt(r,t){return+O(r)>+O(t)}function Yt(r,t){return+O(r)<+O(t)}const S=()=>{var s;if(typeof window>"u")return"lg";const t=((s=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:s.trim())||"12px",a=parseInt(t);return a===0?"none":a<=4?"sm":a<=8?"md":a<=12?"lg":"xl"},Et=({holidaysData:r,onEdit:t,onDelete:a,onFilteredDataChange:s,isLoading:n=!1})=>{const l=re("(max-width: 768px)");re("(max-width: 640px)");const[i,y]=x.useState(""),[d,v]=x.useState([]),[c,D]=x.useState([]),[j,_]=x.useState([new Date().getFullYear().toString()]),[m,g]=x.useState(1),[h,k]=x.useState(10),[u,C]=x.useState(!1),p={public:{label:"Public",color:"danger",icon:"ðŸ›ï¸",bgColor:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",textColor:"var(--theme-danger)"},religious:{label:"Religious",color:"secondary",icon:"ðŸ•Œ",bgColor:"color-mix(in srgb, var(--theme-secondary) 20%, transparent)",textColor:"var(--theme-secondary)"},national:{label:"National",color:"primary",icon:"ðŸ‡§ðŸ‡©",bgColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",textColor:"var(--theme-primary)"},company:{label:"Company",color:"warning",icon:"ðŸ¢",bgColor:"color-mix(in srgb, var(--theme-warning) 20%, transparent)",textColor:"var(--theme-warning)"},optional:{label:"Optional",color:"default",icon:"ðŸ“…",bgColor:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",textColor:"var(--theme-foreground)"}},N=x.useCallback(o=>{const f=new Date,w=new Date(o.from_date),R=new Date(o.to_date);return Yt(f,w)?{status:"upcoming",label:"Upcoming",color:"primary",icon:ae}:Pt(f,R)?{status:"past",label:"Past",color:"default",icon:$}:{status:"ongoing",label:"Ongoing",color:"success",icon:$}},[]),F=x.useMemo(()=>{let o=r;return i&&(o=o.filter(f=>{var w,R;return((w=f.title)==null?void 0:w.toLowerCase().includes(i.toLowerCase()))||((R=f.description)==null?void 0:R.toLowerCase().includes(i.toLowerCase()))})),Array.isArray(d)&&d.length>0&&(o=o.filter(f=>d.includes(f.type))),Array.isArray(c)&&c.length>0&&(o=o.filter(f=>{const w=N(f);return c.includes(w.status)})),Array.isArray(j)&&j.length>0&&(o=o.filter(f=>{const w=new Date(f.from_date).getFullYear().toString();return j.includes(w)})),o},[r,i,d,c,j,N]);x.useEffect(()=>{s&&s(F)},[F,s]);const I=Math.ceil(F.length/h),U=x.useMemo(()=>{const o=(m-1)*h,f=o+h;return F.slice(o,f)},[m,F,h]),M=[{name:"Holiday",uid:"title",sortable:!0},{name:"Duration",uid:"duration",sortable:!0},{name:"Type",uid:"type",sortable:!0},{name:"Status",uid:"status",sortable:!0},{name:"Actions",uid:"actions"}],H=x.useCallback((o,f)=>{const w=o[f];switch(f){case"title":const R=te(new Date(o.to_date),new Date(o.from_date))+1;return e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-bold text-sm capitalize text-foreground",children:o.title}),e.jsxs("div",{className:"flex items-center gap-2 text-tiny text-default-400",children:[e.jsx(W,{className:"w-3 h-3"}),e.jsxs("span",{children:[z(new Date(o.from_date),"MMM dd, yyyy"),R>1&&e.jsxs(e.Fragment,{children:[" - ",z(new Date(o.to_date),"MMM dd, yyyy")]})]})]}),o.description&&e.jsx("p",{className:"text-tiny text-default-500 mt-1 line-clamp-2",children:o.description})]});case"duration":const J=te(new Date(o.to_date),new Date(o.from_date))+1;return e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs("span",{className:"text-bold text-sm text-foreground",children:[J," ",J===1?"day":"days"]})});case"type":const L=p[o.type]||p.company;return e.jsx(E,{className:"capitalize",color:L.color,size:"sm",variant:"bordered",startContent:e.jsx("span",{className:"text-xs",children:L.icon}),radius:S(),classNames:{base:"border-default-200",content:"text-foreground"},style:{background:L.bgColor,color:L.textColor,fontFamily:'var(--fontFamily, "Inter")',border:"1px solid var(--theme-divider)"},children:L.label});case"status":const ie=N(o),qe=ie.icon;return e.jsx(E,{className:"capitalize",color:ie.color,size:"sm",variant:"bordered",startContent:e.jsx(qe,{className:"w-3 h-3"}),radius:S(),classNames:{base:"border-default-200",content:"text-foreground"},style:{fontFamily:'var(--fontFamily, "Inter")',border:"1px solid var(--theme-divider)"},children:ie.label});case"actions":return e.jsx("div",{className:"relative flex justify-end items-center gap-2",children:e.jsxs(ue,{children:[e.jsx(fe,{children:e.jsx(Y,{isIconOnly:!0,size:"sm",variant:"light",children:e.jsx(pe,{className:"w-4 h-4"})})}),e.jsxs(he,{children:[e.jsx(B,{startContent:e.jsx(be,{className:"w-4 h-4"}),children:"View Details"},"view"),e.jsx(B,{startContent:e.jsx(ve,{className:"w-4 h-4"}),onPress:()=>t(o),children:"Edit Holiday"},"edit"),e.jsx(B,{className:"text-danger",color:"danger",startContent:e.jsx(me,{className:"w-4 h-4"}),onPress:()=>a(o.id),children:"Delete Holiday"},"delete")]})]})});default:return w}},[N,t,a]),K=x.useMemo(()=>e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Z,{placeholder:"Search by title or description...",value:i,onChange:o=>y(o.target.value),size:l?"sm":"md",startContent:e.jsx(lt,{className:"w-4 h-4 text-default-400"}),variant:"bordered",radius:S(),classNames:{inputWrapper:"border-default-200 hover:border-default-300 focus-within:border-primary",input:"text-foreground"},style:{fontFamily:'var(--fontFamily, "Inter")',border:"1px solid var(--theme-divider)"}})}),e.jsx("div",{className:"flex gap-2 items-end",children:e.jsx(Le,{variant:"bordered",children:e.jsxs(Y,{isIconOnly:l,color:u?"primary":"default",onPress:()=>C(!u),radius:S(),classNames:{base:"border-default-200 hover:border-default-300"},style:{fontFamily:'var(--fontFamily, "Inter")',border:"1px solid var(--theme-divider)"},children:[e.jsx(dt,{className:"w-4 h-4"}),!l&&e.jsx("span",{className:"ml-1",children:"Filters"})]})})})]}),u&&e.jsxs(Ae.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"p-4 border border-divider rounded-lg",style:{background:"var(--theme-content2)",border:"1px solid var(--theme-divider)",borderRadius:"var(--borderRadius, 12px)"},children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(Q,{label:"Holiday Type",selectionMode:"multiple",variant:"bordered",selectedKeys:new Set(d),onSelectionChange:o=>v(Array.from(o)),radius:S(),classNames:{trigger:"border-default-200 hover:border-default-300 focus-within:border-primary",popoverContent:"border-default-200",value:"text-foreground"},style:{fontFamily:'var(--fontFamily, "Inter")',border:"1px solid var(--theme-divider)"},children:Object.entries(p).map(([o,f])=>e.jsx(P,{value:o,textValue:f.label,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:f.icon}),e.jsx("span",{children:f.label})]})},o))}),e.jsxs(Q,{label:"Holiday Status",selectionMode:"multiple",variant:"bordered",selectedKeys:new Set(c),onSelectionChange:o=>D(Array.from(o)),radius:S(),classNames:{trigger:"border-default-200 hover:border-default-300 focus-within:border-primary",popoverContent:"border-default-200",value:"text-foreground"},style:{fontFamily:'var(--fontFamily, "Inter")',border:"1px solid var(--theme-divider)"},children:[e.jsx(P,{value:"upcoming",textValue:"Upcoming",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-3 h-3"}),e.jsx("span",{children:"Upcoming"})]})},"upcoming"),e.jsx(P,{value:"ongoing",textValue:"Ongoing",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-3 h-3"}),e.jsx("span",{children:"Ongoing"})]})},"ongoing"),e.jsx(P,{value:"past",textValue:"Past",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-3 h-3"}),e.jsx("span",{children:"Past"})]})},"past")]}),e.jsx(Q,{label:"Year",selectionMode:"multiple",variant:"bordered",selectedKeys:new Set(j),onSelectionChange:o=>_(Array.from(o)),radius:S(),classNames:{trigger:"border-default-200 hover:border-default-300 focus-within:border-primary",popoverContent:"border-default-200",value:"text-foreground"},style:{fontFamily:'var(--fontFamily, "Inter")',border:"1px solid var(--theme-divider)"},children:Array.from({length:new Date().getFullYear()-2019+3},(o,f)=>{const w=(2020+f).toString();return e.jsx(P,{value:w,textValue:w,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“…"}),e.jsx("span",{children:w})]})},w)})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:e.jsxs(Q,{label:"Rows per page",variant:"bordered",selectedKeys:new Set([h.toString()]),onSelectionChange:o=>k(Number(Array.from(o)[0])),radius:S(),classNames:{trigger:"border-default-200 hover:border-default-300 focus-within:border-primary",popoverContent:"border-default-200",value:"text-foreground"},style:{fontFamily:'var(--fontFamily, "Inter")',border:"1px solid var(--theme-divider)"},children:[e.jsx(P,{value:"5",textValue:"5",children:"5"},"5"),e.jsx(P,{value:"10",textValue:"10",children:"10"},"10"),e.jsx(P,{value:"15",textValue:"15",children:"15"},"15"),e.jsx(P,{value:"25",textValue:"25",children:"25"},"25")]})}),(i||Array.isArray(d)&&d.length>0||Array.isArray(c)&&c.length>0||Array.isArray(j)&&j.length>0)&&e.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[i&&e.jsxs(E,{size:"sm",variant:"flat",color:"primary",onClose:()=>y(""),children:["Search: ",i]}),Array.isArray(d)&&d.map(o=>{var f,w;return e.jsxs(E,{size:"sm",variant:"flat",color:"secondary",onClose:()=>v(R=>R.filter(J=>J!==o)),children:[(f=p[o])==null?void 0:f.icon," ",(w=p[o])==null?void 0:w.label]},o)}),Array.isArray(c)&&c.map(o=>e.jsxs(E,{size:"sm",variant:"flat",color:"warning",onClose:()=>D(f=>f.filter(w=>w!==o)),children:[o==="upcoming"&&"ðŸ•",o==="ongoing"&&"âœ…",o==="past"&&"ðŸ“‹",o.charAt(0).toUpperCase()+o.slice(1)]},o)),Array.isArray(j)&&j.map(o=>e.jsxs(E,{size:"sm",variant:"flat",color:"secondary",onClose:()=>_(f=>f.filter(w=>w!==o)),children:["ðŸ“… ",o]},o))]})})]}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("span",{className:"text-default-400 text-small",children:["Total ",F.length," holidays",Array.isArray(d)&&d.length>0||Array.isArray(c)&&c.length>0||i?` (filtered from ${r.length})`:""]})})]}),[i,d,c,F.length,r.length,h,u,l]);x.useMemo(()=>e.jsxs("div",{className:"py-2 px-2 flex justify-between items-center",children:[e.jsx("span",{className:"w-[30%] text-small text-default-400",children:`${(m-1)*h+1}-${Math.min(m*h,F.length)} of ${F.length}`}),e.jsx(le,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:m,total:I,onChange:g,radius:S(),classNames:{wrapper:"border-default-200",item:"border-default-200",cursor:"bg-primary text-primary-foreground"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),e.jsxs("div",{className:"hidden sm:flex w-[30%] justify-end gap-2",children:[e.jsx(Y,{isDisabled:I===1,size:"sm",variant:"flat",onPress:()=>g(1),radius:S(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:"First"}),e.jsx(Y,{isDisabled:I===1,size:"sm",variant:"flat",onPress:()=>g(I),radius:S(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Last"})]})]}),[m,I,F.length,h]);const oe=({holiday:o})=>{const f=p[o.type]||p.company,w=N(o),R=te(new Date(o.to_date),new Date(o.from_date))+1;return e.jsx(de,{className:"mb-2",style:{background:"color-mix(in srgb, var(--theme-content1) 85%, transparent)",backdropFilter:"blur(16px)",border:"1px solid color-mix(in srgb, var(--theme-content2) 50%, transparent)",borderRadius:S()},children:e.jsxs(ce,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-base mb-2",style:{color:"var(--theme-foreground)",fontFamily:'var(--fontFamily, "Inter")'},children:o.title}),o.description&&e.jsx("p",{className:"text-sm mb-3 line-clamp-2",style:{color:"var(--theme-foreground-600)",fontFamily:'var(--fontFamily, "Inter")'},children:o.description})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[e.jsx(E,{className:"capitalize",color:w.color,size:"md",variant:"bordered",startContent:e.jsx(w.icon,{className:"w-3 h-3"}),radius:S(),classNames:{base:"border-default-200",content:"text-foreground font-medium"},style:{fontFamily:'var(--fontFamily, "Inter")',border:"1px solid var(--theme-divider)"},children:w.label}),e.jsxs(ue,{children:[e.jsx(fe,{children:e.jsx(Y,{isIconOnly:!0,size:"sm",variant:"light",className:"min-w-8 h-8",style:{borderRadius:S()},children:e.jsx(pe,{className:"w-4 h-4"})})}),e.jsxs(he,{"aria-label":"Holiday actions",children:[e.jsx(B,{startContent:e.jsx(be,{className:"w-4 h-4"}),children:"View Details"},"view"),e.jsx(B,{startContent:e.jsx(ve,{className:"w-4 h-4"}),onPress:()=>t&&t(o),children:"Edit Holiday"},"edit"),e.jsx(B,{className:"text-danger",color:"danger",startContent:e.jsx(me,{className:"w-4 h-4"}),onPress:()=>a&&a(o.id),children:"Delete Holiday"},"delete")]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-medium mb-1",style:{color:"var(--theme-foreground-500)",fontFamily:'var(--fontFamily, "Inter")'},children:"Type"}),e.jsx(E,{className:"capitalize self-start",color:f.color,size:"sm",variant:"bordered",startContent:e.jsx("span",{className:"text-xs",children:f.icon}),radius:S(),classNames:{base:"border-default-200",content:"text-foreground font-medium"},style:{background:f.bgColor,color:f.textColor,fontFamily:'var(--fontFamily, "Inter")',border:"1px solid var(--theme-divider)"},children:f.label})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-medium mb-1",style:{color:"var(--theme-foreground-500)",fontFamily:'var(--fontFamily, "Inter")'},children:"Duration"}),e.jsxs("span",{className:"font-semibold",style:{color:"var(--theme-foreground)",fontFamily:'var(--fontFamily, "Inter")'},children:[R," ",R===1?"day":"days"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-medium mb-1",style:{color:"var(--theme-foreground-500)",fontFamily:'var(--fontFamily, "Inter")'},children:"Start Date"}),e.jsx("span",{className:"font-semibold",style:{color:"var(--theme-foreground)",fontFamily:'var(--fontFamily, "Inter")'},children:z(new Date(o.from_date),"MMM dd, yyyy")})]}),o.from_date!==o.to_date&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-medium mb-1",style:{color:"var(--theme-foreground-500)",fontFamily:'var(--fontFamily, "Inter")'},children:"End Date"}),e.jsx("span",{className:"font-semibold",style:{color:"var(--theme-foreground)",fontFamily:'var(--fontFamily, "Inter")'},children:z(new Date(o.to_date),"MMM dd, yyyy")})]})]})]})]})})};return r.length===0?e.jsx(de,{className:"shadow-md",radius:S(),style:{background:"var(--theme-content1)",border:"1px solid var(--theme-divider)"},children:e.jsxs(ce,{className:"text-center py-12",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(W,{className:"w-16 h-16 mx-auto mb-4 text-default-300"}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Holidays Found"}),e.jsx("p",{className:"text-default-500 text-sm",children:"No company holidays have been configured yet."})]})}):l?e.jsxs("div",{className:"space-y-4",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[K,e.jsx("div",{className:"space-y-3",children:U.map(o=>e.jsx(oe,{holiday:o},o.id))}),F.length>h&&e.jsx("div",{className:"py-2 px-2 flex justify-center",children:e.jsx(le,{initialPage:1,isCompact:!0,showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:m,total:I,onChange:g,radius:S(),classNames:{wrapper:"border-default-200",item:"border-default-200",cursor:"bg-primary text-primary-foreground"},style:{fontFamily:'var(--fontFamily, "Inter")'}})})]}):e.jsxs("div",{className:"space-y-4",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(Qe,{className:"max-h-[70vh]",children:e.jsxs(Ge,{isStriped:!0,"aria-label":"Holiday management table",isHeaderSticky:!0,topContent:K,topContentPlacement:"outside",isCompact:!0,removeWrapper:!0,radius:S(),classNames:{base:"max-h-[520px] overflow-auto",table:"min-h-[200px] w-full",thead:"z-10",tbody:"overflow-y-auto",th:"bg-default-100 text-default-700 font-semibold",td:"text-default-600"},style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(Xe,{columns:M,children:o=>e.jsx(Ue,{align:o.uid==="actions"?"center":"start",allowsSorting:o.sortable,className:"backdrop-blur-md",style:{backgroundColor:"color-mix(in srgb, var(--theme-content2) 60%, transparent)",color:"var(--theme-foreground)",borderBottom:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)"},children:e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-xs font-semibold",children:o.name})})},o.uid)}),e.jsx(Ke,{emptyContent:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(W,{className:"w-12 h-12 mb-4 opacity-40",style:{color:"var(--theme-foreground-400)"}}),e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--theme-foreground)"},children:"No holidays found"}),e.jsx("p",{className:"text-xs mt-1",style:{color:"var(--theme-foreground-500)"},children:"Try adjusting your filters or add a new holiday"})]}),items:U,isLoading:n,loadingContent:e.jsx("div",{style:{fontFamily:'var(--fontFamily, "Inter")',color:"var(--theme-foreground)"},children:"Loading holidays..."}),children:o=>e.jsx(Je,{children:f=>e.jsx(Ze,{children:H(o,f)})},o.id)})]})}),F.length>h&&e.jsx("div",{className:"py-2 px-2 flex justify-center",children:e.jsx(le,{initialPage:1,isCompact:!0,showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:m,total:I,onChange:g,radius:S(),classNames:{wrapper:"border-default-200",item:"border-default-200",cursor:"bg-primary text-primary-foreground"},style:{fontFamily:'var(--fontFamily, "Inter")'}})})]})},Oe=({open:r,closeModal:t,holidaysData:a,setHolidaysData:s,currentHoliday:n})=>{const l=()=>{var p;if(typeof window>"u")return"lg";const u=((p=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:p.trim())||"12px",C=parseInt(u);return C===0?"none":C<=4?"sm":C<=8?"md":C<=16?"lg":"full"},[i,y]=x.useState({title:"",description:"",from_date:"",to_date:"",type:"company",is_recurring:!1,is_active:!0}),[d,v]=x.useState({}),[c,D]=x.useState(!1),j=[{key:"public",label:"Public Holiday",icon:"ðŸ›ï¸",description:"Government declared public holiday"},{key:"religious",label:"Religious Holiday",icon:"ðŸ•Œ",description:"Religious observance"},{key:"national",label:"National Holiday",icon:"ðŸ‡§ðŸ‡©",description:"National celebration or commemoration"},{key:"company",label:"Company Holiday",icon:"ðŸ¢",description:"Company-specific holiday"},{key:"optional",label:"Optional Holiday",icon:"ðŸ“…",description:"Optional observance"}];x.useEffect(()=>{y(n?{title:n.title||"",description:n.description||"",from_date:n.from_date||"",to_date:n.to_date||"",type:n.type||"company",is_recurring:n.is_recurring||!1,is_active:n.is_active!==void 0?n.is_active:!0}:{title:"",description:"",from_date:"",to_date:"",type:"company",is_recurring:!1,is_active:!0}),v({})},[n,r]);const _=x.useMemo(()=>{if(i.from_date&&i.to_date){const k=new Date(i.from_date),u=new Date(i.to_date);return te(u,k)+1}return 1},[i.from_date,i.to_date]),m=(k,u)=>{y(C=>({...C,[k]:u})),d[k]&&v(C=>({...C,[k]:void 0})),k==="from_date"&&!i.to_date&&y(C=>({...C,to_date:u}))},g=async k=>{var u,C,p;k.preventDefault(),D(!0),v({});try{const N={title:i.title,description:i.description,fromDate:i.from_date,toDate:i.to_date,type:i.type,is_recurring:i.is_recurring,is_active:i.is_active};n&&(N.id=n.id);const F=await We.post(route("holidays-add"),N);F.status===200&&(s(F.data.holidays),G.success(F.data.message||"Holiday saved successfully!"),t())}catch(N){((u=N.response)==null?void 0:u.status)===422?(v(N.response.data.errors||{}),G.error("Please check the form for errors")):G.error(((p=(C=N.response)==null?void 0:C.data)==null?void 0:p.message)||"Failed to save holiday")}finally{D(!1)}},h=j.find(k=>k.key===i.type);return e.jsx(Ie,{isOpen:r,onClose:t,size:"3xl",radius:l(),scrollBehavior:"inside",classNames:{base:"backdrop-blur-md mx-2 my-2 sm:mx-4 sm:my-8 max-h-[95vh]",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",body:"overflow-y-auto",footer:"border-t border-divider",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:e.jsx(Re,{children:k=>e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"flex flex-col gap-1",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}}),e.jsx("span",{className:"text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:n?"Edit Holiday":"Add New Holiday"})]})}),e.jsxs("form",{onSubmit:g,children:[e.jsx(Ye,{className:"py-4 px-4 sm:py-6 sm:px-6",style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}}),e.jsx("h3",{className:"text-base font-semibold",style:{color:"var(--theme-foreground)"},children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(Z,{label:"Holiday Title",placeholder:"Enter holiday name",value:i.title,onValueChange:u=>m("title",u),isInvalid:!!d.title,errorMessage:d.title,variant:"bordered",size:"sm",radius:l(),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),e.jsx(et,{label:"Description",placeholder:"Optional description or notes",value:i.description,onValueChange:u=>m("description",u),isInvalid:!!d.description,errorMessage:d.description,variant:"bordered",size:"sm",radius:l(),minRows:3,maxRows:5,classNames:{input:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'}})]})]}),e.jsx(ee,{style:{background:"var(--theme-divider)"}}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}}),e.jsx("h3",{className:"text-base font-semibold",style:{color:"var(--theme-foreground)"},children:"Holiday Type"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Q,{label:"Holiday Type",placeholder:"Select holiday type",selectedKeys:i.type?new Set([i.type]):new Set,onSelectionChange:u=>{const C=Array.from(u)[0];m("type",C||"")},isInvalid:!!d.type,errorMessage:d.type,variant:"bordered",size:"sm",radius:l(),classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:j.map(u=>e.jsx(P,{value:u.key,textValue:u.label,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:u.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:u.label}),e.jsx("div",{className:"text-xs text-default-500",children:u.description})]})]})},u.key))}),h&&e.jsxs("div",{className:"p-3 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--theme-content2)",borderColor:"var(--theme-divider)",borderRadius:"var(--borderRadius, 12px)"},children:[e.jsx("span",{className:"text-lg",children:h.icon}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",style:{color:"var(--theme-foreground)"},children:h.label}),e.jsx("div",{className:"text-xs",style:{color:"var(--theme-foreground-600)"},children:h.description})]})]})]})]}),e.jsx(ee,{style:{background:"var(--theme-divider)"}}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}}),e.jsx("h3",{className:"text-base font-semibold",style:{color:"var(--theme-foreground)"},children:"Date Range"})]}),_>1&&e.jsxs(E,{variant:"bordered",size:"sm",radius:l(),style:{borderColor:"var(--theme-primary)",color:"var(--theme-primary)",borderRadius:"var(--borderRadius, 8px)"},children:[_," days"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Z,{label:"From Date",type:"date",value:i.from_date,onValueChange:u=>m("from_date",u),isInvalid:!!d.fromDate,errorMessage:d.fromDate,variant:"bordered",size:"sm",radius:l(),startContent:e.jsx(W,{className:"w-4 h-4 text-default-400"}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),e.jsx(Z,{label:"To Date",type:"date",value:i.to_date,onValueChange:u=>m("to_date",u),isInvalid:!!d.toDate,errorMessage:d.toDate,variant:"bordered",size:"sm",radius:l(),startContent:e.jsx(W,{className:"w-4 h-4 text-default-400"}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})]}),i.from_date&&i.to_date&&e.jsxs("div",{className:"p-3 rounded-lg border flex items-center gap-2",style:{backgroundColor:"var(--theme-content2)",borderColor:"var(--theme-divider)",borderRadius:"var(--borderRadius, 12px)"},children:[e.jsx(we,{className:"w-4 h-4",style:{color:"var(--theme-primary)"}}),e.jsx("div",{className:"text-sm",children:e.jsxs("span",{style:{color:"var(--theme-foreground)"},children:["Holiday period: ",z(new Date(i.from_date),"MMM dd, yyyy"),_>1&&e.jsxs(e.Fragment,{children:[" to ",z(new Date(i.to_date),"MMM dd, yyyy")]})," (",_," ",_===1?"day":"days",")"]})})]})]}),e.jsx(ee,{style:{background:"var(--theme-divider)"}}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}}),e.jsx("h3",{className:"text-base font-semibold",style:{color:"var(--theme-foreground)"},children:"Settings"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border flex items-center justify-between",style:{backgroundColor:"var(--theme-content2)",borderColor:"var(--theme-divider)",borderRadius:"var(--borderRadius, 12px)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5 text-default-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--theme-foreground)"},children:"Recurring Holiday"}),e.jsx("p",{className:"text-xs",style:{color:"var(--theme-foreground-600)"},children:"Repeat this holiday annually"})]})]}),e.jsx(xe,{isSelected:i.is_recurring,onValueChange:u=>m("is_recurring",u),color:"primary",size:"sm"})]}),e.jsxs("div",{className:"p-4 rounded-lg border flex items-center justify-between",style:{backgroundColor:"var(--theme-content2)",borderColor:"var(--theme-divider)",borderRadius:"var(--borderRadius, 12px)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"w-5 h-5 text-default-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--theme-foreground)"},children:"Active Holiday"}),e.jsx("p",{className:"text-xs",style:{color:"var(--theme-foreground-600)"},children:"Include in holiday calculations"})]})]}),e.jsx(xe,{isSelected:i.is_active,onValueChange:u=>m("is_active",u),color:"success",size:"sm"})]})]})]})]})}),e.jsxs(Ee,{className:"flex flex-col sm:flex-row justify-center gap-2 px-4 sm:px-6 py-3 sm:py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(Y,{color:"default",variant:"bordered",onPress:k,radius:l(),size:"sm",isDisabled:c,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),e.jsx(Y,{type:"submit",color:"primary",variant:"solid",isLoading:c,isDisabled:c,radius:l(),size:"sm",style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:c?"Saving...":n?"Update Holiday":"Create Holiday"})]})]})]})})})},Ht=({open:r,closeModal:t,holidayIdToDelete:a,setHolidaysData:s})=>{const[n,l]=x.useState(!1),i=()=>{var D;if(typeof window>"u")return"lg";const v=((D=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:D.trim())||"12px",c=parseInt(v);return c===0?"none":c<=4?"sm":c<=8?"md":c<=16?"lg":"full"},y=async()=>{if(!a){G.error("Invalid holiday ID provided");return}l(!0);const d=new Promise(async(v,c)=>{var D,j,_,m,g;try{const h=await We.delete(route("holiday-delete"),{params:{id:a,route:route().current()}});h.status===200&&(s(h.data.holidays),v("Holiday deleted successfully"))}catch(h){console.error("Error deleting holiday:",h),((D=h.response)==null?void 0:D.status)===404?c("Holiday not found or already deleted"):((j=h.response)==null?void 0:j.status)===403?c("You do not have permission to delete this holiday"):((_=h.response)==null?void 0:_.status)===422?c("Cannot delete holiday with current status"):c(((g=(m=h.response)==null?void 0:m.data)==null?void 0:g.error)||"Failed to delete holiday")}finally{l(!1),t()}});G.promise(d,{pending:"Deleting holiday...",success:{render({data:v}){return v}},error:{render({data:v}){return v}}})};return e.jsx(Ie,{isOpen:r,onClose:t,size:"md",radius:i(),classNames:{base:"backdrop-blur-md mx-2 my-2 sm:mx-4 sm:my-8",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",body:"py-6",footer:"border-t border-divider",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},isDismissable:!n,hideCloseButton:n,children:e.jsx(Re,{children:d=>e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"flex flex-col gap-1",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"color-mix(in srgb, #ef4444 15%, transparent)",color:"#ef4444"},children:e.jsx(je,{className:"w-6 h-6"})}),e.jsx("span",{className:"text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")',color:"var(--theme-foreground)"},children:"Confirm Deletion"})]})}),e.jsx(Ye,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(je,{className:"w-5 h-5 mt-0.5 flex-shrink-0",style:{color:"#ef4444"}}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--theme-foreground)"},children:"Are you sure you want to delete this holiday?"}),e.jsx("p",{className:"text-sm",style:{color:"var(--theme-foreground-600)"},children:"This action cannot be undone. The holiday will be permanently removed from the system."})]})]})}),e.jsxs(Ee,{className:"flex justify-end gap-2 px-6 py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(Y,{color:"default",variant:"bordered",onPress:d,radius:i(),size:"sm",isDisabled:n,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),e.jsx(Y,{color:"danger",variant:"solid",onPress:y,radius:i(),size:"sm",isLoading:n,isDisabled:n,startContent:!n&&e.jsx(me,{className:"w-4 h-4"}),style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:n?"Deleting...":"Delete Holiday"})]})]})})})},Tt=()=>{var s;if(typeof window>"u")return"lg";const t=((s=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:s.trim())||"12px",a=parseInt(t);return a===0?"none":a<=4?"sm":a<=8?"md":a<=12?"lg":"xl"},At=({title:r,stats:t})=>{const{auth:a,holidays:s}=rt().props,n=re("(max-width: 768px)"),l=re("(max-width: 640px)"),i=Array.isArray(s)?s:[],y=x.useMemo(()=>{const p=new Date().getFullYear();return i.filter(N=>N&&N.from_date&&new Date(N.from_date).getFullYear()===p)},[i]),[d,v]=x.useState({type:null,holidayId:null,currentHoliday:null}),[c,D]=x.useState(i),[j,_]=x.useState(y),m=x.useCallback((p,N=null,F=null)=>{v({type:p,holidayId:N,currentHoliday:F})},[]),g=x.useCallback(()=>{v({type:null,holidayId:null,currentHoliday:null})},[]),h=x.useCallback(p=>{D(p)},[]),k=x.useCallback(p=>{_(p)},[]);x.useEffect(()=>{const p=new Date().getFullYear(),F=(Array.isArray(c)?c:[]).filter(I=>I&&I.from_date&&new Date(I.from_date).getFullYear()===p);_(F)},[c]);const u=x.useMemo(()=>{const p=new Date().getFullYear(),N=Array.isArray(j)?j:[],F=N.filter(M=>M&&M.from_date&&new Date(M.from_date).getFullYear()===p),I=N.filter(M=>M&&M.from_date&&new Date(M.from_date)>new Date);N.filter(M=>{if(!M||!M.from_date||!M.to_date)return!1;const H=new Date,K=new Date(M.from_date),oe=new Date(M.to_date);return K<=H&&oe>=H});const U=N.reduce((M,H)=>!H||typeof H.duration!="number"?M:M+(H.duration||1),0);return[{title:"Total Holidays",value:N.length,icon:e.jsx(Ne,{className:"w-5 h-5"}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"All filtered holidays"},{title:"This Year",value:F.length,icon:e.jsx(Fe,{className:"w-5 h-5"}),color:"text-green-400",iconBg:"bg-green-500/20",description:"Current year holidays"},{title:"Upcoming",value:I.length,icon:e.jsx($,{className:"w-5 h-5"}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Future holidays"},{title:"Holiday Days",value:U,icon:e.jsx($,{className:"w-5 h-5"}),color:"text-orange-400",iconBg:"bg-orange-500/20",description:"Total days off in filtered data"}]},[j]),C=x.useMemo(()=>({open:!!d.type,closeModal:g,setHolidaysData:h,holidaysData:c,currentHoliday:d.currentHoliday}),[d.type,g,h,c,d.currentHoliday]);return e.jsxs(e.Fragment,{children:[e.jsx(at,{title:r}),d.type==="add_holiday"&&e.jsx(Oe,{...C}),d.type==="edit_holiday"&&e.jsx(Oe,{...C}),d.type==="delete_holiday"&&e.jsx(Ht,{open:!0,holidayIdToDelete:d.holidayId,setHolidaysData:h,closeModal:g}),e.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Holiday Management",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full",children:e.jsx(Ae.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.jsxs(de,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                                        var(--theme-content1, #FAFAFA) 20%, 
                                        var(--theme-content2, #F4F4F5) 10%, 
                                        var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(tt,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                                            color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                                            color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:e.jsx("div",{className:`${n?"p-4":"p-6"} w-full`,children:e.jsx("div",{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx("div",{className:`
                                                            ${n?"p-2":"p-3"} 
                                                            rounded-xl flex items-center justify-center
                                                        `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(Fe,{className:`
                                                                ${n?"w-6 h-6":"w-8 h-8"}
                                                            `,style:{color:"var(--theme-primary)"}})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:`
                                                                ${n?"text-xl":"text-2xl"} 
                                                                font-bold leading-tight
                                                            `,style:{color:"var(--theme-foreground)"},children:"Company Holidays"}),e.jsx("p",{className:`
                                                                ${n?"text-xs":"text-sm"} 
                                                                leading-relaxed mt-1
                                                            `,style:{color:"var(--theme-foreground-600)"},children:"Manage company holidays and observances throughout the year"})]})]}),e.jsx("div",{className:"flex items-center gap-2 lg:gap-3",children:e.jsx(Y,{color:"primary",variant:"solid",size:n?"sm":"md",onPress:()=>m("add_holiday"),startContent:e.jsx(ct,{className:"w-4 h-4"}),radius:Tt(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:!l&&"Add Holiday"})})]})})})}),e.jsxs(ce,{className:"p-6",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(st,{stats:u,className:"mb-6"}),e.jsx(ee,{className:"my-6",style:{background:"var(--theme-divider)"}}),e.jsxs("div",{className:"min-h-96",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2 font-semibold text-lg",children:[e.jsx(Ne,{className:"w-5 h-5"}),"Holiday Management"]}),e.jsx("div",{className:"overflow-hidden rounded-lg",children:e.jsx(Et,{holidaysData:c,onEdit:p=>m("edit_holiday",null,p),onDelete:p=>m("delete_holiday",p),onFilteredDataChange:k})})]})]})]})})})})})]})};At.layout=r=>e.jsx(nt,{children:r});export{At as default};
