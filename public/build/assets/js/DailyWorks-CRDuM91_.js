const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index.es-Vg7tHEkz.js","assets/js/vendor-react-FouZbkAE.js","assets/js/vendor-heroui-DDebgeAq.js","assets/js/vendor-inertia-sUfCHI_5.js","assets/js/vendor-utils-CrJAVL9K.js","assets/js/vendor-framer-DVePAyWF.js","assets/js/toastUtils-DyMTrX6V.js","assets/js/Dashboard-jKYLwLQe.js","assets/js/app-TQViN4u9.js","assets/css/app-BVpNNz58.css","assets/js/EnvelopeIcon-CFKoTD3N.js","assets/js/UserGroupIcon-CSQScwVa.js","assets/js/MapPinIcon-DDwLGyCW.js","assets/js/ClockIcon-BKLni_N9.js","assets/js/UserIcon-CgrjQ1A2.js","assets/js/ShieldCheckIcon-Ck-ae4AP.js","assets/js/XMarkIcon-twQGc8di.js","assets/js/KeyIcon-BIi5nz4o.js","assets/js/logo-DFaNDj_M.js","assets/js/MagnifyingGlassIcon-BJyUDYwI.js","assets/js/CheckCircleIcon-BAvoXTNq.js","assets/js/ExclamationTriangleIcon-BarRaUA8.js","assets/css/Dashboard-Bh76j7cs.css","assets/js/xlsx-Dn9MZjKJ.js","assets/js/createLucideIcon-DJAbkOCz.js","assets/js/PencilIcon-BsmkHcSS.js","assets/js/TrashIcon-Dnjv_I7q.js","assets/js/DocumentIcon-08C5TBVc.js","assets/js/PlusIcon-BO1LbXgZ.js","assets/js/EyeIcon-Ihhc2c0I.js","assets/js/XCircleIcon-BzKw4V53.js","assets/js/clock-Cy0rHGp7.js","assets/js/ExclamationTriangleIcon-D3y6aOMr.js","assets/js/XCircleIcon-Cv262LQg.js","assets/js/CheckCircleIcon-CykloG3X.js","assets/js/ClockIcon-Auj34PFH.js","assets/js/StatsCards-lSgfSmGH.js","assets/js/calendar-CNUH36JA.js","assets/js/map-pin-DeqdV2gE.js","assets/js/DocumentArrowDownIcon-DCm9Iy1y.js","assets/js/InformationCircleIcon-Hd0GuQtg.js","assets/js/TableCellsIcon-Dw93jRLu.js","assets/js/index-C_Sjs4zr.js","assets/js/ChartBarIcon-BGC3fra6.js","assets/js/AdjustmentsHorizontalIcon-lemo7t2o.js"])))=>i.map(i=>d[i]);
var Gd=Object.defineProperty;var Yd=(n,t,e)=>t in n?Gd(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var _c=(n,t,e)=>Yd(n,typeof t!="symbol"?t+"":t,e);import{j as l,A as Bi,B as zi,C as Ui,D as Wi,K as xu,F as xs,k as Yl,h as gn,b as Bt,E as ka,G as kc,a1 as lr,i as Xn,t as bu,_ as _l,v as mn,L as Ei,s as Pr,l as Hn,S as so,T as Jd,P as oo,p as pl,m as yu,n as wu,o as ga,q as Nu,r as ju,a as ur,d as kl,J as Kn,e as yr,a2 as Fc,W as Kd,X as Xd,a3 as Zd,N as Qd,O as ep,a4 as Hi,Q as tp,R as Pc}from"./vendor-heroui-DDebgeAq.js";import{r as ne,R as Jl,J as np,S as rp,Q as ip}from"./vendor-inertia-sUfCHI_5.js";import{r as ap,a as an}from"./vendor-utils-CrJAVL9K.js";import{s as Ot}from"./toastUtils-DyMTrX6V.js";import{F as Oi,u as ya,e as as,i as lo,P as Ii,c as fl,t as sp,A as op}from"./Dashboard-jKYLwLQe.js";import{b as go,F as Cc,g as gt,D as lp,a as cp,u as ss,w as up}from"./xlsx-Dn9MZjKJ.js";import{f as Au,g as fs,A as wo,e as Zr}from"./vendor-framer-DVePAyWF.js";import{F as Su}from"./PencilIcon-BsmkHcSS.js";import{F as Qr}from"./CheckCircleIcon-BAvoXTNq.js";import{F as ms}from"./TrashIcon-Dnjv_I7q.js";import{F as La}from"./app-TQViN4u9.js";import{F as Ti}from"./DocumentIcon-08C5TBVc.js";import{F as Lu}from"./PlusIcon-BO1LbXgZ.js";import{F as Fl}from"./EyeIcon-Ihhc2c0I.js";import{a as _u}from"./XMarkIcon-twQGc8di.js";import{F as vi}from"./ClockIcon-BKLni_N9.js";import{F as dp}from"./XCircleIcon-BzKw4V53.js";import{c as wi}from"./createLucideIcon-DJAbkOCz.js";import{F as xi}from"./ExclamationTriangleIcon-BarRaUA8.js";import{C as ku}from"./clock-Cy0rHGp7.js";import{F as pp}from"./ExclamationTriangleIcon-D3y6aOMr.js";import{F as Ic}from"./XCircleIcon-Cv262LQg.js";import{F as hl}from"./CheckCircleIcon-CykloG3X.js";import{F as fp}from"./ClockIcon-Auj34PFH.js";import{F as ds}from"./UserIcon-CgrjQ1A2.js";import{a as ps,F as hp}from"./MapPinIcon-DDwLGyCW.js";import{S as mp}from"./StatsCards-lSgfSmGH.js";import{C as gp}from"./calendar-CNUH36JA.js";import{M as Ec}from"./map-pin-DeqdV2gE.js";import{F as Fu}from"./DocumentArrowDownIcon-DCm9Iy1y.js";import{F as Pl}from"./InformationCircleIcon-Hd0GuQtg.js";import{F as Pu}from"./TableCellsIcon-Dw93jRLu.js";import{P as Xt}from"./index-C_Sjs4zr.js";import{g as vp}from"./vendor-react-FouZbkAE.js";import{F as Dc}from"./ChartBarIcon-BGC3fra6.js";import{F as xp}from"./AdjustmentsHorizontalIcon-lemo7t2o.js";import{F as bp}from"./MagnifyingGlassIcon-BJyUDYwI.js";function yp({title:n,titleId:t,...e},i){return ne.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?ne.createElement("title",{id:t},n):null,ne.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Cl=ne.forwardRef(yp);function wp({title:n,titleId:t,...e},i){return ne.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?ne.createElement("title",{id:t},n):null,ne.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const wa=ne.forwardRef(wp);function Np({title:n,titleId:t,...e},i){return ne.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?ne.createElement("title",{id:t},n):null,ne.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const ml=ne.forwardRef(Np);function jp({title:n,titleId:t,...e},i){return ne.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?ne.createElement("title",{id:t},n):null,ne.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const Oc=ne.forwardRef(jp);function Ap({title:n,titleId:t,...e},i){return ne.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?ne.createElement("title",{id:t},n):null,ne.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 9v6m-4.5 0V9M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Sp=ne.forwardRef(Ap);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],_p=wi("check-check",Lp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fp=wi("circle-alert",kp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],os=wi("circle-check-big",Pp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ip=wi("database",Cp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Dp=wi("hash",Ep);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Rp=wi("rotate-ccw",Op);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Rc=wi("sparkles",Mp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mc=wi("triangle-alert",Tp);function qp({title:n,titleId:t,...e},i){return ne.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},e),n?ne.createElement("title",{id:t},n):null,ne.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const Bp=ne.forwardRef(qp);var ls=ap();const zp=({children:n,onEdit:t,onDelete:e,onStatusChange:i,disabled:o=!1,className:a=""})=>{const[c,d]=ne.useState(!1),[f,g]=ne.useState(null),w=ne.useRef(null),v=ne.useRef(0),A=Au(0),h=80,D=fs(A,[-h,-40,0],[1,.5,0]),C=fs(A,[0,40,h],[0,.5,1]),O=ne.useCallback(ie=>{o||(v.current=ie.touches[0].clientX)},[o]),_=ne.useCallback(ie=>{if(o)return;const q=ie.touches[0].clientX-v.current,Q=Math.max(-h*1.5,Math.min(h*1.5,q));A.set(Q),Math.abs(Q)>20&&g(Q<0?"left":"right")},[o,A]),I=ne.useCallback(()=>{if(o)return;const ie=A.get();Math.abs(ie)>=h?ie<0?(A.set(-h),d(!0),g("left")):(A.set(h),d(!0),g("right")):(A.set(0),d(!1),g(null))},[o,A]),Y=ne.useCallback(()=>{A.set(0),d(!1),g(null)},[A]),ce=ne.useCallback(ie=>{ie==null||ie(),Y()},[Y]),re=ne.useCallback(ie=>{c&&w.current&&!w.current.contains(ie.target)&&Y()},[c,Y]);return Jl.useEffect(()=>{if(c)return document.addEventListener("touchstart",re),()=>document.removeEventListener("touchstart",re)},[c,re]),l.jsxs("div",{ref:w,className:`relative overflow-hidden ${a}`,children:[l.jsx(wo,{children:(f==="right"||A.get()>0)&&l.jsx(Zr.div,{className:"absolute left-0 top-0 bottom-0 flex items-stretch",style:{width:h,opacity:C},children:l.jsxs("button",{onClick:()=>ce(t),className:"flex-1 flex flex-col items-center justify-center gap-1 bg-primary text-white active:bg-primary/80 transition-colors","aria-label":"Edit",children:[l.jsx(Su,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs font-medium",children:"Edit"})]})})}),l.jsx(wo,{children:(f==="left"||A.get()<0)&&l.jsxs(Zr.div,{className:"absolute right-0 top-0 bottom-0 flex items-stretch",style:{width:h,opacity:D},children:[i&&l.jsxs("button",{onClick:()=>ce(i),className:"flex-1 flex flex-col items-center justify-center gap-1 bg-success text-white active:bg-success/80 transition-colors","aria-label":"Complete",children:[l.jsx(Qr,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs font-medium",children:"Done"})]}),e&&l.jsxs("button",{onClick:()=>ce(e),className:"flex-1 flex flex-col items-center justify-center gap-1 bg-danger text-white active:bg-danger/80 transition-colors","aria-label":"Delete",children:[l.jsx(ms,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs font-medium",children:"Delete"})]})]})}),l.jsx(Zr.div,{style:{x:A},onTouchStart:O,onTouchMove:_,onTouchEnd:I,className:"relative bg-content1",children:n}),!c&&!o&&l.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-20 pointer-events-none",children:l.jsx(La,{className:"w-4 h-4 text-default-400"})})]})},Up=({isOpen:n,onClose:t,dailyWork:e,onFilesUpdated:i})=>{const[o,a]=ne.useState([]),[c,d]=ne.useState(!1),[f,g]=ne.useState(!1),[w,v]=ne.useState(0),[A,h]=ne.useState(null),[D,C]=ne.useState(null),O=ne.useRef(null);Jl.useEffect(()=>{n&&(e!=null&&e.id)&&_()},[n,e==null?void 0:e.id]);const _=async()=>{var U,q,Q,ae,N;if(e!=null&&e.id){d(!0);try{const L=await an.get(route("dailyWorks.rfiFiles.index",e.id));a(L.data.files||[])}catch(L){console.error("Error fetching RFI files:",((U=L.response)==null?void 0:U.data)||L.message||L),Ot.error(((Q=(q=L.response)==null?void 0:q.data)==null?void 0:Q.error)||((N=(ae=L.response)==null?void 0:ae.data)==null?void 0:N.message)||"Failed to load RFI files")}finally{d(!1)}}},I=async U=>{const q=Array.from(U.target.files);if(q.length===0)return;g(!0),v(0);const Q=new FormData;q.forEach(N=>{Q.append("files[]",N)});const ae=new Promise(async(N,L)=>{var M,E,G,V,de,J,ue,me,Oe;try{const b=await an.post(route("dailyWorks.rfiFiles.upload",e.id),Q,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:P=>{const T=Math.round(P.loaded*100/P.total);v(T)}});if(b.data.errors&&b.data.errors.length>0){const P=b.data.errors.map(T=>T.error||T.file).join("; ");console.error("Upload errors from server:",b.data.errors),L(P);return}if(!b.data.files||b.data.files.length===0){console.error("No files were uploaded:",b.data),L("No files were uploaded. Please try again.");return}await _(),i&&i(b.data.total_files),N(b.data.message||"Files uploaded successfully")}catch(b){console.error("Error uploading files:",((M=b.response)==null?void 0:M.data)||b.message||b);const P=((de=(V=(G=(E=b.response)==null?void 0:E.data)==null?void 0:G.errors)==null?void 0:V.files)==null?void 0:de[0])||((ue=(J=b.response)==null?void 0:J.data)==null?void 0:ue.error)||((Oe=(me=b.response)==null?void 0:me.data)==null?void 0:Oe.message)||"Failed to upload files";L(P)}finally{g(!1),v(0),O.current&&(O.current.value="")}});Ot.promise(ae,{loading:"Uploading files...",success:N=>N,error:N=>N})},Y=async U=>{if(!confirm("Are you sure you want to delete this file?"))return;h(U);const q=new Promise(async(Q,ae)=>{var N,L,M,E,G;try{if(await an.delete(route("dailyWorks.rfiFiles.delete",[e.id,U])),await _(),i){const V=o.length-1;i(V)}Q("File deleted successfully")}catch(V){console.error("Error deleting file:",((N=V.response)==null?void 0:N.data)||V.message||V),ae(((M=(L=V.response)==null?void 0:L.data)==null?void 0:M.error)||((G=(E=V.response)==null?void 0:E.data)==null?void 0:G.message)||"Failed to delete file")}finally{h(null)}});Ot.promise(q,{loading:"Deleting file...",success:Q=>Q,error:Q=>Q})},ce=U=>{U.is_image?C(U):window.open(U.url,"_blank")},re=U=>{window.open(route("dailyWorks.rfiFiles.download",[e.id,U.id]),"_blank")},ie=U=>U.is_image?l.jsxs("div",{className:"relative group",children:[l.jsx(kc,{src:U.thumb_url||U.url,alt:U.name,className:"w-16 h-16 object-cover rounded-lg cursor-pointer",onClick:()=>ce(U)}),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center cursor-pointer",onClick:()=>ce(U),children:l.jsx(Fl,{className:"w-5 h-5 text-white"})})]}):l.jsx("div",{className:"w-16 h-16 bg-red-50 dark:bg-red-900/20 rounded-lg flex items-center justify-center cursor-pointer hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",onClick:()=>ce(U),children:l.jsx(Oi,{className:"w-8 h-8 text-red-500"})});return l.jsxs(l.Fragment,{children:[l.jsx(Bi,{isOpen:n,onClose:t,size:"2xl",scrollBehavior:"inside",placement:"center",children:l.jsx(zi,{children:U=>l.jsxs(l.Fragment,{children:[l.jsxs(Ui,{className:"flex flex-col gap-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ti,{className:"w-5 h-5 text-primary"}),l.jsxs("span",{children:["RFI Files - ",e==null?void 0:e.number]})]}),l.jsx("p",{className:"text-sm text-default-500 font-normal",children:"Manage uploaded RFI documents and images"})]}),l.jsxs(Wi,{children:[l.jsxs("div",{className:"border-2 border-dashed border-default-300 rounded-lg p-4 text-center hover:border-primary transition-colors",children:[l.jsx("input",{ref:O,type:"file",multiple:!0,accept:"image/jpeg,image/png,image/webp,image/gif,application/pdf",onChange:I,className:"hidden",id:"rfi-file-input"}),f?l.jsxs("div",{className:"py-4",children:[l.jsx(xu,{value:w,className:"max-w-md mx-auto",color:"primary",showValueLabel:!0}),l.jsx("p",{className:"text-sm text-default-500 mt-2",children:"Uploading files..."})]}):l.jsxs("label",{htmlFor:"rfi-file-input",className:"cursor-pointer flex flex-col items-center gap-2 py-4",children:[l.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:l.jsx(Lu,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Click to upload files"}),l.jsx("p",{className:"text-xs text-default-400",children:"Images (JPEG, PNG, WebP, GIF) or PDF files up to 10MB each"})]})]})]}),l.jsx(xs,{className:"my-2"}),c?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(Yl,{size:"lg"})}):o.length===0?l.jsxs("div",{className:"text-center py-8 text-default-400",children:[l.jsx(Ti,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:"No files uploaded yet"})]}):l.jsx("div",{className:"space-y-2",children:o.map(q=>l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-default-50 dark:bg-default-100/10 rounded-lg hover:bg-default-100 dark:hover:bg-default-100/20 transition-colors",children:[ie(q),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",title:q.name,children:q.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(gn,{size:"sm",variant:"flat",color:q.is_image?"primary":"danger",className:"h-5",children:q.is_image?"Image":"PDF"}),l.jsx("span",{className:"text-xs text-default-400",children:q.human_size})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Bt,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>ce(q),title:"Preview",children:l.jsx(Fl,{className:"w-4 h-4"})}),l.jsx(Bt,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>re(q),title:"Download",children:l.jsx(Cl,{className:"w-4 h-4"})}),l.jsx(Bt,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",isLoading:A===q.id,onPress:()=>Y(q.id),title:"Delete",children:A!==q.id&&l.jsx(ms,{className:"w-4 h-4"})})]})]},q.id))})]}),l.jsx(ka,{children:l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsxs("span",{className:"text-sm text-default-500",children:[o.length," file",o.length!==1?"s":""," uploaded"]}),l.jsx(Bt,{color:"primary",variant:"light",onPress:U,children:"Close"})]})})]})})}),D&&l.jsx(Bi,{isOpen:!!D,onClose:()=>C(null),size:"4xl",placement:"center",children:l.jsx(zi,{children:U=>l.jsxs(l.Fragment,{children:[l.jsxs(Ui,{className:"flex items-center justify-between",children:[l.jsx("span",{className:"truncate",children:D.name}),l.jsx(Bt,{isIconOnly:!0,size:"sm",variant:"light",onPress:U,children:l.jsx(_u,{className:"w-5 h-5"})})]}),l.jsx(Wi,{className:"p-0",children:l.jsx(kc,{src:D.url,alt:D.name,className:"w-full h-auto max-h-[70vh] object-contain",removeWrapper:!0})})]})})})]})},Wp=({open:n,closeModal:t,dailyWork:e,onStatusUpdated:i})=>{var re,ie;const[o,a]=ne.useState({status:"new",inspection_result:"",completion_time:"",inspection_details:""}),[c,d]=ne.useState(!1);ne.useEffect(()=>{e&&n&&a({status:e.status||"new",inspection_result:e.inspection_result||"",completion_time:e.completion_time?new Date(e.completion_time).toISOString().slice(0,16):"",inspection_details:e.inspection_details||""})},[e,n]);const f=ne.useMemo(()=>[{key:"pass",label:"Pass",color:"success",description:"Work passed inspection"},{key:"fail",label:"Fail",color:"danger",description:"Work failed inspection"},{key:"conditional",label:"Conditional",color:"warning",description:"Passed with conditions"},{key:"pending",label:"Pending",color:"default",description:"Awaiting inspection"}],[]),g=ne.useMemo(()=>[{key:"new",label:"New",color:"primary",bgColor:"bg-primary-50",borderColor:"border-primary-300",textColor:"text-primary-700",icon:vi,description:"Work has been created and is waiting to be started"},{key:"in-progress",label:"In Progress",color:"secondary",bgColor:"bg-secondary-50",borderColor:"border-secondary-300",textColor:"text-secondary-700",icon:La,description:"Work is currently being executed"},{key:"pending",label:"Pending",color:"default",bgColor:"bg-default-100",borderColor:"border-default-300",textColor:"text-default-700",icon:Sp,description:"Work is on hold awaiting action"},{key:"completed",label:"Completed",color:"success",bgColor:"bg-success-50",borderColor:"border-success-300",textColor:"text-success-700",icon:Qr,description:"Work has been completed (select inspection result below)"},{key:"rejected",label:"Rejected",color:"danger",bgColor:"bg-danger-50",borderColor:"border-danger-300",textColor:"text-danger-700",icon:dp,description:"Work was rejected and needs correction"},{key:"resubmission",label:"Resubmission",color:"warning",bgColor:"bg-warning-50",borderColor:"border-warning-300",textColor:"text-warning-700",icon:Rp,description:"Work has been corrected and resubmitted"},{key:"emergency",label:"Emergency",color:"danger",bgColor:"bg-danger-100",borderColor:"border-danger-400",textColor:"text-danger-700",icon:xi,description:"Urgent work requiring immediate attention"}],[]),w=async()=>{d(!0);const U=new Promise(async(q,Q)=>{var ae,N,L,M,E;try{const G={id:e.id,status:o.status,completion_time:o.completion_time,inspection_details:o.inspection_details};o.status==="completed"&&o.inspection_result&&(G.inspection_result=o.inspection_result);const V=await an.post(route("dailyWorks.updateStatus"),G);i(V.data.dailyWork),t(),q("Status updated successfully")}catch(G){console.error("Error updating status:",((ae=G.response)==null?void 0:ae.data)||G.message||G);const V=((L=(N=G.response)==null?void 0:N.data)==null?void 0:L.error)||((E=(M=G.response)==null?void 0:M.data)==null?void 0:E.message)||"Failed to update status";Q(V)}finally{d(!1)}});Ot.promise(U,{loading:"Updating status...",success:q=>q,error:q=>q})},v=()=>g.find(U=>U.key===o.status),A=()=>g.find(U=>U.key===(e==null?void 0:e.status)),h=U=>{a(q=>({...q,status:U,completion_time:U==="completed"&&!q.completion_time?new Date().toISOString().slice(0,16):q.completion_time,inspection_result:U==="completed"?q.inspection_result:""}))},D=U=>{a(q=>({...q,inspection_result:U}))},C=(e==null?void 0:e.status)!==o.status,O=o.status==="completed"&&(e==null?void 0:e.inspection_result)!==o.inspection_result,_=o.inspection_details!==((e==null?void 0:e.inspection_details)||""),I=C||O||_,Y=((re=v())==null?void 0:re.icon)||vi,ce=((ie=A())==null?void 0:ie.icon)||vi;return console.log("[StatusUpdateModal] Render - open:",n,"dailyWork:",e==null?void 0:e.id,e==null?void 0:e.number),l.jsx(Bi,{isOpen:n,onClose:t,size:"lg",scrollBehavior:"inside",placement:"center",classNames:{base:"mx-2 sm:mx-4 my-2 max-h-[90vh] overflow-hidden",wrapper:"items-center overflow-hidden",backdrop:"bg-black/50",body:"py-4 px-4 sm:px-6 overflow-y-auto",header:"px-4 sm:px-6 pt-4 pb-2 border-b border-divider",footer:"px-4 sm:px-6 py-4 border-t border-divider bg-content1",closeButton:"top-3 right-3"},children:l.jsx(zi,{className:"max-h-[90vh] flex flex-col",children:U=>{var q,Q,ae,N,L,M,E,G,V,de,J,ue,me,Oe,b;return l.jsxs(l.Fragment,{children:[l.jsx(Ui,{className:"flex flex-col gap-1 shrink-0",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center shrink-0",children:l.jsx(Qr,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("h2",{className:"text-base sm:text-lg font-bold text-default-900",children:"Update Work Status"}),l.jsx("p",{className:"text-xs text-default-500 font-normal truncate",children:e==null?void 0:e.number})]})]})}),l.jsx(Wi,{className:"flex-1 overflow-y-auto",children:l.jsxs("div",{className:"space-y-4",children:[(e==null?void 0:e.description)&&l.jsx("div",{className:"bg-default-50 rounded-lg p-3 border border-default-100",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(go,{className:"w-4 h-4 text-default-400 shrink-0 mt-0.5"}),l.jsx("p",{className:"text-sm text-default-600 line-clamp-2",children:e.description})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"bg-default-50 rounded-lg p-2",children:[l.jsx("span",{className:"text-default-400 block",children:"Type"}),l.jsx("span",{className:"font-medium text-default-700",children:(e==null?void 0:e.type)||"N/A"})]}),l.jsxs("div",{className:"bg-default-50 rounded-lg p-2",children:[l.jsx("span",{className:"text-default-400 block",children:"Location"}),l.jsx("span",{className:"font-medium text-default-700 truncate block",children:(e==null?void 0:e.location)||"N/A"})]}),l.jsxs("div",{className:"bg-default-50 rounded-lg p-2",children:[l.jsx("span",{className:"text-default-400 block",children:"In Charge"}),l.jsx("span",{className:"font-medium text-default-700",children:((q=e==null?void 0:e.incharge_user)==null?void 0:q.name)||((Q=e==null?void 0:e.inchargeUser)==null?void 0:Q.name)||"N/A"})]}),l.jsxs("div",{className:"bg-default-50 rounded-lg p-2",children:[l.jsx("span",{className:"text-default-400 block",children:"Assigned To"}),l.jsx("span",{className:"font-medium text-default-700",children:((ae=e==null?void 0:e.assigned_user)==null?void 0:ae.name)||((N=e==null?void 0:e.assignedUser)==null?void 0:N.name)||"Not assigned"})]})]}),l.jsx(xs,{}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(_p,{className:"w-4 h-4 text-primary"}),l.jsx("span",{className:"font-semibold text-sm text-default-900",children:"Select New Status"})]}),l.jsx("div",{className:"space-y-2",children:g.map(P=>{const T=P.icon,H=o.status===P.key;return l.jsx("button",{type:"button",onClick:()=>h(P.key),className:lr("w-full p-3 rounded-lg border-2 transition-all duration-150 text-left","focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-1","active:scale-[0.99]",H?`${P.bgColor} ${P.borderColor}`:"bg-content1 border-default-200 hover:border-default-300"),children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:lr("w-8 h-8 rounded-full flex items-center justify-center shrink-0",H?P.bgColor:"bg-default-100"),children:l.jsx(T,{className:lr("w-4 h-4",H?P.textColor:"text-default-500")})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:lr("font-medium text-sm",H?P.textColor:"text-default-700"),children:P.label}),H&&l.jsx(gn,{color:P.color,size:"sm",variant:"flat",className:"h-5 text-xs",children:"Selected"})]}),l.jsx("p",{className:lr("text-xs mt-0.5 line-clamp-1",H?P.textColor:"text-default-400"),children:P.description})]})]})},P.key)})})]}),o.status==="completed"&&l.jsxs("div",{className:"bg-success-50 border-2 border-success-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Qr,{className:"w-4 h-4 text-success-600"}),l.jsx("span",{className:"font-semibold text-sm text-success-700",children:"Inspection Result"}),l.jsx("span",{className:"text-xs text-success-500",children:"(Required)"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(P=>{const T=o.inspection_result===P.key;return l.jsxs("button",{type:"button",onClick:()=>D(P.key),className:lr("p-3 rounded-lg border-2 transition-all duration-150 text-center","focus:outline-none focus:ring-2 focus:ring-success focus:ring-offset-1","active:scale-[0.98]",T?P.color==="success"?"bg-success-100 border-success-400":P.color==="danger"?"bg-danger-100 border-danger-400":P.color==="warning"?"bg-warning-100 border-warning-400":"bg-default-100 border-default-400":"bg-white border-default-200 hover:border-default-300"),children:[l.jsx("span",{className:lr("font-medium text-sm block",T?P.color==="success"?"text-success-700":P.color==="danger"?"text-danger-700":P.color==="warning"?"text-warning-700":"text-default-700":"text-default-600"),children:P.label}),l.jsx("span",{className:"text-xs text-default-400 block mt-0.5",children:P.description})]},P.key)})})]}),o.status==="completed"&&l.jsx("div",{children:l.jsx(Xn,{label:"Completion Time",type:"datetime-local",value:o.completion_time,onValueChange:P=>a(T=>({...T,completion_time:P})),variant:"bordered",size:"sm",startContent:l.jsx(ku,{size:16,className:"text-default-400"}),description:"When was this work actually completed?",classNames:{label:"text-default-700 font-medium text-sm",input:"text-sm",inputWrapper:"min-h-10"}})}),["completed","rejected","resubmission"].includes(o.status)&&l.jsx("div",{children:l.jsx(bu,{label:"Inspection Details",placeholder:o.status==="rejected"?"Describe the issues...":"Add inspection notes...",value:o.inspection_details,onValueChange:P=>a(T=>({...T,inspection_details:P})),variant:"bordered",minRows:2,maxRows:4,size:"sm",classNames:{label:"text-default-700 font-medium text-sm",input:"text-sm resize-none",inputWrapper:"min-h-16"}})}),C&&l.jsxs("div",{className:lr("p-3 rounded-lg border-2",(L=v())==null?void 0:L.bgColor,(M=v())==null?void 0:M.borderColor),children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Fp,{className:lr("w-4 h-4",(E=v())==null?void 0:E.textColor)}),l.jsx("span",{className:lr("font-medium text-sm",(G=v())==null?void 0:G.textColor),children:"Status Change"})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("div",{className:"flex items-center gap-1.5 bg-white/60 rounded px-2 py-1",children:[l.jsx(ce,{className:"w-3.5 h-3.5 text-default-500"}),l.jsx("span",{className:"text-xs font-medium capitalize",children:(V=e==null?void 0:e.status)==null?void 0:V.replace("_"," ")})]}),l.jsx("svg",{className:"w-4 h-4 text-default-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),l.jsxs("div",{className:lr("flex items-center gap-1.5 rounded px-2 py-1",(de=v())==null?void 0:de.bgColor),children:[l.jsx(Y,{className:lr("w-3.5 h-3.5",(J=v())==null?void 0:J.textColor)}),l.jsx("span",{className:lr("text-xs font-medium",(ue=v())==null?void 0:ue.textColor),children:(me=v())==null?void 0:me.label})]})]})]})]})}),l.jsxs(ka,{className:"shrink-0 flex-col sm:flex-row gap-2",children:[l.jsx(Bt,{variant:"flat",color:"default",onPress:t,isDisabled:c,className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),l.jsx(Bt,{color:((Oe=v())==null?void 0:Oe.color)||"primary",onPress:w,isLoading:c,startContent:!c&&l.jsx(Y,{className:"w-4 h-4"}),className:"w-full sm:w-auto order-1 sm:order-2 font-semibold",isDisabled:!I||o.status==="completed"&&!o.inspection_result,children:c?"Updating...":`Update to ${(b=v())==null?void 0:b.label}`})]})]})}})})};function Wt(n){"@babel/helpers - typeof";return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(n)}var Vn=Uint8Array,dr=Uint16Array,Kl=Int32Array,_o=new Vn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ko=new Vn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Il=new Vn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cu=function(n,t){for(var e=new dr(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];for(var o=new Kl(e[30]),i=1;i<30;++i)for(var a=e[i];a<e[i+1];++a)o[a]=a-e[i]<<5|i;return{b:e,r:o}},Iu=Cu(_o,2),Eu=Iu.b,El=Iu.r;Eu[28]=258,El[258]=28;var Du=Cu(ko,0),Hp=Du.b,Tc=Du.r,Dl=new dr(32768);for(var tn=0;tn<32768;++tn){var hi=(tn&43690)>>1|(tn&21845)<<1;hi=(hi&52428)>>2|(hi&13107)<<2,hi=(hi&61680)>>4|(hi&3855)<<4,Dl[tn]=((hi&65280)>>8|(hi&255)<<8)>>1}var Br=function(n,t,e){for(var i=n.length,o=0,a=new dr(t);o<i;++o)n[o]&&++a[n[o]-1];var c=new dr(t);for(o=1;o<t;++o)c[o]=c[o-1]+a[o-1]<<1;var d;if(e){d=new dr(1<<t);var f=15-t;for(o=0;o<i;++o)if(n[o])for(var g=o<<4|n[o],w=t-n[o],v=c[n[o]-1]++<<w,A=v|(1<<w)-1;v<=A;++v)d[Dl[v]>>f]=g}else for(d=new dr(i),o=0;o<i;++o)n[o]&&(d[o]=Dl[c[n[o]-1]++]>>15-n[o]);return d},bi=new Vn(288);for(var tn=0;tn<144;++tn)bi[tn]=8;for(var tn=144;tn<256;++tn)bi[tn]=9;for(var tn=256;tn<280;++tn)bi[tn]=7;for(var tn=280;tn<288;++tn)bi[tn]=8;var gs=new Vn(32);for(var tn=0;tn<32;++tn)gs[tn]=5;var Vp=Br(bi,9,0),$p=Br(bi,9,1),Gp=Br(gs,5,0),Yp=Br(gs,5,1),gl=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},_r=function(n,t,e){var i=t/8|0;return(n[i]|n[i+1]<<8)>>(t&7)&e},vl=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},Xl=function(n){return(n+7)/8|0},Ou=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new Vn(n.subarray(t,e))},Jp=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Fr=function(n,t,e){var i=new Error(t||Jp[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,Fr),!e)throw i;return i},Kp=function(n,t,e,i){var o=n.length,a=0;if(!o||t.f&&!t.l)return e||new Vn(0);var c=!e,d=c||t.i!=2,f=t.i;c&&(e=new Vn(o*3));var g=function(Pe){var qe=e.length;if(Pe>qe){var Be=new Vn(Math.max(qe*2,Pe));Be.set(e),e=Be}},w=t.f||0,v=t.p||0,A=t.b||0,h=t.l,D=t.d,C=t.m,O=t.n,_=o*8;do{if(!h){w=_r(n,v,1);var I=_r(n,v+1,3);if(v+=3,I)if(I==1)h=$p,D=Yp,C=9,O=5;else if(I==2){var ie=_r(n,v,31)+257,U=_r(n,v+10,15)+4,q=ie+_r(n,v+5,31)+1;v+=14;for(var Q=new Vn(q),ae=new Vn(19),N=0;N<U;++N)ae[Il[N]]=_r(n,v+N*3,7);v+=U*3;for(var L=gl(ae),M=(1<<L)-1,E=Br(ae,L,1),N=0;N<q;){var G=E[_r(n,v,M)];v+=G&15;var Y=G>>4;if(Y<16)Q[N++]=Y;else{var V=0,de=0;for(Y==16?(de=3+_r(n,v,3),v+=2,V=Q[N-1]):Y==17?(de=3+_r(n,v,7),v+=3):Y==18&&(de=11+_r(n,v,127),v+=7);de--;)Q[N++]=V}}var J=Q.subarray(0,ie),ue=Q.subarray(ie);C=gl(J),O=gl(ue),h=Br(J,C,1),D=Br(ue,O,1)}else Fr(1);else{var Y=Xl(v)+4,ce=n[Y-4]|n[Y-3]<<8,re=Y+ce;if(re>o){f&&Fr(0);break}d&&g(A+ce),e.set(n.subarray(Y,re),A),t.b=A+=ce,t.p=v=re*8,t.f=w;continue}if(v>_){f&&Fr(0);break}}d&&g(A+131072);for(var me=(1<<C)-1,Oe=(1<<O)-1,b=v;;b=v){var V=h[vl(n,v)&me],P=V>>4;if(v+=V&15,v>_){f&&Fr(0);break}if(V||Fr(2),P<256)e[A++]=P;else if(P==256){b=v,h=null;break}else{var T=P-254;if(P>264){var N=P-257,H=_o[N];T=_r(n,v,(1<<H)-1)+Eu[N],v+=H}var K=D[vl(n,v)&Oe],se=K>>4;K||Fr(3),v+=K&15;var ue=Hp[se];if(se>3){var H=ko[se];ue+=vl(n,v)&(1<<H)-1,v+=H}if(v>_){f&&Fr(0);break}d&&g(A+131072);var he=A+T;if(A<ue){var le=a-ue,Le=Math.min(ue,he);for(le+A<0&&Fr(3);A<Le;++A)e[A]=i[le+A]}for(;A<he;++A)e[A]=e[A-ue]}}t.l=h,t.p=b,t.b=A,t.f=w,h&&(w=1,t.m=C,t.d=D,t.n=O)}while(!w);return A!=e.length&&c?Ou(e,0,A):e.subarray(0,A)},Xr=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8},cs=function(n,t,e){e<<=t&7;var i=t/8|0;n[i]|=e,n[i+1]|=e>>8,n[i+2]|=e>>16},xl=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var o=e.length,a=e.slice();if(!o)return{t:Mu,l:0};if(o==1){var c=new Vn(e[0].s+1);return c[e[0].s]=1,{t:c,l:1}}e.sort(function(re,ie){return re.f-ie.f}),e.push({s:-1,f:25001});var d=e[0],f=e[1],g=0,w=1,v=2;for(e[0]={s:-1,f:d.f+f.f,l:d,r:f};w!=o-1;)d=e[e[g].f<e[v].f?g++:v++],f=e[g!=w&&e[g].f<e[v].f?g++:v++],e[w++]={s:-1,f:d.f+f.f,l:d,r:f};for(var A=a[0].s,i=1;i<o;++i)a[i].s>A&&(A=a[i].s);var h=new dr(A+1),D=Ol(e[w-1],h,0);if(D>t){var i=0,C=0,O=D-t,_=1<<O;for(a.sort(function(ie,U){return h[U.s]-h[ie.s]||ie.f-U.f});i<o;++i){var I=a[i].s;if(h[I]>t)C+=_-(1<<D-h[I]),h[I]=t;else break}for(C>>=O;C>0;){var Y=a[i].s;h[Y]<t?C-=1<<t-h[Y]++-1:++i}for(;i>=0&&C;--i){var ce=a[i].s;h[ce]==t&&(--h[ce],++C)}D=t}return{t:new Vn(h),l:D}},Ol=function(n,t,e){return n.s==-1?Math.max(Ol(n.l,t,e+1),Ol(n.r,t,e+1)):t[n.s]=e},qc=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new dr(++t),i=0,o=n[0],a=1,c=function(f){e[i++]=f},d=1;d<=t;++d)if(n[d]==o&&d!=t)++a;else{if(!o&&a>2){for(;a>138;a-=138)c(32754);a>2&&(c(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(c(o),--a;a>6;a-=6)c(8304);a>2&&(c(a-3<<5|8208),a=0)}for(;a--;)c(o);a=1,o=n[d]}return{c:e.subarray(0,i),n:t}},us=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},Ru=function(n,t,e){var i=e.length,o=Xl(t+2);n[o]=i&255,n[o+1]=i>>8,n[o+2]=n[o]^255,n[o+3]=n[o+1]^255;for(var a=0;a<i;++a)n[o+a+4]=e[a];return(o+4+i)*8},Bc=function(n,t,e,i,o,a,c,d,f,g,w){Xr(t,w++,e),++o[256];for(var v=xl(o,15),A=v.t,h=v.l,D=xl(a,15),C=D.t,O=D.l,_=qc(A),I=_.c,Y=_.n,ce=qc(C),re=ce.c,ie=ce.n,U=new dr(19),q=0;q<I.length;++q)++U[I[q]&31];for(var q=0;q<re.length;++q)++U[re[q]&31];for(var Q=xl(U,7),ae=Q.t,N=Q.l,L=19;L>4&&!ae[Il[L-1]];--L);var M=g+5<<3,E=us(o,bi)+us(a,gs)+c,G=us(o,A)+us(a,C)+c+14+3*L+us(U,ae)+2*U[16]+3*U[17]+7*U[18];if(f>=0&&M<=E&&M<=G)return Ru(t,w,n.subarray(f,f+g));var V,de,J,ue;if(Xr(t,w,1+(G<E)),w+=2,G<E){V=Br(A,h,0),de=A,J=Br(C,O,0),ue=C;var me=Br(ae,N,0);Xr(t,w,Y-257),Xr(t,w+5,ie-1),Xr(t,w+10,L-4),w+=14;for(var q=0;q<L;++q)Xr(t,w+3*q,ae[Il[q]]);w+=3*L;for(var Oe=[I,re],b=0;b<2;++b)for(var P=Oe[b],q=0;q<P.length;++q){var T=P[q]&31;Xr(t,w,me[T]),w+=ae[T],T>15&&(Xr(t,w,P[q]>>5&127),w+=P[q]>>12)}}else V=Vp,de=bi,J=Gp,ue=gs;for(var q=0;q<d;++q){var H=i[q];if(H>255){var T=H>>18&31;cs(t,w,V[T+257]),w+=de[T+257],T>7&&(Xr(t,w,H>>23&31),w+=_o[T]);var K=H&31;cs(t,w,J[K]),w+=ue[K],K>3&&(cs(t,w,H>>5&8191),w+=ko[K])}else cs(t,w,V[H]),w+=de[H]}return cs(t,w,V[256]),w+de[256]},Xp=new Kl([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Mu=new Vn(0),Zp=function(n,t,e,i,o,a){var c=a.z||n.length,d=new Vn(i+c+5*(1+Math.ceil(c/7e3))+o),f=d.subarray(i,d.length-o),g=a.l,w=(a.r||0)&7;if(t){w&&(f[0]=a.r>>3);for(var v=Xp[t-1],A=v>>13,h=v&8191,D=(1<<e)-1,C=a.p||new dr(32768),O=a.h||new dr(D+1),_=Math.ceil(e/3),I=2*_,Y=function(nt){return(n[nt]^n[nt+1]<<_^n[nt+2]<<I)&D},ce=new Kl(25e3),re=new dr(288),ie=new dr(32),U=0,q=0,Q=a.i||0,ae=0,N=a.w||0,L=0;Q+2<c;++Q){var M=Y(Q),E=Q&32767,G=O[M];if(C[E]=G,O[M]=E,N<=Q){var V=c-Q;if((U>7e3||ae>24576)&&(V>423||!g)){w=Bc(n,f,0,ce,re,ie,q,ae,L,Q-L,w),ae=U=q=0,L=Q;for(var de=0;de<286;++de)re[de]=0;for(var de=0;de<30;++de)ie[de]=0}var J=2,ue=0,me=h,Oe=E-G&32767;if(V>2&&M==Y(Q-Oe))for(var b=Math.min(A,V)-1,P=Math.min(32767,Q),T=Math.min(258,V);Oe<=P&&--me&&E!=G;){if(n[Q+J]==n[Q+J-Oe]){for(var H=0;H<T&&n[Q+H]==n[Q+H-Oe];++H);if(H>J){if(J=H,ue=Oe,H>b)break;for(var K=Math.min(Oe,H-2),se=0,de=0;de<K;++de){var he=Q-Oe+de&32767,le=C[he],Le=he-le&32767;Le>se&&(se=Le,G=he)}}}E=G,G=C[E],Oe+=E-G&32767}if(ue){ce[ae++]=268435456|El[J]<<18|Tc[ue];var Pe=El[J]&31,qe=Tc[ue]&31;q+=_o[Pe]+ko[qe],++re[257+Pe],++ie[qe],N=Q+J,++U}else ce[ae++]=n[Q],++re[n[Q]]}}for(Q=Math.max(Q,N);Q<c;++Q)ce[ae++]=n[Q],++re[n[Q]];w=Bc(n,f,g,ce,re,ie,q,ae,L,Q-L,w),g||(a.r=w&7|f[w/8|0]<<3,w-=7,a.h=O,a.p=C,a.i=Q,a.w=N)}else{for(var Q=a.w||0;Q<c+g;Q+=65535){var Be=Q+65535;Be>=c&&(f[w/8|0]=g,Be=c),w=Ru(f,w+1,n.subarray(Q,Be))}a.i=c}return Ou(d,0,i+Xl(w)+o)},Tu=function(){var n=1,t=0;return{p:function(e){for(var i=n,o=t,a=e.length|0,c=0;c!=a;){for(var d=Math.min(c+2655,a);c<d;++c)o+=i+=e[c];i=(i&65535)+15*(i>>16),o=(o&65535)+15*(o>>16)}n=i,t=o},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},Qp=function(n,t,e,i,o){if(!o&&(o={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),c=new Vn(a.length+n.length);c.set(a),c.set(n,a.length),n=c,o.w=a.length}return Zp(n,t.level==null?6:t.level,t.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,i,o)},qu=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},ef=function(n,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=i<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var o=Tu();o.p(t.dictionary),qu(n,2,o.d())}},tf=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Fr(6,"invalid zlib data"),(n[1]>>5&1)==1&&Fr(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function Rl(n,t){t||(t={});var e=Tu();e.p(n);var i=Qp(n,t,t.dictionary?6:2,4);return ef(i,t),qu(i,i.length-4,e.d()),i}function nf(n,t){return Kp(n.subarray(tf(n),-4),{i:2},t,t)}var rf=typeof TextDecoder<"u"&&new TextDecoder,af=0;try{rf.decode(Mu,{stream:!0}),af=1}catch{}var ht=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function bl(){ht.console&&typeof ht.console.log=="function"&&ht.console.log.apply(ht.console,arguments)}var Zt={log:bl,warn:function(n){ht.console&&(typeof ht.console.warn=="function"?ht.console.warn.apply(ht.console,arguments):bl.call(null,arguments))},error:function(n){ht.console&&(typeof ht.console.error=="function"?ht.console.error.apply(ht.console,arguments):bl(n))}};function yl(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Di(i.response,t,e)},i.onerror=function(){Zt.error("could not download file")},i.send()}function zc(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function co(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var hs,Ml,Di=ht.saveAs||((typeof window>"u"?"undefined":Wt(window))!=="object"||window!==ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=ht.URL||ht.webkitURL,o=document.createElement("a");t=t||n.name||"download",o.download=t,o.rel="noopener",typeof n=="string"?(o.href=n,o.origin!==location.origin?zc(o.href)?yl(n,t,e):co(o,o.target="_blank"):co(o)):(o.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(o.href)},4e4),setTimeout(function(){co(o)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(zc(n))yl(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){co(i)})}else navigator.msSaveOrOpenBlob(function(o,a){return a===void 0?a={autoBom:!1}:Wt(a)!=="object"&&(Zt.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}(n,e),t)}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return yl(n,t,e);var o=n.type==="application/octet-stream",a=/constructor/i.test(ht.HTMLElement)||ht.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&a)&&(typeof FileReader>"u"?"undefined":Wt(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var w=d.result;w=c?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=w:location=w,i=null},d.readAsDataURL(n)}else{var f=ht.URL||ht.webkitURL,g=f.createObjectURL(n);i?i.location=g:location.href=g,i=null,setTimeout(function(){f.revokeObjectURL(g)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Bu(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],i=0;i<e.length;i++){var o=e[i].re,a=e[i].process,c=o.exec(n);c&&(t=a(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),f=this.g.toString(16),g=this.b.toString(16);return d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),g.length==1&&(g="0"+g),"#"+d+f+g}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function wl(n,t){var e=n[0],i=n[1],o=n[2],a=n[3];e=Bn(e,i,o,a,t[0],7,-680876936),a=Bn(a,e,i,o,t[1],12,-389564586),o=Bn(o,a,e,i,t[2],17,606105819),i=Bn(i,o,a,e,t[3],22,-1044525330),e=Bn(e,i,o,a,t[4],7,-176418897),a=Bn(a,e,i,o,t[5],12,1200080426),o=Bn(o,a,e,i,t[6],17,-1473231341),i=Bn(i,o,a,e,t[7],22,-45705983),e=Bn(e,i,o,a,t[8],7,1770035416),a=Bn(a,e,i,o,t[9],12,-1958414417),o=Bn(o,a,e,i,t[10],17,-42063),i=Bn(i,o,a,e,t[11],22,-1990404162),e=Bn(e,i,o,a,t[12],7,1804603682),a=Bn(a,e,i,o,t[13],12,-40341101),o=Bn(o,a,e,i,t[14],17,-1502002290),e=zn(e,i=Bn(i,o,a,e,t[15],22,1236535329),o,a,t[1],5,-165796510),a=zn(a,e,i,o,t[6],9,-1069501632),o=zn(o,a,e,i,t[11],14,643717713),i=zn(i,o,a,e,t[0],20,-373897302),e=zn(e,i,o,a,t[5],5,-701558691),a=zn(a,e,i,o,t[10],9,38016083),o=zn(o,a,e,i,t[15],14,-660478335),i=zn(i,o,a,e,t[4],20,-405537848),e=zn(e,i,o,a,t[9],5,568446438),a=zn(a,e,i,o,t[14],9,-1019803690),o=zn(o,a,e,i,t[3],14,-187363961),i=zn(i,o,a,e,t[8],20,1163531501),e=zn(e,i,o,a,t[13],5,-1444681467),a=zn(a,e,i,o,t[2],9,-51403784),o=zn(o,a,e,i,t[7],14,1735328473),e=Un(e,i=zn(i,o,a,e,t[12],20,-1926607734),o,a,t[5],4,-378558),a=Un(a,e,i,o,t[8],11,-2022574463),o=Un(o,a,e,i,t[11],16,1839030562),i=Un(i,o,a,e,t[14],23,-35309556),e=Un(e,i,o,a,t[1],4,-1530992060),a=Un(a,e,i,o,t[4],11,1272893353),o=Un(o,a,e,i,t[7],16,-155497632),i=Un(i,o,a,e,t[10],23,-1094730640),e=Un(e,i,o,a,t[13],4,681279174),a=Un(a,e,i,o,t[0],11,-358537222),o=Un(o,a,e,i,t[3],16,-722521979),i=Un(i,o,a,e,t[6],23,76029189),e=Un(e,i,o,a,t[9],4,-640364487),a=Un(a,e,i,o,t[12],11,-421815835),o=Un(o,a,e,i,t[15],16,530742520),e=Wn(e,i=Un(i,o,a,e,t[2],23,-995338651),o,a,t[0],6,-198630844),a=Wn(a,e,i,o,t[7],10,1126891415),o=Wn(o,a,e,i,t[14],15,-1416354905),i=Wn(i,o,a,e,t[5],21,-57434055),e=Wn(e,i,o,a,t[12],6,1700485571),a=Wn(a,e,i,o,t[3],10,-1894986606),o=Wn(o,a,e,i,t[10],15,-1051523),i=Wn(i,o,a,e,t[1],21,-2054922799),e=Wn(e,i,o,a,t[8],6,1873313359),a=Wn(a,e,i,o,t[15],10,-30611744),o=Wn(o,a,e,i,t[6],15,-1560198380),i=Wn(i,o,a,e,t[13],21,1309151649),e=Wn(e,i,o,a,t[4],6,-145523070),a=Wn(a,e,i,o,t[11],10,-1120210379),o=Wn(o,a,e,i,t[2],15,718787259),i=Wn(i,o,a,e,t[9],21,-343485551),n[0]=gi(e,n[0]),n[1]=gi(i,n[1]),n[2]=gi(o,n[2]),n[3]=gi(a,n[3])}function Fo(n,t,e,i,o,a){return t=gi(gi(t,n),gi(i,a)),gi(t<<o|t>>>32-o,e)}function Bn(n,t,e,i,o,a,c){return Fo(t&e|~t&i,n,t,o,a,c)}function zn(n,t,e,i,o,a,c){return Fo(t&i|e&~i,n,t,o,a,c)}function Un(n,t,e,i,o,a,c){return Fo(t^e^i,n,t,o,a,c)}function Wn(n,t,e,i,o,a,c){return Fo(e^(t|~i),n,t,o,a,c)}function zu(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)wl(i,sf(n.substring(t-64,t)));n=n.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)o[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(wl(i,o),t=0;t<16;t++)o[t]=0;return o[14]=8*e,wl(i,o),i}function sf(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}hs=ht.atob.bind(ht),Ml=ht.btoa.bind(ht);var Uc="0123456789abcdef".split("");function of(n){for(var t="",e=0;e<4;e++)t+=Uc[n>>8*e+4&15]+Uc[n>>8*e&15];return t}function lf(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Tl(n){return zu(n).map(lf).join("")}var cf=function(n){for(var t=0;t<n.length;t++)n[t]=of(n[t]);return n.join("")}(zu("hello"))!="5d41402abc4b2a76b9719d911017c592";function gi(n,t){if(cf){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ql(n,t){var e,i,o,a;if(n!==e){for(var c=(o=n,a=1+(256/n.length>>0),new Array(a+1).join(o)),d=[],f=0;f<256;f++)d[f]=f;var g=0;for(f=0;f<256;f++){var w=d[f];g=(g+w+c.charCodeAt(f))%256,d[f]=d[g],d[g]=w}e=n,i=d}else d=i;var v=t.length,A=0,h=0,D="";for(f=0;f<v;f++)h=(h+(w=d[A=(A+1)%256]))%256,d[A]=d[h],d[h]=w,c=d[(d[A]+d[h])%256],D+=String.fromCharCode(t.charCodeAt(f)^c);return D}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Wc={print:4,modify:8,copy:16,"annot-forms":32};function va(n,t,e,i){this.v=1,this.r=2;var o=192;n.forEach(function(d){if(Wc.perm!==void 0)throw new Error("Invalid permission: "+d);o+=Wc[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),c=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,c),this.P=-(1+(255^o)),this.encryptionKey=Tl(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=ql(this.encryptionKey,this.padding)}function xa(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var o=n.charCodeAt(i);o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?t+="#"+("0"+o.toString(16)).slice(-2):t+=n[i]}return t}function Hc(n){if(Wt(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,o){if(o=o||!1,typeof e!="string"||typeof i!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[i,!!o],a},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var a in t[e]){var c=t[e][a];try{c[0].apply(n,i)}catch(d){ht.console&&Zt.error("jsPDF PubSub Error",d.message,d)}c[1]&&o.push(a)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function No(n){if(!(this instanceof No))return new No(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function Uu(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function Ri(n,t,e,i,o){if(!(this instanceof Ri))return new Ri(n,t,e,i,o);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,Uu.call(this,i,o)}function ba(n,t,e,i,o){if(!(this instanceof ba))return new ba(n,t,e,i,o);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,Uu.call(this,i,o)}function ft(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],o=arguments[2],a=arguments[3],c=[],d=1,f=16,g="S",w=null;Wt(n=n||{})==="object"&&(e=n.orientation,i=n.unit||i,o=n.format||o,a=n.compress||n.compressPdf||a,(w=n.encryption||null)!==null&&(w.userPassword=w.userPassword||"",w.ownerPassword=w.ownerPassword||"",w.userPermissions=w.userPermissions||[]),d=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),g=n.defaultPathOperation||"S"),c=n.filters||(a===!0?["FlateEncode"]:c),i=i||"mm",e=(""+(e||"P")).toLowerCase();var v=n.putOnlyUsedFonts||!1,A={},h={internal:{},__private__:{}};h.__private__.PubSub=Hc;var D="1.3",C=h.__private__.getPdfVersion=function(){return D};h.__private__.setPdfVersion=function(u){D=u};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return O};var _=h.__private__.getPageFormat=function(u){return O[u]};o=o||"a4";var I={COMPAT:"compat",ADVANCED:"advanced"},Y=I.COMPAT;function ce(){this.saveGraphicsState(),z(new ve(ze,0,0,-ze,0,ni()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),g="n",Y=I.ADVANCED}function re(){this.restoreGraphicsState(),g="S",Y=I.COMPAT}var ie=h.__private__.combineFontStyleAndFontWeight=function(u,y){if(u=="bold"&&y=="normal"||u=="bold"&&y==400||u=="normal"&&y=="italic"||u=="bold"&&y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return y&&(u=y==400||y==="normal"?u==="italic"?"italic":"normal":y!=700&&y!=="bold"||u!=="normal"?(y==700?"bold":y)+""+u:"bold"),u};h.advancedAPI=function(u){var y=Y===I.COMPAT;return y&&ce.call(this),typeof u!="function"||(u(this),y&&re.call(this)),this},h.compatAPI=function(u){var y=Y===I.ADVANCED;return y&&re.call(this),typeof u!="function"||(u(this),y&&ce.call(this)),this},h.isAdvancedAPI=function(){return Y===I.ADVANCED};var U,q=function(u){if(Y!==I.ADVANCED)throw new Error(u+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=h.roundToPrecision=h.__private__.roundToPrecision=function(u,y){var B=t||y;if(isNaN(u)||isNaN(B))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return u.toFixed(B).replace(/0+$/,"")};U=h.hpf=h.__private__.hpf=typeof f=="number"?function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(u,f)}:f==="smart"?function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(u,u>-1&&u<1?16:5)}:function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(u,16)};var ae=h.f2=h.__private__.f2=function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.f2");return Q(u,2)},N=h.__private__.f3=function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.f3");return Q(u,3)},L=h.scale=h.__private__.scale=function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.scale");return Y===I.COMPAT?u*ze:Y===I.ADVANCED?u:void 0},M=function(u){return Y===I.COMPAT?ni()-u:Y===I.ADVANCED?u:void 0},E=function(u){return L(M(u))};h.__private__.setPrecision=h.setPrecision=function(u){typeof parseInt(u,10)=="number"&&(t=parseInt(u,10))};var G,V="00000000000000000000000000000000",de=h.__private__.getFileId=function(){return V},J=h.__private__.setFileId=function(u){return V=u!==void 0&&/^[a-fA-F0-9]{32}$/.test(u)?u.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),w!==null&&(Tn=new va(w.userPermissions,w.userPassword,w.ownerPassword,V)),V};h.setFileId=function(u){return J(u),this},h.getFileId=function(){return de()};var ue=h.__private__.convertDateToPDFDate=function(u){var y=u.getTimezoneOffset(),B=y<0?"+":"-",$=Math.floor(Math.abs(y/60)),oe=Math.abs(y%60),be=[B,T($),"'",T(oe),"'"].join("");return["D:",u.getFullYear(),T(u.getMonth()+1),T(u.getDate()),T(u.getHours()),T(u.getMinutes()),T(u.getSeconds()),be].join("")},me=h.__private__.convertPDFDateToDate=function(u){var y=parseInt(u.substr(2,4),10),B=parseInt(u.substr(6,2),10)-1,$=parseInt(u.substr(8,2),10),oe=parseInt(u.substr(10,2),10),be=parseInt(u.substr(12,2),10),Ie=parseInt(u.substr(14,2),10);return new Date(y,B,$,oe,be,Ie,0)},Oe=h.__private__.setCreationDate=function(u){var y;if(u===void 0&&(u=new Date),u instanceof Date)y=ue(u);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(u))throw new Error("Invalid argument passed to jsPDF.setCreationDate");y=u}return G=y},b=h.__private__.getCreationDate=function(u){var y=G;return u==="jsDate"&&(y=me(G)),y};h.setCreationDate=function(u){return Oe(u),this},h.getCreationDate=function(u){return b(u)};var P,T=h.__private__.padd2=function(u){return("0"+parseInt(u)).slice(-2)},H=h.__private__.padd2Hex=function(u){return("00"+(u=u.toString())).substr(u.length)},K=0,se=[],he=[],le=0,Le=[],Pe=[],qe=!1,Be=he,nt=function(){K=0,le=0,he=[],se=[],Le=[],En=It(),Dn=It()};h.__private__.setCustomOutputDestination=function(u){qe=!0,Be=u};var ge=function(u){qe||(Be=u)};h.__private__.resetCustomOutputDestination=function(){qe=!1,Be=he};var z=h.__private__.out=function(u){return u=u.toString(),le+=u.length+1,Be.push(u),Be},rt=h.__private__.write=function(u){return z(arguments.length===1?u.toString():Array.prototype.join.call(arguments," "))},Ye=h.__private__.getArrayBuffer=function(u){for(var y=u.length,B=new ArrayBuffer(y),$=new Uint8Array(B);y--;)$[y]=u.charCodeAt(y);return B},Fe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Fe};var Re=n.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(u){return Re=Y===I.ADVANCED?u/ze:u,this};var Ue,Te=h.__private__.getFontSize=h.getFontSize=function(){return Y===I.COMPAT?Re:Re*ze},tt=n.R2L||!1;h.__private__.setR2L=h.setR2L=function(u){return tt=u,this},h.__private__.getR2L=h.getR2L=function(){return tt};var we,De=h.__private__.setZoomMode=function(u){var y=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(u))Ue=u;else if(isNaN(u)){if(y.indexOf(u)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+u+'" is not recognized.');Ue=u}else Ue=parseInt(u,10)};h.__private__.getZoomMode=function(){return Ue};var Xe,st=h.__private__.setPageMode=function(u){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(u)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+u+'" is not recognized.');we=u};h.__private__.getPageMode=function(){return we};var ot=h.__private__.setLayoutMode=function(u){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(u)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+u+'" is not recognized.');Xe=u};h.__private__.getLayoutMode=function(){return Xe},h.__private__.setDisplayMode=h.setDisplayMode=function(u,y,B){return De(u),ot(y),st(B),this};var it={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(u){if(Object.keys(it).indexOf(u)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return it[u]},h.__private__.getDocumentProperties=function(){return it},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(u){for(var y in it)it.hasOwnProperty(y)&&u[y]&&(it[y]=u[y]);return this},h.__private__.setDocumentProperty=function(u,y){if(Object.keys(it).indexOf(u)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return it[u]=y};var mt,ze,Ht,St,nn,Lt={},Mt={},An=[],Ft={},Vt={},Tt={},Sn={},Cn=null,Pt=0,pt=[],Ct=new Hc(h),pr=n.hotfixes||[],ln={},Mn={},In=[],ve=function u(y,B,$,oe,be,Ie){if(!(this instanceof u))return new u(y,B,$,oe,be,Ie);isNaN(y)&&(y=1),isNaN(B)&&(B=0),isNaN($)&&($=0),isNaN(oe)&&(oe=1),isNaN(be)&&(be=0),isNaN(Ie)&&(Ie=0),this._matrix=[y,B,$,oe,be,Ie]};Object.defineProperty(ve.prototype,"sx",{get:function(){return this._matrix[0]},set:function(u){this._matrix[0]=u}}),Object.defineProperty(ve.prototype,"shy",{get:function(){return this._matrix[1]},set:function(u){this._matrix[1]=u}}),Object.defineProperty(ve.prototype,"shx",{get:function(){return this._matrix[2]},set:function(u){this._matrix[2]=u}}),Object.defineProperty(ve.prototype,"sy",{get:function(){return this._matrix[3]},set:function(u){this._matrix[3]=u}}),Object.defineProperty(ve.prototype,"tx",{get:function(){return this._matrix[4]},set:function(u){this._matrix[4]=u}}),Object.defineProperty(ve.prototype,"ty",{get:function(){return this._matrix[5]},set:function(u){this._matrix[5]=u}}),Object.defineProperty(ve.prototype,"a",{get:function(){return this._matrix[0]},set:function(u){this._matrix[0]=u}}),Object.defineProperty(ve.prototype,"b",{get:function(){return this._matrix[1]},set:function(u){this._matrix[1]=u}}),Object.defineProperty(ve.prototype,"c",{get:function(){return this._matrix[2]},set:function(u){this._matrix[2]=u}}),Object.defineProperty(ve.prototype,"d",{get:function(){return this._matrix[3]},set:function(u){this._matrix[3]=u}}),Object.defineProperty(ve.prototype,"e",{get:function(){return this._matrix[4]},set:function(u){this._matrix[4]=u}}),Object.defineProperty(ve.prototype,"f",{get:function(){return this._matrix[5]},set:function(u){this._matrix[5]=u}}),Object.defineProperty(ve.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ve.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ve.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ve.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ve.prototype.join=function(u){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(u)},ve.prototype.multiply=function(u){var y=u.sx*this.sx+u.shy*this.shx,B=u.sx*this.shy+u.shy*this.sy,$=u.shx*this.sx+u.sy*this.shx,oe=u.shx*this.shy+u.sy*this.sy,be=u.tx*this.sx+u.ty*this.shx+this.tx,Ie=u.tx*this.shy+u.ty*this.sy+this.ty;return new ve(y,B,$,oe,be,Ie)},ve.prototype.decompose=function(){var u=this.sx,y=this.shy,B=this.shx,$=this.sy,oe=this.tx,be=this.ty,Ie=Math.sqrt(u*u+y*y),Ve=(u/=Ie)*B+(y/=Ie)*$;B-=u*Ve,$-=y*Ve;var ct=Math.sqrt(B*B+$*$);return Ve/=ct,u*($/=ct)<y*(B/=ct)&&(u=-u,y=-y,Ve=-Ve,Ie=-Ie),{scale:new ve(Ie,0,0,ct,0,0),translate:new ve(1,0,0,1,oe,be),rotate:new ve(u,y,-y,u,0,0),skew:new ve(1,0,Ve,1,0,0)}},ve.prototype.toString=function(u){return this.join(" ")},ve.prototype.inversed=function(){var u=this.sx,y=this.shy,B=this.shx,$=this.sy,oe=this.tx,be=this.ty,Ie=1/(u*$-y*B),Ve=$*Ie,ct=-y*Ie,jt=-B*Ie,wt=u*Ie;return new ve(Ve,ct,jt,wt,-Ve*oe-jt*be,-ct*oe-wt*be)},ve.prototype.applyToPoint=function(u){var y=u.x*this.sx+u.y*this.shx+this.tx,B=u.x*this.shy+u.y*this.sy+this.ty;return new Zi(y,B)},ve.prototype.applyToRectangle=function(u){var y=this.applyToPoint(u),B=this.applyToPoint(new Zi(u.x+u.w,u.y+u.h));return new qa(y.x,y.y,B.x-y.x,B.y-y.y)},ve.prototype.clone=function(){var u=this.sx,y=this.shy,B=this.shx,$=this.sy,oe=this.tx,be=this.ty;return new ve(u,y,B,$,oe,be)},h.Matrix=ve;var at=h.matrixMult=function(u,y){return y.multiply(u)},Ze=new ve(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Ze;var bt=function(u,y){if(!Vt[u]){var B=(y instanceof Ri?"Sh":"P")+(Object.keys(Ft).length+1).toString(10);y.id=B,Vt[u]=B,Ft[B]=y,Ct.publish("addPattern",y)}};h.ShadingPattern=Ri,h.TilingPattern=ba,h.addShadingPattern=function(u,y){return q("addShadingPattern()"),bt(u,y),this},h.beginTilingPattern=function(u){q("beginTilingPattern()"),Ds(u.boundingBox[0],u.boundingBox[1],u.boundingBox[2]-u.boundingBox[0],u.boundingBox[3]-u.boundingBox[1],u.matrix)},h.endTilingPattern=function(u,y){q("endTilingPattern()"),y.stream=Pe[P].join(`
`),bt(u,y),Ct.publish("endTilingPattern",y),In.pop().restore()};var yt=h.__private__.newObject=function(){var u=It();return kt(u,!0),u},It=h.__private__.newObjectDeferred=function(){return K++,se[K]=function(){return le},K},kt=function(u,y){return y=typeof y=="boolean"&&y,se[u]=le,y&&z(u+" 0 obj"),u},$n=h.__private__.newAdditionalObject=function(){var u={objId:It(),content:""};return Le.push(u),u},En=It(),Dn=It(),W=h.__private__.decodeColorString=function(u){var y=u.split(" ");if(y.length!==2||y[1]!=="g"&&y[1]!=="G")y.length===5&&(y[4]==="k"||y[4]==="K")&&(y=[(1-y[0])*(1-y[3]),(1-y[1])*(1-y[3]),(1-y[2])*(1-y[3]),"r"]);else{var B=parseFloat(y[0]);y=[B,B,B,"r"]}for(var $="#",oe=0;oe<3;oe++)$+=("0"+Math.floor(255*parseFloat(y[oe])).toString(16)).slice(-2);return $},Me=h.__private__.encodeColorString=function(u){var y;typeof u=="string"&&(u={ch1:u});var B=u.ch1,$=u.ch2,oe=u.ch3,be=u.ch4,Ie=u.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof B=="string"&&B.charAt(0)!=="#"){var Ve=new Bu(B);if(Ve.ok)B=Ve.toHex();else if(!/^\d*\.?\d*$/.test(B))throw new Error('Invalid color "'+B+'" passed to jsPDF.encodeColorString.')}if(typeof B=="string"&&/^#[0-9A-Fa-f]{3}$/.test(B)&&(B="#"+B[1]+B[1]+B[2]+B[2]+B[3]+B[3]),typeof B=="string"&&/^#[0-9A-Fa-f]{6}$/.test(B)){var ct=parseInt(B.substr(1),16);B=ct>>16&255,$=ct>>8&255,oe=255&ct}if($===void 0||be===void 0&&B===$&&$===oe)if(typeof B=="string")y=B+" "+Ie[0];else switch(u.precision){case 2:y=ae(B/255)+" "+Ie[0];break;case 3:default:y=N(B/255)+" "+Ie[0]}else if(be===void 0||Wt(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return y=["1.","1.","1.",Ie[1]].join(" ");if(typeof B=="string")y=[B,$,oe,Ie[1]].join(" ");else switch(u.precision){case 2:y=[ae(B/255),ae($/255),ae(oe/255),Ie[1]].join(" ");break;default:case 3:y=[N(B/255),N($/255),N(oe/255),Ie[1]].join(" ")}}else if(typeof B=="string")y=[B,$,oe,be,Ie[2]].join(" ");else switch(u.precision){case 2:y=[ae(B),ae($),ae(oe),ae(be),Ie[2]].join(" ");break;case 3:default:y=[N(B),N($),N(oe),N(be),Ie[2]].join(" ")}return y},ye=h.__private__.getFilters=function(){return c},_e=h.__private__.putStream=function(u){var y=(u=u||{}).data||"",B=u.filters||ye(),$=u.alreadyAppliedFilters||[],oe=u.addLength1||!1,be=y.length,Ie=u.objectId,Ve=function(qn){return qn};if(w!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");w!==null&&(Ve=Tn.encryptor(Ie,0));var ct={};B===!0&&(B=["FlateEncode"]);var jt=u.additionalKeyValues||[],wt=(ct=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(y,B):{data:y,reverseChain:[]}).reverseChain+(Array.isArray($)?$.join(" "):$.toString());if(ct.data.length!==0&&(jt.push({key:"Length",value:ct.data.length}),oe===!0&&jt.push({key:"Length1",value:be})),wt.length!=0)if(wt.split("/").length-1==1)jt.push({key:"Filter",value:wt});else{jt.push({key:"Filter",value:"["+wt+"]"});for(var Dt=0;Dt<jt.length;Dt+=1)if(jt[Dt].key==="DecodeParms"){for(var sn=[],un=0;un<ct.reverseChain.split("/").length-1;un+=1)sn.push("null");sn.push(jt[Dt].value),jt[Dt].value="["+sn.join(" ")+"]"}}z("<<");for(var yn=0;yn<jt.length;yn++)z("/"+jt[yn].key+" "+jt[yn].value);z(">>"),ct.data.length!==0&&(z("stream"),z(Ve(ct.data)),z("endstream"))},Qe=h.__private__.putPage=function(u){var y=u.number,B=u.data,$=u.objId,oe=u.contentsObjId;kt($,!0),z("<</Type /Page"),z("/Parent "+u.rootDictionaryObjId+" 0 R"),z("/Resources "+u.resourceDictionaryObjId+" 0 R"),z("/MediaBox ["+parseFloat(U(u.mediaBox.bottomLeftX))+" "+parseFloat(U(u.mediaBox.bottomLeftY))+" "+U(u.mediaBox.topRightX)+" "+U(u.mediaBox.topRightY)+"]"),u.cropBox!==null&&z("/CropBox ["+U(u.cropBox.bottomLeftX)+" "+U(u.cropBox.bottomLeftY)+" "+U(u.cropBox.topRightX)+" "+U(u.cropBox.topRightY)+"]"),u.bleedBox!==null&&z("/BleedBox ["+U(u.bleedBox.bottomLeftX)+" "+U(u.bleedBox.bottomLeftY)+" "+U(u.bleedBox.topRightX)+" "+U(u.bleedBox.topRightY)+"]"),u.trimBox!==null&&z("/TrimBox ["+U(u.trimBox.bottomLeftX)+" "+U(u.trimBox.bottomLeftY)+" "+U(u.trimBox.topRightX)+" "+U(u.trimBox.topRightY)+"]"),u.artBox!==null&&z("/ArtBox ["+U(u.artBox.bottomLeftX)+" "+U(u.artBox.bottomLeftY)+" "+U(u.artBox.topRightX)+" "+U(u.artBox.topRightY)+"]"),typeof u.userUnit=="number"&&u.userUnit!==1&&z("/UserUnit "+u.userUnit),Ct.publish("putPage",{objId:$,pageContext:pt[y],pageNumber:y,page:B}),z("/Contents "+oe+" 0 R"),z(">>"),z("endobj");var be=B.join(`
`);return Y===I.ADVANCED&&(be+=`
Q`),kt(oe,!0),_e({data:be,filters:ye(),objectId:oe}),z("endobj"),$},Ee=h.__private__.putPages=function(){var u,y,B=[];for(u=1;u<=Pt;u++)pt[u].objId=It(),pt[u].contentsObjId=It();for(u=1;u<=Pt;u++)B.push(Qe({number:u,data:Pe[u],objId:pt[u].objId,contentsObjId:pt[u].contentsObjId,mediaBox:pt[u].mediaBox,cropBox:pt[u].cropBox,bleedBox:pt[u].bleedBox,trimBox:pt[u].trimBox,artBox:pt[u].artBox,userUnit:pt[u].userUnit,rootDictionaryObjId:En,resourceDictionaryObjId:Dn}));kt(En,!0),z("<</Type /Pages");var $="/Kids [";for(y=0;y<Pt;y++)$+=B[y]+" 0 R ";z($+"]"),z("/Count "+Pt),z(">>"),z("endobj"),Ct.publish("postPutPages")},vt=function(u){Ct.publish("putFont",{font:u,out:z,newObject:yt,putStream:_e}),u.isAlreadyPutted!==!0&&(u.objectNumber=yt(),z("<<"),z("/Type /Font"),z("/BaseFont /"+xa(u.postScriptName)),z("/Subtype /Type1"),typeof u.encoding=="string"&&z("/Encoding /"+u.encoding),z("/FirstChar 32"),z("/LastChar 255"),z(">>"),z("endobj"))},je=function(){for(var u in Lt)Lt.hasOwnProperty(u)&&(v===!1||v===!0&&A.hasOwnProperty(u))&&vt(Lt[u])},Je=function(u){u.objectNumber=yt();var y=[];y.push({key:"Type",value:"/XObject"}),y.push({key:"Subtype",value:"/Form"}),y.push({key:"BBox",value:"["+[U(u.x),U(u.y),U(u.x+u.width),U(u.y+u.height)].join(" ")+"]"}),y.push({key:"Matrix",value:"["+u.matrix.toString()+"]"});var B=u.pages[1].join(`
`);_e({data:B,additionalKeyValues:y,objectId:u.objectNumber}),z("endobj")},lt=function(){for(var u in ln)ln.hasOwnProperty(u)&&Je(ln[u])},Ce=function(u,y){var B,$=[],oe=1/(y-1);for(B=0;B<1;B+=oe)$.push(B);if($.push(1),u[0].offset!=0){var be={offset:0,color:u[0].color};u.unshift(be)}if(u[u.length-1].offset!=1){var Ie={offset:1,color:u[u.length-1].color};u.push(Ie)}for(var Ve="",ct=0,jt=0;jt<$.length;jt++){for(B=$[jt];B>u[ct+1].offset;)ct++;var wt=u[ct].offset,Dt=(B-wt)/(u[ct+1].offset-wt),sn=u[ct].color,un=u[ct+1].color;Ve+=H(Math.round((1-Dt)*sn[0]+Dt*un[0]).toString(16))+H(Math.round((1-Dt)*sn[1]+Dt*un[1]).toString(16))+H(Math.round((1-Dt)*sn[2]+Dt*un[2]).toString(16))}return Ve.trim()},ut=function(u,y){y||(y=21);var B=yt(),$=Ce(u.colors,y),oe=[];oe.push({key:"FunctionType",value:"0"}),oe.push({key:"Domain",value:"[0.0 1.0]"}),oe.push({key:"Size",value:"["+y+"]"}),oe.push({key:"BitsPerSample",value:"8"}),oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e({data:$,additionalKeyValues:oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:B}),z("endobj"),u.objectNumber=yt(),z("<< /ShadingType "+u.type),z("/ColorSpace /DeviceRGB");var be="/Coords ["+U(parseFloat(u.coords[0]))+" "+U(parseFloat(u.coords[1]))+" ";u.type===2?be+=U(parseFloat(u.coords[2]))+" "+U(parseFloat(u.coords[3])):be+=U(parseFloat(u.coords[2]))+" "+U(parseFloat(u.coords[3]))+" "+U(parseFloat(u.coords[4]))+" "+U(parseFloat(u.coords[5])),z(be+="]"),u.matrix&&z("/Matrix ["+u.matrix.toString()+"]"),z("/Function "+B+" 0 R"),z("/Extend [true true]"),z(">>"),z("endobj")},Ke=function(u,y){var B=It(),$=yt();y.push({resourcesOid:B,objectOid:$}),u.objectNumber=$;var oe=[];oe.push({key:"Type",value:"/Pattern"}),oe.push({key:"PatternType",value:"1"}),oe.push({key:"PaintType",value:"1"}),oe.push({key:"TilingType",value:"1"}),oe.push({key:"BBox",value:"["+u.boundingBox.map(U).join(" ")+"]"}),oe.push({key:"XStep",value:U(u.xStep)}),oe.push({key:"YStep",value:U(u.yStep)}),oe.push({key:"Resources",value:B+" 0 R"}),u.matrix&&oe.push({key:"Matrix",value:"["+u.matrix.toString()+"]"}),_e({data:u.stream,additionalKeyValues:oe,objectId:u.objectNumber}),z("endobj")},Jt=function(u){var y;for(y in Ft)Ft.hasOwnProperty(y)&&(Ft[y]instanceof Ri?ut(Ft[y]):Ft[y]instanceof ba&&Ke(Ft[y],u))},$e=function(u){for(var y in u.objectNumber=yt(),z("<<"),u)switch(y){case"opacity":z("/ca "+ae(u[y]));break;case"stroke-opacity":z("/CA "+ae(u[y]))}z(">>"),z("endobj")},$t=function(){var u;for(u in Tt)Tt.hasOwnProperty(u)&&$e(Tt[u])},cn=function(){for(var u in z("/XObject <<"),ln)ln.hasOwnProperty(u)&&ln[u].objectNumber>=0&&z("/"+u+" "+ln[u].objectNumber+" 0 R");Ct.publish("putXobjectDict"),z(">>")},Gt=function(){Tn.oid=yt(),z("<<"),z("/Filter /Standard"),z("/V "+Tn.v),z("/R "+Tn.r),z("/U <"+Tn.toHexString(Tn.U)+">"),z("/O <"+Tn.toHexString(Tn.O)+">"),z("/P "+Tn.P),z(">>"),z("endobj")},_t=function(){for(var u in z("/Font <<"),Lt)Lt.hasOwnProperty(u)&&(v===!1||v===!0&&A.hasOwnProperty(u))&&z("/"+u+" "+Lt[u].objectNumber+" 0 R");z(">>")},Ln=function(){if(Object.keys(Ft).length>0){for(var u in z("/Shading <<"),Ft)Ft.hasOwnProperty(u)&&Ft[u]instanceof Ri&&Ft[u].objectNumber>=0&&z("/"+u+" "+Ft[u].objectNumber+" 0 R");Ct.publish("putShadingPatternDict"),z(">>")}},wr=function(u){if(Object.keys(Ft).length>0){for(var y in z("/Pattern <<"),Ft)Ft.hasOwnProperty(y)&&Ft[y]instanceof h.TilingPattern&&Ft[y].objectNumber>=0&&Ft[y].objectNumber<u&&z("/"+y+" "+Ft[y].objectNumber+" 0 R");Ct.publish("putTilingPatternDict"),z(">>")}},Fa=function(){if(Object.keys(Tt).length>0){var u;for(u in z("/ExtGState <<"),Tt)Tt.hasOwnProperty(u)&&Tt[u].objectNumber>=0&&z("/"+u+" "+Tt[u].objectNumber+" 0 R");Ct.publish("putGStateDict"),z(">>")}},rn=function(u){kt(u.resourcesOid,!0),z("<<"),z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),_t(),Ln(),wr(u.objectOid),Fa(),cn(),z(">>"),z("endobj")},bs=function(){var u=[];je(),$t(),lt(),Jt(u),Ct.publish("putResources"),u.forEach(rn),rn({resourcesOid:Dn,objectOid:Number.MAX_SAFE_INTEGER}),Ct.publish("postPutResources")},ys=function(){Ct.publish("putAdditionalObjects");for(var u=0;u<Le.length;u++){var y=Le[u];kt(y.objId,!0),z(y.content),z("endobj")}Ct.publish("postPutAdditionalObjects")},ws=function(u){Mt[u.fontName]=Mt[u.fontName]||{},Mt[u.fontName][u.fontStyle]=u.id},Pa=function(u,y,B,$,oe){var be={id:"F"+(Object.keys(Lt).length+1).toString(10),postScriptName:u,fontName:y,fontStyle:B,encoding:$,isStandardFont:oe||!1,metadata:{}};return Ct.publish("addFont",{font:be,instance:this}),Lt[be.id]=be,ws(be),be.id},Po=function(u){for(var y=0,B=Fe.length;y<B;y++){var $=Pa.call(this,u[y][0],u[y][1],u[y][2],Fe[y][3],!0);v===!1&&(A[$]=!0);var oe=u[y][0].split("-");ws({id:$,fontName:oe[0],fontStyle:oe[1]||""})}Ct.publish("addFonts",{fonts:Lt,dictionary:Mt})},Nr=function(u){return u.foo=function(){try{return u.apply(this,arguments)}catch($){var y=$.stack||"";~y.indexOf(" at ")&&(y=y.split(" at ")[1]);var B="Error in function "+y.split(`
`)[0].split("<")[0]+": "+$.message;if(!ht.console)throw new Error(B);ht.console.error(B,$),ht.alert&&alert(B)}},u.foo.bar=u,u.foo},$i=function(u,y){var B,$,oe,be,Ie,Ve,ct,jt,wt;if(oe=(y=y||{}).sourceEncoding||"Unicode",Ie=y.outputEncoding,(y.autoencode||Ie)&&Lt[mt].metadata&&Lt[mt].metadata[oe]&&Lt[mt].metadata[oe].encoding&&(be=Lt[mt].metadata[oe].encoding,!Ie&&Lt[mt].encoding&&(Ie=Lt[mt].encoding),!Ie&&be.codePages&&(Ie=be.codePages[0]),typeof Ie=="string"&&(Ie=be[Ie]),Ie)){for(ct=!1,Ve=[],B=0,$=u.length;B<$;B++)(jt=Ie[u.charCodeAt(B)])?Ve.push(String.fromCharCode(jt)):Ve.push(u[B]),Ve[B].charCodeAt(0)>>8&&(ct=!0);u=Ve.join("")}for(B=u.length;ct===void 0&&B!==0;)u.charCodeAt(B-1)>>8&&(ct=!0),B--;if(!ct)return u;for(Ve=y.noBOM?[]:[254,255],B=0,$=u.length;B<$;B++){if((wt=(jt=u.charCodeAt(B))>>8)>>8)throw new Error("Character at position "+B+" of string '"+u+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ve.push(wt),Ve.push(jt-(wt<<8))}return String.fromCharCode.apply(void 0,Ve)},Zn=h.__private__.pdfEscape=h.pdfEscape=function(u,y){return $i(u,y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ca=h.__private__.beginPage=function(u){Pe[++Pt]=[],pt[Pt]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(u[0]),topRightY:Number(u[1])}},js(Pt),ge(Pe[P])},Ns=function(u,y){var B,$,oe;switch(e=y||e,typeof u=="string"&&(B=_(u.toLowerCase()),Array.isArray(B)&&($=B[0],oe=B[1])),Array.isArray(u)&&($=u[0]*ze,oe=u[1]*ze),isNaN($)&&($=o[0],oe=o[1]),($>14400||oe>14400)&&(Zt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),$=Math.min(14400,$),oe=Math.min(14400,oe)),o=[$,oe],e.substr(0,1)){case"l":oe>$&&(o=[oe,$]);break;case"p":$>oe&&(o=[oe,$])}Ca(o),Fs(Oa),z(jr),Ma!==0&&z(Ma+" J"),Ta!==0&&z(Ta+" j"),Ct.publish("addPage",{pageNumber:Pt})},Co=function(u){u>0&&u<=Pt&&(Pe.splice(u,1),pt.splice(u,1),Pt--,P>Pt&&(P=Pt),this.setPage(P))},js=function(u){u>0&&u<=Pt&&(P=u)},Io=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Pe.length-1},As=function(u,y,B){var $,oe=void 0;return B=B||{},u=u!==void 0?u:Lt[mt].fontName,y=y!==void 0?y:Lt[mt].fontStyle,$=u.toLowerCase(),Mt[$]!==void 0&&Mt[$][y]!==void 0?oe=Mt[$][y]:Mt[u]!==void 0&&Mt[u][y]!==void 0?oe=Mt[u][y]:B.disableWarning===!1&&Zt.warn("Unable to look up font label for font '"+u+"', '"+y+"'. Refer to getFontList() for available fonts."),oe||B.noFallback||(oe=Mt.times[y])==null&&(oe=Mt.times.normal),oe},Eo=h.__private__.putInfo=function(){var u=yt(),y=function($){return $};for(var B in w!==null&&(y=Tn.encryptor(u,0)),z("<<"),z("/Producer ("+Zn(y("jsPDF "+ft.version))+")"),it)it.hasOwnProperty(B)&&it[B]&&z("/"+B.substr(0,1).toUpperCase()+B.substr(1)+" ("+Zn(y(it[B]))+")");z("/CreationDate ("+Zn(y(G))+")"),z(">>"),z("endobj")},Ia=h.__private__.putCatalog=function(u){var y=(u=u||{}).rootDictionaryObjId||En;switch(yt(),z("<<"),z("/Type /Catalog"),z("/Pages "+y+" 0 R"),Ue||(Ue="fullwidth"),Ue){case"fullwidth":z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":z("/OpenAction [3 0 R /Fit]");break;case"original":z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var B=""+Ue;B.substr(B.length-1)==="%"&&(Ue=parseInt(Ue)/100),typeof Ue=="number"&&z("/OpenAction [3 0 R /XYZ null null "+ae(Ue)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":z("/PageLayout /OneColumn");break;case"single":z("/PageLayout /SinglePage");break;case"two":case"twoleft":z("/PageLayout /TwoColumnLeft");break;case"tworight":z("/PageLayout /TwoColumnRight")}we&&z("/PageMode /"+we),Ct.publish("putCatalog"),z(">>"),z("endobj")},Do=h.__private__.putTrailer=function(){z("trailer"),z("<<"),z("/Size "+(K+1)),z("/Root "+K+" 0 R"),z("/Info "+(K-1)+" 0 R"),w!==null&&z("/Encrypt "+Tn.oid+" 0 R"),z("/ID [ <"+V+"> <"+V+"> ]"),z(">>")},Oo=h.__private__.putHeader=function(){z("%PDF-"+D),z("%")},Ro=h.__private__.putXRef=function(){var u="0000000000";z("xref"),z("0 "+(K+1)),z("0000000000 65535 f ");for(var y=1;y<=K;y++)typeof se[y]=="function"?z((u+se[y]()).slice(-10)+" 00000 n "):se[y]!==void 0?z((u+se[y]).slice(-10)+" 00000 n "):z("0000000000 00000 n ")},Ur=h.__private__.buildDocument=function(){nt(),ge(he),Ct.publish("buildDocument"),Oo(),Ee(),ys(),bs(),w!==null&&Gt(),Eo(),Ia();var u=le;return Ro(),Do(),z("startxref"),z(""+u),z("%%EOF"),ge(Pe[P]),he.join(`
`)},Gi=h.__private__.getBlob=function(u){return new Blob([Ye(u)],{type:"application/pdf"})},Yi=h.output=h.__private__.output=Nr(function(u,y){switch(typeof(y=y||{})=="string"?y={filename:y}:y.filename=y.filename||"generated.pdf",u){case void 0:return Ur();case"save":h.save(y.filename);break;case"arraybuffer":return Ye(Ur());case"blob":return Gi(Ur());case"bloburi":case"bloburl":if(ht.URL!==void 0&&typeof ht.URL.createObjectURL=="function")return ht.URL&&ht.URL.createObjectURL(Gi(Ur()))||void 0;Zt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var B="",$=Ur();try{B=Ml($)}catch{B=Ml(unescape(encodeURIComponent($)))}return"data:application/pdf;filename="+y.filename+";base64,"+B;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';y.pdfObjectUrl&&(oe=y.pdfObjectUrl,be="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+oe+'"'+be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(y)+");<\/script></body></html>",Ve=ht.open();return Ve!==null&&Ve.document.write(Ie),Ve}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+y.filename+'" width="500px" height="400px" /></body></html>',jt=ht.open();if(jt!==null){jt.document.write(ct);var wt=this;jt.document.documentElement.querySelector("#pdfViewer").onload=function(){jt.document.title=y.filename,jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wt.output("bloburl"))}}return jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",y)+'"></iframe></body></html>',sn=ht.open();if(sn!==null&&(sn.document.write(Dt),sn.document.title=y.filename),sn||typeof safari>"u")return sn;break;case"datauri":case"dataurl":return ht.document.location.href=this.output("datauristring",y);default:return null}}),Ss=function(u){return Array.isArray(pr)===!0&&pr.indexOf(u)>-1};switch(i){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=Ss("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);ze=i}var Tn=null;Oe(),J();var Mo=function(u){return w!==null?Tn.encryptor(u,0):function(y){return y}},Ls=h.__private__.getPageInfo=h.getPageInfo=function(u){if(isNaN(u)||u%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pt[u].objId,pageNumber:u,pageContext:pt[u]}},xt=h.__private__.getPageInfoByObjId=function(u){if(isNaN(u)||u%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var y in pt)if(pt[y].objId===u)break;return Ls(y)},To=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:pt[P].objId,pageNumber:P,pageContext:pt[P]}};h.addPage=function(){return Ns.apply(this,arguments),this},h.setPage=function(){return js.apply(this,arguments),ge.call(this,Pe[P]),this},h.insertPage=function(u){return this.addPage(),this.movePage(P,u),this},h.movePage=function(u,y){var B,$;if(u>y){B=Pe[u],$=pt[u];for(var oe=u;oe>y;oe--)Pe[oe]=Pe[oe-1],pt[oe]=pt[oe-1];Pe[y]=B,pt[y]=$,this.setPage(y)}else if(u<y){B=Pe[u],$=pt[u];for(var be=u;be<y;be++)Pe[be]=Pe[be+1],pt[be]=pt[be+1];Pe[y]=B,pt[y]=$,this.setPage(y)}return this},h.deletePage=function(){return Co.apply(this,arguments),this},h.__private__.text=h.text=function(u,y,B,$,oe){var be,Ie,Ve,ct,jt,wt,Dt,sn,un,yn=($=$||{}).scope||this;if(typeof u=="number"&&typeof y=="number"&&(typeof B=="string"||Array.isArray(B))){var qn=B;B=y,y=u,u=qn}if(arguments[3]instanceof ve?(q("The transform parameter of text() with a Matrix value"),un=oe):(Ve=arguments[4],ct=arguments[5],Wt(Dt=arguments[3])==="object"&&Dt!==null||(typeof Ve=="string"&&(ct=Ve,Ve=null),typeof Dt=="string"&&(ct=Dt,Dt=null),typeof Dt=="number"&&(Ve=Dt,Dt=null),$={flags:Dt,angle:Ve,align:ct})),isNaN(y)||isNaN(B)||u==null)throw new Error("Invalid arguments passed to jsPDF.text");if(u.length===0)return yn;var _n="",Ar=!1,ir=typeof $.lineHeightFactor=="number"?$.lineHeightFactor:ji,Or=yn.internal.scaleFactor;function Os(Qt){return Qt=Qt.split("	").join(Array($.TabLen||9).join(" ")),Zn(Qt,Dt)}function Wa(Qt){for(var en,hn=Qt.concat(),jn=[],Gr=hn.length;Gr--;)typeof(en=hn.shift())=="string"?jn.push(en):Array.isArray(Qt)&&(en.length===1||en[1]===void 0&&en[2]===void 0)?jn.push(en[0]):jn.push([en[0],en[1],en[2]]);return jn}function Ha(Qt,en){var hn;if(typeof Qt=="string")hn=en(Qt)[0];else if(Array.isArray(Qt)){for(var jn,Gr,Za=Qt.concat(),ca=[],Bs=Za.length;Bs--;)typeof(jn=Za.shift())=="string"?ca.push(en(jn)[0]):Array.isArray(jn)&&typeof jn[0]=="string"&&(Gr=en(jn[0],jn[1],jn[2]),ca.push([Gr[0],Gr[1],Gr[2]]));hn=ca}return hn}var ea=!1,Va=!0;if(typeof u=="string")ea=!0;else if(Array.isArray(u)){var $a=u.concat();Ie=[];for(var ta,On=$a.length;On--;)(typeof(ta=$a.shift())!="string"||Array.isArray(ta)&&typeof ta[0]!="string")&&(Va=!1);ea=Va}if(ea===!1)throw new Error('Type of text must be string or Array. "'+u+'" is not recognized.');typeof u=="string"&&(u=u.match(/[\r?\n]/)?u.split(/\r\n|\r|\n/g):[u]);var na=Re/yn.internal.scaleFactor,ra=na*(ir-1);switch($.baseline){case"bottom":B-=ra;break;case"top":B+=na-ra;break;case"hanging":B+=na-2*ra;break;case"middle":B+=na/2-ra}if((wt=$.maxWidth||0)>0&&(typeof u=="string"?u=yn.splitTextToSize(u,wt):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(Qt,en){return Qt.concat(yn.splitTextToSize(en,wt))},[]))),be={text:u,x:y,y:B,options:$,mutex:{pdfEscape:Zn,activeFontKey:mt,fonts:Lt,activeFontSize:Re}},Ct.publish("preProcessText",be),u=be.text,Ve=($=be.options).angle,!(un instanceof ve)&&Ve&&typeof Ve=="number"){Ve*=Math.PI/180,$.rotationDirection===0&&(Ve=-Ve),Y===I.ADVANCED&&(Ve=-Ve);var ia=Math.cos(Ve),Ga=Math.sin(Ve);un=new ve(ia,Ga,-Ga,ia,0,0)}else Ve&&Ve instanceof ve&&(un=Ve);Y!==I.ADVANCED||un||(un=Ze),(jt=$.charSpace||Xi)!==void 0&&(_n+=U(L(jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(sn=$.horizontalScale)!==void 0&&(_n+=U(100*sn)+` Tz
`),$.lang;var Qn=-1,Yo=$.renderingMode!==void 0?$.renderingMode:$.stroke,Ya=yn.internal.getCurrentPageInfo().pageContext;switch(Yo){case 0:case!1:case"fill":Qn=0;break;case 1:case!0:case"stroke":Qn=1;break;case 2:case"fillThenStroke":Qn=2;break;case 3:case"invisible":Qn=3;break;case 4:case"fillAndAddForClipping":Qn=4;break;case 5:case"strokeAndAddPathForClipping":Qn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qn=6;break;case 7:case"addToPathForClipping":Qn=7}var Rs=Ya.usedRenderingMode!==void 0?Ya.usedRenderingMode:-1;Qn!==-1?_n+=Qn+` Tr
`:Rs!==-1&&(_n+=`0 Tr
`),Qn!==-1&&(Ya.usedRenderingMode=Qn),ct=$.align||"left";var fr,aa=Re*ir,Ms=yn.internal.pageSize.getWidth(),Ts=Lt[mt];jt=$.charSpace||Xi,wt=$.maxWidth||0,Dt=Object.assign({autoencode:!0,noBOM:!0},$.flags);var ri=[],Li=function(Qt){return yn.getStringUnitWidth(Qt,{font:Ts,charSpace:jt,fontSize:Re,doKerning:!1})*Re/Or};if(Object.prototype.toString.call(u)==="[object Array]"){var er;Ie=Wa(u),ct!=="left"&&(fr=Ie.map(Li));var Gn,ii=0;if(ct==="right"){y-=fr[0],u=[],On=Ie.length;for(var Hr=0;Hr<On;Hr++)Hr===0?(Gn=Dr(y),er=Wr(B)):(Gn=L(ii-fr[Hr]),er=-aa),u.push([Ie[Hr],Gn,er]),ii=fr[Hr]}else if(ct==="center"){y-=fr[0]/2,u=[],On=Ie.length;for(var Vr=0;Vr<On;Vr++)Vr===0?(Gn=Dr(y),er=Wr(B)):(Gn=L((ii-fr[Vr])/2),er=-aa),u.push([Ie[Vr],Gn,er]),ii=fr[Vr]}else if(ct==="left"){u=[],On=Ie.length;for(var sa=0;sa<On;sa++)u.push(Ie[sa])}else if(ct==="justify"&&Ts.encoding==="Identity-H"){u=[],On=Ie.length,wt=wt!==0?wt:Ms;for(var $r=0,fn=0;fn<On;fn++)if(er=fn===0?Wr(B):-aa,Gn=fn===0?Dr(y):$r,fn<On-1){var Ja=L((wt-fr[fn])/(Ie[fn].split(" ").length-1)),Yn=Ie[fn].split(" ");u.push([Yn[0]+" ",Gn,er]),$r=0;for(var hr=1;hr<Yn.length;hr++){var oa=(Li(Yn[hr-1]+" "+Yn[hr])-Li(Yn[hr]))*Or+Ja;hr==Yn.length-1?u.push([Yn[hr],oa,0]):u.push([Yn[hr]+" ",oa,0]),$r-=oa}}else u.push([Ie[fn],Gn,er]);u.push(["",$r,0])}else{if(ct!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(u=[],On=Ie.length,wt=wt!==0?wt:Ms,fn=0;fn<On;fn++)er=fn===0?Wr(B):-aa,Gn=fn===0?Dr(y):0,fn<On-1?ri.push(U(L((wt-fr[fn])/(Ie[fn].split(" ").length-1)))):ri.push(0),u.push([Ie[fn],Gn,er])}}var qs=typeof $.R2L=="boolean"?$.R2L:tt;qs===!0&&(u=Ha(u,function(Qt,en,hn){return[Qt.split("").reverse().join(""),en,hn]})),be={text:u,x:y,y:B,options:$,mutex:{pdfEscape:Zn,activeFontKey:mt,fonts:Lt,activeFontSize:Re}},Ct.publish("postProcessText",be),u=be.text,Ar=be.mutex.isHex||!1;var Ka=Lt[mt].encoding;Ka!=="WinAnsiEncoding"&&Ka!=="StandardEncoding"||(u=Ha(u,function(Qt,en,hn){return[Os(Qt),en,hn]})),Ie=Wa(u),u=[];for(var _i,ki,ai,Fi=0,la=1,Pi=Array.isArray(Ie[0])?la:Fi,si="",Xa=function(Qt,en,hn){var jn="";return hn instanceof ve?(hn=typeof $.angle=="number"?at(hn,new ve(1,0,0,1,Qt,en)):at(new ve(1,0,0,1,Qt,en),hn),Y===I.ADVANCED&&(hn=at(new ve(1,0,0,-1,0,0),hn)),jn=hn.join(" ")+` Tm
`):jn=U(Qt)+" "+U(en)+` Td
`,jn},mr=0;mr<Ie.length;mr++){switch(si="",Pi){case la:ai=(Ar?"<":"(")+Ie[mr][0]+(Ar?">":")"),_i=parseFloat(Ie[mr][1]),ki=parseFloat(Ie[mr][2]);break;case Fi:ai=(Ar?"<":"(")+Ie[mr]+(Ar?">":")"),_i=Dr(y),ki=Wr(B)}ri!==void 0&&ri[mr]!==void 0&&(si=ri[mr]+` Tw
`),mr===0?u.push(si+Xa(_i,ki,un)+ai):Pi===Fi?u.push(si+ai):Pi===la&&u.push(si+Xa(_i,ki,un)+ai)}u=Pi===Fi?u.join(` Tj
T* `):u.join(` Tj
`),u+=` Tj
`;var gr=`BT
/`;return gr+=mt+" "+Re+` Tf
`,gr+=U(Re*ir)+` TL
`,gr+=Ai+`
`,gr+=_n,gr+=u,z(gr+="ET"),A[mt]=!0,yn};var qo=h.__private__.clip=h.clip=function(u){return z(u==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return qo("evenodd")},h.__private__.discardPath=h.discardPath=function(){return z("n"),this};var Er=h.__private__.isValidStyle=function(u){var y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(u)!==-1&&(y=!0),y};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(u){return Er(u)&&(g=u),this};var _s=h.__private__.getStyle=h.getStyle=function(u){var y=g;switch(u){case"D":case"S":y="S";break;case"F":y="f";break;case"FD":case"DF":y="B";break;case"f":case"f*":case"B":case"B*":y=u}return y},ks=h.close=function(){return z("h"),this};h.stroke=function(){return z("S"),this},h.fill=function(u){return Ji("f",u),this},h.fillEvenOdd=function(u){return Ji("f*",u),this},h.fillStroke=function(u){return Ji("B",u),this},h.fillStrokeEvenOdd=function(u){return Ji("B*",u),this};var Ji=function(u,y){Wt(y)==="object"?zo(y,u):z(u)},Ea=function(u){u===null||Y===I.ADVANCED&&u===void 0||(u=_s(u),z(u))};function Bo(u,y,B,$,oe){var be=new ba(y||this.boundingBox,B||this.xStep,$||this.yStep,this.gState,oe||this.matrix);be.stream=this.stream;var Ie=u+"$$"+this.cloneIndex+++"$$";return bt(Ie,be),be}var zo=function(u,y){var B=Vt[u.key],$=Ft[B];if($ instanceof Ri)z("q"),z(Uo(y)),$.gState&&h.setGState($.gState),z(u.matrix.toString()+" cm"),z("/"+B+" sh"),z("Q");else if($ instanceof ba){var oe=new ve(1,0,0,-1,0,ni());u.matrix&&(oe=oe.multiply(u.matrix||Ze),B=Bo.call($,u.key,u.boundingBox,u.xStep,u.yStep,oe).id),z("q"),z("/Pattern cs"),z("/"+B+" scn"),$.gState&&h.setGState($.gState),z(y),z("Q")}},Uo=function(u){switch(u){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Da=h.moveTo=function(u,y){return z(U(L(u))+" "+U(E(y))+" m"),this},Ni=h.lineTo=function(u,y){return z(U(L(u))+" "+U(E(y))+" l"),this},ei=h.curveTo=function(u,y,B,$,oe,be){return z([U(L(u)),U(E(y)),U(L(B)),U(E($)),U(L(oe)),U(E(be)),"c"].join(" ")),this};h.__private__.line=h.line=function(u,y,B,$,oe){if(isNaN(u)||isNaN(y)||isNaN(B)||isNaN($)||!Er(oe))throw new Error("Invalid arguments passed to jsPDF.line");return Y===I.COMPAT?this.lines([[B-u,$-y]],u,y,[1,1],oe||"S"):this.lines([[B-u,$-y]],u,y,[1,1]).stroke()},h.__private__.lines=h.lines=function(u,y,B,$,oe,be){var Ie,Ve,ct,jt,wt,Dt,sn,un,yn,qn,_n,Ar;if(typeof u=="number"&&(Ar=B,B=y,y=u,u=Ar),$=$||[1,1],be=be||!1,isNaN(y)||isNaN(B)||!Array.isArray(u)||!Array.isArray($)||!Er(oe)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Da(y,B),Ie=$[0],Ve=$[1],jt=u.length,qn=y,_n=B,ct=0;ct<jt;ct++)(wt=u[ct]).length===2?(qn=wt[0]*Ie+qn,_n=wt[1]*Ve+_n,Ni(qn,_n)):(Dt=wt[0]*Ie+qn,sn=wt[1]*Ve+_n,un=wt[2]*Ie+qn,yn=wt[3]*Ve+_n,qn=wt[4]*Ie+qn,_n=wt[5]*Ve+_n,ei(Dt,sn,un,yn,qn,_n));return be&&ks(),Ea(oe),this},h.path=function(u){for(var y=0;y<u.length;y++){var B=u[y],$=B.c;switch(B.op){case"m":Da($[0],$[1]);break;case"l":Ni($[0],$[1]);break;case"c":ei.apply(this,$);break;case"h":ks()}}return this},h.__private__.rect=h.rect=function(u,y,B,$,oe){if(isNaN(u)||isNaN(y)||isNaN(B)||isNaN($)||!Er(oe))throw new Error("Invalid arguments passed to jsPDF.rect");return Y===I.COMPAT&&($=-$),z([U(L(u)),U(E(y)),U(L(B)),U(L($)),"re"].join(" ")),Ea(oe),this},h.__private__.triangle=h.triangle=function(u,y,B,$,oe,be,Ie){if(isNaN(u)||isNaN(y)||isNaN(B)||isNaN($)||isNaN(oe)||isNaN(be)||!Er(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[B-u,$-y],[oe-B,be-$],[u-oe,y-be]],u,y,[1,1],Ie,!0),this},h.__private__.roundedRect=h.roundedRect=function(u,y,B,$,oe,be,Ie){if(isNaN(u)||isNaN(y)||isNaN(B)||isNaN($)||isNaN(oe)||isNaN(be)||!Er(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ve=4/3*(Math.SQRT2-1);return oe=Math.min(oe,.5*B),be=Math.min(be,.5*$),this.lines([[B-2*oe,0],[oe*Ve,0,oe,be-be*Ve,oe,be],[0,$-2*be],[0,be*Ve,-oe*Ve,be,-oe,be],[2*oe-B,0],[-oe*Ve,0,-oe,-be*Ve,-oe,-be],[0,2*be-$],[0,-be*Ve,oe*Ve,-be,oe,-be]],u+oe,y,[1,1],Ie,!0),this},h.__private__.ellipse=h.ellipse=function(u,y,B,$,oe){if(isNaN(u)||isNaN(y)||isNaN(B)||isNaN($)||!Er(oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*B,Ie=4/3*(Math.SQRT2-1)*$;return Da(u+B,y),ei(u+B,y-Ie,u+be,y-$,u,y-$),ei(u-be,y-$,u-B,y-Ie,u-B,y),ei(u-B,y+Ie,u-be,y+$,u,y+$),ei(u+be,y+$,u+B,y+Ie,u+B,y),Ea(oe),this},h.__private__.circle=h.circle=function(u,y,B,$){if(isNaN(u)||isNaN(y)||isNaN(B)||!Er($))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(u,y,B,B,$)},h.setFont=function(u,y,B){return B&&(y=ie(y,B)),mt=As(u,y,{disableWarning:!1}),this};var Wo=h.__private__.getFont=h.getFont=function(){return Lt[As.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var u,y,B={};for(u in Mt)if(Mt.hasOwnProperty(u))for(y in B[u]=[],Mt[u])Mt[u].hasOwnProperty(y)&&B[u].push(y);return B},h.addFont=function(u,y,B,$,oe){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?oe=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&(B=ie(B,$)),oe=oe||"Identity-H",Pa.call(this,u,y,B,oe)};var ji,Oa=n.lineWidth||.200025,Ki=h.__private__.getLineWidth=h.getLineWidth=function(){return Oa},Fs=h.__private__.setLineWidth=h.setLineWidth=function(u){return Oa=u,z(U(L(u))+" w"),this};h.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(u,y){if(u=u||[],y=y||0,isNaN(y)||!Array.isArray(u))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return u=u.map(function(B){return U(L(B))}).join(" "),y=U(L(y)),z("["+u+"] "+y+" d"),this};var Ps=h.__private__.getLineHeight=h.getLineHeight=function(){return Re*ji};h.__private__.getLineHeight=h.getLineHeight=function(){return Re*ji};var Cs=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(u){return typeof(u=u||1.15)=="number"&&(ji=u),this},Is=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return ji};Cs(n.lineHeight);var Dr=h.__private__.getHorizontalCoordinate=function(u){return L(u)},Wr=h.__private__.getVerticalCoordinate=function(u){return Y===I.ADVANCED?u:pt[P].mediaBox.topRightY-pt[P].mediaBox.bottomLeftY-L(u)},Ho=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(u){return U(Dr(u))},ti=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(u){return U(Wr(u))},jr=n.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return W(jr)},h.__private__.setStrokeColor=h.setDrawColor=function(u,y,B,$){return jr=Me({ch1:u,ch2:y,ch3:B,ch4:$,pdfColorType:"draw",precision:2}),z(jr),this};var Ra=n.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return W(Ra)},h.__private__.setFillColor=h.setFillColor=function(u,y,B,$){return Ra=Me({ch1:u,ch2:y,ch3:B,ch4:$,pdfColorType:"fill",precision:2}),z(Ra),this};var Ai=n.textColor||"0 g",Vo=h.__private__.getTextColor=h.getTextColor=function(){return W(Ai)};h.__private__.setTextColor=h.setTextColor=function(u,y,B,$){return Ai=Me({ch1:u,ch2:y,ch3:B,ch4:$,pdfColorType:"text",precision:3}),this};var Xi=n.charSpace,$o=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Xi||0)};h.__private__.setCharSpace=h.setCharSpace=function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xi=u,this};var Ma=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(u){var y=h.CapJoinStyles[u];if(y===void 0)throw new Error("Line cap style of '"+u+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ma=y,z(y+" J"),this};var Ta=0;h.__private__.setLineJoin=h.setLineJoin=function(u){var y=h.CapJoinStyles[u];if(y===void 0)throw new Error("Line join style of '"+u+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ta=y,z(y+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(u){if(u=u||0,isNaN(u))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return z(U(L(u))+" M"),this},h.GState=No,h.setGState=function(u){(u=typeof u=="string"?Tt[Sn[u]]:Es(null,u)).equals(Cn)||(z("/"+u.id+" gs"),Cn=u)};var Es=function(u,y){if(!u||!Sn[u]){var B=!1;for(var $ in Tt)if(Tt.hasOwnProperty($)&&Tt[$].equals(y)){B=!0;break}if(B)y=Tt[$];else{var oe="GS"+(Object.keys(Tt).length+1).toString(10);Tt[oe]=y,y.id=oe}return u&&(Sn[u]=y.id),Ct.publish("addGState",y),y}};h.addGState=function(u,y){return Es(u,y),this},h.saveGraphicsState=function(){return z("q"),An.push({key:mt,size:Re,color:Ai}),this},h.restoreGraphicsState=function(){z("Q");var u=An.pop();return mt=u.key,Re=u.size,Ai=u.color,Cn=null,this},h.setCurrentTransformationMatrix=function(u){return z(u.toString()+" cm"),this},h.comment=function(u){return z("#"+u),this};var Zi=function(u,y){var B=u||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return B},set:function(be){isNaN(be)||(B=parseFloat(be))}});var $=y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return $},set:function(be){isNaN(be)||($=parseFloat(be))}});var oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return oe},set:function(be){oe=be.toString()}}),this},qa=function(u,y,B,$){Zi.call(this,u,y),this.type="rect";var oe=B||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return oe},set:function(Ie){isNaN(Ie)||(oe=parseFloat(Ie))}});var be=$||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return be},set:function(Ie){isNaN(Ie)||(be=parseFloat(Ie))}}),this},Ba=function(){this.page=Pt,this.currentPage=P,this.pages=Pe.slice(0),this.pagesContext=pt.slice(0),this.x=Ht,this.y=St,this.matrix=nn,this.width=Si(P),this.height=ni(P),this.outputDestination=Be,this.id="",this.objectNumber=-1};Ba.prototype.restore=function(){Pt=this.page,P=this.currentPage,pt=this.pagesContext,Pe=this.pages,Ht=this.x,St=this.y,nn=this.matrix,za(P,this.width),Ua(P,this.height),Be=this.outputDestination};var Ds=function(u,y,B,$,oe){In.push(new Ba),Pt=P=0,Pe=[],Ht=u,St=y,nn=oe,Ca([B,$])},Go=function(u){if(Mn[u])In.pop().restore();else{var y=new Ba,B="Xo"+(Object.keys(ln).length+1).toString(10);y.id=B,Mn[u]=B,ln[B]=y,Ct.publish("addFormObject",y),In.pop().restore()}};for(var Qi in h.beginFormObject=function(u,y,B,$,oe){return Ds(u,y,B,$,oe),this},h.endFormObject=function(u){return Go(u),this},h.doFormObject=function(u,y){var B=ln[Mn[u]];return z("q"),z(y.toString()+" cm"),z("/"+B.id+" Do"),z("Q"),this},h.getFormObject=function(u){var y=ln[Mn[u]];return{x:y.x,y:y.y,width:y.width,height:y.height,matrix:y.matrix}},h.save=function(u,y){return u=u||"generated.pdf",(y=y||{}).returnPromise=y.returnPromise||!1,y.returnPromise===!1?(Di(Gi(Ur()),u),typeof Di.unload=="function"&&ht.setTimeout&&setTimeout(Di.unload,911),this):new Promise(function(B,$){try{var oe=Di(Gi(Ur()),u);typeof Di.unload=="function"&&ht.setTimeout&&setTimeout(Di.unload,911),B(oe)}catch(be){$(be.message)}})},ft.API)ft.API.hasOwnProperty(Qi)&&(Qi==="events"&&ft.API.events.length?function(u,y){var B,$,oe;for(oe=y.length-1;oe!==-1;oe--)B=y[oe][0],$=y[oe][1],u.subscribe.apply(u,[B].concat(typeof $=="function"?[$]:$))}(Ct,ft.API.events):h[Qi]=ft.API[Qi]);var Si=h.getPageWidth=function(u){return(pt[u=u||P].mediaBox.topRightX-pt[u].mediaBox.bottomLeftX)/ze},za=h.setPageWidth=function(u,y){pt[u].mediaBox.topRightX=y*ze+pt[u].mediaBox.bottomLeftX},ni=h.getPageHeight=function(u){return(pt[u=u||P].mediaBox.topRightY-pt[u].mediaBox.bottomLeftY)/ze},Ua=h.setPageHeight=function(u,y){pt[u].mediaBox.topRightY=y*ze+pt[u].mediaBox.bottomLeftY};return h.internal={pdfEscape:Zn,getStyle:_s,getFont:Wo,getFontSize:Te,getCharSpace:$o,getTextColor:Vo,getLineHeight:Ps,getLineHeightFactor:Is,getLineWidth:Ki,write:rt,getHorizontalCoordinate:Dr,getVerticalCoordinate:Wr,getCoordinateString:Ho,getVerticalCoordinateString:ti,collections:{},newObject:yt,newAdditionalObject:$n,newObjectDeferred:It,newObjectDeferredBegin:kt,getFilters:ye,putStream:_e,events:Ct,scaleFactor:ze,pageSize:{getWidth:function(){return Si(P)},setWidth:function(u){za(P,u)},getHeight:function(){return ni(P)},setHeight:function(u){Ua(P,u)}},encryptionOptions:w,encryption:Tn,getEncryptor:Mo,output:Yi,getNumberOfPages:Io,pages:Pe,out:z,f2:ae,f3:N,getPageInfo:Ls,getPageInfoByObjId:xt,getCurrentPageInfo:To,getPDFVersion:C,Point:Zi,Rectangle:qa,Matrix:ve,hasHotfix:Ss},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Si(P)},set:function(u){za(P,u)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return ni(P)},set:function(u){Ua(P,u)},enumerable:!0,configurable:!0}),Po.call(h,Fe),mt="F1",Ns(o,e),Ct.publish("initialized"),h}va.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},va.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},va.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},va.prototype.processOwnerPassword=function(n,t){return ql(Tl(t).substr(0,5),n)},va.prototype.encryptor=function(n,t){var e=Tl(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return ql(e,i)}},No.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Wt(n)!==Wt(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},ft.API={events:[]},ft.version="3.0.1";var pn=ft.API,Zl=1,Vi=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ha=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nt=function(n){return n.toFixed(2)},mi=function(n){return n.toFixed(5)};pn.__acroform__={};var rr=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},Vc=function(n){return n*Zl},Tr=function(n){var t=new Hu,e=et.internal.getHeight(n)||0,i=et.internal.getWidth(n)||0;return t.BBox=[0,0,Number(Nt(i)),Number(Nt(e))],t},uf=pn.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<t},df=pn.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<t)},pf=pn.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<t)==0?0:1},vn=pn.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return pf(n,t-1)},xn=pn.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return uf(n,t-1)},bn=pn.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return df(n,t-1)},ff=pn.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,o=n[0],a=n[1],c=n[2],d=n[3],f={};return f.lowerLeft_X=e(o)||0,f.lowerLeft_Y=i(a+d)||0,f.upperRight_X=e(o+c)||0,f.upperRight_Y=i(a)||0,[Number(Nt(f.lowerLeft_X)),Number(Nt(f.lowerLeft_Y)),Number(Nt(f.upperRight_X)),Number(Nt(f.upperRight_Y))]},hf=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,i=Bl(n,e),o=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+o+" "+Nt(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Tr(n);return a.scope=n.scope,a.stream=t.join(`
`),a}},Bl=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},o=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");o=n.multiline?o.map(function(N){return N.split(`
`)}):o.map(function(N){return[N]});var a=e,c=et.internal.getHeight(n)||0;c=c<0?-c:c;var d=et.internal.getWidth(n)||0;d=d<0?-d:d;var f=function(N,L,M){if(N+1<o.length){var E=L+" "+o[N+1][0];return uo(E,n,M).width<=d-4}return!1};a++;e:for(;a>0;){t="",a--;var g,w,v=uo("3",n,a).height,A=n.multiline?c-a:(c-v)/2,h=A+=2,D=0,C=0,O=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+uo(t,n,a=12).width+", FieldWidth:"+d+`
`;break}for(var _="",I=0,Y=0;Y<o.length;Y++)if(o.hasOwnProperty(Y)){var ce=!1;if(o[Y].length!==1&&O!==o[Y].length-1){if((v+2)*(I+2)+2>c)continue e;_+=o[Y][O],ce=!0,C=Y,Y--}else{_=(_+=o[Y][O]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var re=parseInt(Y),ie=f(re,_,a),U=Y>=o.length-1;if(ie&&!U){_+=" ",O=0;continue}if(ie||U){if(U)C=re;else if(n.multiline&&(v+2)*(I+2)+2>c)continue e}else{if(!n.multiline||(v+2)*(I+2)+2>c)continue e;C=re}}for(var q="",Q=D;Q<=C;Q++){var ae=o[Q];if(n.multiline){if(Q===C){q+=ae[O]+" ",O=(O+1)%ae.length;continue}if(Q===D){q+=ae[ae.length-1]+" ";continue}}q+=ae[0]+" "}switch(q=q.substr(q.length-1)==" "?q.substr(0,q.length-1):q,w=uo(q,n,a).width,n.textAlign){case"right":g=d-w-2;break;case"center":g=(d-w)/2;break;case"left":default:g=2}t+=Nt(g)+" "+Nt(h)+` Td
`,t+="("+Vi(q)+`) Tj
`,t+=-Nt(g)+` 0 Td
`,h=-(a+2),w=0,D=ce?C:C+1,I++,_=""}break}return i.text=t,i.fontSize=a,i},uo=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),o=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:o}},mf={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gf=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},vf=function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var i=e,o=n[e];t.internal.newObjectDeferredBegin(o.objId,!0),Wt(o)==="object"&&typeof o.putStream=="function"&&o.putStream(),delete n[i]}},xf=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Cr.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(mf)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Zl=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new Vu,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];a.objId=void 0,a.hasAnnotation&&gf(a,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(i,o){var a=!i;for(var c in i||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(c)){var d=i[c],f=[],g=d.Rect;if(d.Rect&&(d.Rect=ff(d.Rect,o)),o.internal.newObjectDeferredBegin(d.objId,!0),d.DA=et.createDefaultAppearanceStream(d),Wt(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(f=d.getKeyValueListForStream()),d.Rect=g,d.hasAppearanceStream&&!d.appearanceStreamContent){var w=hf(d);f.push({key:"AP",value:"<</N "+w+">>"}),o.internal.acroformPlugin.xForms.push(w)}if(d.appearanceStreamContent){var v="";for(var A in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(A)){var h=d.appearanceStreamContent[A];if(v+="/"+A+" ",v+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var c in h)if(h.hasOwnProperty(c)){var D=h[c];typeof D=="function"&&(D=D.call(o,d)),v+="/"+c+" "+D+" ",o.internal.acroformPlugin.xForms.indexOf(D)>=0||o.internal.acroformPlugin.xForms.push(D)}}else typeof(D=h)=="function"&&(D=D.call(o,d)),v+="/"+c+" "+D,o.internal.acroformPlugin.xForms.indexOf(D)>=0||o.internal.acroformPlugin.xForms.push(D);v+=">>"}f.push({key:"AP",value:`<<
`+v+">>"})}o.internal.putStream({additionalKeyValues:f,objectId:d.objId}),o.internal.out("endobj")}a&&vf(o.internal.acroformPlugin.xForms,o)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},Wu=pn.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(c){return c};if(Array.isArray(n)){for(var o="[",a=0;a<n.length;a++)switch(a!==0&&(o+=" "),Wt(n[a])){case"boolean":case"number":case"object":o+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),o+="("+Vi(i(n[a].toString()))+")"):o+=n[a].toString()}return o+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Nl=function(n,t,e){var i=function(o){return o};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),n="("+Vi(i(n))+")"},qr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qr.prototype.toString=function(){return this.objId+" 0 R"},qr.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},qr.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],o=this[i];o&&(Array.isArray(o)?n.push({key:i,value:Wu(o,this.objId,this.scope)}):o instanceof qr?(o.scope=this.scope,n.push({key:i,value:o.objId+" 0 R"})):typeof o!="function"&&n.push({key:i,value:o}))}return n};var Hu=function(){qr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};rr(Hu,qr);var Vu=function(){qr.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Vi(e(n))+")"}},set:function(e){n=e}})};rr(Vu,qr);var Cr=function n(){qr.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vn(t,3)},set:function(_){_?this.F=xn(t,3):this.F=bn(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');e=_}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(_){i=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(_){i[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(_){i[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(_){i[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(_){i[3]=_}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof jo)return;a="FieldObject"+n.FieldNum++}var _=function(I){return I};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Vi(_(a))+")"},set:function(_){a=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(_){a=_}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(_){d=_}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(_){f=_}});var g=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return g===void 0?50/Zl:g},set:function(_){g=_}});var w="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return w},set:function(_){w=_}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof jo||this instanceof qi))return Nl(v,this.objId,this.scope)},set:function(_){_=_.toString(),v=_}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Pn?A:Nl(A,this.objId,this.scope)},set:function(_){_=_.toString(),A=this instanceof Pn?_:_.substr(0,1)==="("?ha(_.substr(1,_.length-2)):ha(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pn?ha(A.substr(1,A.length-1)):A},set:function(_){_=_.toString(),A=this instanceof Pn?"/"+_:_}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Pn?h:Nl(h,this.objId,this.scope)},set:function(_){_=_.toString(),h=this instanceof Pn?_:_.substr(0,1)==="("?ha(_.substr(1,_.length-2)):ha(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pn?ha(h.substr(1,h.length-1)):h},set:function(_){_=_.toString(),h=this instanceof Pn?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var D,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(_){_=!!_,C=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(D)return D},set:function(_){D=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,1)},set:function(_){_?this.Ff=xn(this.Ff,1):this.Ff=bn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,2)},set:function(_){_?this.Ff=xn(this.Ff,2):this.Ff=bn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,3)},set:function(_){_?this.Ff=xn(this.Ff,3):this.Ff=bn(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(O!==null)return O},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');O=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(O){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:O=2;break;case"center":case 1:O=1;break;case"left":case 0:default:O=0}}})};rr(Cr,qr);var Na=function(){Cr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Wu(t,this.objId,this.scope)},set:function(e){var i,o;o=[],typeof(i=e)=="string"&&(o=function(a,c,d){d||(d=1);for(var f,g=[];f=c.exec(a);)g.push(f[d]);return g}(i,/\((.*?)\)/g)),t=o}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,18)},set:function(e){e?this.Ff=xn(this.Ff,18):this.Ff=bn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=xn(this.Ff,19):this.Ff=bn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,20)},set:function(e){e?(this.Ff=xn(this.Ff,20),t.sort()):this.Ff=bn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,22)},set:function(e){e?this.Ff=xn(this.Ff,22):this.Ff=bn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,23)},set:function(e){e?this.Ff=xn(this.Ff,23):this.Ff=bn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,27)},set:function(e){e?this.Ff=xn(this.Ff,27):this.Ff=bn(this.Ff,27)}}),this.hasAppearanceStream=!1};rr(Na,Cr);var ja=function(){Na.call(this),this.fontName="helvetica",this.combo=!1};rr(ja,Na);var Aa=function(){ja.call(this),this.combo=!0};rr(Aa,ja);var vo=function(){Aa.call(this),this.edit=!0};rr(vo,Aa);var Pn=function(){Cr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,15)},set:function(e){e?this.Ff=xn(this.Ff,15):this.Ff=bn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,16)},set:function(e){e?this.Ff=xn(this.Ff,16):this.Ff=bn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,17)},set:function(e){e?this.Ff=xn(this.Ff,17):this.Ff=bn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,26)},set:function(e){e?this.Ff=xn(this.Ff,26):this.Ff=bn(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(a){return a};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,o=[];for(i in o.push("<<"),t)o.push("/"+i+" ("+Vi(e(t[i]))+")");return o.push(">>"),o.join(`
`)}},set:function(e){Wt(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};rr(Pn,Cr);var xo=function(){Pn.call(this),this.pushButton=!0};rr(xo,Pn);var Sa=function(){Pn.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};rr(Sa,Pn);var jo=function(){var n,t;Cr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(o){n=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(o){t=o}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(d){return d};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var a,c=[];for(a in c.push("<<"),i)c.push("/"+a+" ("+Vi(o(i[a]))+")");return c.push(">>"),c.join(`
`)},set:function(o){Wt(o)==="object"&&(i=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(o){typeof o=="string"&&(i.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(o){e=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(o){e="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};rr(jo,Cr),Sa.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Sa.prototype.createOption=function(n){var t=new jo;return t.Parent=this,t.optionName=n,this.Kids.push(t),bf.call(this.scope,t),t};var bo=function(){Pn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=et.CheckBox.createAppearanceStream()};rr(bo,Pn);var qi=function(){Cr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,13)},set:function(t){t?this.Ff=xn(this.Ff,13):this.Ff=bn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,21)},set:function(t){t?this.Ff=xn(this.Ff,21):this.Ff=bn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,23)},set:function(t){t?this.Ff=xn(this.Ff,23):this.Ff=bn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,24)},set:function(t){t?this.Ff=xn(this.Ff,24):this.Ff=bn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,25)},set:function(t){t?this.Ff=xn(this.Ff,25):this.Ff=bn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,26)},set:function(t){t?this.Ff=xn(this.Ff,26):this.Ff=bn(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};rr(qi,Cr);var yo=function(){qi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vn(this.Ff,14)},set:function(n){n?this.Ff=xn(this.Ff,14):this.Ff=bn(this.Ff,14)}}),this.password=!0};rr(yo,qi);var et={CheckBox:{createAppearanceStream:function(){return{N:{On:et.CheckBox.YesNormal},D:{On:et.CheckBox.YesPushDown,Off:et.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Tr(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,o=n.scope.__private__.encodeColorString(n.color),a=Bl(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+Nt(et.internal.getWidth(n))+" "+Nt(et.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+Nt(a.fontSize)+" Tf "+o),e.push("BT"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=Tr(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=[],a=et.internal.getHeight(n),c=et.internal.getWidth(n),d=Bl(n,n.caption);return o.push("1 g"),o.push("0 0 "+Nt(c)+" "+Nt(a)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+Nt(c-1)+" "+Nt(a-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+e+" "+Nt(d.fontSize)+" Tf "+i),o.push(d.text),o.push("ET"),o.push("Q"),t.stream=o.join(`
`),t},OffPushDown:function(n){var t=Tr(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Nt(et.internal.getWidth(n))+" "+Nt(et.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:et.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=et.RadioButton.Circle.YesNormal,t.D[n]=et.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Tr(n);t.scope=n.scope;var e=[],i=et.internal.getWidth(n)<=et.internal.getHeight(n)?et.internal.getWidth(n)/4:et.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var o=et.internal.Bezier_C,a=Number((i*o).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+mi(et.internal.getWidth(n)/2)+" "+mi(et.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Tr(n);t.scope=n.scope;var e=[],i=et.internal.getWidth(n)<=et.internal.getHeight(n)?et.internal.getWidth(n)/4:et.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),a=Number((o*et.internal.Bezier_C).toFixed(5)),c=Number((i*et.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+mi(et.internal.getWidth(n)/2)+" "+mi(et.internal.getHeight(n)/2)+" cm"),e.push(o+" 0 m"),e.push(o+" "+a+" "+a+" "+o+" 0 "+o+" c"),e.push("-"+a+" "+o+" -"+o+" "+a+" -"+o+" 0 c"),e.push("-"+o+" -"+a+" -"+a+" -"+o+" 0 -"+o+" c"),e.push(a+" -"+o+" "+o+" -"+a+" "+o+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+mi(et.internal.getWidth(n)/2)+" "+mi(et.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+c+" "+c+" "+i+" 0 "+i+" c"),e.push("-"+c+" "+i+" -"+i+" "+c+" -"+i+" 0 c"),e.push("-"+i+" -"+c+" -"+c+" -"+i+" 0 -"+i+" c"),e.push(c+" -"+i+" "+i+" -"+c+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=Tr(n);t.scope=n.scope;var e=[],i=et.internal.getWidth(n)<=et.internal.getHeight(n)?et.internal.getWidth(n)/4:et.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var o=Number((2*i).toFixed(5)),a=Number((o*et.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+mi(et.internal.getWidth(n)/2)+" "+mi(et.internal.getHeight(n)/2)+" cm"),e.push(o+" 0 m"),e.push(o+" "+a+" "+a+" "+o+" 0 "+o+" c"),e.push("-"+a+" "+o+" -"+o+" "+a+" -"+o+" 0 c"),e.push("-"+o+" -"+a+" -"+a+" -"+o+" 0 -"+o+" c"),e.push(a+" -"+o+" "+o+" -"+a+" "+o+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:et.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=et.RadioButton.Cross.YesNormal,t.D[n]=et.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Tr(n);t.scope=n.scope;var e=[],i=et.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+Nt(et.internal.getWidth(n)-2)+" "+Nt(et.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(Nt(i.x1.x)+" "+Nt(i.x1.y)+" m"),e.push(Nt(i.x2.x)+" "+Nt(i.x2.y)+" l"),e.push(Nt(i.x4.x)+" "+Nt(i.x4.y)+" m"),e.push(Nt(i.x3.x)+" "+Nt(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Tr(n);t.scope=n.scope;var e=et.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+Nt(et.internal.getWidth(n))+" "+Nt(et.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Nt(et.internal.getWidth(n)-2)+" "+Nt(et.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(Nt(e.x1.x)+" "+Nt(e.x1.y)+" m"),i.push(Nt(e.x2.x)+" "+Nt(e.x2.y)+" l"),i.push(Nt(e.x4.x)+" "+Nt(e.x4.y)+" m"),i.push(Nt(e.x3.x)+" "+Nt(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=Tr(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Nt(et.internal.getWidth(n))+" "+Nt(et.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};et.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=et.internal.getWidth(n),e=et.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},et.internal.getWidth=function(n){var t=0;return Wt(n)==="object"&&(t=Vc(n.Rect[2])),t},et.internal.getHeight=function(n){var t=0;return Wt(n)==="object"&&(t=Vc(n.Rect[3])),t};var bf=pn.addField=function(n){if(xf(this,n),!(n instanceof Cr))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};pn.AcroFormChoiceField=Na,pn.AcroFormListBox=ja,pn.AcroFormComboBox=Aa,pn.AcroFormEditBox=vo,pn.AcroFormButton=Pn,pn.AcroFormPushButton=xo,pn.AcroFormRadioButton=Sa,pn.AcroFormCheckBox=bo,pn.AcroFormTextField=qi,pn.AcroFormPasswordField=yo,pn.AcroFormAppearance=et,pn.AcroForm={ChoiceField:Na,ListBox:ja,ComboBox:Aa,EditBox:vo,Button:Pn,PushButton:xo,RadioButton:Sa,CheckBox:bo,TextField:qi,PasswordField:yo,Appearance:et},ft.AcroForm={ChoiceField:Na,ListBox:ja,ComboBox:Aa,EditBox:vo,Button:Pn,PushButton:xo,RadioButton:Sa,CheckBox:bo,TextField:qi,PasswordField:yo,Appearance:et};ft.AcroForm;function $u(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}(function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(N,L){var M,E,G,V,de,J=t;if((L=L||t)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(ie(N))for(de in e)for(G=e[de],M=0;M<G.length;M+=1){for(V=!0,E=0;E<G[M].length;E+=1)if(G[M][E]!==void 0&&G[M][E]!==N[E]){V=!1;break}if(V===!0){J=de;break}}else for(de in e)for(G=e[de],M=0;M<G.length;M+=1){for(V=!0,E=0;E<G[M].length;E+=1)if(G[M][E]!==void 0&&G[M][E]!==N.charCodeAt(E)){V=!1;break}if(V===!0){J=de;break}}return J===t&&L!==t&&(J=L),J},o=function N(L){for(var M=this.internal.write,E=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:L.width}),V.push({key:"Height",value:L.height}),L.colorSpace===O.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===O.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var de="",J=0,ue=L.transparency.length;J<ue;J++)de+=L.transparency[J]+" "+L.transparency[J]+" ";V.push({key:"Mask",value:"["+de+"]"})}L.sMask!==void 0&&V.push({key:"SMask",value:L.objectId+1+" 0 R"});var me=L.filter!==void 0?["/"+L.filter]:void 0;if(E({data:L.data,additionalKeyValues:V,alreadyAppliedFilters:me,objectId:L.objectId}),M("endobj"),"sMask"in L&&L.sMask!==void 0){var Oe="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,b={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:Oe,data:L.sMask};"filter"in L&&(b.filter=L.filter),N.call(this,b)}if(L.colorSpace===O.INDEXED){var P=this.internal.newObject();E({data:q(new Uint8Array(L.palette)),objectId:P}),M("endobj")}},a=function(){var N=this.internal.collections.addImage_images;for(var L in N)o.call(this,N[L])},c=function(){var N,L=this.internal.collections.addImage_images,M=this.internal.write;for(var E in L)M("/I"+(N=L[E]).index,N.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",c))},f=function(){var N=this.internal.collections.addImage_images;return d.call(this),N},g=function(){return Object.keys(this.internal.collections.addImage_images).length},w=function(N){return typeof n["process"+N.toUpperCase()]=="function"},v=function(N){return Wt(N)==="object"&&N.nodeType===1},A=function(N,L){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var M=""+N.getAttribute("src");if(M.indexOf("data:image/")===0)return hs(unescape(M).split("base64,").pop());var E=n.loadFile(M,!0);if(E!==void 0)return E}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var G;switch(L){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return hs(N.toDataURL(G,1).split("base64,").pop())}},h=function(N){var L=this.internal.collections.addImage_images;if(L){for(var M in L)if(N===L[M].alias)return L[M]}},D=function(N,L,M){return N||L||(N=-96,L=-96),N<0&&(N=-1*M.width*72/N/this.internal.scaleFactor),L<0&&(L=-1*M.height*72/L/this.internal.scaleFactor),N===0&&(N=L*M.width/M.height),L===0&&(L=N*M.height/M.width),[N,L]},C=function(N,L,M,E,G,V){var de=D.call(this,M,E,G),J=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,me=f.call(this);if(M=de[0],E=de[1],me[G.index]=G,V){V*=Math.PI/180;var Oe=Math.cos(V),b=Math.sin(V),P=function(H){return H.toFixed(4)},T=[P(Oe),P(b),P(-1*b),P(Oe),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,J(N),ue(L+E),"cm"].join(" ")),this.internal.write(T.join(" ")),this.internal.write([J(M),"0","0",J(E),"0","0","cm"].join(" "))):this.internal.write([J(M),"0","0",J(E),J(N),ue(L+E),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},O=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=n.__addimage__.sHashCode=function(N){var L,M,E=0;if(typeof N=="string")for(M=N.length,L=0;L<M;L++)E=(E<<5)-E+N.charCodeAt(L),E|=0;else if(ie(N))for(M=N.byteLength/2,L=0;L<M;L++)E=(E<<5)-E+N[L],E|=0;return E},Y=n.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var L=!0;return N.length===0&&(L=!1),N.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(L=!1),L},ce=n.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var L=N.indexOf(",");return L<0?null:N.substring(0,L).trim().endsWith("base64")?N.substring(L+1):null},re=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(N){return re()&&N instanceof ArrayBuffer};var ie=n.__addimage__.isArrayBufferView=function(N){return re()&&typeof Uint32Array<"u"&&(N instanceof Int8Array||N instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array)},U=n.__addimage__.binaryStringToUint8Array=function(N){for(var L=N.length,M=new Uint8Array(L),E=0;E<L;E++)M[E]=N.charCodeAt(E);return M},q=n.__addimage__.arrayBufferToBinaryString=function(N){for(var L="",M=ie(N)?N:new Uint8Array(N),E=0;E<M.length;E+=8192)L+=String.fromCharCode.apply(null,M.subarray(E,E+8192));return L};n.addImage=function(){var N,L,M,E,G,V,de,J,ue;if(typeof arguments[1]=="number"?(L=t,M=arguments[1],E=arguments[2],G=arguments[3],V=arguments[4],de=arguments[5],J=arguments[6],ue=arguments[7]):(L=arguments[1],M=arguments[2],E=arguments[3],G=arguments[4],V=arguments[5],de=arguments[6],J=arguments[7],ue=arguments[8]),Wt(N=arguments[0])==="object"&&!v(N)&&"imageData"in N){var me=N;N=me.imageData,L=me.format||L||t,M=me.x||M||0,E=me.y||E||0,G=me.w||me.width||G,V=me.h||me.height||V,de=me.alias||de,J=me.compression||J,ue=me.rotation||me.angle||ue}var Oe=this.internal.getFilters();if(J===void 0&&Oe.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(M)||isNaN(E))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var b=Q.call(this,N,L,de,J);return C.call(this,M,E,G,V,b,ue),this};var Q=function(N,L,M,E){var G,V,de;if(typeof N=="string"&&i(N)===t){N=unescape(N);var J=ae(N,!1);(J!==""||(J=n.loadFile(N,!0))!==void 0)&&(N=J)}if(v(N)&&(N=A(N,L)),L=i(N,L),!w(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((de=M)==null||de.length===0)&&(M=function(ue){return typeof ue=="string"||ie(ue)?I(ue):ie(ue.data)?I(ue.data):null}(N)),(G=h.call(this,M))||(re()&&(N instanceof Uint8Array||L==="RGBA"||(V=N,N=U(N))),G=this["process"+L.toUpperCase()](N,g.call(this),M,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in n.image_compression?ue:_.NONE}(E),V)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},ae=n.__addimage__.convertBase64ToBinaryString=function(N,L){L=typeof L!="boolean"||L;var M,E="";if(typeof N=="string"){var G;M=(G=ce(N))!==null&&G!==void 0?G:N;try{E=hs(M)}catch(V){if(L)throw Y(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return E};n.getImageProperties=function(N){var L,M,E="";if(v(N)&&(N=A(N)),typeof N=="string"&&i(N)===t&&((E=ae(N,!1))===""&&(E=n.loadFile(N)||""),N=E),M=i(N),!w(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(!re()||N instanceof Uint8Array||(N=U(N)),!(L=this["process"+M.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=M,L}})(ft.API),function(n){var t=function(e){if(e!==void 0&&e!="")return!0};ft.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,o,a,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(e.objId),g=e.pageContext.annotations,w=!1,v=0;v<g.length&&!w;v++)switch((i=g[v]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(w=!0);break;case"reference":case"text":case"freetext":w=!0}if(w!=0){this.internal.write("/Annots [");for(var A=0;A<g.length;A++){i=g[A];var h=this.internal.pdfEscape,D=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(C.objId),I=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(o="/Rect ["+c(i.bounds.x)+" "+d(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y)+"] ")+"/Contents ("+h(_(i.contents))+")",a+=" /Popup "+O.objId+" 0 R",a+=" /P "+f.objId+" 0 R",a+=" /T ("+h(_(I))+") >>",C.content=a;var Y=C.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+c(i.bounds.x+30)+" "+d(i.bounds.y+i.bounds.h)+" "+c(i.bounds.x+i.bounds.w+30)+" "+d(i.bounds.y)+"] ")+" /Parent "+Y,i.open&&(a+=" /Open true"),a+=" >>",O.content=a,this.internal.write(C.objId,"0 R",O.objId,"0 R");break;case"freetext":o="/Rect ["+c(i.bounds.x)+" "+d(i.bounds.y)+" "+c(i.bounds.x+i.bounds.w)+" "+d(i.bounds.y+i.bounds.h)+"] ";var ce=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+h(D(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ce+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var re=this.annotations._nameMap[i.options.name];i.options.pageNumber=re.page,i.options.top=re.y}else i.options.top||(i.options.top=0);if(o="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+h(D(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var ie=d(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+ie+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,o,a,c){var d=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:f(e),y:g(i),w:f(e+o),h:g(i+a)},options:c,type:"link"})},n.textWithLink=function(e,i,o,a){var c,d,f=this.getTextWidth(e),g=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){d=a.maxWidth;var w=this.splitTextToSize(e,d).length;c=Math.ceil(g*w)}else d=f,c=g;return this.text(e,i,o,a),o+=.2*g,a.align==="center"&&(i-=f/2),a.align==="right"&&(i-=f),this.link(i,o-g,d,c,a),f},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(ft.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(C){return t[C.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},d=n.__arabicParser__.isArabicEndLetter=function(C){return c(C)&&a(C)&&t[C.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(C){return c(C)&&o.indexOf(C.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return c(C)&&a(C)&&t[C.charCodeAt(0)].length>=1};var g=n.__arabicParser__.arabicLetterHasFinalForm=function(C){return c(C)&&a(C)&&t[C.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(C){return c(C)&&a(C)&&t[C.charCodeAt(0)].length>=3};var w=n.__arabicParser__.arabicLetterHasMedialForm=function(C){return c(C)&&a(C)&&t[C.charCodeAt(0)].length==4},v=n.__arabicParser__.resolveLigatures=function(C){var O=0,_=e,I="",Y=0;for(O=0;O<C.length;O+=1)_[C.charCodeAt(O)]!==void 0?(Y++,typeof(_=_[C.charCodeAt(O)])=="number"&&(I+=String.fromCharCode(_),_=e,Y=0),O===C.length-1&&(_=e,I+=C.charAt(O-(Y-1)),O-=Y-1,Y=0)):(_=e,I+=C.charAt(O-Y),O-=Y,Y=0);return I};n.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&i[C.charCodeAt(0)]!==void 0};var A=n.__arabicParser__.getCorrectForm=function(C,O,_){return c(C)?a(C)===!1?-1:!g(C)||!c(O)&&!c(_)||!c(_)&&d(O)||d(C)&&!c(O)||d(C)&&f(O)||d(C)&&d(O)?0:w(C)&&c(O)&&!d(O)&&c(_)&&g(_)?3:d(C)||!c(_)?1:2:-1},h=function(C){var O=0,_=0,I=0,Y="",ce="",re="",ie=(C=C||"").split("\\s+"),U=[];for(O=0;O<ie.length;O+=1){for(U.push(""),_=0;_<ie[O].length;_+=1)Y=ie[O][_],ce=ie[O][_-1],re=ie[O][_+1],c(Y)?(I=A(Y,ce,re),U[O]+=I!==-1?String.fromCharCode(t[Y.charCodeAt(0)][I]):Y):U[O]+=Y;U[O]=v(U[O])}return U.join(" ")},D=n.__arabicParser__.processArabic=n.processArabic=function(){var C,O=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(O)){var I=0;for(_=[],I=0;I<O.length;I+=1)Array.isArray(O[I])?_.push([h(O[I][0]),O[I][1],O[I][2]]):_.push([h(O[I])]);C=_}else C=h(O);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};n.events.push(["preProcessText",D])}(ft.API),ft.API.autoPrint=function(n){var t;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(d){e=d}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(d){i=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(d){o=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(d){a=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var o;if((e=e||"2d")!=="2d")return null;for(o in i)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=i[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ft.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(C){f=C}});var g=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return g},set:function(C){g=C}});var w=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return w},set:function(C){w=C}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(C){v=C}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(C){A=C}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(C){h=C}});var D=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return D},set:function(C){D=C}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,g){i.call(this);var w=(g=g||{}).fontSize||this.getFontSize(),v=g.font||this.getFont(),A=g.scaleFactor||this.internal.scaleFactor,h=0,D=0,C=0,O=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var _=g.maxWidth;_>0?typeof f=="string"?f=this.splitTextToSize(f,_):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(Y,ce){return Y.concat(O.splitTextToSize(ce,_))},[])):f=Array.isArray(f)?f:[f];for(var I=0;I<f.length;I++)h<(C=this.getStringUnitWidth(f[I],{font:v})*w)&&(h=C);return h!==0&&(D=f.length),{w:h/=A,h:Math.max((D*w*this.getLineHeightFactor()-w*(this.getLineHeightFactor()-1))/A,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var f;f=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var g=this.internal.__cell__.lastCell,w=this.internal.__cell__.padding,v=this.internal.__cell__.margins||t,A=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return g.lineNumber!==void 0&&(g.lineNumber===f.lineNumber?(f.x=(g.x||0)+(g.width||0),f.y=g.y||0):g.y+g.height+f.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=v.top,h&&A&&(this.printHeaderRow(f.lineNumber,!0),f.y+=A[0].height)):f.y=g.y+g.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,e===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-w,f.y+w,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+w,{align:"center",baseline:"top",maxWidth:f.width-w-w}):this.text(f.text,f.x+w,f.y+w,{align:"left",baseline:"top",maxWidth:f.width-w-w})),this.internal.__cell__.lastCell=f,this};n.table=function(f,g,w,v,A){if(i.call(this),!w)throw new Error("No data for PDF table.");var h,D,C,O,_=[],I=[],Y=[],ce={},re={},ie=[],U=[],q=(A=A||{}).autoSize||!1,Q=A.printHeaders!==!1,ae=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,N=A.margins||Object.assign({width:this.getPageWidth()},t),L=typeof A.padding=="number"?A.padding:3,M=A.headerBackgroundColor||"#c8c8c8",E=A.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=Q,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=ae,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=E,this.setFontSize(ae),v==null)I=_=Object.keys(w[0]),Y=_.map(function(){return"left"});else if(Array.isArray(v)&&Wt(v[0])==="object")for(_=v.map(function(me){return me.name}),I=v.map(function(me){return me.prompt||me.name||""}),Y=v.map(function(me){return me.align||"left"}),h=0;h<v.length;h+=1)re[v[h].name]=v[h].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(I=_=v,Y=_.map(function(){return"left"}));if(q||Array.isArray(v)&&typeof v[0]=="string")for(h=0;h<_.length;h+=1){for(ce[O=_[h]]=w.map(function(me){return me[O]}),this.setFont(void 0,"bold"),ie.push(this.getTextDimensions(I[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),D=ce[O],this.setFont(void 0,"normal"),C=0;C<D.length;C+=1)ie.push(this.getTextDimensions(D[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);re[O]=Math.max.apply(null,ie)+L+L,ie=[]}if(Q){var G={};for(h=0;h<_.length;h+=1)G[_[h]]={},G[_[h]].text=I[h],G[_[h]].align=Y[h];var V=d.call(this,G,re);U=_.map(function(me){return new a(f,g,re[me],V,G[me].text,void 0,G[me].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var de=v.reduce(function(me,Oe){return me[Oe.name]=Oe.align,me},{});for(h=0;h<w.length;h+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:h,data:w[h]},this);var J=d.call(this,w[h],re);for(C=0;C<_.length;C+=1){var ue=w[h][_[C]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:h,col:C,data:ue},this),c.call(this,new a(f,g,re[_[C]],J,ue,h+2,de[_[C]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=g,this};var d=function(f,g){var w=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(f).map(function(h){var D=f[h];return this.splitTextToSize(D.hasOwnProperty("text")?D.text:D,g[h]-w-w)},this).map(function(h){return this.getLineHeightFactor()*h.length*v/A+w+w},this).reduce(function(h,D){return Math.max(h,D)},0)};n.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,g){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var w;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){w=this.internal.__cell__.tableHeaderRow[h].clone(),g&&(w.y=this.internal.__cell__.margins.top||0,A.push(w)),w.lineNumber=f;var D=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,w),this.setTextColor(D)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),e=!1}}(ft.API);var Gu={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Yu=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zl=$u(Yu),Ju=[100,200,300,400,500,600,700,800,900],yf=$u(Ju);function Ul(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=function(a){return Gu[a=a||"normal"]?a:"normal"}(n.style),i=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(n.weight),o=function(a){return typeof zl[a=a||"normal"]=="number"?a:"normal"}(n.stretch);return{family:t,style:e,weight:i,stretch:o,src:n.src||[],ref:n.ref||{name:t,style:[o,e,i].join(" ")}}}function $c(n,t,e,i){var o;for(o=e;o>=0&&o<t.length;o+=i)if(n[t[o]])return n[t[o]];for(o=e;o>=0&&o<t.length;o-=i)if(n[t[o]])return n[t[o]]}var wf={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Gc={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Yc(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Nf(n,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",o=Object.assign({},wf,e.genericFontFamilies||{}),a=null,c=null,d=0;d<t.length;++d)if(o[(a=Ul(t[d])).family]&&(a.family=o[a.family]),n.hasOwnProperty(a.family)){c=n[a.family];break}if(!(c=c||n[i]))throw new Error("Could not find a font-family for the rule '"+Yc(a)+"' and default family '"+i+"'.");if(c=function(f,g){if(g[f])return g[f];var w=zl[f],v=w<=zl.normal?-1:1,A=$c(g,Yu,w,v);if(!A)throw new Error("Could not find a matching font-stretch value for "+f);return A}(a.stretch,c),c=function(f,g){if(g[f])return g[f];for(var w=Gu[f],v=0;v<w.length;++v)if(g[w[v]])return g[w[v]];throw new Error("Could not find a matching font-style for "+f)}(a.style,c),!(c=function(f,g){if(g[f])return g[f];if(f===400&&g[500])return g[500];if(f===500&&g[400])return g[400];var w=yf[f],v=$c(g,Ju,w,f<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+f);return v}(a.weight,c)))throw new Error("Failed to resolve a font for the rule '"+Yc(a)+"'.");return c}function Jc(n){return n.trimLeft()}function jf(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function Af(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var po,Kc,Xc,jl=["times"];(function(n){var t,e,i,o,a,c,d,f,g,w=function(b){return b=b||{},this.isStrokeTransparent=b.isStrokeTransparent||!1,this.strokeOpacity=b.strokeOpacity||1,this.strokeStyle=b.strokeStyle||"#000000",this.fillStyle=b.fillStyle||"#000000",this.isFillTransparent=b.isFillTransparent||!1,this.fillOpacity=b.fillOpacity||1,this.font=b.font||"10px sans-serif",this.textBaseline=b.textBaseline||"alphabetic",this.textAlign=b.textAlign||"left",this.lineWidth=b.lineWidth||1,this.lineJoin=b.lineJoin||"miter",this.lineCap=b.lineCap||"butt",this.path=b.path||[],this.transform=b.transform!==void 0?b.transform.clone():new f,this.globalCompositeOperation=b.globalCompositeOperation||"normal",this.globalAlpha=b.globalAlpha||1,this.clip_path=b.clip_path||[],this.currentPoint=b.currentPoint||new c,this.miterLimit=b.miterLimit||10,this.lastPoint=b.lastPoint||new c,this.lineDashOffset=b.lineDashOffset||0,this.lineDash=b.lineDash||[],this.margin=b.margin||[0,0,0,0],this.prevPageLastElemOffset=b.prevPageLastElemOffset||0,this.ignoreClearRect=typeof b.ignoreClearRect!="boolean"||b.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new v(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,f=this.internal.Matrix,g=new w}]);var v=function(b){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var P=b;Object.defineProperty(this,"pdf",{get:function(){return P}});var T=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return T},set:function(ge){T=!!ge}});var H=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return H},set:function(ge){H=!!ge}});var K=0;Object.defineProperty(this,"posX",{get:function(){return K},set:function(ge){isNaN(ge)||(K=ge)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(ge){isNaN(ge)||(se=ge)}}),Object.defineProperty(this,"margin",{get:function(){return g.margin},set:function(ge){var z;typeof ge=="number"?z=[ge,ge,ge,ge]:((z=new Array(4))[0]=ge[0],z[1]=ge.length>=2?ge[1]:z[0],z[2]=ge.length>=3?ge[2]:z[0],z[3]=ge.length>=4?ge[3]:z[1]),g.margin=z}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(ge){he=ge}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(ge){le=ge}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(ge){Le=ge}}),Object.defineProperty(this,"ctx",{get:function(){return g},set:function(ge){ge instanceof w&&(g=ge)}}),Object.defineProperty(this,"path",{get:function(){return g.path},set:function(ge){g.path=ge}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(ge){Pe=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var z;z=A(ge),this.ctx.fillStyle=z.style,this.ctx.isFillTransparent=z.a===0,this.ctx.fillOpacity=z.a,this.pdf.setFillColor(z.r,z.g,z.b,{a:z.a}),this.pdf.setTextColor(z.r,z.g,z.b,{a:z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var z=A(ge);this.ctx.strokeStyle=z.style,this.ctx.isStrokeTransparent=z.a===0,this.ctx.strokeOpacity=z.a,z.a===0?this.pdf.setDrawColor(255,255,255):(z.a,this.pdf.setDrawColor(z.r,z.g,z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var qe=null;function Be(ge,z){if(qe===null){var rt=function(Ye){var Fe=[];return Object.keys(Ye).forEach(function(Re){Ye[Re].forEach(function(Ue){var Te=null;switch(Ue){case"bold":Te={family:Re,weight:"bold"};break;case"italic":Te={family:Re,style:"italic"};break;case"bolditalic":Te={family:Re,weight:"bold",style:"italic"};break;case"":case"normal":Te={family:Re}}Te!==null&&(Te.ref={name:Re,style:Ue},Fe.push(Te))})}),Fe}(ge.getFontList());qe=function(Ye){for(var Fe={},Re=0;Re<Ye.length;++Re){var Ue=Ul(Ye[Re]),Te=Ue.family,tt=Ue.stretch,we=Ue.style,De=Ue.weight;Fe[Te]=Fe[Te]||{},Fe[Te][tt]=Fe[Te][tt]||{},Fe[Te][tt][we]=Fe[Te][tt][we]||{},Fe[Te][tt][we][De]=Ue}return Fe}(rt.concat(z))}return qe}var nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return nt},set:function(ge){qe=null,nt=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var z;if(this.ctx.font=ge,(z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var rt=z[1];z[2];var Ye=z[3],Fe=z[4];z[5];var Re=z[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Fe)[2];Fe=Math.floor(Ue==="px"?parseFloat(Fe)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(Fe)*this.pdf.getFontSize():parseFloat(Fe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Fe);var Te=function(it){var mt,ze,Ht=[],St=it.trim();if(St==="")return jl;if(St in Gc)return[Gc[St]];for(;St!=="";){switch(ze=null,mt=(St=Jc(St)).charAt(0)){case'"':case"'":ze=jf(St.substring(1),mt);break;default:ze=Af(St)}if(ze===null||(Ht.push(ze[0]),(St=Jc(ze[1]))!==""&&St.charAt(0)!==","))return jl;St=St.replace(/^,/,"")}return Ht}(Re);if(this.fontFaces){var tt=Nf(Be(this.pdf,this.fontFaces),Te.map(function(it){return{family:it,stretch:"normal",weight:Ye,style:rt}}));this.pdf.setFont(tt.ref.name,tt.ref.style)}else{var we="";(Ye==="bold"||parseInt(Ye,10)>=700||rt==="bold")&&(we="bold"),rt==="italic"&&(we+="italic"),we.length===0&&(we="normal");for(var De="",Xe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<Te.length;st++){if(this.pdf.internal.getFont(Te[st],we,{noFallback:!0,disableWarning:!0})!==void 0){De=Te[st];break}if(we==="bolditalic"&&this.pdf.internal.getFont(Te[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)De=Te[st],we="bold";else if(this.pdf.internal.getFont(Te[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){De=Te[st],we="normal";break}}if(De===""){for(var ot=0;ot<Te.length;ot++)if(Xe[Te[ot]]){De=Xe[Te[ot]];break}}De=De===""?"Times":De,this.pdf.setFont(De,we)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,Oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,Oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};v.prototype.setLineDash=function(b){this.lineDash=b},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){ce.call(this,"fill",!1)},v.prototype.stroke=function(){ce.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(b,P){if(isNaN(b)||isNaN(P))throw Zt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var T=this.ctx.transform.applyToPoint(new c(b,P));this.path.push({type:"mt",x:T.x,y:T.y}),this.ctx.lastPoint=new c(b,P)},v.prototype.closePath=function(){var b=new c(0,0),P=0;for(P=this.path.length-1;P!==-1;P--)if(this.path[P].type==="begin"&&Wt(this.path[P+1])==="object"&&typeof this.path[P+1].x=="number"){b=new c(this.path[P+1].x,this.path[P+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(b.x,b.y)},v.prototype.lineTo=function(b,P){if(isNaN(b)||isNaN(P))throw Zt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var T=this.ctx.transform.applyToPoint(new c(b,P));this.path.push({type:"lt",x:T.x,y:T.y}),this.ctx.lastPoint=new c(T.x,T.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ce.call(this,null,!0)},v.prototype.quadraticCurveTo=function(b,P,T,H){if(isNaN(T)||isNaN(H)||isNaN(b)||isNaN(P))throw Zt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var K=this.ctx.transform.applyToPoint(new c(T,H)),se=this.ctx.transform.applyToPoint(new c(b,P));this.path.push({type:"qct",x1:se.x,y1:se.y,x:K.x,y:K.y}),this.ctx.lastPoint=new c(K.x,K.y)},v.prototype.bezierCurveTo=function(b,P,T,H,K,se){if(isNaN(K)||isNaN(se)||isNaN(b)||isNaN(P)||isNaN(T)||isNaN(H))throw Zt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new c(K,se)),le=this.ctx.transform.applyToPoint(new c(b,P)),Le=this.ctx.transform.applyToPoint(new c(T,H));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:Le.x,y2:Le.y,x:he.x,y:he.y}),this.ctx.lastPoint=new c(he.x,he.y)},v.prototype.arc=function(b,P,T,H,K,se){if(isNaN(b)||isNaN(P)||isNaN(T)||isNaN(H)||isNaN(K))throw Zt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new c(b,P));b=he.x,P=he.y;var le=this.ctx.transform.applyToPoint(new c(0,T)),Le=this.ctx.transform.applyToPoint(new c(0,0));T=Math.sqrt(Math.pow(le.x-Le.x,2)+Math.pow(le.y-Le.y,2))}Math.abs(K-H)>=2*Math.PI&&(H=0,K=2*Math.PI),this.path.push({type:"arc",x:b,y:P,radius:T,startAngle:H,endAngle:K,counterclockwise:se})},v.prototype.arcTo=function(b,P,T,H,K){throw new Error("arcTo not implemented.")},v.prototype.rect=function(b,P,T,H){if(isNaN(b)||isNaN(P)||isNaN(T)||isNaN(H))throw Zt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(b,P),this.lineTo(b+T,P),this.lineTo(b+T,P+H),this.lineTo(b,P+H),this.lineTo(b,P),this.lineTo(b+T,P),this.lineTo(b,P)},v.prototype.fillRect=function(b,P,T,H){if(isNaN(b)||isNaN(P)||isNaN(T)||isNaN(H))throw Zt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var K={};this.lineCap!=="butt"&&(K.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(K.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(b,P,T,H),this.fill(),K.hasOwnProperty("lineCap")&&(this.lineCap=K.lineCap),K.hasOwnProperty("lineJoin")&&(this.lineJoin=K.lineJoin)}},v.prototype.strokeRect=function(b,P,T,H){if(isNaN(b)||isNaN(P)||isNaN(T)||isNaN(H))throw Zt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");D.call(this)||(this.beginPath(),this.rect(b,P,T,H),this.stroke())},v.prototype.clearRect=function(b,P,T,H){if(isNaN(b)||isNaN(P)||isNaN(T)||isNaN(H))throw Zt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(b,P,T,H))},v.prototype.save=function(b){b=typeof b!="boolean"||b;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,T=0;T<this.pdf.internal.getNumberOfPages();T++)this.pdf.setPage(T+1),this.pdf.internal.out("q");if(this.pdf.setPage(P),b){this.ctx.fontSize=this.pdf.internal.getFontSize();var H=new w(this.ctx);this.ctxStack.push(this.ctx),this.ctx=H}},v.prototype.restore=function(b){b=typeof b!="boolean"||b;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,T=0;T<this.pdf.internal.getNumberOfPages();T++)this.pdf.setPage(T+1),this.pdf.internal.out("Q");this.pdf.setPage(P),b&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(b){var P,T,H,K;if(b.isCanvasGradient===!0&&(b=b.getColor()),!b)return{r:0,g:0,b:0,a:0,style:b};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(b))P=0,T=0,H=0,K=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(b);if(se!==null)P=parseInt(se[1]),T=parseInt(se[2]),H=parseInt(se[3]),K=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(b))!==null)P=parseInt(se[1]),T=parseInt(se[2]),H=parseInt(se[3]),K=parseFloat(se[4]);else{if(K=1,typeof b=="string"&&b.charAt(0)!=="#"){var he=new Bu(b);b=he.ok?he.toHex():"#000000"}b.length===4?(P=b.substring(1,2),P+=P,T=b.substring(2,3),T+=T,H=b.substring(3,4),H+=H):(P=b.substring(1,3),T=b.substring(3,5),H=b.substring(5,7)),P=parseInt(P,16),T=parseInt(T,16),H=parseInt(H,16)}}return{r:P,g:T,b:H,a:K,style:b}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},D=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(b,P,T,H){if(isNaN(P)||isNaN(T)||typeof b!="string")throw Zt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(H=isNaN(H)?void 0:H,!h.call(this)){var K=J(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;L.call(this,{text:b,x:P,y:T,scale:se,angle:K,align:this.textAlign,maxWidth:H})}},v.prototype.strokeText=function(b,P,T,H){if(isNaN(P)||isNaN(T)||typeof b!="string")throw Zt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!D.call(this)){H=isNaN(H)?void 0:H;var K=J(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;L.call(this,{text:b,x:P,y:T,scale:se,renderingMode:"stroke",angle:K,align:this.textAlign,maxWidth:H})}},v.prototype.measureText=function(b){if(typeof b!="string")throw Zt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var P=this.pdf,T=this.pdf.internal.scaleFactor,H=P.internal.getFontSize(),K=P.getStringUnitWidth(b)*H/P.internal.scaleFactor,se=function(he){var le=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this};return new se({width:K*=Math.round(96*T/72*1e4)/1e4})},v.prototype.scale=function(b,P){if(isNaN(b)||isNaN(P))throw Zt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var T=new f(b,0,0,P,0,0);this.ctx.transform=this.ctx.transform.multiply(T)},v.prototype.rotate=function(b){if(isNaN(b))throw Zt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var P=new f(Math.cos(b),Math.sin(b),-Math.sin(b),Math.cos(b),0,0);this.ctx.transform=this.ctx.transform.multiply(P)},v.prototype.translate=function(b,P){if(isNaN(b)||isNaN(P))throw Zt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var T=new f(1,0,0,1,b,P);this.ctx.transform=this.ctx.transform.multiply(T)},v.prototype.transform=function(b,P,T,H,K,se){if(isNaN(b)||isNaN(P)||isNaN(T)||isNaN(H)||isNaN(K)||isNaN(se))throw Zt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new f(b,P,T,H,K,se);this.ctx.transform=this.ctx.transform.multiply(he)},v.prototype.setTransform=function(b,P,T,H,K,se){b=isNaN(b)?1:b,P=isNaN(P)?0:P,T=isNaN(T)?0:T,H=isNaN(H)?1:H,K=isNaN(K)?0:K,se=isNaN(se)?0:se,this.ctx.transform=new f(b,P,T,H,K,se)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(b,P,T,H,K,se,he,le,Le){var Pe=this.pdf.getImageProperties(b),qe=1,Be=1,nt=1,ge=1;H!==void 0&&le!==void 0&&(nt=le/H,ge=Le/K,qe=Pe.width/H*le/H,Be=Pe.height/K*Le/K),se===void 0&&(se=P,he=T,P=0,T=0),H!==void 0&&le===void 0&&(le=H,Le=K),H===void 0&&le===void 0&&(le=Pe.width,Le=Pe.height);for(var z,rt=this.ctx.transform.decompose(),Ye=J(rt.rotate.shx),Fe=new f,Re=(Fe=(Fe=(Fe=Fe.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new d(se-P*nt,he-T*ge,H*qe,K*Be)),Ue=O.call(this,Re),Te=[],tt=0;tt<Ue.length;tt+=1)Te.indexOf(Ue[tt])===-1&&Te.push(Ue[tt]);if(Y(Te),this.autoPaging)for(var we=Te[0],De=Te[Te.length-1],Xe=we;Xe<De+1;Xe++){this.pdf.setPage(Xe);var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=Xe===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Xe===1?0:it+(Xe-2)*mt;if(this.ctx.clip_path.length!==0){var Ht=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(z,this.posX+this.margin[3],-ze+ot+this.ctx.prevPageLastElemOffset),re.call(this,"fill",!0),this.path=Ht}var St=JSON.parse(JSON.stringify(Re));St=I([St],this.posX+this.margin[3],-ze+ot+this.ctx.prevPageLastElemOffset)[0];var nn=(Xe>we||Xe<De)&&C.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,mt,null).clip().discardPath()),this.pdf.addImage(b,"JPEG",St.x,St.y,St.w,St.h,null,null,Ye),nn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(b,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,Ye)};var O=function(b,P,T){var H=[];P=P||this.pdf.internal.pageSize.width,T=T||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var K=this.posY+this.ctx.prevPageLastElemOffset;switch(b.type){default:case"mt":case"lt":H.push(Math.floor((b.y+K)/T)+1);break;case"arc":H.push(Math.floor((b.y+K-b.radius)/T)+1),H.push(Math.floor((b.y+K+b.radius)/T)+1);break;case"qct":var se=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,b.x1,b.y1,b.x,b.y);H.push(Math.floor((se.y+K)/T)+1),H.push(Math.floor((se.y+se.h+K)/T)+1);break;case"bct":var he=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,b.x1,b.y1,b.x2,b.y2,b.x,b.y);H.push(Math.floor((he.y+K)/T)+1),H.push(Math.floor((he.y+he.h+K)/T)+1);break;case"rect":H.push(Math.floor((b.y+K)/T)+1),H.push(Math.floor((b.y+b.h+K)/T)+1)}for(var le=0;le<H.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<H[le];)_.call(this);return H},_=function(){var b=this.fillStyle,P=this.strokeStyle,T=this.font,H=this.lineCap,K=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=b,this.strokeStyle=P,this.font=T,this.lineCap=H,this.lineWidth=K,this.lineJoin=se},I=function(b,P,T){for(var H=0;H<b.length;H++)switch(b[H].type){case"bct":b[H].x2+=P,b[H].y2+=T;case"qct":b[H].x1+=P,b[H].y1+=T;case"mt":case"lt":case"arc":default:b[H].x+=P,b[H].y+=T}return b},Y=function(b){return b.sort(function(P,T){return P-T})},ce=function(b,P){for(var T,H,K=this.fillStyle,se=this.strokeStyle,he=this.lineCap,le=this.lineWidth,Le=Math.abs(le*this.ctx.transform.scaleX),Pe=this.lineJoin,qe=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),nt=[],ge=0;ge<Be.length;ge++)if(Be[ge].x!==void 0)for(var z=O.call(this,Be[ge]),rt=0;rt<z.length;rt+=1)nt.indexOf(z[rt])===-1&&nt.push(z[rt]);for(var Ye=0;Ye<nt.length;Ye++)for(;this.pdf.internal.getNumberOfPages()<nt[Ye];)_.call(this);if(Y(nt),this.autoPaging)for(var Fe=nt[0],Re=nt[nt.length-1],Ue=Fe;Ue<Re+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=K,this.strokeStyle=se,this.lineCap=he,this.lineWidth=Le,this.lineJoin=Pe;var Te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=Ue===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=Ue===1?0:we+(Ue-2)*De;if(this.ctx.clip_path.length!==0){var st=this.path;T=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(T,this.posX+this.margin[3],-Xe+tt+this.ctx.prevPageLastElemOffset),re.call(this,b,!0),this.path=st}if(H=JSON.parse(JSON.stringify(qe)),this.path=I(H,this.posX+this.margin[3],-Xe+tt+this.ctx.prevPageLastElemOffset),P===!1||Ue===0){var ot=(Ue>Fe||Ue<Re)&&C.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,De,null).clip().discardPath()),re.call(this,b,P),ot&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=Le,re.call(this,b,P),this.lineWidth=le;this.path=qe},re=function(b,P){if((b!=="stroke"||P||!D.call(this))&&(b==="stroke"||P||!h.call(this))){for(var T,H,K=[],se=this.path,he=0;he<se.length;he++){var le=se[he];switch(le.type){case"begin":K.push({begin:!0});break;case"close":K.push({close:!0});break;case"mt":K.push({start:le,deltas:[],abs:[]});break;case"lt":var Le=K.length;if(se[he-1]&&!isNaN(se[he-1].x)&&(T=[le.x-se[he-1].x,le.y-se[he-1].y],Le>0)){for(;Le>=0;Le--)if(K[Le-1].close!==!0&&K[Le-1].begin!==!0){K[Le-1].deltas.push(T),K[Le-1].abs.push(le);break}}break;case"bct":T=[le.x1-se[he-1].x,le.y1-se[he-1].y,le.x2-se[he-1].x,le.y2-se[he-1].y,le.x-se[he-1].x,le.y-se[he-1].y],K[K.length-1].deltas.push(T);break;case"qct":var Pe=se[he-1].x+2/3*(le.x1-se[he-1].x),qe=se[he-1].y+2/3*(le.y1-se[he-1].y),Be=le.x+2/3*(le.x1-le.x),nt=le.y+2/3*(le.y1-le.y),ge=le.x,z=le.y;T=[Pe-se[he-1].x,qe-se[he-1].y,Be-se[he-1].x,nt-se[he-1].y,ge-se[he-1].x,z-se[he-1].y],K[K.length-1].deltas.push(T);break;case"arc":K.push({deltas:[],abs:[],arc:!0}),Array.isArray(K[K.length-1].abs)&&K[K.length-1].abs.push(le)}}H=P?null:b==="stroke"?"stroke":"fill";for(var rt=!1,Ye=0;Ye<K.length;Ye++)if(K[Ye].arc)for(var Fe=K[Ye].abs,Re=0;Re<Fe.length;Re++){var Ue=Fe[Re];Ue.type==="arc"?q.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,P,!rt):M.call(this,Ue.x,Ue.y),rt=!0}else if(K[Ye].close===!0)this.pdf.internal.out("h"),rt=!1;else if(K[Ye].begin!==!0){var Te=K[Ye].start.x,tt=K[Ye].start.y;E.call(this,K[Ye].deltas,Te,tt),rt=!0}H&&Q.call(this,H),P&&ae.call(this)}},ie=function(b){var P=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,T=P*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return b-T;case"top":return b+P-T;case"hanging":return b+P-2*T;case"middle":return b+P/2-T;case"ideographic":return b;case"alphabetic":default:return b}},U=function(b){return b+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var b=function(){};return b.colorStops=[],b.addColorStop=function(P,T){this.colorStops.push([P,T])},b.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},b.isCanvasGradient=!0,b},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var q=function(b,P,T,H,K,se,he,le,Le){for(var Pe=V.call(this,T,H,K,se),qe=0;qe<Pe.length;qe++){var Be=Pe[qe];qe===0&&(Le?N.call(this,Be.x1+b,Be.y1+P):M.call(this,Be.x1+b,Be.y1+P)),G.call(this,b,P,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}le?ae.call(this):Q.call(this,he)},Q=function(b){switch(b){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ae=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(b,P){this.pdf.internal.out(e(b)+" "+i(P)+" m")},L=function(b){var P;switch(b.align){case"right":case"end":P="right";break;case"center":P="center";break;case"left":case"start":default:P="left"}var T=this.pdf.getTextDimensions(b.text),H=ie.call(this,b.y),K=U.call(this,H)-T.h,se=this.ctx.transform.applyToPoint(new c(b.x,H)),he=this.ctx.transform.decompose(),le=new f;le=(le=(le=le.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Le,Pe,qe,Be=this.ctx.transform.applyToRectangle(new d(b.x,H,T.w,T.h)),nt=le.applyToRectangle(new d(b.x,K,T.w,T.h)),ge=O.call(this,nt),z=[],rt=0;rt<ge.length;rt+=1)z.indexOf(ge[rt])===-1&&z.push(ge[rt]);if(Y(z),this.autoPaging)for(var Ye=z[0],Fe=z[z.length-1],Re=Ye;Re<Fe+1;Re++){this.pdf.setPage(Re);var Ue=Re===1?this.posY+this.margin[0]:this.margin[0],Te=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[2],we=tt-this.margin[0],De=this.pdf.internal.pageSize.width-this.margin[1],Xe=De-this.margin[3],st=Re===1?0:Te+(Re-2)*we;if(this.ctx.clip_path.length!==0){var ot=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Le,this.posX+this.margin[3],-1*st+Ue),re.call(this,"fill",!0),this.path=ot}var it=I([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-st+Ue+this.ctx.prevPageLastElemOffset)[0];b.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*b.scale),qe=this.lineWidth,this.lineWidth=qe*b.scale);var mt=this.autoPaging!=="text";if(mt||it.y+it.h<=tt){if(mt||it.y>=Ue&&it.x<=De){var ze=mt?b.text:this.pdf.splitTextToSize(b.text,b.maxWidth||De-it.x)[0],Ht=I([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-st+Ue+this.ctx.prevPageLastElemOffset)[0],St=mt&&(Re>Ye||Re<Fe)&&C.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,we,null).clip().discardPath()),this.pdf.text(ze,Ht.x,Ht.y,{angle:b.angle,align:P,renderingMode:b.renderingMode}),St&&this.pdf.restoreGraphicsState()}}else it.y<tt&&(this.ctx.prevPageLastElemOffset+=tt-it.y);b.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=qe)}else b.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*b.scale),qe=this.lineWidth,this.lineWidth=qe*b.scale),this.pdf.text(b.text,se.x+this.posX,se.y+this.posY,{angle:b.angle,align:P,renderingMode:b.renderingMode,maxWidth:b.maxWidth}),b.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=qe)},M=function(b,P,T,H){T=T||0,H=H||0,this.pdf.internal.out(e(b+T)+" "+i(P+H)+" l")},E=function(b,P,T){return this.pdf.lines(b,P,T,null,null)},G=function(b,P,T,H,K,se,he,le){this.pdf.internal.out([t(o(T+b)),t(a(H+P)),t(o(K+b)),t(a(se+P)),t(o(he+b)),t(a(le+P)),"c"].join(" "))},V=function(b,P,T,H){for(var K=2*Math.PI,se=Math.PI/2;P>T;)P-=K;var he=Math.abs(T-P);he<K&&H&&(he=K-he);for(var le=[],Le=H?-1:1,Pe=P;he>1e-5;){var qe=Pe+Le*Math.min(he,se);le.push(de.call(this,b,Pe,qe)),he-=Math.abs(qe-Pe),Pe=qe}return le},de=function(b,P,T){var H=(T-P)/2,K=b*Math.cos(H),se=b*Math.sin(H),he=K,le=-se,Le=he*he+le*le,Pe=Le+he*K+le*se,qe=4/3*(Math.sqrt(2*Le*Pe)-Pe)/(he*se-le*K),Be=he-qe*le,nt=le+qe*he,ge=Be,z=-nt,rt=H+P,Ye=Math.cos(rt),Fe=Math.sin(rt);return{x1:b*Math.cos(P),y1:b*Math.sin(P),x2:Be*Ye-nt*Fe,y2:Be*Fe+nt*Ye,x3:ge*Ye-z*Fe,y3:ge*Fe+z*Ye,x4:b*Math.cos(T),y4:b*Math.sin(T)}},J=function(b){return 180*b/Math.PI},ue=function(b,P,T,H,K,se){var he=b+.5*(T-b),le=P+.5*(H-P),Le=K+.5*(T-K),Pe=se+.5*(H-se),qe=Math.min(b,K,he,Le),Be=Math.max(b,K,he,Le),nt=Math.min(P,se,le,Pe),ge=Math.max(P,se,le,Pe);return new d(qe,nt,Be-qe,ge-nt)},me=function(b,P,T,H,K,se,he,le){var Le,Pe,qe,Be,nt,ge,z,rt,Ye,Fe,Re,Ue,Te,tt,we=T-b,De=H-P,Xe=K-T,st=se-H,ot=he-K,it=le-se;for(Pe=0;Pe<41;Pe++)Ye=(z=(qe=b+(Le=Pe/40)*we)+Le*((nt=T+Le*Xe)-qe))+Le*(nt+Le*(K+Le*ot-nt)-z),Fe=(rt=(Be=P+Le*De)+Le*((ge=H+Le*st)-Be))+Le*(ge+Le*(se+Le*it-ge)-rt),Pe==0?(Re=Ye,Ue=Fe,Te=Ye,tt=Fe):(Re=Math.min(Re,Ye),Ue=Math.min(Ue,Fe),Te=Math.max(Te,Ye),tt=Math.max(tt,Fe));return new d(Math.round(Re),Math.round(Ue),Math.round(Te-Re),Math.round(tt-Ue))},Oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var b,P,T=(b=this.ctx.lineDash,P=this.ctx.lineDashOffset,JSON.stringify({lineDash:b,lineDashOffset:P}));this.prevLineDash!==T&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=T)}}})(ft.API),function(n){var t=function(a){var c,d,f,g,w,v,A,h,D,C;for(d=[],f=0,g=(a+=c="\0\0\0\0".slice(a.length%4||4)).length;g>f;f+=4)(w=(a.charCodeAt(f)<<24)+(a.charCodeAt(f+1)<<16)+(a.charCodeAt(f+2)<<8)+a.charCodeAt(f+3))!==0?(v=(w=((w=((w=((w=(w-(C=w%85))/85)-(D=w%85))/85)-(h=w%85))/85)-(A=w%85))/85)%85,d.push(v+33,A+33,h+33,D+33,C+33)):d.push(122);return function(O,_){for(var I=_;I>0;I--)O.pop()}(d,c.length),String.fromCharCode.apply(String,d)+"~>"},e=function(a){var c,d,f,g,w,v=String,A="length",h=255,D="charCodeAt",C="slice",O="replace";for(a[C](-2),a=a[C](0,-2)[O](/\s/g,"")[O]("z","!!!!!"),f=[],g=0,w=(a+=c="uuuuu"[C](a[A]%5||5))[A];w>g;g+=5)d=52200625*(a[D](g)-33)+614125*(a[D](g+1)-33)+7225*(a[D](g+2)-33)+85*(a[D](g+3)-33)+(a[D](g+4)-33),f.push(h&d>>24,h&d>>16,h&d>>8,h&d);return function(_,I){for(var Y=I;Y>0;Y--)_.pop()}(f,c[A]),v.fromCharCode.apply(v,f)},i=function(a){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),c.test(a)===!1)return"";for(var d="",f=0;f<a.length;f+=2)d+=String.fromCharCode("0x"+(a[f]+a[f+1]));return d},o=function(a){for(var c=new Uint8Array(a.length),d=a.length;d--;)c[d]=a.charCodeAt(d);return a=(c=Rl(c)).reduce(function(f,g){return f+String.fromCharCode(g)},"")};n.processDataByFilters=function(a,c){var d=0,f=a||"",g=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":f=e(f),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=f.split("").map(function(w){return("0"+w.charCodeAt().toString(16)).slice(-2)}).join("")+">",g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:f,reverseChain:g.reverse().join(" ")}}}(ft.API),function(n){n.loadFile=function(t,e,i){return function(o,a,c){a=a!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=function(f,g,w){var v=new XMLHttpRequest,A=0,h=function(D){var C=D.length,O=[],_=String.fromCharCode;for(A=0;A<C;A+=1)O.push(_(255&D.charCodeAt(A)));return O.join("")};if(v.open("GET",f,!g),v.overrideMimeType("text/plain; charset=x-user-defined"),g===!1&&(v.onload=function(){v.status===200?w(h(this.responseText)):w(void 0)}),v.send(null),g&&v.status===200)return h(v.responseText)}(o,a,c)}catch{}return d}(t,e,i)},n.loadImageFile=n.loadFile}(ft.API),function(n){function t(){return(ht.html2canvas?Promise.resolve(ht.html2canvas):_l(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function e(){return(ht.DOMPurify?Promise.resolve(ht.DOMPurify):_l(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var i=function(c){var d=Wt(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},o=function(c,d){var f=document.createElement(c);for(var g in d.className&&(f.className=d.className),d.innerHTML&&d.dompurify&&(f.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)f.style[g]=d.style[g];return f},a=function c(d){var f=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),g=c.convert(Promise.resolve(),f);return g=(g=g.setProgress(1,c,1,[c])).set(d)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(c,d){return c.__proto__=d||a.prototype,c},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(c,d){return this.then(function(){switch(d=d||function(f){switch(i(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(c)){case"string":return this.then(e).then(function(f){return this.set({src:o("div",{innerHTML:c,dompurify:f})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},a.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=function f(g,w){for(var v=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),A=g.firstChild;A;A=A.nextSibling)w!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||v.appendChild(f(A,w));return g.nodeType===1&&(g.nodeName==="CANVAS"?(v.width=g.width,v.height=g.height,v.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(v.value=g.value),v.addEventListener("load",function(){v.scrollTop=g.scrollTop,v.scrollLeft=g.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(d){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,d(this.prop.container,f)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(d){var f=this.opt.jsPDF,g=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=g,g)for(var A=0;A<g.length;++A){var h=g[A],D=h.src.find(function(C){return C.format==="truetype"});D&&f.addFont(D.url,h.ref.name,h.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,f.context2d.save(!0),d(this.prop.container,v)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(c,d,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},a.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},a.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},a.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(c){if(i(c)!=="object")return this;var d=Object.keys(c||{}).map(function(f){if(f in a.template.prop)return function(){this.prop[f]=c[f]};switch(f){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[f]=c[f]}}},this);return this.then(function(){return this.thenList(d)})},a.prototype.get=function(c,d){return this.then(function(){var f=c in a.template.prop?this.prop[c]:this.opt[c];return d?d(f):f})},a.prototype.setMargin=function(c){return this.then(function(){switch(i(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},a.prototype.setPageSize=function(c){function d(f,g){return Math.floor(f*g/72*96)}return this.then(function(){(c=c||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},a.prototype.setProgress=function(c,d,f,g){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),f!=null&&(this.progress.n=f),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(c,d,f,g){return this.setProgress(c?this.progress.val+c:null,d||null,f?this.progress.n+f:null,g?this.progress.stack.concat(g):null)},a.prototype.then=function(c,d){var f=this;return this.thenCore(c,d,function(g,w){return f.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(v){return f.updateProgress(null,g),v}).then(g,w).then(function(v){return f.updateProgress(1),v})})},a.prototype.thenCore=function(c,d,f){f=f||Promise.prototype.then,c&&(c=c.bind(this)),d&&(d=d.bind(this));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),w=f.call(g,c,d);return a.convert(w,this.__proto__)},a.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},a.prototype.thenList=function(c){var d=this;return c.forEach(function(f){d=d.thenCore(f)}),d},a.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return a.convert(d,this)},a.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},a.prototype.error=function(c){return this.then(function(){throw new Error(c)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,ft.getPageSize=function(c,d,f){if(Wt(c)==="object"){var g=c;c=g.orientation,d=g.unit||d,f=g.format||f}d=d||"mm",f=f||"a4",c=(""+(c||"P")).toLowerCase();var w,v=(""+f).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+d}var h,D=0,C=0;if(A.hasOwnProperty(v))D=A[v][1]/w,C=A[v][0]/w;else try{D=f[1],C=f[0]}catch{throw new Error("Invalid format: "+f)}if(c==="p"||c==="portrait")c="p",C>D&&(h=C,C=D,D=h);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",D>C&&(h=C,C=D,D=h)}return{width:C,height:D,unit:d,k:w,orientation:c}},n.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Ul):null;var f=new a(d);return d.worker?f:f.from(c).doCallback()}}(ft.API),ft.API.addJS=function(n){return Xc=n,this.internal.events.subscribe("postPutResources",function(){po=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(po+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Kc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Xc+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){po!==void 0&&Kc!==void 0&&this.internal.out("/Names <</JavaScript "+po+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=e.outline.render().split(/\r\n/),a=0;a<o.length;a++){var c=o[a],d=i.exec(c);if(d!=null){var f=d[1];e.internal.newObjectDeferredBegin(f,!1)}e.internal.write(c)}if(this.outline.createNamedDestinations){var g=this.internal.pages.length,w=[];for(a=0;a<g;a++){var v=e.internal.newObject();w.push(v);var A=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<w.length;a++)e.internal.write("(page_"+(a+1)+")"+w[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,o,a){var c={title:o,options:a,children:[]};return i==null&&(i=this.root),i.children.push(c),c},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var o=0;o<i.children.length;o++)this.genIds_r(i.children[o])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var c=i.children[a];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var f=e.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var g=0;g<i.children.length;g++)this.renderItems(i.children[g])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,o){for(var a=0;a<o.children.length;a++)i.count++,this.count_r(i,o.children[a]);return i.count}}])}(ft.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,o,a,c,d){var f,g=this.decode.DCT_DECODE,w=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=c||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(f=function(v){for(var A,h=256*v.charCodeAt(4)+v.charCodeAt(5),D=v.length,C={width:0,height:0,numcomponents:1},O=4;O<D;O+=2){if(O+=h,t.indexOf(v.charCodeAt(O+1))!==-1){A=256*v.charCodeAt(O+5)+v.charCodeAt(O+6),C={width:256*v.charCodeAt(O+7)+v.charCodeAt(O+8),height:A,numcomponents:v.charCodeAt(O+9)};break}h=256*v.charCodeAt(O+2)+v.charCodeAt(O+3)}return C}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}w={data:e,width:f.width,height:f.height,colorSpace:d,bitsPerComponent:8,filter:g,index:i,alias:o}}return w}}(ft.API);var ma,fo,Zc,Qc,eu,Sf=function(){var n,t,e;function i(a){var c,d,f,g,w,v,A,h,D,C,O,_,I,Y;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(c=this.readUInt32(),D=(function(){var ce,re;for(re=[],ce=0;ce<4;++ce)re.push(String.fromCharCode(this.data[this.pos++]));return re}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},w=this.readUInt16(),g=this.readUInt16()||100,v.delay=1e3*w/g,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(D==="fdAT"&&(this.pos+=4,c-=4),a=(v!=null?v.data:void 0)||this.imgData,_=0;0<=c?_<c:_>c;0<=c?++_:--_)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(f=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>f)throw new Error("More transparent colors than palette size");if((C=f-this.transparency.indexed.length)>0)for(I=0;0<=C?I<C:I>C;0<=C?++I:--I)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":A=(O=this.read(c)).indexOf(0),h=String.fromCharCode.apply(String,O.slice(0,A)),this.text[h]=String.fromCharCode.apply(String,O.slice(A+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(Y=this.colorType)===4||Y===6,d=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*d,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(a){var c,d;for(d=[],c=0;0<=a?c<a:c>a;0<=a?++c:--c)d.push(this.data[this.pos++]);return d},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(a){var c=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*c),f=0,g=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function w(v,A,h,D){var C,O,_,I,Y,ce,re,ie,U,q,Q,ae,N,L,M,E,G,V,de,J,ue,me=Math.ceil((g.width-v)/h),Oe=Math.ceil((g.height-A)/D),b=g.width==me&&g.height==Oe;for(L=c*me,ae=b?d:new Uint8Array(L*Oe),ce=a.length,N=0,O=0;N<Oe&&f<ce;){switch(a[f++]){case 0:for(I=G=0;G<L;I=G+=1)ae[O++]=a[f++];break;case 1:for(I=V=0;V<L;I=V+=1)C=a[f++],Y=I<c?0:ae[O-c],ae[O++]=(C+Y)%256;break;case 2:for(I=de=0;de<L;I=de+=1)C=a[f++],_=(I-I%c)/c,M=N&&ae[(N-1)*L+_*c+I%c],ae[O++]=(M+C)%256;break;case 3:for(I=J=0;J<L;I=J+=1)C=a[f++],_=(I-I%c)/c,Y=I<c?0:ae[O-c],M=N&&ae[(N-1)*L+_*c+I%c],ae[O++]=(C+Math.floor((Y+M)/2))%256;break;case 4:for(I=ue=0;ue<L;I=ue+=1)C=a[f++],_=(I-I%c)/c,Y=I<c?0:ae[O-c],N===0?M=E=0:(M=ae[(N-1)*L+_*c+I%c],E=_&&ae[(N-1)*L+(_-1)*c+I%c]),re=Y+M-E,ie=Math.abs(re-Y),q=Math.abs(re-M),Q=Math.abs(re-E),U=ie<=q&&ie<=Q?Y:q<=Q?M:E,ae[O++]=(C+U)%256;break;default:throw new Error("Invalid filter algorithm: "+a[f-1])}if(!b){var P=((A+N*D)*g.width+v)*c,T=N*L;for(I=0;I<me;I+=1){for(var H=0;H<c;H+=1)d[P++]=ae[T++];P+=(h-1)*c}}N++}}return a=nf(a),g.interlaceMethod==1?(w(0,0,8,8),w(4,0,8,8),w(0,4,4,8),w(2,0,4,4),w(0,2,2,4),w(1,0,2,2),w(0,1,1,2)):w(0,0,1,1),d},i.prototype.decodePalette=function(){var a,c,d,f,g,w,v,A,h;for(d=this.palette,w=this.transparency.indexed||[],g=new Uint8Array((w.length||0)+d.length),f=0,a=0,c=v=0,A=d.length;v<A;c=v+=3)g[f++]=d[c],g[f++]=d[c+1],g[f++]=d[c+2],g[f++]=(h=w[a++])!=null?h:255;return g},i.prototype.copyToImageData=function(a,c){var d,f,g,w,v,A,h,D,C,O,_;if(f=this.colors,C=null,d=this.hasAlphaChannel,this.palette.length&&(C=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),f=4,d=!0),D=(g=a.data||a).length,v=C||c,w=A=0,f===1)for(;w<D;)h=C?4*c[w/4]:A,O=v[h++],g[w++]=O,g[w++]=O,g[w++]=O,g[w++]=d?v[h++]:255,A=h;else for(;w<D;)h=C?4*c[w/4]:A,g[w++]=v[h++],g[w++]=v[h++],g[w++]=v[h++],g[w++]=d?v[h++]:255,A=h},i.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var o=function(){if(Object.prototype.toString.call(ht)==="[object Window]"){try{t=ht.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return o(),n=function(a){var c;if(o()===!0)return e.width=a.width,e.height=a.height,e.clearRect(0,0,a.width,a.height),e.putImageData(a,0,0),(c=new Image).src=t.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(a){var c,d,f,g,w,v,A,h;if(this.animation){for(h=[],d=w=0,v=(A=this.animation.frames).length;w<v;d=++w)c=A[d],f=a.createImageData(c.width,c.height),g=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(f,g),c.imageData=f,h.push(c.image=n(f));return h}},i.prototype.renderFrame=function(a,c){var d,f,g;return d=(f=this.animation.frames)[c],g=f[c-1],c===0&&a.clearRect(0,0,this.width,this.height),(g!=null?g.disposeOp:void 0)===1?a.clearRect(g.xOffset,g.yOffset,g.width,g.height):(g!=null?g.disposeOp:void 0)===2&&a.putImageData(g.imageData,g.xOffset,g.yOffset),d.blendOp===0&&a.clearRect(d.xOffset,d.yOffset,d.width,d.height),a.drawImage(d.image,d.xOffset,d.yOffset)},i.prototype.animate=function(a){var c,d,f,g,w,v,A=this;return d=0,v=this.animation,g=v.numFrames,f=v.frames,w=v.numPlays,(c=function(){var h,D;if(h=d++%g,D=f[h],A.renderFrame(a,h),g>1&&d/g<w)return A.animation._timeout=setTimeout(c,D.delay)})()},i.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},i.prototype.render=function(a){var c,d;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,c=a.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(d=c.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),c.putImageData(d,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Lf(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,o=n[t++],a=o>>7,c=1<<(7&o)+1;n[t++],n[t++];var d=null,f=null;a&&(d=t,f=c,t+=3*c);var g=!0,w=[],v=0,A=null,h=0,D=null;for(this.width=e,this.height=i;g&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,D=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((N=n[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var C=n[t++];v=n[t++]|n[t++]<<8,A=n[t++],(1&C)==0&&(A=null),h=C>>2&7,t++;break;case 254:for(;;){if(!((N=n[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var O=n[t++]|n[t++]<<8,_=n[t++]|n[t++]<<8,I=n[t++]|n[t++]<<8,Y=n[t++]|n[t++]<<8,ce=n[t++],re=ce>>6&1,ie=1<<(7&ce)+1,U=d,q=f,Q=!1;ce>>7&&(Q=!0,U=t,q=ie,t+=3*ie);var ae=t;for(t++;;){var N;if(!((N=n[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}w.push({x:O,y:_,width:I,height:Y,has_local_palette:Q,palette_offset:U,palette_size:q,data_offset:ae,data_length:t-ae,transparent_index:A,interlaced:!!re,delay:v,disposal:h});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return w.length},this.loopCount=function(){return D},this.frameInfo=function(L){if(L<0||L>=w.length)throw new Error("Frame index out of range.");return w[L]},this.decodeAndBlitFrameBGRA=function(L,M){var E=this.frameInfo(L),G=E.width*E.height,V=new Uint8Array(G);tu(n,E.data_offset,V,G);var de=E.palette_offset,J=E.transparent_index;J===null&&(J=256);var ue=E.width,me=e-ue,Oe=ue,b=4*(E.y*e+E.x),P=4*((E.y+E.height)*e+E.x),T=b,H=4*me;E.interlaced===!0&&(H+=4*e*7);for(var K=8,se=0,he=V.length;se<he;++se){var le=V[se];if(Oe===0&&(Oe=ue,(T+=H)>=P&&(H=4*me+4*e*(K-1),T=b+(ue+me)*(K<<1),K>>=1)),le===J)T+=4;else{var Le=n[de+3*le],Pe=n[de+3*le+1],qe=n[de+3*le+2];M[T++]=qe,M[T++]=Pe,M[T++]=Le,M[T++]=255}--Oe}},this.decodeAndBlitFrameRGBA=function(L,M){var E=this.frameInfo(L),G=E.width*E.height,V=new Uint8Array(G);tu(n,E.data_offset,V,G);var de=E.palette_offset,J=E.transparent_index;J===null&&(J=256);var ue=E.width,me=e-ue,Oe=ue,b=4*(E.y*e+E.x),P=4*((E.y+E.height)*e+E.x),T=b,H=4*me;E.interlaced===!0&&(H+=4*e*7);for(var K=8,se=0,he=V.length;se<he;++se){var le=V[se];if(Oe===0&&(Oe=ue,(T+=H)>=P&&(H=4*me+4*e*(K-1),T=b+(ue+me)*(K<<1),K>>=1)),le===J)T+=4;else{var Le=n[de+3*le],Pe=n[de+3*le+1],qe=n[de+3*le+2];M[T++]=Le,M[T++]=Pe,M[T++]=qe,M[T++]=255}--Oe}}}function tu(n,t,e,i){for(var o=n[t++],a=1<<o,c=a+1,d=c+1,f=o+1,g=(1<<f)-1,w=0,v=0,A=0,h=n[t++],D=new Int32Array(4096),C=null;;){for(;w<16&&h!==0;)v|=n[t++]<<w,w+=8,h===1?h=n[t++]:--h;if(w<f)break;var O=v&g;if(v>>=f,w-=f,O!==a){if(O===c)break;for(var _=O<d?O:C,I=0,Y=_;Y>a;)Y=D[Y]>>8,++I;var ce=Y;if(A+I+(_!==O?1:0)>i)return void Zt.log("Warning, gif stream longer than expected.");e[A++]=ce;var re=A+=I;for(_!==O&&(e[A++]=ce),Y=_;I--;)Y=D[Y],e[--re]=255&Y,Y>>=8;C!==null&&d<4096&&(D[d++]=C<<8|ce,d>=g+1&&f<12&&(++f,g=g<<1|1)),C=O}else d=c+1,g=(1<<(f=o+1))-1,C=null}return A!==i&&Zt.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Al(n){var t,e,i,o,a,c=Math.floor,d=new Array(64),f=new Array(64),g=new Array(64),w=new Array(64),v=new Array(65535),A=new Array(65535),h=new Array(64),D=new Array(64),C=[],O=0,_=7,I=new Array(64),Y=new Array(64),ce=new Array(64),re=new Array(256),ie=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(b,P){for(var T=0,H=0,K=new Array,se=1;se<=16;se++){for(var he=1;he<=b[se];he++)K[P[H]]=[],K[P[H]][0]=T,K[P[H]][1]=se,H++,T++;T*=2}return K}function de(b){for(var P=b[0],T=b[1]-1;T>=0;)P&1<<T&&(O|=1<<_),T--,--_<0&&(O==255?(J(255),J(0)):J(O),_=7,O=0)}function J(b){C.push(b)}function ue(b){J(b>>8&255),J(255&b)}function me(b,P,T,H,K){for(var se,he=K[0],le=K[240],Le=function(Fe,Re){var Ue,Te,tt,we,De,Xe,st,ot,it,mt,ze=0;for(it=0;it<8;++it){Ue=Fe[ze],Te=Fe[ze+1],tt=Fe[ze+2],we=Fe[ze+3],De=Fe[ze+4],Xe=Fe[ze+5],st=Fe[ze+6];var Ht=Ue+(ot=Fe[ze+7]),St=Ue-ot,nn=Te+st,Lt=Te-st,Mt=tt+Xe,An=tt-Xe,Ft=we+De,Vt=we-De,Tt=Ht+Ft,Sn=Ht-Ft,Cn=nn+Mt,Pt=nn-Mt;Fe[ze]=Tt+Cn,Fe[ze+4]=Tt-Cn;var pt=.707106781*(Pt+Sn);Fe[ze+2]=Sn+pt,Fe[ze+6]=Sn-pt;var Ct=.382683433*((Tt=Vt+An)-(Pt=Lt+St)),pr=.5411961*Tt+Ct,ln=1.306562965*Pt+Ct,Mn=.707106781*(Cn=An+Lt),In=St+Mn,ve=St-Mn;Fe[ze+5]=ve+pr,Fe[ze+3]=ve-pr,Fe[ze+1]=In+ln,Fe[ze+7]=In-ln,ze+=8}for(ze=0,it=0;it<8;++it){Ue=Fe[ze],Te=Fe[ze+8],tt=Fe[ze+16],we=Fe[ze+24],De=Fe[ze+32],Xe=Fe[ze+40],st=Fe[ze+48];var at=Ue+(ot=Fe[ze+56]),Ze=Ue-ot,bt=Te+st,yt=Te-st,It=tt+Xe,kt=tt-Xe,$n=we+De,En=we-De,Dn=at+$n,W=at-$n,Me=bt+It,ye=bt-It;Fe[ze]=Dn+Me,Fe[ze+32]=Dn-Me;var _e=.707106781*(ye+W);Fe[ze+16]=W+_e,Fe[ze+48]=W-_e;var Qe=.382683433*((Dn=En+kt)-(ye=yt+Ze)),Ee=.5411961*Dn+Qe,vt=1.306562965*ye+Qe,je=.707106781*(Me=kt+yt),Je=Ze+je,lt=Ze-je;Fe[ze+40]=lt+Ee,Fe[ze+24]=lt-Ee,Fe[ze+8]=Je+vt,Fe[ze+56]=Je-vt,ze++}for(it=0;it<64;++it)mt=Fe[it]*Re[it],h[it]=mt>0?mt+.5|0:mt-.5|0;return h}(b,P),Pe=0;Pe<64;++Pe)D[U[Pe]]=Le[Pe];var qe=D[0]-T;T=D[0],qe==0?de(H[0]):(de(H[A[se=32767+qe]]),de(v[se]));for(var Be=63;Be>0&&D[Be]==0;)Be--;if(Be==0)return de(he),T;for(var nt,ge=1;ge<=Be;){for(var z=ge;D[ge]==0&&ge<=Be;)++ge;var rt=ge-z;if(rt>=16){nt=rt>>4;for(var Ye=1;Ye<=nt;++Ye)de(le);rt&=15}se=32767+D[ge],de(K[(rt<<4)+A[se]]),de(v[se]),ge++}return Be!=63&&de(he),T}function Oe(b){b=Math.min(Math.max(b,1),100),a!=b&&(function(P){for(var T=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],H=0;H<64;H++){var K=c((T[H]*P+50)/100);K=Math.min(Math.max(K,1),255),d[U[H]]=K}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var le=c((se[he]*P+50)/100);le=Math.min(Math.max(le,1),255),f[U[he]]=le}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,qe=0;qe<8;qe++)for(var Be=0;Be<8;Be++)g[Pe]=1/(d[U[Pe]]*Le[qe]*Le[Be]*8),w[Pe]=1/(f[U[Pe]]*Le[qe]*Le[Be]*8),Pe++}(b<50?Math.floor(5e3/b):Math.floor(200-2*b)),a=b)}this.encode=function(b,P){P&&Oe(P),C=new Array,O=0,_=7,ue(65496),ue(65504),ue(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),ue(1),ue(1),J(0),J(0),function(){ue(65499),ue(132),J(0);for(var Te=0;Te<64;Te++)J(d[Te]);J(1);for(var tt=0;tt<64;tt++)J(f[tt])}(),function(Te,tt){ue(65472),ue(17),J(8),ue(tt),ue(Te),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(b.width,b.height),function(){ue(65476),ue(418),J(0);for(var Te=0;Te<16;Te++)J(q[Te+1]);for(var tt=0;tt<=11;tt++)J(Q[tt]);J(16);for(var we=0;we<16;we++)J(ae[we+1]);for(var De=0;De<=161;De++)J(N[De]);J(1);for(var Xe=0;Xe<16;Xe++)J(L[Xe+1]);for(var st=0;st<=11;st++)J(M[st]);J(17);for(var ot=0;ot<16;ot++)J(E[ot+1]);for(var it=0;it<=161;it++)J(G[it])}(),ue(65498),ue(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var T=0,H=0,K=0;O=0,_=7,this.encode.displayName="_encode_";for(var se,he,le,Le,Pe,qe,Be,nt,ge,z=b.data,rt=b.width,Ye=b.height,Fe=4*rt,Re=0;Re<Ye;){for(se=0;se<Fe;){for(Pe=Fe*Re+se,Be=-1,nt=0,ge=0;ge<64;ge++)qe=Pe+(nt=ge>>3)*Fe+(Be=4*(7&ge)),Re+nt>=Ye&&(qe-=Fe*(Re+1+nt-Ye)),se+Be>=Fe&&(qe-=se+Be-Fe+4),he=z[qe++],le=z[qe++],Le=z[qe++],I[ge]=(ie[he]+ie[le+256>>0]+ie[Le+512>>0]>>16)-128,Y[ge]=(ie[he+768>>0]+ie[le+1024>>0]+ie[Le+1280>>0]>>16)-128,ce[ge]=(ie[he+1280>>0]+ie[le+1536>>0]+ie[Le+1792>>0]>>16)-128;T=me(I,g,T,t,i),H=me(Y,w,H,e,o),K=me(ce,w,K,e,o),se+=32}Re+=8}if(_>=0){var Ue=[];Ue[1]=_+1,Ue[0]=(1<<_+1)-1,de(Ue)}return ue(65497),new Uint8Array(C)},n=n||50,function(){for(var b=String.fromCharCode,P=0;P<256;P++)re[P]=b(P)}(),t=V(q,Q),e=V(L,M),i=V(ae,N),o=V(E,G),function(){for(var b=1,P=2,T=1;T<=15;T++){for(var H=b;H<P;H++)A[32767+H]=T,v[32767+H]=[],v[32767+H][1]=T,v[32767+H][0]=H;for(var K=-(P-1);K<=-b;K++)A[32767+K]=T,v[32767+K]=[],v[32767+K][1]=T,v[32767+K][0]=P-1+K;b<<=1,P<<=1}}(),function(){for(var b=0;b<256;b++)ie[b]=19595*b,ie[b+256>>0]=38470*b,ie[b+512>>0]=7471*b+32768,ie[b+768>>0]=-11059*b,ie[b+1024>>0]=-21709*b,ie[b+1280>>0]=32768*b+8421375,ie[b+1536>>0]=-27439*b,ie[b+1792>>0]=-5329*b}(),Oe(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function kr(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function nu(n){function t(q){if(!q)throw Error("assert :P")}function e(q,Q,ae){for(var N=0;4>N;N++)if(q[Q+N]!=ae.charCodeAt(N))return!0;return!1}function i(q,Q,ae,N,L){for(var M=0;M<L;M++)q[Q+M]=ae[N+M]}function o(q,Q,ae,N){for(var L=0;L<N;L++)q[Q+L]=ae}function a(q){return new Int32Array(q)}function c(q,Q){for(var ae=[],N=0;N<q;N++)ae.push(new Q);return ae}function d(q,Q){var ae=[];return function N(L,M,E){for(var G=E[M],V=0;V<G&&(L.push(E.length>M+1?[]:new Q),!(E.length<M+1));V++)N(L[V],M+1,E)}(ae,0,q),ae}var f=function(){var q=this;function Q(r,s){for(var p=1<<s-1>>>0;r&p;)p>>>=1;return p?(r&p-1)+p:r}function ae(r,s,p,m,x){t(!(m%p));do r[s+(m-=p)]=x;while(0<m)}function N(r,s,p,m,x){if(t(2328>=x),512>=x)var j=a(512);else if((j=a(x))==null)return 0;return function(S,k,F,R,X,pe){var fe,te,Se=k,xe=1<<F,Z=a(16),ee=a(16);for(t(X!=0),t(R!=null),t(S!=null),t(0<F),te=0;te<X;++te){if(15<R[te])return 0;++Z[R[te]]}if(Z[0]==X)return 0;for(ee[1]=0,fe=1;15>fe;++fe){if(Z[fe]>1<<fe)return 0;ee[fe+1]=ee[fe]+Z[fe]}for(te=0;te<X;++te)fe=R[te],0<R[te]&&(pe[ee[fe]++]=te);if(ee[15]==1)return(R=new L).g=0,R.value=pe[0],ae(S,Se,1,xe,R),xe;var Ne,ke=-1,Ae=xe-1,Ge=0,We=1,dt=1,He=1<<F;for(te=0,fe=1,X=2;fe<=F;++fe,X<<=1){if(We+=dt<<=1,0>(dt-=Z[fe]))return 0;for(;0<Z[fe];--Z[fe])(R=new L).g=fe,R.value=pe[te++],ae(S,Se+Ge,X,He,R),Ge=Q(Ge,fe)}for(fe=F+1,X=2;15>=fe;++fe,X<<=1){if(We+=dt<<=1,0>(dt-=Z[fe]))return 0;for(;0<Z[fe];--Z[fe]){if(R=new L,(Ge&Ae)!=ke){for(Se+=He,Ne=1<<(ke=fe)-F;15>ke&&!(0>=(Ne-=Z[ke]));)++ke,Ne<<=1;xe+=He=1<<(Ne=ke-F),S[k+(ke=Ge&Ae)].g=Ne+F,S[k+ke].value=Se-k-ke}R.g=fe-F,R.value=pe[te++],ae(S,Se+(Ge>>F),X,He,R),Ge=Q(Ge,fe)}}return We!=2*ee[15]-1?0:xe}(r,s,p,m,x,j)}function L(){this.value=this.g=0}function M(){this.value=this.g=0}function E(){this.G=c(5,L),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(On,M)}function G(r,s,p,m){t(r!=null),t(s!=null),t(2147483648>m),r.Ca=254,r.I=0,r.b=-8,r.Ka=0,r.oa=s,r.pa=p,r.Jd=s,r.Yc=p+m,r.Zc=4<=m?p+m-4+1:p,se(r)}function V(r,s){for(var p=0;0<s--;)p|=le(r,128)<<s;return p}function de(r,s){var p=V(r,s);return he(r)?-p:p}function J(r,s,p,m){var x,j=0;for(t(r!=null),t(s!=null),t(4294967288>m),r.Sb=m,r.Ra=0,r.u=0,r.h=0,4<m&&(m=4),x=0;x<m;++x)j+=s[p+x]<<8*x;r.Ra=j,r.bb=m,r.oa=s,r.pa=p}function ue(r){for(;8<=r.u&&r.bb<r.Sb;)r.Ra>>>=8,r.Ra+=r.oa[r.pa+r.bb]<<ia-8>>>0,++r.bb,r.u-=8;T(r)&&(r.h=1,r.u=0)}function me(r,s){if(t(0<=s),!r.h&&s<=ra){var p=P(r)&na[s];return r.u+=s,ue(r),p}return r.h=1,r.u=0}function Oe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function b(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function P(r){return r.Ra>>>(r.u&ia-1)>>>0}function T(r){return t(r.bb<=r.Sb),r.h||r.bb==r.Sb&&r.u>ia}function H(r,s){r.u=s,r.h=T(r)}function K(r){r.u>=Ga&&(t(r.u>=Ga),ue(r))}function se(r){t(r!=null&&r.oa!=null),r.pa<r.Zc?(r.I=(r.oa[r.pa++]|r.I<<8)>>>0,r.b+=8):(t(r!=null&&r.oa!=null),r.pa<r.Yc?(r.b+=8,r.I=r.oa[r.pa++]|r.I<<8):r.Ka?r.b=0:(r.I<<=8,r.b+=8,r.Ka=1))}function he(r){return V(r,1)}function le(r,s){var p=r.Ca;0>r.b&&se(r);var m=r.b,x=p*s>>>8,j=(r.I>>>m>x)+0;for(j?(p-=x,r.I-=x+1<<m>>>0):p=x+1,m=p,x=0;256<=m;)x+=8,m>>=8;return m=7^x+Qn[m],r.b-=m,r.Ca=(p<<m)-1,j}function Le(r,s,p){r[s+0]=p>>24&255,r[s+1]=p>>16&255,r[s+2]=p>>8&255,r[s+3]=p>>0&255}function Pe(r,s){return r[s+0]<<0|r[s+1]<<8}function qe(r,s){return Pe(r,s)|r[s+2]<<16}function Be(r,s){return Pe(r,s)|Pe(r,s+2)<<16}function nt(r,s){var p=1<<s;return t(r!=null),t(0<s),r.X=a(p),r.X==null?0:(r.Mb=32-s,r.Xa=s,1)}function ge(r,s){t(r!=null),t(s!=null),t(r.Xa==s.Xa),i(s.X,0,r.X,0,1<<s.Xa)}function z(){this.X=[],this.Xa=this.Mb=0}function rt(r,s,p,m){t(p!=null),t(m!=null);var x=p[0],j=m[0];return x==0&&(x=(r*j+s/2)/s),j==0&&(j=(s*x+r/2)/r),0>=x||0>=j?0:(p[0]=x,m[0]=j,1)}function Ye(r,s){return r+(1<<s)-1>>>s}function Fe(r,s){return((4278255360&r)+(4278255360&s)>>>0&4278255360)+((16711935&r)+(16711935&s)>>>0&16711935)>>>0}function Re(r,s){q[s]=function(p,m,x,j,S,k,F){var R;for(R=0;R<S;++R){var X=q[r](k[F+R-1],x,j+R);k[F+R]=Fe(p[m+R],X)}}}function Ue(){this.ud=this.hd=this.jd=0}function Te(r,s){return((4278124286&(r^s))>>>1)+(r&s)>>>0}function tt(r){return 0<=r&&256>r?r:0>r?0:255<r?255:void 0}function we(r,s){return tt(r+(r-s+.5>>1))}function De(r,s,p){return Math.abs(s-p)-Math.abs(r-p)}function Xe(r,s,p,m,x,j,S){for(m=j[S-1],p=0;p<x;++p)j[S+p]=m=Fe(r[s+p],m)}function st(r,s,p,m,x){var j;for(j=0;j<p;++j){var S=r[s+j],k=S>>8&255,F=16711935&(F=(F=16711935&S)+((k<<16)+k));m[x+j]=(4278255360&S)+F>>>0}}function ot(r,s){s.jd=r>>0&255,s.hd=r>>8&255,s.ud=r>>16&255}function it(r,s,p,m,x,j){var S;for(S=0;S<m;++S){var k=s[p+S],F=k>>>8,R=k,X=255&(X=(X=k>>>16)+((r.jd<<24>>24)*(F<<24>>24)>>>5));R=255&(R=(R=R+((r.hd<<24>>24)*(F<<24>>24)>>>5))+((r.ud<<24>>24)*(X<<24>>24)>>>5)),x[j+S]=(4278255360&k)+(X<<16)+R}}function mt(r,s,p,m,x){q[s]=function(j,S,k,F,R,X,pe,fe,te){for(F=pe;F<fe;++F)for(pe=0;pe<te;++pe)R[X++]=x(k[m(j[S++])])},q[r]=function(j,S,k,F,R,X,pe){var fe=8>>j.b,te=j.Ea,Se=j.K[0],xe=j.w;if(8>fe)for(j=(1<<j.b)-1,xe=(1<<fe)-1;S<k;++S){var Z,ee=0;for(Z=0;Z<te;++Z)Z&j||(ee=m(F[R++])),X[pe++]=x(Se[ee&xe]),ee>>=fe}else q["VP8LMapColor"+p](F,R,Se,xe,X,pe,S,k,te)}}function ze(r,s,p,m,x){for(p=s+p;s<p;){var j=r[s++];m[x++]=j>>16&255,m[x++]=j>>8&255,m[x++]=j>>0&255}}function Ht(r,s,p,m,x){for(p=s+p;s<p;){var j=r[s++];m[x++]=j>>16&255,m[x++]=j>>8&255,m[x++]=j>>0&255,m[x++]=j>>24&255}}function St(r,s,p,m,x){for(p=s+p;s<p;){var j=(S=r[s++])>>16&240|S>>12&15,S=S>>0&240|S>>28&15;m[x++]=j,m[x++]=S}}function nn(r,s,p,m,x){for(p=s+p;s<p;){var j=(S=r[s++])>>16&248|S>>13&7,S=S>>5&224|S>>3&31;m[x++]=j,m[x++]=S}}function Lt(r,s,p,m,x){for(p=s+p;s<p;){var j=r[s++];m[x++]=j>>0&255,m[x++]=j>>8&255,m[x++]=j>>16&255}}function Mt(r,s,p,m,x,j){if(j==0)for(p=s+p;s<p;)Le(m,((j=r[s++])[0]>>24|j[1]>>8&65280|j[2]<<8&16711680|j[3]<<24)>>>0),x+=32;else i(m,x,r,s,p)}function An(r,s){q[s][0]=q[r+"0"],q[s][1]=q[r+"1"],q[s][2]=q[r+"2"],q[s][3]=q[r+"3"],q[s][4]=q[r+"4"],q[s][5]=q[r+"5"],q[s][6]=q[r+"6"],q[s][7]=q[r+"7"],q[s][8]=q[r+"8"],q[s][9]=q[r+"9"],q[s][10]=q[r+"10"],q[s][11]=q[r+"11"],q[s][12]=q[r+"12"],q[s][13]=q[r+"13"],q[s][14]=q[r+"0"],q[s][15]=q[r+"0"]}function Ft(r){return r==Xo||r==Zo||r==$s||r==Qo}function Vt(){this.eb=[],this.size=this.A=this.fb=0}function Tt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vt,this.f.kb=new Tt,this.sd=null}function Cn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Pt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pt(r){return alert("todo:WebPSamplerProcessPlane"),r.T}function Ct(r,s){var p=r.T,m=s.ba.f.RGBA,x=m.eb,j=m.fb+r.ka*m.A,S=xr[s.ba.S],k=r.y,F=r.O,R=r.f,X=r.N,pe=r.ea,fe=r.W,te=s.cc,Se=s.dc,xe=s.Mc,Z=s.Nc,ee=r.ka,Ne=r.ka+r.T,ke=r.U,Ae=ke+1>>1;for(ee==0?S(k,F,null,null,R,X,pe,fe,R,X,pe,fe,x,j,null,null,ke):(S(s.ec,s.fc,k,F,te,Se,xe,Z,R,X,pe,fe,x,j-m.A,x,j,ke),++p);ee+2<Ne;ee+=2)te=R,Se=X,xe=pe,Z=fe,X+=r.Rc,fe+=r.Rc,j+=2*m.A,S(k,(F+=2*r.fa)-r.fa,k,F,te,Se,xe,Z,R,X,pe,fe,x,j-m.A,x,j,ke);return F+=r.fa,r.j+Ne<r.o?(i(s.ec,s.fc,k,F,ke),i(s.cc,s.dc,R,X,Ae),i(s.Mc,s.Nc,pe,fe,Ae),p--):1&Ne||S(k,F,null,null,R,X,pe,fe,R,X,pe,fe,x,j+m.A,null,null,ke),p}function pr(r,s,p){var m=r.F,x=[r.J];if(m!=null){var j=r.U,S=s.ba.S,k=S==Vs||S==$s;s=s.ba.f.RGBA;var F=[0],R=r.ka;F[0]=r.T,r.Kb&&(R==0?--F[0]:(--R,x[0]-=r.width),r.j+r.ka+r.T==r.o&&(F[0]=r.o-r.j-R));var X=s.eb;R=s.fb+R*s.A,r=en(m,x[0],r.width,j,F,X,R+(k?0:3),s.A),t(p==F),r&&Ft(S)&&gr(X,R,k,j,F,s.A)}return 0}function ln(r){var s=r.ma,p=s.ba.S,m=11>p,x=p==Ws||p==Hs||p==Vs||p==Ko||p==12||Ft(p);if(s.memory=null,s.Ib=null,s.Jb=null,s.Nd=null,!Va(s.Oa,r,x?11:12))return 0;if(x&&Ft(p)&&Ie(),r.da)alert("todo:use_scaling");else{if(m){if(s.Ib=pt,r.Kb){if(p=r.U+1>>1,s.memory=a(r.U+2*p),s.memory==null)return 0;s.ec=s.memory,s.fc=0,s.cc=s.ec,s.dc=s.fc+r.U,s.Mc=s.cc,s.Nc=s.dc+p,s.Ib=Ct,Ie()}}else alert("todo:EmitYUV");x&&(s.Jb=pr,m&&oe())}if(m&&!cc){for(r=0;256>r;++r)kd[r]=89858*(r-128)+Ys>>Gs,Cd[r]=-22014*(r-128)+Ys,Pd[r]=-45773*(r-128),Fd[r]=113618*(r-128)+Ys>>Gs;for(r=es;r<nl;++r)s=76283*(r-16)+Ys>>Gs,Id[r-es]=ir(s,255),Ed[r-es]=ir(s+8>>4,15);cc=1}return 1}function Mn(r){var s=r.ma,p=r.U,m=r.T;return t(!(1&r.ka)),0>=p||0>=m?0:(p=s.Ib(r,s),s.Jb!=null&&s.Jb(r,s,p),s.Dc+=p,1)}function In(r){r.ma.memory=null}function ve(r,s,p,m){return me(r,8)!=47?0:(s[0]=me(r,14)+1,p[0]=me(r,14)+1,m[0]=me(r,1),me(r,3)!=0?0:!r.h)}function at(r,s){if(4>r)return r+1;var p=r-2>>1;return(2+(1&r)<<p)+me(s,p)+1}function Ze(r,s){return 120<s?s-120:1<=(p=((p=hd[s-1])>>4)*r+(8-(15&p)))?p:1;var p}function bt(r,s,p){var m=P(p),x=r[s+=255&m].g-8;return 0<x&&(H(p,p.u+8),m=P(p),s+=r[s].value,s+=m&(1<<x)-1),H(p,p.u+r[s].g),r[s].value}function yt(r,s,p){return p.g+=r.g,p.value+=r.value<<s>>>0,t(8>=p.g),r.g}function It(r,s,p){var m=r.xc;return t((s=m==0?0:r.vc[r.md*(p>>m)+(s>>m)])<r.Wb),r.Ya[s]}function kt(r,s,p,m){var x=r.ab,j=r.c*s,S=r.C;s=S+s;var k=p,F=m;for(m=r.Ta,p=r.Ua;0<x--;){var R=r.gc[x],X=S,pe=s,fe=k,te=F,Se=(F=m,k=p,R.Ea);switch(t(X<pe),t(pe<=R.nc),R.hc){case 2:Rs(fe,te,(pe-X)*Se,F,k);break;case 0:var xe=X,Z=pe,ee=F,Ne=k,ke=(He=R).Ea;xe==0&&(Yo(fe,te,null,null,1,ee,Ne),Xe(fe,te+1,0,0,ke-1,ee,Ne+1),te+=ke,Ne+=ke,++xe);for(var Ae=1<<He.b,Ge=Ae-1,We=Ye(ke,He.b),dt=He.K,He=He.w+(xe>>He.b)*We;xe<Z;){var qt=dt,zt=He,Rt=1;for(Ya(fe,te,ee,Ne-ke,1,ee,Ne);Rt<ke;){var Et=(Rt&~Ge)+Ae;Et>ke&&(Et=ke),(0,ri[qt[zt++]>>8&15])(fe,te+ +Rt,ee,Ne+Rt-ke,Et-Rt,ee,Ne+Rt),Rt=Et}te+=ke,Ne+=ke,++xe&Ge||(He+=We)}pe!=R.nc&&i(F,k-Se,F,k+(pe-X-1)*Se,Se);break;case 1:for(Se=fe,Z=te,ke=(fe=R.Ea)-(Ne=fe&~(ee=(te=1<<R.b)-1)),xe=Ye(fe,R.b),Ae=R.K,R=R.w+(X>>R.b)*xe;X<pe;){for(Ge=Ae,We=R,dt=new Ue,He=Z+Ne,qt=Z+fe;Z<He;)ot(Ge[We++],dt),Li(dt,Se,Z,te,F,k),Z+=te,k+=te;Z<qt&&(ot(Ge[We++],dt),Li(dt,Se,Z,ke,F,k),Z+=ke,k+=ke),++X&ee||(R+=xe)}break;case 3:if(fe==F&&te==k&&0<R.b){for(Z=F,fe=Se=k+(pe-X)*Se-(Ne=(pe-X)*Ye(R.Ea,R.b)),te=F,ee=k,xe=[],Ne=(ke=Ne)-1;0<=Ne;--Ne)xe[Ne]=te[ee+Ne];for(Ne=ke-1;0<=Ne;--Ne)Z[fe+Ne]=xe[Ne];fr(R,X,pe,F,Se,F,k)}else fr(R,X,pe,fe,te,F,k)}k=m,F=p}F!=p&&i(m,p,k,F,j)}function $n(r,s){var p=r.V,m=r.Ba+r.c*r.C,x=s-r.C;if(t(s<=r.l.o),t(16>=x),0<x){var j=r.l,S=r.Ta,k=r.Ua,F=j.width;if(kt(r,x,p,m),x=k=[k],t((p=r.C)<(m=s)),t(j.v<j.va),m>j.o&&(m=j.o),p<j.j){var R=j.j-p;p=j.j,x[0]+=R*F}if(p>=m?p=0:(x[0]+=4*j.v,j.ka=p-j.j,j.U=j.va-j.v,j.T=m-p,p=1),p){if(k=k[0],11>(p=r.ca).S){var X=p.f.RGBA,pe=(m=p.S,x=j.U,j=j.T,R=X.eb,X.A),fe=j;for(X=X.fb+r.Ma*X.A;0<fe--;){var te=S,Se=k,xe=x,Z=R,ee=X;switch(m){case Us:er(te,Se,xe,Z,ee);break;case Ws:Gn(te,Se,xe,Z,ee);break;case Xo:Gn(te,Se,xe,Z,ee),gr(Z,ee,0,xe,1,0);break;case ec:Vr(te,Se,xe,Z,ee);break;case Hs:Mt(te,Se,xe,Z,ee,1);break;case Zo:Mt(te,Se,xe,Z,ee,1),gr(Z,ee,0,xe,1,0);break;case Vs:Mt(te,Se,xe,Z,ee,0);break;case $s:Mt(te,Se,xe,Z,ee,0),gr(Z,ee,1,xe,1,0);break;case Ko:ii(te,Se,xe,Z,ee);break;case Qo:ii(te,Se,xe,Z,ee),Qt(Z,ee,xe,1,0);break;case tc:Hr(te,Se,xe,Z,ee);break;default:t(0)}k+=F,X+=pe}r.Ma+=j}else alert("todo:EmitRescaledRowsYUVA");t(r.Ma<=p.height)}}r.C=s,t(r.C<=r.i)}function En(r){var s;if(0<r.ua)return 0;for(s=0;s<r.Wb;++s){var p=r.Ya[s].G,m=r.Ya[s].H;if(0<p[1][m[1]+0].g||0<p[2][m[2]+0].g||0<p[3][m[3]+0].g)return 0}return 1}function Dn(r,s,p,m,x,j){if(r.Z!=0){var S=r.qd,k=r.rd;for(t(li[r.Z]!=null);s<p;++s)li[r.Z](S,k,m,x,m,x,j),S=m,k=x,x+=j;r.qd=S,r.rd=k}}function W(r,s){var p=r.l.ma,m=p.Z==0||p.Z==1?r.l.j:r.C;if(m=r.C<m?m:r.C,t(s<=r.l.o),s>m){var x=r.l.width,j=p.ca,S=p.tb+x*m,k=r.V,F=r.Ba+r.c*m,R=r.gc;t(r.ab==1),t(R[0].hc==3),Ms(R[0],m,s,k,F,j,S),Dn(p,m,s,j,S,x)}r.C=r.Ma=s}function Me(r,s,p,m,x,j,S){var k=r.$/m,F=r.$%m,R=r.m,X=r.s,pe=p+r.$,fe=pe;x=p+m*x;var te=p+m*j,Se=280+X.ua,xe=r.Pb?k:16777216,Z=0<X.ua?X.Wa:null,ee=X.wc,Ne=pe<te?It(X,F,k):null;t(r.C<j),t(te<=x);var ke=!1;e:for(;;){for(;ke||pe<te;){var Ae=0;if(k>=xe){var Ge=pe-p;t((xe=r).Pb),xe.wd=xe.m,xe.xd=Ge,0<xe.s.ua&&ge(xe.s.Wa,xe.s.vb),xe=k+gd}if(F&ee||(Ne=It(X,F,k)),t(Ne!=null),Ne.Qb&&(s[pe]=Ne.qb,ke=!0),!ke)if(K(R),Ne.jc){Ae=R,Ge=s;var We=pe,dt=Ne.pd[P(Ae)&On-1];t(Ne.jc),256>dt.g?(H(Ae,Ae.u+dt.g),Ge[We]=dt.value,Ae=0):(H(Ae,Ae.u+dt.g-256),t(256<=dt.value),Ae=dt.value),Ae==0&&(ke=!0)}else Ae=bt(Ne.G[0],Ne.H[0],R);if(R.h)break;if(ke||256>Ae){if(!ke)if(Ne.nd)s[pe]=(Ne.qb|Ae<<8)>>>0;else{if(K(R),ke=bt(Ne.G[1],Ne.H[1],R),K(R),Ge=bt(Ne.G[2],Ne.H[2],R),We=bt(Ne.G[3],Ne.H[3],R),R.h)break;s[pe]=(We<<24|ke<<16|Ae<<8|Ge)>>>0}if(ke=!1,++pe,++F>=m&&(F=0,++k,S!=null&&k<=j&&!(k%16)&&S(r,k),Z!=null))for(;fe<pe;)Ae=s[fe++],Z.X[(506832829*Ae&4294967295)>>>Z.Mb]=Ae}else if(280>Ae){if(Ae=at(Ae-256,R),Ge=bt(Ne.G[4],Ne.H[4],R),K(R),Ge=Ze(m,Ge=at(Ge,R)),R.h)break;if(pe-p<Ge||x-pe<Ae)break e;for(We=0;We<Ae;++We)s[pe+We]=s[pe+We-Ge];for(pe+=Ae,F+=Ae;F>=m;)F-=m,++k,S!=null&&k<=j&&!(k%16)&&S(r,k);if(t(pe<=x),F&ee&&(Ne=It(X,F,k)),Z!=null)for(;fe<pe;)Ae=s[fe++],Z.X[(506832829*Ae&4294967295)>>>Z.Mb]=Ae}else{if(!(Ae<Se))break e;for(ke=Ae-280,t(Z!=null);fe<pe;)Ae=s[fe++],Z.X[(506832829*Ae&4294967295)>>>Z.Mb]=Ae;Ae=pe,t(!(ke>>>(Ge=Z).Xa)),s[Ae]=Ge.X[ke],ke=!0}ke||t(R.h==T(R))}if(r.Pb&&R.h&&pe<x)t(r.m.h),r.a=5,r.m=r.wd,r.$=r.xd,0<r.s.ua&&ge(r.s.vb,r.s.Wa);else{if(R.h)break e;S!=null&&S(r,k>j?j:k),r.a=0,r.$=pe-p}return 1}return r.a=3,0}function ye(r){t(r!=null),r.vc=null,r.yc=null,r.Ya=null;var s=r.Wa;s!=null&&(s.X=null),r.vb=null,t(r!=null)}function _e(){var r=new Go;return r==null?null:(r.a=0,r.xb=ic,An("Predictor","VP8LPredictors"),An("Predictor","VP8LPredictors_C"),An("PredictorAdd","VP8LPredictorsAdd"),An("PredictorAdd","VP8LPredictorsAdd_C"),Rs=st,Li=it,er=ze,Gn=Ht,ii=St,Hr=nn,Vr=Lt,q.VP8LMapColor32b=aa,q.VP8LMapColor8b=Ts,r)}function Qe(r,s,p,m,x){var j=1,S=[r],k=[s],F=m.m,R=m.s,X=null,pe=0;e:for(;;){if(p)for(;j&&me(F,1);){var fe=S,te=k,Se=m,xe=1,Z=Se.m,ee=Se.gc[Se.ab],Ne=me(Z,2);if(Se.Oc&1<<Ne)j=0;else{switch(Se.Oc|=1<<Ne,ee.hc=Ne,ee.Ea=fe[0],ee.nc=te[0],ee.K=[null],++Se.ab,t(4>=Se.ab),Ne){case 0:case 1:ee.b=me(Z,3)+2,xe=Qe(Ye(ee.Ea,ee.b),Ye(ee.nc,ee.b),0,Se,ee.K),ee.K=ee.K[0];break;case 3:var ke,Ae=me(Z,8)+1,Ge=16<Ae?0:4<Ae?1:2<Ae?2:3;if(fe[0]=Ye(ee.Ea,Ge),ee.b=Ge,ke=xe=Qe(Ae,1,0,Se,ee.K)){var We,dt=Ae,He=ee,qt=1<<(8>>He.b),zt=a(qt);if(zt==null)ke=0;else{var Rt=He.K[0],Et=He.w;for(zt[0]=He.K[0][0],We=1;We<1*dt;++We)zt[We]=Fe(Rt[Et+We],zt[We-1]);for(;We<4*qt;++We)zt[We]=0;He.K[0]=null,He.K[0]=zt,ke=1}}xe=ke;break;case 2:break;default:t(0)}j=xe}}if(S=S[0],k=k[0],j&&me(F,1)&&!(j=1<=(pe=me(F,4))&&11>=pe)){m.a=3;break e}var Kt;if(Kt=j)t:{var Yt,At,wn,tr=m,Nn=S,nr=k,Ut=pe,sr=p,or=tr.m,kn=tr.s,Rn=[null],Jn=1,br=0,Rr=md[Ut];n:for(;;){if(sr&&me(or,1)){var Fn=me(or,3)+2,Jr=Ye(Nn,Fn),Ci=Ye(nr,Fn),ua=Jr*Ci;if(!Qe(Jr,Ci,0,tr,Rn))break n;for(Rn=Rn[0],kn.xc=Fn,Yt=0;Yt<ua;++Yt){var ci=Rn[Yt]>>8&65535;Rn[Yt]=ci,ci>=Jn&&(Jn=ci+1)}}if(or.h)break n;for(At=0;5>At;++At){var dn=nc[At];!At&&0<Ut&&(dn+=1<<Ut),br<dn&&(br=dn)}var rl=c(Jn*Rr,L),pc=Jn,fc=c(pc,E);if(fc==null)var Ks=null;else t(65536>=pc),Ks=fc;var ts=a(br);if(Ks==null||ts==null||rl==null){tr.a=1;break n}var Xs=rl;for(Yt=wn=0;Yt<Jn;++Yt){var Lr=Ks[Yt],da=Lr.G,pa=Lr.H,hc=0,Zs=1,mc=0;for(At=0;5>At;++At){dn=nc[At],da[At]=Xs,pa[At]=wn,!At&&0<Ut&&(dn+=1<<Ut);i:{var Qs,il=dn,eo=tr,ns=ts,Rd=Xs,Md=wn,al=0,ui=eo.m,Td=me(ui,1);if(o(ns,0,0,il),Td){var qd=me(ui,1)+1,Bd=me(ui,1),gc=me(ui,Bd==0?1:8);ns[gc]=1,qd==2&&(ns[gc=me(ui,8)]=1);var to=1}else{var vc=a(19),xc=me(ui,4)+4;if(19<xc){eo.a=3;var no=0;break i}for(Qs=0;Qs<xc;++Qs)vc[fd[Qs]]=me(ui,3);var sl=void 0,rs=void 0,bc=eo,zd=vc,ro=il,yc=ns,ol=0,di=bc.m,wc=8,Nc=c(128,L);r:for(;N(Nc,0,7,zd,19);){if(me(di,1)){var Ud=2+2*me(di,3);if((sl=2+me(di,Ud))>ro)break r}else sl=ro;for(rs=0;rs<ro&&sl--;){K(di);var jc=Nc[0+(127&P(di))];H(di,di.u+jc.g);var fa=jc.value;if(16>fa)yc[rs++]=fa,fa!=0&&(wc=fa);else{var Wd=fa==16,Ac=fa-16,Hd=dd[Ac],Sc=me(di,ud[Ac])+Hd;if(rs+Sc>ro)break r;for(var Vd=Wd?wc:0;0<Sc--;)yc[rs++]=Vd}}ol=1;break r}ol||(bc.a=3),to=ol}(to=to&&!ui.h)&&(al=N(Rd,Md,8,ns,il)),to&&al!=0?no=al:(eo.a=3,no=0)}if(no==0)break n;if(Zs&&pd[At]==1&&(Zs=Xs[wn].g==0),hc+=Xs[wn].g,wn+=no,3>=At){var is,ll=ts[0];for(is=1;is<dn;++is)ts[is]>ll&&(ll=ts[is]);mc+=ll}}if(Lr.nd=Zs,Lr.Qb=0,Zs&&(Lr.qb=(da[3][pa[3]+0].value<<24|da[1][pa[1]+0].value<<16|da[2][pa[2]+0].value)>>>0,hc==0&&256>da[0][pa[0]+0].value&&(Lr.Qb=1,Lr.qb+=da[0][pa[0]+0].value<<8)),Lr.jc=!Lr.Qb&&6>mc,Lr.jc){var io,Kr=Lr;for(io=0;io<On;++io){var pi=io,fi=Kr.pd[pi],ao=Kr.G[0][Kr.H[0]+pi];256<=ao.value?(fi.g=ao.g+256,fi.value=ao.value):(fi.g=0,fi.value=0,pi>>=yt(ao,8,fi),pi>>=yt(Kr.G[1][Kr.H[1]+pi],16,fi),pi>>=yt(Kr.G[2][Kr.H[2]+pi],0,fi),yt(Kr.G[3][Kr.H[3]+pi],24,fi))}}}kn.vc=Rn,kn.Wb=Jn,kn.Ya=Ks,kn.yc=rl,Kt=1;break t}Kt=0}if(!(j=Kt)){m.a=3;break e}if(0<pe){if(R.ua=1<<pe,!nt(R.Wa,pe)){m.a=1,j=0;break e}}else R.ua=0;var cl=m,Lc=S,$d=k,ul=cl.s,dl=ul.xc;if(cl.c=Lc,cl.i=$d,ul.md=Ye(Lc,dl),ul.wc=dl==0?-1:(1<<dl)-1,p){m.xb=jd;break e}if((X=a(S*k))==null){m.a=1,j=0;break e}j=(j=Me(m,X,0,S,k,k,null))&&!F.h;break e}return j?(x!=null?x[0]=X:(t(X==null),t(p)),m.$=0,p||ye(R)):ye(R),j}function Ee(r,s){var p=r.c*r.i,m=p+s+16*s;return t(r.c<=s),r.V=a(m),r.V==null?(r.Ta=null,r.Ua=0,r.a=1,0):(r.Ta=r.V,r.Ua=r.Ba+p+s,1)}function vt(r,s){var p=r.C,m=s-p,x=r.V,j=r.Ba+r.c*p;for(t(s<=r.l.o);0<m;){var S=16<m?16:m,k=r.l.ma,F=r.l.width,R=F*S,X=k.ca,pe=k.tb+F*p,fe=r.Ta,te=r.Ua;kt(r,S,x,j),hn(fe,te,X,pe,R),Dn(k,p,p+S,X,pe,F),m-=S,x+=S*r.c,p+=S}t(p==s),r.C=r.Ma=s}function je(){this.ub=this.yd=this.td=this.Rb=0}function Je(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function lt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ce(){this.Yb=function(){var r=[];return function s(p,m,x){for(var j=x[m],S=0;S<j&&(p.push(x.length>m+1?[]:0),!(x.length<m+1));S++)s(p[S],m+1,x)}(r,0,[3,11]),r}()}function ut(){this.jb=a(3),this.Wc=d([4,8],Ce),this.Xc=d([4,17],Ce)}function Ke(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Jt(){this.ld=this.La=this.dd=this.tc=0}function $e(){this.Na=this.la=0}function $t(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cn(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Gt(){this.uc=this.M=this.Nb=0,this.wa=Array(new Jt),this.Y=0,this.ya=Array(new cn),this.aa=0,this.l=new wr}function _t(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ln(){this.cb=this.a=0,this.sc="",this.m=new Oe,this.Od=new je,this.Kc=new Je,this.ed=new Ke,this.Qa=new lt,this.Ic=this.$c=this.Aa=0,this.D=new Gt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,Oe),this.ia=0,this.pb=c(4,$t),this.Pa=new ut,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _t),this.Hd=0,this.rb=Array(new $e),this.sb=0,this.wa=Array(new Jt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cn),this.L=this.aa=0,this.gd=d([4,2],Jt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fa(){var r=new Ln;return r!=null&&(r.a=0,r.sc="OK",r.cb=0,r.Xb=0,Qa||(Qa=ws)),r}function rn(r,s,p){return r.a==0&&(r.a=s,r.sc=p,r.cb=0),0}function bs(r,s,p){return 3<=p&&r[s+0]==157&&r[s+1]==1&&r[s+2]==42}function ys(r,s){if(r==null)return 0;if(r.a=0,r.sc="OK",s==null)return rn(r,2,"null VP8Io passed to VP8GetHeaders()");var p=s.data,m=s.w,x=s.ha;if(4>x)return rn(r,7,"Truncated header.");var j=p[m+0]|p[m+1]<<8|p[m+2]<<16,S=r.Od;if(S.Rb=!(1&j),S.td=j>>1&7,S.yd=j>>4&1,S.ub=j>>5,3<S.td)return rn(r,3,"Incorrect keyframe parameters.");if(!S.yd)return rn(r,4,"Frame not displayable.");m+=3,x-=3;var k=r.Kc;if(S.Rb){if(7>x)return rn(r,7,"cannot parse picture header");if(!bs(p,m,x))return rn(r,3,"Bad code word");k.c=16383&(p[m+4]<<8|p[m+3]),k.Td=p[m+4]>>6,k.i=16383&(p[m+6]<<8|p[m+5]),k.Ud=p[m+6]>>6,m+=7,x-=7,r.za=k.c+15>>4,r.Ub=k.i+15>>4,s.width=k.c,s.height=k.i,s.Da=0,s.j=0,s.v=0,s.va=s.width,s.o=s.height,s.da=0,s.ib=s.width,s.hb=s.height,s.U=s.width,s.T=s.height,o((j=r.Pa).jb,0,255,j.jb.length),t((j=r.Qa)!=null),j.Cb=0,j.Bb=0,j.Fb=1,o(j.Zb,0,0,j.Zb.length),o(j.Lb,0,0,j.Lb)}if(S.ub>x)return rn(r,7,"bad partition length");G(j=r.m,p,m,S.ub),m+=S.ub,x-=S.ub,S.Rb&&(k.Ld=he(j),k.Kd=he(j)),k=r.Qa;var F,R=r.Pa;if(t(j!=null),t(k!=null),k.Cb=he(j),k.Cb){if(k.Bb=he(j),he(j)){for(k.Fb=he(j),F=0;4>F;++F)k.Zb[F]=he(j)?de(j,7):0;for(F=0;4>F;++F)k.Lb[F]=he(j)?de(j,6):0}if(k.Bb)for(F=0;3>F;++F)R.jb[F]=he(j)?V(j,8):255}else k.Bb=0;if(j.Ka)return rn(r,3,"cannot parse segment header");if((k=r.ed).zd=he(j),k.Tb=V(j,6),k.wb=V(j,3),k.Pc=he(j),k.Pc&&he(j)){for(R=0;4>R;++R)he(j)&&(k.vd[R]=de(j,6));for(R=0;4>R;++R)he(j)&&(k.od[R]=de(j,6))}if(r.L=k.Tb==0?0:k.zd?1:2,j.Ka)return rn(r,3,"cannot parse filter header");var X=x;if(x=F=m,m=F+X,k=X,r.Xb=(1<<V(r.m,2))-1,X<3*(R=r.Xb))p=7;else{for(F+=3*R,k-=3*R,X=0;X<R;++X){var pe=p[x+0]|p[x+1]<<8|p[x+2]<<16;pe>k&&(pe=k),G(r.Jc[+X],p,F,pe),F+=pe,k-=pe,x+=3}G(r.Jc[+R],p,F,k),p=F<m?0:5}if(p!=0)return rn(r,p,"cannot parse partitions");for(p=V(F=r.m,7),x=he(F)?de(F,4):0,m=he(F)?de(F,4):0,k=he(F)?de(F,4):0,R=he(F)?de(F,4):0,F=he(F)?de(F,4):0,X=r.Qa,pe=0;4>pe;++pe){if(X.Cb){var fe=X.Zb[pe];X.Fb||(fe+=p)}else{if(0<pe){r.pb[pe]=r.pb[0];continue}fe=p}var te=r.pb[pe];te.Sc[0]=el[ir(fe+x,127)],te.Sc[1]=tl[ir(fe+0,127)],te.Eb[0]=2*el[ir(fe+m,127)],te.Eb[1]=101581*tl[ir(fe+k,127)]>>16,8>te.Eb[1]&&(te.Eb[1]=8),te.Qc[0]=el[ir(fe+R,117)],te.Qc[1]=tl[ir(fe+F,127)],te.lc=fe+F}if(!S.Rb)return rn(r,4,"Not a key frame.");for(he(j),S=r.Pa,p=0;4>p;++p){for(x=0;8>x;++x)for(m=0;3>m;++m)for(k=0;11>k;++k)R=le(j,wd[p][x][m][k])?V(j,8):bd[p][x][m][k],S.Wc[p][x].Yb[m][k]=R;for(x=0;17>x;++x)S.Xc[p][x]=S.Wc[p][Nd[x]]}return r.kc=he(j),r.kc&&(r.Bd=V(j,8)),r.cb=1}function ws(r,s,p,m,x,j,S){var k=s[x].Yb[p];for(p=0;16>x;++x){if(!le(r,k[p+0]))return x;for(;!le(r,k[p+1]);)if(k=s[++x].Yb[0],p=0,x==16)return 16;var F=s[x+1].Yb;if(le(r,k[p+2])){var R=r,X=0;if(le(R,(fe=k)[(pe=p)+3]))if(le(R,fe[pe+6])){for(k=0,pe=2*(X=le(R,fe[pe+8]))+(fe=le(R,fe[pe+9+X])),X=0,fe=vd[pe];fe[k];++k)X+=X+le(R,fe[k]);X+=3+(8<<pe)}else le(R,fe[pe+7])?(X=7+2*le(R,165),X+=le(R,145)):X=5+le(R,159);else X=le(R,fe[pe+4])?3+le(R,fe[pe+5]):2;k=F[2]}else X=1,k=F[1];F=S+xd[x],0>(R=r).b&&se(R);var pe,fe=R.b,te=(pe=R.Ca>>1)-(R.I>>fe)>>31;--R.b,R.Ca+=te,R.Ca|=1,R.I-=(pe+1&te)<<fe,j[F]=((X^te)-te)*m[(0<x)+0]}return 16}function Pa(r){var s=r.rb[r.sb-1];s.la=0,s.Na=0,o(r.zc,0,0,r.zc.length),r.ja=0}function Po(r,s){if(r==null)return 0;if(s==null)return rn(r,2,"NULL VP8Io parameter in VP8Decode().");if(!r.cb&&!ys(r,s))return 0;if(t(r.cb),s.ac==null||s.ac(s)){s.ob&&(r.L=0);var p=Js[r.L];if(r.L==2?(r.yb=0,r.zb=0):(r.yb=s.v-p>>4,r.zb=s.j-p>>4,0>r.yb&&(r.yb=0),0>r.zb&&(r.zb=0)),r.Va=s.o+15+p>>4,r.Hb=s.va+15+p>>4,r.Hb>r.za&&(r.Hb=r.za),r.Va>r.Ub&&(r.Va=r.Ub),0<r.L){var m=r.ed;for(p=0;4>p;++p){var x;if(r.Qa.Cb){var j=r.Qa.Lb[p];r.Qa.Fb||(j+=m.Tb)}else j=m.Tb;for(x=0;1>=x;++x){var S=r.gd[p][x],k=j;if(m.Pc&&(k+=m.vd[0],x&&(k+=m.od[0])),0<(k=0>k?0:63<k?63:k)){var F=k;0<m.wb&&(F=4<m.wb?F>>2:F>>1)>9-m.wb&&(F=9-m.wb),1>F&&(F=1),S.dd=F,S.tc=2*k+F,S.ld=40<=k?2:15<=k?1:0}else S.tc=0;S.La=x}}}p=0}else rn(r,6,"Frame setup failed"),p=r.a;if(p=p==0){if(p){r.$c=0,0<r.Aa||(r.Ic=Od);e:{p=r.Ic,m=4*(F=r.za);var R=32*F,X=F+1,pe=0<r.L?F*(0<r.Aa?2:1):0,fe=(r.Aa==2?2:1)*F;if((S=m+832+(x=3*(16*p+Js[r.L])/2*R)+(j=r.Fa!=null&&0<r.Fa.length?r.Kc.c*r.Kc.i:0))!=S)p=0;else{if(S>r.Vb){if(r.Vb=0,r.Ec=a(S),r.Fc=0,r.Ec==null){p=rn(r,1,"no memory during frame initialization.");break e}r.Vb=S}S=r.Ec,k=r.Fc,r.Ac=S,r.Bc=k,k+=m,r.Gd=c(R,_t),r.Hd=0,r.rb=c(X+1,$e),r.sb=1,r.wa=pe?c(pe,Jt):null,r.Y=0,r.D.Nb=0,r.D.wa=r.wa,r.D.Y=r.Y,0<r.Aa&&(r.D.Y+=F),t(!0),r.oc=S,r.pc=k,k+=832,r.ya=c(fe,cn),r.aa=0,r.D.ya=r.ya,r.D.aa=r.aa,r.Aa==2&&(r.D.aa+=F),r.R=16*F,r.B=8*F,F=(R=Js[r.L])*r.R,R=R/2*r.B,r.sa=S,r.ta=k+F,r.qa=r.sa,r.ra=r.ta+16*p*r.R+R,r.Ha=r.qa,r.Ia=r.ra+8*p*r.B+R,r.$c=0,k+=x,r.mb=j?S:null,r.nb=j?k:null,t(k+j<=r.Fc+r.Vb),Pa(r),o(r.Ac,r.Bc,0,m),p=1}}if(p){if(s.ka=0,s.y=r.sa,s.O=r.ta,s.f=r.qa,s.N=r.ra,s.ea=r.Ha,s.Vd=r.Ia,s.fa=r.R,s.Rc=r.B,s.F=null,s.J=0,!Bs){for(p=-255;255>=p;++p)jn[255+p]=0>p?-p:p;for(p=-1020;1020>=p;++p)Gr[1020+p]=-128>p?-128:127<p?127:p;for(p=-112;112>=p;++p)Za[112+p]=-16>p?-16:15<p?15:p;for(p=-255;510>=p;++p)ca[255+p]=0>p?0:255<p?255:p;Bs=1}sa=Eo,$r=Co,Ja=js,Yn=Io,hr=As,fn=Ns,oa=Ra,qs=Ai,Ka=$o,_i=Ma,ki=Vo,ai=Xi,Fi=Ta,la=Es,Pi=Is,si=Dr,Xa=Wr,mr=Ho,Sr[0]=Er,Sr[1]=Do,Sr[2]=To,Sr[3]=qo,Sr[4]=_s,Sr[5]=Ji,Sr[6]=ks,Sr[7]=Ea,Sr[8]=zo,Sr[9]=Bo,oi[0]=Ss,oi[1]=Ro,oi[2]=Ur,oi[3]=Gi,oi[4]=Tn,oi[5]=Mo,oi[6]=Ls,Yr[0]=ei,Yr[1]=Oo,Yr[2]=Uo,Yr[3]=Da,Yr[4]=ji,Yr[5]=Wo,Yr[6]=Oa,p=1}else p=0}p&&(p=function(te,Se){for(te.M=0;te.M<te.Va;++te.M){var xe,Z=te.Jc[te.M&te.Xb],ee=te.m,Ne=te;for(xe=0;xe<Ne.za;++xe){var ke=ee,Ae=Ne,Ge=Ae.Ac,We=Ae.Bc+4*xe,dt=Ae.zc,He=Ae.ya[Ae.aa+xe];if(Ae.Qa.Bb?He.$b=le(ke,Ae.Pa.jb[0])?2+le(ke,Ae.Pa.jb[2]):le(ke,Ae.Pa.jb[1]):He.$b=0,Ae.kc&&(He.Ad=le(ke,Ae.Bd)),He.Za=!le(ke,145)+0,He.Za){var qt=He.Ob,zt=0;for(Ae=0;4>Ae;++Ae){var Rt,Et=dt[0+Ae];for(Rt=0;4>Rt;++Rt){Et=yd[Ge[We+Rt]][Et];for(var Kt=rc[le(ke,Et[0])];0<Kt;)Kt=rc[2*Kt+le(ke,Et[Kt])];Et=-Kt,Ge[We+Rt]=Et}i(qt,zt,Ge,We,4),zt+=4,dt[0+Ae]=Et}}else Et=le(ke,156)?le(ke,128)?1:3:le(ke,163)?2:0,He.Ob[0]=Et,o(Ge,We,Et,4),o(dt,0,Et,4);He.Dd=le(ke,142)?le(ke,114)?le(ke,183)?1:3:2:0}if(Ne.m.Ka)return rn(te,7,"Premature end-of-partition0 encountered.");for(;te.ja<te.za;++te.ja){if(Ne=Z,ke=(ee=te).rb[ee.sb-1],Ge=ee.rb[ee.sb+ee.ja],xe=ee.ya[ee.aa+ee.ja],We=ee.kc?xe.Ad:0)ke.la=Ge.la=0,xe.Za||(ke.Na=Ge.Na=0),xe.Hc=0,xe.Gc=0,xe.ia=0;else{var Yt,At;if(ke=Ge,Ge=Ne,We=ee.Pa.Xc,dt=ee.ya[ee.aa+ee.ja],He=ee.pb[dt.$b],Ae=dt.ad,qt=0,zt=ee.rb[ee.sb-1],Et=Rt=0,o(Ae,qt,0,384),dt.Za)var wn=0,tr=We[3];else{Kt=a(16);var Nn=ke.Na+zt.Na;if(Nn=Qa(Ge,We[1],Nn,He.Eb,0,Kt,0),ke.Na=zt.Na=(0<Nn)+0,1<Nn)sa(Kt,0,Ae,qt);else{var nr=Kt[0]+3>>3;for(Kt=0;256>Kt;Kt+=16)Ae[qt+Kt]=nr}wn=1,tr=We[0]}var Ut=15&ke.la,sr=15&zt.la;for(Kt=0;4>Kt;++Kt){var or=1&sr;for(nr=At=0;4>nr;++nr)Ut=Ut>>1|(or=(Nn=Qa(Ge,tr,Nn=or+(1&Ut),He.Sc,wn,Ae,qt))>wn)<<7,At=At<<2|(3<Nn?3:1<Nn?2:Ae[qt+0]!=0),qt+=16;Ut>>=4,sr=sr>>1|or<<7,Rt=(Rt<<8|At)>>>0}for(tr=Ut,wn=sr>>4,Yt=0;4>Yt;Yt+=2){for(At=0,Ut=ke.la>>4+Yt,sr=zt.la>>4+Yt,Kt=0;2>Kt;++Kt){for(or=1&sr,nr=0;2>nr;++nr)Nn=or+(1&Ut),Ut=Ut>>1|(or=0<(Nn=Qa(Ge,We[2],Nn,He.Qc,0,Ae,qt)))<<3,At=At<<2|(3<Nn?3:1<Nn?2:Ae[qt+0]!=0),qt+=16;Ut>>=2,sr=sr>>1|or<<5}Et|=At<<4*Yt,tr|=Ut<<4<<Yt,wn|=(240&sr)<<Yt}ke.la=tr,zt.la=wn,dt.Hc=Rt,dt.Gc=Et,dt.ia=43690&Et?0:He.ia,We=!(Rt|Et)}if(0<ee.L&&(ee.wa[ee.Y+ee.ja]=ee.gd[xe.$b][xe.Za],ee.wa[ee.Y+ee.ja].La|=!We),Ne.Ka)return rn(te,7,"Premature end-of-file encountered.")}if(Pa(te),ee=Se,Ne=1,xe=(Z=te).D,ke=0<Z.L&&Z.M>=Z.zb&&Z.M<=Z.Va,Z.Aa==0)e:{if(xe.M=Z.M,xe.uc=ke,Ha(Z,xe),Ne=1,xe=(At=Z.D).Nb,ke=(Et=Js[Z.L])*Z.R,Ge=Et/2*Z.B,Kt=16*xe*Z.R,nr=8*xe*Z.B,We=Z.sa,dt=Z.ta-ke+Kt,He=Z.qa,Ae=Z.ra-Ge+nr,qt=Z.Ha,zt=Z.Ia-Ge+nr,sr=(Ut=At.M)==0,Rt=Ut>=Z.Va-1,Z.Aa==2&&Ha(Z,At),At.uc)for(or=(Nn=Z).D.M,t(Nn.D.uc),At=Nn.yb;At<Nn.Hb;++At){wn=At,tr=or;var kn=(Rn=(dn=Nn).D).Nb;Yt=dn.R;var Rn=Rn.wa[Rn.Y+wn],Jn=dn.sa,br=dn.ta+16*kn*Yt+16*wn,Rr=Rn.dd,Fn=Rn.tc;if(Fn!=0)if(t(3<=Fn),dn.L==1)0<wn&&si(Jn,br,Yt,Fn+4),Rn.La&&mr(Jn,br,Yt,Fn),0<tr&&Pi(Jn,br,Yt,Fn+4),Rn.La&&Xa(Jn,br,Yt,Fn);else{var Jr=dn.B,Ci=dn.qa,ua=dn.ra+8*kn*Jr+8*wn,ci=dn.Ha,dn=dn.Ia+8*kn*Jr+8*wn;kn=Rn.ld,0<wn&&(qs(Jn,br,Yt,Fn+4,Rr,kn),_i(Ci,ua,ci,dn,Jr,Fn+4,Rr,kn)),Rn.La&&(ai(Jn,br,Yt,Fn,Rr,kn),la(Ci,ua,ci,dn,Jr,Fn,Rr,kn)),0<tr&&(oa(Jn,br,Yt,Fn+4,Rr,kn),Ka(Ci,ua,ci,dn,Jr,Fn+4,Rr,kn)),Rn.La&&(ki(Jn,br,Yt,Fn,Rr,kn),Fi(Ci,ua,ci,dn,Jr,Fn,Rr,kn))}}if(Z.ia&&alert("todo:DitherRow"),ee.put!=null){if(At=16*Ut,Ut=16*(Ut+1),sr?(ee.y=Z.sa,ee.O=Z.ta+Kt,ee.f=Z.qa,ee.N=Z.ra+nr,ee.ea=Z.Ha,ee.W=Z.Ia+nr):(At-=Et,ee.y=We,ee.O=dt,ee.f=He,ee.N=Ae,ee.ea=qt,ee.W=zt),Rt||(Ut-=Et),Ut>ee.o&&(Ut=ee.o),ee.F=null,ee.J=null,Z.Fa!=null&&0<Z.Fa.length&&At<Ut&&(ee.J=Ua(Z,ee,At,Ut-At),ee.F=Z.mb,ee.F==null&&ee.F.length==0)){Ne=rn(Z,3,"Could not decode alpha data.");break e}At<ee.j&&(Et=ee.j-At,At=ee.j,t(!(1&Et)),ee.O+=Z.R*Et,ee.N+=Z.B*(Et>>1),ee.W+=Z.B*(Et>>1),ee.F!=null&&(ee.J+=ee.width*Et)),At<Ut&&(ee.O+=ee.v,ee.N+=ee.v>>1,ee.W+=ee.v>>1,ee.F!=null&&(ee.J+=ee.v),ee.ka=At-ee.j,ee.U=ee.va-ee.v,ee.T=Ut-At,Ne=ee.put(ee))}xe+1!=Z.Ic||Rt||(i(Z.sa,Z.ta-ke,We,dt+16*Z.R,ke),i(Z.qa,Z.ra-Ge,He,Ae+8*Z.B,Ge),i(Z.Ha,Z.Ia-Ge,qt,zt+8*Z.B,Ge))}if(!Ne)return rn(te,6,"Output aborted.")}return 1}(r,s)),s.bc!=null&&s.bc(s),p&=1}return p?(r.cb=0,p):0}function Nr(r,s,p,m,x){x=r[s+p+32*m]+(x>>3),r[s+p+32*m]=-256&x?0>x?0:255:x}function $i(r,s,p,m,x,j){Nr(r,s,0,p,m+x),Nr(r,s,1,p,m+j),Nr(r,s,2,p,m-j),Nr(r,s,3,p,m-x)}function Zn(r){return(20091*r>>16)+r}function Ca(r,s,p,m){var x,j=0,S=a(16);for(x=0;4>x;++x){var k=r[s+0]+r[s+8],F=r[s+0]-r[s+8],R=(35468*r[s+4]>>16)-Zn(r[s+12]),X=Zn(r[s+4])+(35468*r[s+12]>>16);S[j+0]=k+X,S[j+1]=F+R,S[j+2]=F-R,S[j+3]=k-X,j+=4,s++}for(x=j=0;4>x;++x)k=(r=S[j+0]+4)+S[j+8],F=r-S[j+8],R=(35468*S[j+4]>>16)-Zn(S[j+12]),Nr(p,m,0,0,k+(X=Zn(S[j+4])+(35468*S[j+12]>>16))),Nr(p,m,1,0,F+R),Nr(p,m,2,0,F-R),Nr(p,m,3,0,k-X),j++,m+=32}function Ns(r,s,p,m){var x=r[s+0]+4,j=35468*r[s+4]>>16,S=Zn(r[s+4]),k=35468*r[s+1]>>16;$i(p,m,0,x+S,r=Zn(r[s+1]),k),$i(p,m,1,x+j,r,k),$i(p,m,2,x-j,r,k),$i(p,m,3,x-S,r,k)}function Co(r,s,p,m,x){Ca(r,s,p,m),x&&Ca(r,s+16,p,m+4)}function js(r,s,p,m){$r(r,s+0,p,m,1),$r(r,s+32,p,m+128,1)}function Io(r,s,p,m){var x;for(r=r[s+0]+4,x=0;4>x;++x)for(s=0;4>s;++s)Nr(p,m,s,x,r)}function As(r,s,p,m){r[s+0]&&Yn(r,s+0,p,m),r[s+16]&&Yn(r,s+16,p,m+4),r[s+32]&&Yn(r,s+32,p,m+128),r[s+48]&&Yn(r,s+48,p,m+128+4)}function Eo(r,s,p,m){var x,j=a(16);for(x=0;4>x;++x){var S=r[s+0+x]+r[s+12+x],k=r[s+4+x]+r[s+8+x],F=r[s+4+x]-r[s+8+x],R=r[s+0+x]-r[s+12+x];j[0+x]=S+k,j[8+x]=S-k,j[4+x]=R+F,j[12+x]=R-F}for(x=0;4>x;++x)S=(r=j[0+4*x]+3)+j[3+4*x],k=j[1+4*x]+j[2+4*x],F=j[1+4*x]-j[2+4*x],R=r-j[3+4*x],p[m+0]=S+k>>3,p[m+16]=R+F>>3,p[m+32]=S-k>>3,p[m+48]=R-F>>3,m+=64}function Ia(r,s,p){var m,x=s-32,j=ar,S=255-r[x-1];for(m=0;m<p;++m){var k,F=j,R=S+r[s-1];for(k=0;k<p;++k)r[s+k]=F[R+r[x+k]];s+=32}}function Do(r,s){Ia(r,s,4)}function Oo(r,s){Ia(r,s,8)}function Ro(r,s){Ia(r,s,16)}function Ur(r,s){var p;for(p=0;16>p;++p)i(r,s+32*p,r,s-32,16)}function Gi(r,s){var p;for(p=16;0<p;--p)o(r,s,r[s-1],16),s+=32}function Yi(r,s,p){var m;for(m=0;16>m;++m)o(s,p+32*m,r,16)}function Ss(r,s){var p,m=16;for(p=0;16>p;++p)m+=r[s-1+32*p]+r[s+p-32];Yi(m>>5,r,s)}function Tn(r,s){var p,m=8;for(p=0;16>p;++p)m+=r[s-1+32*p];Yi(m>>4,r,s)}function Mo(r,s){var p,m=8;for(p=0;16>p;++p)m+=r[s+p-32];Yi(m>>4,r,s)}function Ls(r,s){Yi(128,r,s)}function xt(r,s,p){return r+2*s+p+2>>2}function To(r,s){var p,m=s-32;for(m=new Uint8Array([xt(r[m-1],r[m+0],r[m+1]),xt(r[m+0],r[m+1],r[m+2]),xt(r[m+1],r[m+2],r[m+3]),xt(r[m+2],r[m+3],r[m+4])]),p=0;4>p;++p)i(r,s+32*p,m,0,m.length)}function qo(r,s){var p=r[s-1],m=r[s-1+32],x=r[s-1+64],j=r[s-1+96];Le(r,s+0,16843009*xt(r[s-1-32],p,m)),Le(r,s+32,16843009*xt(p,m,x)),Le(r,s+64,16843009*xt(m,x,j)),Le(r,s+96,16843009*xt(x,j,j))}function Er(r,s){var p,m=4;for(p=0;4>p;++p)m+=r[s+p-32]+r[s-1+32*p];for(m>>=3,p=0;4>p;++p)o(r,s+32*p,m,4)}function _s(r,s){var p=r[s-1+0],m=r[s-1+32],x=r[s-1+64],j=r[s-1-32],S=r[s+0-32],k=r[s+1-32],F=r[s+2-32],R=r[s+3-32];r[s+0+96]=xt(m,x,r[s-1+96]),r[s+1+96]=r[s+0+64]=xt(p,m,x),r[s+2+96]=r[s+1+64]=r[s+0+32]=xt(j,p,m),r[s+3+96]=r[s+2+64]=r[s+1+32]=r[s+0+0]=xt(S,j,p),r[s+3+64]=r[s+2+32]=r[s+1+0]=xt(k,S,j),r[s+3+32]=r[s+2+0]=xt(F,k,S),r[s+3+0]=xt(R,F,k)}function ks(r,s){var p=r[s+1-32],m=r[s+2-32],x=r[s+3-32],j=r[s+4-32],S=r[s+5-32],k=r[s+6-32],F=r[s+7-32];r[s+0+0]=xt(r[s+0-32],p,m),r[s+1+0]=r[s+0+32]=xt(p,m,x),r[s+2+0]=r[s+1+32]=r[s+0+64]=xt(m,x,j),r[s+3+0]=r[s+2+32]=r[s+1+64]=r[s+0+96]=xt(x,j,S),r[s+3+32]=r[s+2+64]=r[s+1+96]=xt(j,S,k),r[s+3+64]=r[s+2+96]=xt(S,k,F),r[s+3+96]=xt(k,F,F)}function Ji(r,s){var p=r[s-1+0],m=r[s-1+32],x=r[s-1+64],j=r[s-1-32],S=r[s+0-32],k=r[s+1-32],F=r[s+2-32],R=r[s+3-32];r[s+0+0]=r[s+1+64]=j+S+1>>1,r[s+1+0]=r[s+2+64]=S+k+1>>1,r[s+2+0]=r[s+3+64]=k+F+1>>1,r[s+3+0]=F+R+1>>1,r[s+0+96]=xt(x,m,p),r[s+0+64]=xt(m,p,j),r[s+0+32]=r[s+1+96]=xt(p,j,S),r[s+1+32]=r[s+2+96]=xt(j,S,k),r[s+2+32]=r[s+3+96]=xt(S,k,F),r[s+3+32]=xt(k,F,R)}function Ea(r,s){var p=r[s+0-32],m=r[s+1-32],x=r[s+2-32],j=r[s+3-32],S=r[s+4-32],k=r[s+5-32],F=r[s+6-32],R=r[s+7-32];r[s+0+0]=p+m+1>>1,r[s+1+0]=r[s+0+64]=m+x+1>>1,r[s+2+0]=r[s+1+64]=x+j+1>>1,r[s+3+0]=r[s+2+64]=j+S+1>>1,r[s+0+32]=xt(p,m,x),r[s+1+32]=r[s+0+96]=xt(m,x,j),r[s+2+32]=r[s+1+96]=xt(x,j,S),r[s+3+32]=r[s+2+96]=xt(j,S,k),r[s+3+64]=xt(S,k,F),r[s+3+96]=xt(k,F,R)}function Bo(r,s){var p=r[s-1+0],m=r[s-1+32],x=r[s-1+64],j=r[s-1+96];r[s+0+0]=p+m+1>>1,r[s+2+0]=r[s+0+32]=m+x+1>>1,r[s+2+32]=r[s+0+64]=x+j+1>>1,r[s+1+0]=xt(p,m,x),r[s+3+0]=r[s+1+32]=xt(m,x,j),r[s+3+32]=r[s+1+64]=xt(x,j,j),r[s+3+64]=r[s+2+64]=r[s+0+96]=r[s+1+96]=r[s+2+96]=r[s+3+96]=j}function zo(r,s){var p=r[s-1+0],m=r[s-1+32],x=r[s-1+64],j=r[s-1+96],S=r[s-1-32],k=r[s+0-32],F=r[s+1-32],R=r[s+2-32];r[s+0+0]=r[s+2+32]=p+S+1>>1,r[s+0+32]=r[s+2+64]=m+p+1>>1,r[s+0+64]=r[s+2+96]=x+m+1>>1,r[s+0+96]=j+x+1>>1,r[s+3+0]=xt(k,F,R),r[s+2+0]=xt(S,k,F),r[s+1+0]=r[s+3+32]=xt(p,S,k),r[s+1+32]=r[s+3+64]=xt(m,p,S),r[s+1+64]=r[s+3+96]=xt(x,m,p),r[s+1+96]=xt(j,x,m)}function Uo(r,s){var p;for(p=0;8>p;++p)i(r,s+32*p,r,s-32,8)}function Da(r,s){var p;for(p=0;8>p;++p)o(r,s,r[s-1],8),s+=32}function Ni(r,s,p){var m;for(m=0;8>m;++m)o(s,p+32*m,r,8)}function ei(r,s){var p,m=8;for(p=0;8>p;++p)m+=r[s+p-32]+r[s-1+32*p];Ni(m>>4,r,s)}function Wo(r,s){var p,m=4;for(p=0;8>p;++p)m+=r[s+p-32];Ni(m>>3,r,s)}function ji(r,s){var p,m=4;for(p=0;8>p;++p)m+=r[s-1+32*p];Ni(m>>3,r,s)}function Oa(r,s){Ni(128,r,s)}function Ki(r,s,p){var m=r[s-p],x=r[s+0],j=3*(x-m)+Jo[1020+r[s-2*p]-r[s+p]],S=zs[112+(j+4>>3)];r[s-p]=ar[255+m+zs[112+(j+3>>3)]],r[s+0]=ar[255+x-S]}function Fs(r,s,p,m){var x=r[s+0],j=r[s+p];return vr[255+r[s-2*p]-r[s-p]]>m||vr[255+j-x]>m}function Ps(r,s,p,m){return 4*vr[255+r[s-p]-r[s+0]]+vr[255+r[s-2*p]-r[s+p]]<=m}function Cs(r,s,p,m,x){var j=r[s-3*p],S=r[s-2*p],k=r[s-p],F=r[s+0],R=r[s+p],X=r[s+2*p],pe=r[s+3*p];return 4*vr[255+k-F]+vr[255+S-R]>m?0:vr[255+r[s-4*p]-j]<=x&&vr[255+j-S]<=x&&vr[255+S-k]<=x&&vr[255+pe-X]<=x&&vr[255+X-R]<=x&&vr[255+R-F]<=x}function Is(r,s,p,m){var x=2*m+1;for(m=0;16>m;++m)Ps(r,s+m,p,x)&&Ki(r,s+m,p)}function Dr(r,s,p,m){var x=2*m+1;for(m=0;16>m;++m)Ps(r,s+m*p,1,x)&&Ki(r,s+m*p,1)}function Wr(r,s,p,m){var x;for(x=3;0<x;--x)Is(r,s+=4*p,p,m)}function Ho(r,s,p,m){var x;for(x=3;0<x;--x)Dr(r,s+=4,p,m)}function ti(r,s,p,m,x,j,S,k){for(j=2*j+1;0<x--;){if(Cs(r,s,p,j,S))if(Fs(r,s,p,k))Ki(r,s,p);else{var F=r,R=s,X=p,pe=F[R-2*X],fe=F[R-X],te=F[R+0],Se=F[R+X],xe=F[R+2*X],Z=27*(Ne=Jo[1020+3*(te-fe)+Jo[1020+pe-Se]])+63>>7,ee=18*Ne+63>>7,Ne=9*Ne+63>>7;F[R-3*X]=ar[255+F[R-3*X]+Ne],F[R-2*X]=ar[255+pe+ee],F[R-X]=ar[255+fe+Z],F[R+0]=ar[255+te-Z],F[R+X]=ar[255+Se-ee],F[R+2*X]=ar[255+xe-Ne]}s+=m}}function jr(r,s,p,m,x,j,S,k){for(j=2*j+1;0<x--;){if(Cs(r,s,p,j,S))if(Fs(r,s,p,k))Ki(r,s,p);else{var F=r,R=s,X=p,pe=F[R-X],fe=F[R+0],te=F[R+X],Se=zs[112+((xe=3*(fe-pe))+4>>3)],xe=zs[112+(xe+3>>3)],Z=Se+1>>1;F[R-2*X]=ar[255+F[R-2*X]+Z],F[R-X]=ar[255+pe+xe],F[R+0]=ar[255+fe-Se],F[R+X]=ar[255+te-Z]}s+=m}}function Ra(r,s,p,m,x,j){ti(r,s,p,1,16,m,x,j)}function Ai(r,s,p,m,x,j){ti(r,s,1,p,16,m,x,j)}function Vo(r,s,p,m,x,j){var S;for(S=3;0<S;--S)jr(r,s+=4*p,p,1,16,m,x,j)}function Xi(r,s,p,m,x,j){var S;for(S=3;0<S;--S)jr(r,s+=4,1,p,16,m,x,j)}function $o(r,s,p,m,x,j,S,k){ti(r,s,x,1,8,j,S,k),ti(p,m,x,1,8,j,S,k)}function Ma(r,s,p,m,x,j,S,k){ti(r,s,1,x,8,j,S,k),ti(p,m,1,x,8,j,S,k)}function Ta(r,s,p,m,x,j,S,k){jr(r,s+4*x,x,1,8,j,S,k),jr(p,m+4*x,x,1,8,j,S,k)}function Es(r,s,p,m,x,j,S,k){jr(r,s+4,1,x,8,j,S,k),jr(p,m+4,1,x,8,j,S,k)}function Zi(){this.ba=new Sn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Pt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function qa(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ba(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ds(){this.ua=0,this.Wa=new z,this.vb=new z,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new E,this.yc=new L}function Go(){this.xb=this.a=0,this.l=new wr,this.ca=new Sn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new b,this.Pb=0,this.wd=new b,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ds,this.ab=0,this.gc=c(4,Ba),this.Oc=0}function Qi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Si(r,s,p,m,x,j,S){for(r=r==null?0:r[s+0],s=0;s<S;++s)x[j+s]=r+p[m+s]&255,r=x[j+s]}function za(r,s,p,m,x,j,S){var k;if(r==null)Si(null,null,p,m,x,j,S);else for(k=0;k<S;++k)x[j+k]=r[s+k]+p[m+k]&255}function ni(r,s,p,m,x,j,S){if(r==null)Si(null,null,p,m,x,j,S);else{var k,F=r[s+0],R=F,X=F;for(k=0;k<S;++k)R=X+(F=r[s+k])-R,X=p[m+k]+(-256&R?0>R?0:255:R)&255,R=F,x[j+k]=X}}function Ua(r,s,p,m){var x=s.width,j=s.o;if(t(r!=null&&s!=null),0>p||0>=m||p+m>j)return null;if(!r.Cc){if(r.ga==null){var S;if(r.ga=new Qi,(S=r.ga==null)||(S=s.width*s.o,t(r.Gb.length==0),r.Gb=a(S),r.Uc=0,r.Gb==null?S=0:(r.mb=r.Gb,r.nb=r.Uc,r.rc=null,S=1),S=!S),!S){S=r.ga;var k=r.Fa,F=r.P,R=r.qc,X=r.mb,pe=r.nb,fe=F+1,te=R-1,Se=S.l;if(t(k!=null&&X!=null&&s!=null),li[0]=null,li[1]=Si,li[2]=za,li[3]=ni,S.ca=X,S.tb=pe,S.c=s.width,S.i=s.height,t(0<S.c&&0<S.i),1>=R)s=0;else if(S.$a=k[F+0]>>0&3,S.Z=k[F+0]>>2&3,S.Lc=k[F+0]>>4&3,F=k[F+0]>>6&3,0>S.$a||1<S.$a||4<=S.Z||1<S.Lc||F)s=0;else if(Se.put=Mn,Se.ac=ln,Se.bc=In,Se.ma=S,Se.width=s.width,Se.height=s.height,Se.Da=s.Da,Se.v=s.v,Se.va=s.va,Se.j=s.j,Se.o=s.o,S.$a)e:{t(S.$a==1),s=_e();t:for(;;){if(s==null){s=0;break e}if(t(S!=null),S.mc=s,s.c=S.c,s.i=S.i,s.l=S.l,s.l.ma=S,s.l.width=S.c,s.l.height=S.i,s.a=0,J(s.m,k,fe,te),!Qe(S.c,S.i,1,s,null)||(s.ab==1&&s.gc[0].hc==3&&En(s.s)?(S.ic=1,k=s.c*s.i,s.Ta=null,s.Ua=0,s.V=a(k),s.Ba=0,s.V==null?(s.a=1,s=0):s=1):(S.ic=0,s=Ee(s,S.c)),!s))break t;s=1;break e}S.mc=null,s=0}else s=te>=S.c*S.i;S=!s}if(S)return null;r.ga.Lc!=1?r.Ga=0:m=j-p}t(r.ga!=null),t(p+m<=j);e:{if(s=(k=r.ga).c,j=k.l.o,k.$a==0){if(fe=r.rc,te=r.Vc,Se=r.Fa,F=r.P+1+p*s,R=r.mb,X=r.nb+p*s,t(F<=r.P+r.qc),k.Z!=0)for(t(li[k.Z]!=null),S=0;S<m;++S)li[k.Z](fe,te,Se,F,R,X,s),fe=R,te=X,X+=s,F+=s;else for(S=0;S<m;++S)i(R,X,Se,F,s),fe=R,te=X,X+=s,F+=s;r.rc=fe,r.Vc=te}else{if(t(k.mc!=null),s=p+m,t((S=k.mc)!=null),t(s<=S.i),S.C>=s)s=1;else if(k.ic||oe(),k.ic){k=S.V,fe=S.Ba,te=S.c;var xe=S.i,Z=(Se=1,F=S.$/te,R=S.$%te,X=S.m,pe=S.s,S.$),ee=te*xe,Ne=te*s,ke=pe.wc,Ae=Z<Ne?It(pe,R,F):null;t(Z<=ee),t(s<=xe),t(En(pe));t:for(;;){for(;!X.h&&Z<Ne;){if(R&ke||(Ae=It(pe,R,F)),t(Ae!=null),K(X),256>(xe=bt(Ae.G[0],Ae.H[0],X)))k[fe+Z]=xe,++Z,++R>=te&&(R=0,++F<=s&&!(F%16)&&W(S,F));else{if(!(280>xe)){Se=0;break t}xe=at(xe-256,X);var Ge,We=bt(Ae.G[4],Ae.H[4],X);if(K(X),!(Z>=(We=Ze(te,We=at(We,X)))&&ee-Z>=xe)){Se=0;break t}for(Ge=0;Ge<xe;++Ge)k[fe+Z+Ge]=k[fe+Z+Ge-We];for(Z+=xe,R+=xe;R>=te;)R-=te,++F<=s&&!(F%16)&&W(S,F);Z<Ne&&R&ke&&(Ae=It(pe,R,F))}t(X.h==T(X))}W(S,F>s?s:F);break t}!Se||X.h&&Z<ee?(Se=0,S.a=X.h?5:3):S.$=Z,s=Se}else s=Me(S,S.V,S.Ba,S.c,S.i,s,vt);if(!s){m=0;break e}}p+m>=j&&(r.Cc=1),m=1}if(!m)return null;if(r.Cc&&((m=r.ga)!=null&&(m.mc=null),r.ga=null,0<r.Ga))return alert("todo:WebPDequantizeLevels"),null}return r.nb+p*x}function u(r,s,p,m,x,j){for(;0<x--;){var S,k=r,F=s+(p?1:0),R=r,X=s+(p?0:3);for(S=0;S<m;++S){var pe=R[X+4*S];pe!=255&&(pe*=32897,k[F+4*S+0]=k[F+4*S+0]*pe>>23,k[F+4*S+1]=k[F+4*S+1]*pe>>23,k[F+4*S+2]=k[F+4*S+2]*pe>>23)}s+=j}}function y(r,s,p,m,x){for(;0<m--;){var j;for(j=0;j<p;++j){var S=r[s+2*j+0],k=15&(R=r[s+2*j+1]),F=4369*k,R=(240&R|R>>4)*F>>16;r[s+2*j+0]=(240&S|S>>4)*F>>16&240|(15&S|S<<4)*F>>16>>4&15,r[s+2*j+1]=240&R|k}s+=x}}function B(r,s,p,m,x,j,S,k){var F,R,X=255;for(R=0;R<x;++R){for(F=0;F<m;++F){var pe=r[s+F];j[S+4*F]=pe,X&=pe}s+=p,S+=k}return X!=255}function $(r,s,p,m,x){var j;for(j=0;j<x;++j)p[m+j]=r[s+j]>>8}function oe(){gr=u,Qt=y,en=B,hn=$}function be(r,s,p){q[r]=function(m,x,j,S,k,F,R,X,pe,fe,te,Se,xe,Z,ee,Ne,ke){var Ae,Ge=ke-1>>1,We=k[F+0]|R[X+0]<<16,dt=pe[fe+0]|te[Se+0]<<16;t(m!=null);var He=3*We+dt+131074>>2;for(s(m[x+0],255&He,He>>16,xe,Z),j!=null&&(He=3*dt+We+131074>>2,s(j[S+0],255&He,He>>16,ee,Ne)),Ae=1;Ae<=Ge;++Ae){var qt=k[F+Ae]|R[X+Ae]<<16,zt=pe[fe+Ae]|te[Se+Ae]<<16,Rt=We+qt+dt+zt+524296,Et=Rt+2*(qt+dt)>>3;He=Et+We>>1,We=(Rt=Rt+2*(We+zt)>>3)+qt>>1,s(m[x+2*Ae-1],255&He,He>>16,xe,Z+(2*Ae-1)*p),s(m[x+2*Ae-0],255&We,We>>16,xe,Z+(2*Ae-0)*p),j!=null&&(He=Rt+dt>>1,We=Et+zt>>1,s(j[S+2*Ae-1],255&He,He>>16,ee,Ne+(2*Ae-1)*p),s(j[S+2*Ae+0],255&We,We>>16,ee,Ne+(2*Ae+0)*p)),We=qt,dt=zt}1&ke||(He=3*We+dt+131074>>2,s(m[x+ke-1],255&He,He>>16,xe,Z+(ke-1)*p),j!=null&&(He=3*dt+We+131074>>2,s(j[S+ke-1],255&He,He>>16,ee,Ne+(ke-1)*p)))}}function Ie(){xr[Us]=Ad,xr[Ws]=ac,xr[ec]=Sd,xr[Hs]=sc,xr[Vs]=oc,xr[Ko]=lc,xr[tc]=Ld,xr[Xo]=ac,xr[Zo]=sc,xr[$s]=oc,xr[Qo]=lc}function Ve(r){return r&-16384?0>r?0:255:r>>_d}function ct(r,s){return Ve((19077*r>>8)+(26149*s>>8)-14234)}function jt(r,s,p){return Ve((19077*r>>8)-(6419*s>>8)-(13320*p>>8)+8708)}function wt(r,s){return Ve((19077*r>>8)+(33050*s>>8)-17685)}function Dt(r,s,p,m,x){m[x+0]=ct(r,p),m[x+1]=jt(r,s,p),m[x+2]=wt(r,s)}function sn(r,s,p,m,x){m[x+0]=wt(r,s),m[x+1]=jt(r,s,p),m[x+2]=ct(r,p)}function un(r,s,p,m,x){var j=jt(r,s,p);s=j<<3&224|wt(r,s)>>3,m[x+0]=248&ct(r,p)|j>>5,m[x+1]=s}function yn(r,s,p,m,x){var j=240&wt(r,s)|15;m[x+0]=240&ct(r,p)|jt(r,s,p)>>4,m[x+1]=j}function qn(r,s,p,m,x){m[x+0]=255,Dt(r,s,p,m,x+1)}function _n(r,s,p,m,x){sn(r,s,p,m,x),m[x+3]=255}function Ar(r,s,p,m,x){Dt(r,s,p,m,x),m[x+3]=255}function ir(r,s){return 0>r?0:r>s?s:r}function Or(r,s,p){q[r]=function(m,x,j,S,k,F,R,X,pe){for(var fe=X+(-2&pe)*p;X!=fe;)s(m[x+0],j[S+0],k[F+0],R,X),s(m[x+1],j[S+0],k[F+0],R,X+p),x+=2,++S,++F,X+=2*p;1&pe&&s(m[x+0],j[S+0],k[F+0],R,X)}}function Os(r,s,p){return p==0?r==0?s==0?6:5:s==0?4:0:p}function Wa(r,s,p,m,x){switch(r>>>30){case 3:$r(s,p,m,x,0);break;case 2:fn(s,p,m,x);break;case 1:Yn(s,p,m,x)}}function Ha(r,s){var p,m,x=s.M,j=s.Nb,S=r.oc,k=r.pc+40,F=r.oc,R=r.pc+584,X=r.oc,pe=r.pc+600;for(p=0;16>p;++p)S[k+32*p-1]=129;for(p=0;8>p;++p)F[R+32*p-1]=129,X[pe+32*p-1]=129;for(0<x?S[k-1-32]=F[R-1-32]=X[pe-1-32]=129:(o(S,k-32-1,127,21),o(F,R-32-1,127,9),o(X,pe-32-1,127,9)),m=0;m<r.za;++m){var fe=s.ya[s.aa+m];if(0<m){for(p=-1;16>p;++p)i(S,k+32*p-4,S,k+32*p+12,4);for(p=-1;8>p;++p)i(F,R+32*p-4,F,R+32*p+4,4),i(X,pe+32*p-4,X,pe+32*p+4,4)}var te=r.Gd,Se=r.Hd+m,xe=fe.ad,Z=fe.Hc;if(0<x&&(i(S,k-32,te[Se].y,0,16),i(F,R-32,te[Se].f,0,8),i(X,pe-32,te[Se].ea,0,8)),fe.Za){var ee=S,Ne=k-32+16;for(0<x&&(m>=r.za-1?o(ee,Ne,te[Se].y[15],4):i(ee,Ne,te[Se+1].y,0,4)),p=0;4>p;p++)ee[Ne+128+p]=ee[Ne+256+p]=ee[Ne+384+p]=ee[Ne+0+p];for(p=0;16>p;++p,Z<<=2)ee=S,Ne=k+uc[p],Sr[fe.Ob[p]](ee,Ne),Wa(Z,xe,16*+p,ee,Ne)}else if(ee=Os(m,x,fe.Ob[0]),oi[ee](S,k),Z!=0)for(p=0;16>p;++p,Z<<=2)Wa(Z,xe,16*+p,S,k+uc[p]);for(p=fe.Gc,ee=Os(m,x,fe.Dd),Yr[ee](F,R),Yr[ee](X,pe),Z=xe,ee=F,Ne=R,255&(fe=p>>0)&&(170&fe?Ja(Z,256,ee,Ne):hr(Z,256,ee,Ne)),fe=X,Z=pe,255&(p>>=8)&&(170&p?Ja(xe,320,fe,Z):hr(xe,320,fe,Z)),x<r.Ub-1&&(i(te[Se].y,0,S,k+480,16),i(te[Se].f,0,F,R+224,8),i(te[Se].ea,0,X,pe+224,8)),p=8*j*r.B,te=r.sa,Se=r.ta+16*m+16*j*r.R,xe=r.qa,fe=r.ra+8*m+p,Z=r.Ha,ee=r.Ia+8*m+p,p=0;16>p;++p)i(te,Se+p*r.R,S,k+32*p,16);for(p=0;8>p;++p)i(xe,fe+p*r.B,F,R+32*p,8),i(Z,ee+p*r.B,X,pe+32*p,8)}}function ea(r,s,p,m,x,j,S,k,F){var R=[0],X=[0],pe=0,fe=F!=null?F.kd:0,te=F??new qa;if(r==null||12>p)return 7;te.data=r,te.w=s,te.ha=p,s=[s],p=[p],te.gb=[te.gb];e:{var Se=s,xe=p,Z=te.gb;if(t(r!=null),t(xe!=null),t(Z!=null),Z[0]=0,12<=xe[0]&&!e(r,Se[0],"RIFF")){if(e(r,Se[0]+8,"WEBP")){Z=3;break e}var ee=Be(r,Se[0]+4);if(12>ee||4294967286<ee){Z=3;break e}if(fe&&ee>xe[0]-8){Z=7;break e}Z[0]=ee,Se[0]+=12,xe[0]-=12}Z=0}if(Z!=0)return Z;for(ee=0<te.gb[0],p=p[0];;){e:{var Ne=r;xe=s,Z=p;var ke=R,Ae=X,Ge=Se=[0];if((He=pe=[pe])[0]=0,8>Z[0])Z=7;else{if(!e(Ne,xe[0],"VP8X")){if(Be(Ne,xe[0]+4)!=10){Z=3;break e}if(18>Z[0]){Z=7;break e}var We=Be(Ne,xe[0]+8),dt=1+qe(Ne,xe[0]+12);if(2147483648<=dt*(Ne=1+qe(Ne,xe[0]+15))){Z=3;break e}Ge!=null&&(Ge[0]=We),ke!=null&&(ke[0]=dt),Ae!=null&&(Ae[0]=Ne),xe[0]+=18,Z[0]-=18,He[0]=1}Z=0}}if(pe=pe[0],Se=Se[0],Z!=0)return Z;if(xe=!!(2&Se),!ee&&pe)return 3;if(j!=null&&(j[0]=!!(16&Se)),S!=null&&(S[0]=xe),k!=null&&(k[0]=0),S=R[0],Se=X[0],pe&&xe&&F==null){Z=0;break}if(4>p){Z=7;break}if(ee&&pe||!ee&&!pe&&!e(r,s[0],"ALPH")){p=[p],te.na=[te.na],te.P=[te.P],te.Sa=[te.Sa];e:{We=r,Z=s,ee=p;var He=te.gb;ke=te.na,Ae=te.P,Ge=te.Sa,dt=22,t(We!=null),t(ee!=null),Ne=Z[0];var qt=ee[0];for(t(ke!=null),t(Ge!=null),ke[0]=null,Ae[0]=null,Ge[0]=0;;){if(Z[0]=Ne,ee[0]=qt,8>qt){Z=7;break e}var zt=Be(We,Ne+4);if(4294967286<zt){Z=3;break e}var Rt=8+zt+1&-2;if(dt+=Rt,0<He&&dt>He){Z=3;break e}if(!e(We,Ne,"VP8 ")||!e(We,Ne,"VP8L")){Z=0;break e}if(qt[0]<Rt){Z=7;break e}e(We,Ne,"ALPH")||(ke[0]=We,Ae[0]=Ne+8,Ge[0]=zt),Ne+=Rt,qt-=Rt}}if(p=p[0],te.na=te.na[0],te.P=te.P[0],te.Sa=te.Sa[0],Z!=0)break}p=[p],te.Ja=[te.Ja],te.xa=[te.xa];e:if(He=r,Z=s,ee=p,ke=te.gb[0],Ae=te.Ja,Ge=te.xa,We=Z[0],Ne=!e(He,We,"VP8 "),dt=!e(He,We,"VP8L"),t(He!=null),t(ee!=null),t(Ae!=null),t(Ge!=null),8>ee[0])Z=7;else{if(Ne||dt){if(He=Be(He,We+4),12<=ke&&He>ke-12){Z=3;break e}if(fe&&He>ee[0]-8){Z=7;break e}Ae[0]=He,Z[0]+=8,ee[0]-=8,Ge[0]=dt}else Ge[0]=5<=ee[0]&&He[We+0]==47&&!(He[We+4]>>5),Ae[0]=ee[0];Z=0}if(p=p[0],te.Ja=te.Ja[0],te.xa=te.xa[0],s=s[0],Z!=0)break;if(4294967286<te.Ja)return 3;if(k==null||xe||(k[0]=te.xa?2:1),S=[S],Se=[Se],te.xa){if(5>p){Z=7;break}k=S,fe=Se,xe=j,r==null||5>p?r=0:5<=p&&r[s+0]==47&&!(r[s+4]>>5)?(ee=[0],He=[0],ke=[0],J(Ae=new b,r,s,p),ve(Ae,ee,He,ke)?(k!=null&&(k[0]=ee[0]),fe!=null&&(fe[0]=He[0]),xe!=null&&(xe[0]=ke[0]),r=1):r=0):r=0}else{if(10>p){Z=7;break}k=Se,r==null||10>p||!bs(r,s+3,p-3)?r=0:(fe=r[s+0]|r[s+1]<<8|r[s+2]<<16,xe=16383&(r[s+7]<<8|r[s+6]),r=16383&(r[s+9]<<8|r[s+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=te.Ja||!xe||!r?r=0:(S&&(S[0]=xe),k&&(k[0]=r),r=1))}if(!r||(S=S[0],Se=Se[0],pe&&(R[0]!=S||X[0]!=Se)))return 3;F!=null&&(F[0]=te,F.offset=s-F.w,t(4294967286>s-F.w),t(F.offset==F.ha-p));break}return Z==0||Z==7&&pe&&F==null?(j!=null&&(j[0]|=te.na!=null&&0<te.na.length),m!=null&&(m[0]=S),x!=null&&(x[0]=Se),0):Z}function Va(r,s,p){var m=s.width,x=s.height,j=0,S=0,k=m,F=x;if(s.Da=r!=null&&0<r.Da,s.Da&&(k=r.cd,F=r.bd,j=r.v,S=r.j,11>p||(j&=-2,S&=-2),0>j||0>S||0>=k||0>=F||j+k>m||S+F>x))return 0;if(s.v=j,s.j=S,s.va=j+k,s.o=S+F,s.U=k,s.T=F,s.da=r!=null&&0<r.da,s.da){if(!rt(k,F,p=[r.ib],j=[r.hb]))return 0;s.ib=p[0],s.hb=j[0]}return s.ob=r!=null&&r.ob,s.Kb=r==null||!r.Sd,s.da&&(s.ob=s.ib<3*m/4&&s.hb<3*x/4,s.Kb=0),1}function $a(r){if(r==null)return 2;if(11>r.S){var s=r.f.RGBA;s.fb+=(r.height-1)*s.A,s.A=-s.A}else s=r.f.kb,r=r.height,s.O+=(r-1)*s.fa,s.fa=-s.fa,s.N+=(r-1>>1)*s.Ab,s.Ab=-s.Ab,s.W+=(r-1>>1)*s.Db,s.Db=-s.Db,s.F!=null&&(s.J+=(r-1)*s.lb,s.lb=-s.lb);return 0}function ta(r,s,p,m){if(m==null||0>=r||0>=s)return 2;if(p!=null){if(p.Da){var x=p.cd,j=p.bd,S=-2&p.v,k=-2&p.j;if(0>S||0>k||0>=x||0>=j||S+x>r||k+j>s)return 2;r=x,s=j}if(p.da){if(!rt(r,s,x=[p.ib],j=[p.hb]))return 2;r=x[0],s=j[0]}}m.width=r,m.height=s;e:{var F=m.width,R=m.height;if(r=m.S,0>=F||0>=R||!(r>=Us&&13>r))r=2;else{if(0>=m.Rd&&m.sd==null){S=j=x=s=0;var X=(k=F*dc[r])*R;if(11>r||(j=(R+1)/2*(s=(F+1)/2),r==12&&(S=(x=F)*R)),(R=a(X+2*j+S))==null){r=1;break e}m.sd=R,11>r?((F=m.f.RGBA).eb=R,F.fb=0,F.A=k,F.size=X):((F=m.f.kb).y=R,F.O=0,F.fa=k,F.Fd=X,F.f=R,F.N=0+X,F.Ab=s,F.Cd=j,F.ea=R,F.W=0+X+j,F.Db=s,F.Ed=j,r==12&&(F.F=R,F.J=0+X+2*j),F.Tc=S,F.lb=x)}if(s=1,x=m.S,j=m.width,S=m.height,x>=Us&&13>x)if(11>x)r=m.f.RGBA,s&=(k=Math.abs(r.A))*(S-1)+j<=r.size,s&=k>=j*dc[x],s&=r.eb!=null;else{r=m.f.kb,k=(j+1)/2,X=(S+1)/2,F=Math.abs(r.fa),R=Math.abs(r.Ab);var pe=Math.abs(r.Db),fe=Math.abs(r.lb),te=fe*(S-1)+j;s&=F*(S-1)+j<=r.Fd,s&=R*(X-1)+k<=r.Cd,s=(s&=pe*(X-1)+k<=r.Ed)&F>=j&R>=k&pe>=k,s&=r.y!=null,s&=r.f!=null,s&=r.ea!=null,x==12&&(s&=fe>=j,s&=te<=r.Tc,s&=r.F!=null)}else s=0;r=s?0:2}}return r!=0||p!=null&&p.fd&&(r=$a(m)),r}var On=64,na=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ra=24,ia=32,Ga=8,Qn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(r){return r},q.Predictor2=function(r,s,p){return s[p+0]},q.Predictor3=function(r,s,p){return s[p+1]},q.Predictor4=function(r,s,p){return s[p-1]},q.Predictor5=function(r,s,p){return Te(Te(r,s[p+1]),s[p+0])},q.Predictor6=function(r,s,p){return Te(r,s[p-1])},q.Predictor7=function(r,s,p){return Te(r,s[p+0])},q.Predictor8=function(r,s,p){return Te(s[p-1],s[p+0])},q.Predictor9=function(r,s,p){return Te(s[p+0],s[p+1])},q.Predictor10=function(r,s,p){return Te(Te(r,s[p-1]),Te(s[p+0],s[p+1]))},q.Predictor11=function(r,s,p){var m=s[p+0];return 0>=De(m>>24&255,r>>24&255,(s=s[p-1])>>24&255)+De(m>>16&255,r>>16&255,s>>16&255)+De(m>>8&255,r>>8&255,s>>8&255)+De(255&m,255&r,255&s)?m:r},q.Predictor12=function(r,s,p){var m=s[p+0];return(tt((r>>24&255)+(m>>24&255)-((s=s[p-1])>>24&255))<<24|tt((r>>16&255)+(m>>16&255)-(s>>16&255))<<16|tt((r>>8&255)+(m>>8&255)-(s>>8&255))<<8|tt((255&r)+(255&m)-(255&s)))>>>0},q.Predictor13=function(r,s,p){var m=s[p-1];return(we((r=Te(r,s[p+0]))>>24&255,m>>24&255)<<24|we(r>>16&255,m>>16&255)<<16|we(r>>8&255,m>>8&255)<<8|we(r>>0&255,m>>0&255))>>>0};var Yo=q.PredictorAdd0;q.PredictorAdd1=Xe,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var Ya=q.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(r){return r>>8&255},function(r){return r}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(r){return r},function(r){return r>>8&255});var Rs,fr=q.ColorIndexInverseTransform,aa=q.MapARGB,Ms=q.VP8LColorIndexInverseTransformAlpha,Ts=q.MapAlpha,ri=q.VP8LPredictorsAdd=[];ri.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var Li,er,Gn,ii,Hr,Vr,sa,$r,fn,Ja,Yn,hr,oa,qs,Ka,_i,ki,ai,Fi,la,Pi,si,Xa,mr,gr,Qt,en,hn,jn=a(511),Gr=a(2041),Za=a(225),ca=a(767),Bs=0,Jo=Gr,zs=Za,ar=ca,vr=jn,Us=0,Ws=1,ec=2,Hs=3,Vs=4,Ko=5,tc=6,Xo=7,Zo=8,$s=9,Qo=10,ud=[2,3,7],dd=[3,3,11],nc=[280,256,256,256,40],pd=[0,1,1,1,0],fd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],hd=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],md=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gd=8,el=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],tl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qa=null,vd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],xd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],rc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],bd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],oi=[],Sr=[],Yr=[],jd=1,ic=2,li=[],xr=[];be("UpsampleRgbLinePair",Dt,3),be("UpsampleBgrLinePair",sn,3),be("UpsampleRgbaLinePair",Ar,4),be("UpsampleBgraLinePair",_n,4),be("UpsampleArgbLinePair",qn,4),be("UpsampleRgba4444LinePair",yn,2),be("UpsampleRgb565LinePair",un,2);var Ad=q.UpsampleRgbLinePair,Sd=q.UpsampleBgrLinePair,ac=q.UpsampleRgbaLinePair,sc=q.UpsampleBgraLinePair,oc=q.UpsampleArgbLinePair,lc=q.UpsampleRgba4444LinePair,Ld=q.UpsampleRgb565LinePair,Gs=16,Ys=1<<Gs-1,es=-227,nl=482,_d=6,cc=0,kd=a(256),Fd=a(256),Pd=a(256),Cd=a(256),Id=a(nl-es),Ed=a(nl-es);Or("YuvToRgbRow",Dt,3),Or("YuvToBgrRow",sn,3),Or("YuvToRgbaRow",Ar,4),Or("YuvToBgraRow",_n,4),Or("YuvToArgbRow",qn,4),Or("YuvToRgba4444Row",yn,2),Or("YuvToRgb565Row",un,2);var uc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Js=[0,2,8],Dd=[8,7,6,4,4,2,2,2,1,1,1,1],Od=1;this.WebPDecodeRGBA=function(r,s,p,m,x){var j=Ws,S=new Zi,k=new Sn;S.ba=k,k.S=j,k.width=[k.width],k.height=[k.height];var F=k.width,R=k.height,X=new Cn;if(X==null||r==null)var pe=2;else t(X!=null),pe=ea(r,s,p,X.width,X.height,X.Pd,X.Qd,X.format,null);if(pe!=0?F=0:(F!=null&&(F[0]=X.width[0]),R!=null&&(R[0]=X.height[0]),F=1),F){k.width=k.width[0],k.height=k.height[0],m!=null&&(m[0]=k.width),x!=null&&(x[0]=k.height);e:{if(m=new wr,(x=new qa).data=r,x.w=s,x.ha=p,x.kd=1,s=[0],t(x!=null),((r=ea(x.data,x.w,x.ha,null,null,null,s,null,x))==0||r==7)&&s[0]&&(r=4),(s=r)==0){if(t(S!=null),m.data=x.data,m.w=x.w+x.offset,m.ha=x.ha-x.offset,m.put=Mn,m.ac=ln,m.bc=In,m.ma=S,x.xa){if((r=_e())==null){S=1;break e}if(function(fe,te){var Se=[0],xe=[0],Z=[0];t:for(;;){if(fe==null)return 0;if(te==null)return fe.a=2,0;if(fe.l=te,fe.a=0,J(fe.m,te.data,te.w,te.ha),!ve(fe.m,Se,xe,Z)){fe.a=3;break t}if(fe.xb=ic,te.width=Se[0],te.height=xe[0],!Qe(Se[0],xe[0],1,fe,null))break t;return 1}return t(fe.a!=0),0}(r,m)){if(m=(s=ta(m.width,m.height,S.Oa,S.ba))==0){t:{m=r;n:for(;;){if(m==null){m=0;break t}if(t(m.s.yc!=null),t(m.s.Ya!=null),t(0<m.s.Wb),t((p=m.l)!=null),t((x=p.ma)!=null),m.xb!=0){if(m.ca=x.ba,m.tb=x.tb,t(m.ca!=null),!Va(x.Oa,p,Hs)){m.a=2;break n}if(!Ee(m,p.width)||p.da)break n;if((p.da||Ft(m.ca.S))&&oe(),11>m.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),m.ca.f.kb.F!=null&&oe()),m.Pb&&0<m.s.ua&&m.s.vb.X==null&&!nt(m.s.vb,m.s.Wa.Xa)){m.a=1;break n}m.xb=0}if(!Me(m,m.V,m.Ba,m.c,m.i,p.o,$n))break n;x.Dc=m.Ma,m=1;break t}t(m.a!=0),m=0}m=!m}m&&(s=r.a)}else s=r.a}else{if((r=new Fa)==null){S=1;break e}if(r.Fa=x.na,r.P=x.P,r.qc=x.Sa,ys(r,m)){if((s=ta(m.width,m.height,S.Oa,S.ba))==0){if(r.Aa=0,p=S.Oa,t((x=r)!=null),p!=null){if(0<(F=0>(F=p.Md)?0:100<F?255:255*F/100)){for(R=X=0;4>R;++R)12>(pe=x.pb[R]).lc&&(pe.ia=F*Dd[0>pe.lc?0:pe.lc]>>3),X|=pe.ia;X&&(alert("todo:VP8InitRandom"),x.ia=1)}x.Ga=p.Id,100<x.Ga?x.Ga=100:0>x.Ga&&(x.Ga=0)}Po(r,m)||(s=r.a)}}else s=r.a}s==0&&S.Oa!=null&&S.Oa.fd&&(s=$a(S.ba))}S=s}j=S!=0?null:11>j?k.f.RGBA.eb:k.f.kb.y}else j=null;return j};var dc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function g(q,Q){for(var ae="",N=0;N<4;N++)ae+=String.fromCharCode(q[Q++]);return ae}function w(q,Q){return(q[Q+0]<<0|q[Q+1]<<8|q[Q+2]<<16)>>>0}function v(q,Q){return(q[Q+0]<<0|q[Q+1]<<8|q[Q+2]<<16|q[Q+3]<<24)>>>0}new f;var A=[0],h=[0],D=[],C=new f,O=n,_=function(q,Q){var ae={},N=0,L=!1,M=0,E=0;if(ae.frames=[],!function(P,T,H,K){for(var se=0;se<K;se++)if(P[T+se]!=H.charCodeAt(se))return!0;return!1}(q,Q,"RIFF",4)){for(v(q,Q+=4),Q+=8;Q<q.length;){var G=g(q,Q),V=v(q,Q+=4);Q+=4;var de=V+(1&V);switch(G){case"VP8 ":case"VP8L":ae.frames[N]===void 0&&(ae.frames[N]={}),(me=ae.frames[N]).src_off=L?E:Q-8,me.src_size=M+V+8,N++,L&&(L=!1,M=0,E=0);break;case"VP8X":(me=ae.header={}).feature_flags=q[Q];var J=Q+4;me.canvas_width=1+w(q,J),J+=3,me.canvas_height=1+w(q,J),J+=3;break;case"ALPH":L=!0,M=de+8,E=Q-8;break;case"ANIM":(me=ae.header).bgcolor=v(q,Q),J=Q+4,me.loop_count=(Oe=q)[(b=J)+0]<<0|Oe[b+1]<<8,J+=2;break;case"ANMF":var ue,me;(me=ae.frames[N]={}).offset_x=2*w(q,Q),Q+=3,me.offset_y=2*w(q,Q),Q+=3,me.width=1+w(q,Q),Q+=3,me.height=1+w(q,Q),Q+=3,me.duration=w(q,Q),Q+=3,ue=q[Q++],me.dispose=1&ue,me.blend=ue>>1&1}G!="ANMF"&&(Q+=de)}var Oe,b;return ae}}(O,0);_.response=O,_.rgbaoutput=!0,_.dataurl=!1;var I=_.header?_.header:null,Y=_.frames?_.frames:null;if(I){I.loop_counter=I.loop_count,A=[I.canvas_height],h=[I.canvas_width];for(var ce=0;ce<Y.length&&Y[ce].blend!=0;ce++);}var re=Y[0],ie=C.WebPDecodeRGBA(O,re.src_off,re.src_size,h,A);re.rgba=ie,re.imgwidth=h[0],re.imgheight=A[0];for(var U=0;U<h[0]*A[0]*4;U++)D[U]=ie[U];return this.width=h,this.height=A,this.data=D,this}(function(n){var t=function(){return typeof Rl=="function"},e=function(A,h,D,C){var O=4,_=c;switch(C){case n.image_compression.FAST:O=1,_=a;break;case n.image_compression.MEDIUM:O=6,_=d;break;case n.image_compression.SLOW:O=9,_=f}A=i(A,h,D,_);var I=Rl(A,{level:O});return n.__addimage__.arrayBufferToBinaryString(I)},i=function(A,h,D,C){for(var O,_,I,Y=A.length/h,ce=new Uint8Array(A.length+Y),re=w(),ie=0;ie<Y;ie+=1){if(I=ie*h,O=A.subarray(I,I+h),C)ce.set(C(O,D,_),I+ie);else{for(var U,q=re.length,Q=[];U<q;U+=1)Q[U]=re[U](O,D,_);var ae=v(Q.concat());ce.set(Q[ae],I+ie)}_=O}return ce},o=function(A){var h=Array.apply([],A);return h.unshift(0),h},a=function(A,h){var D,C=[],O=A.length;C[0]=1;for(var _=0;_<O;_+=1)D=A[_-h]||0,C[_+1]=A[_]-D+256&255;return C},c=function(A,h,D){var C,O=[],_=A.length;O[0]=2;for(var I=0;I<_;I+=1)C=D&&D[I]||0,O[I+1]=A[I]-C+256&255;return O},d=function(A,h,D){var C,O,_=[],I=A.length;_[0]=3;for(var Y=0;Y<I;Y+=1)C=A[Y-h]||0,O=D&&D[Y]||0,_[Y+1]=A[Y]+256-(C+O>>>1)&255;return _},f=function(A,h,D){var C,O,_,I,Y=[],ce=A.length;Y[0]=4;for(var re=0;re<ce;re+=1)C=A[re-h]||0,O=D&&D[re]||0,_=D&&D[re-h]||0,I=g(C,O,_),Y[re+1]=A[re]-I+256&255;return Y},g=function(A,h,D){if(A===h&&h===D)return A;var C=Math.abs(h-D),O=Math.abs(A-D),_=Math.abs(A+h-D-D);return C<=O&&C<=_?A:O<=_?h:D},w=function(){return[o,a,c,d,f]},v=function(A){var h=A.map(function(D){return D.reduce(function(C,O){return C+Math.abs(O)},0)});return h.indexOf(Math.min.apply(null,h))};n.processPNG=function(A,h,D,C){var O,_,I,Y,ce,re,ie,U,q,Q,ae,N,L,M,E,G=this.decode.FLATE_DECODE,V="";if(this.__addimage__.isArrayBuffer(A)&&(A=new Uint8Array(A)),this.__addimage__.isArrayBufferView(A)){if(A=(I=new Sf(A)).imgData,_=I.bits,O=I.colorSpace,ce=I.colors,[4,6].indexOf(I.colorType)!==-1){if(I.bits===8){q=(U=I.pixelBitlength==32?new Uint32Array(I.decodePixels().buffer):I.pixelBitlength==16?new Uint16Array(I.decodePixels().buffer):new Uint8Array(I.decodePixels().buffer)).length,ae=new Uint8Array(q*I.colors),Q=new Uint8Array(q);var de,J=I.pixelBitlength-I.bits;for(M=0,E=0;M<q;M++){for(L=U[M],de=0;de<J;)ae[E++]=L>>>de&255,de+=I.bits;Q[M]=L>>>de&255}}if(I.bits===16){q=(U=new Uint32Array(I.decodePixels().buffer)).length,ae=new Uint8Array(q*(32/I.pixelBitlength)*I.colors),Q=new Uint8Array(q*(32/I.pixelBitlength)),N=I.colors>1,M=0,E=0;for(var ue=0;M<q;)L=U[M++],ae[E++]=L>>>0&255,N&&(ae[E++]=L>>>16&255,L=U[M++],ae[E++]=L>>>0&255),Q[ue++]=L>>>16&255;_=8}C!==n.image_compression.NONE&&t()?(A=e(ae,I.width*I.colors,I.colors,C),ie=e(Q,I.width,1,C)):(A=ae,ie=Q,G=void 0)}if(I.colorType===3&&(O=this.color_spaces.INDEXED,re=I.palette,I.transparency.indexed)){var me=I.transparency.indexed,Oe=0;for(M=0,q=me.length;M<q;++M)Oe+=me[M];if((Oe/=255)===q-1&&me.indexOf(0)!==-1)Y=[me.indexOf(0)];else if(Oe!==q){for(U=I.decodePixels(),Q=new Uint8Array(U.length),M=0,q=U.length;M<q;M++)Q[M]=me[U[M]];ie=e(Q,I.width,1)}}var b=function(P){var T;switch(P){case n.image_compression.FAST:T=11;break;case n.image_compression.MEDIUM:T=13;break;case n.image_compression.SLOW:T=14;break;default:T=12}return T}(C);return G===this.decode.FLATE_DECODE&&(V="/Predictor "+b+" "),V+="/Colors "+ce+" /BitsPerComponent "+_+" /Columns "+I.width,(this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),(ie&&this.__addimage__.isArrayBuffer(ie)||this.__addimage__.isArrayBufferView(ie))&&(ie=this.__addimage__.arrayBufferToBinaryString(ie)),{alias:D,data:A,index:h,filter:G,decodeParameters:V,transparency:Y,palette:re,sMask:ie,predictor:b,width:I.width,height:I.height,bitsPerComponent:_,colorSpace:O}}}})(ft.API),function(n){n.processGIF89A=function(t,e,i,o){var a=new Lf(t),c=a.width,d=a.height,f=[];a.decodeAndBlitFrameRGBA(0,f);var g={data:f,width:c,height:d},w=new Al(100).encode(g,100);return n.processJPEG.call(this,w,e,i,o)},n.processGIF87A=n.processGIF89A}(ft.API),kr.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:o,green:i,blue:e,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},kr.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){Zt.log("bit decode error:"+e)}},kr.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;o<t;o++)for(var a=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+8*o*4,d=0;d<8&&8*o+d<this.width;d++){var f=this.palette[a>>7-d&1];this.data[c+4*d]=f.blue,this.data[c+4*d+1]=f.green,this.data[c+4*d+2]=f.red,this.data[c+4*d+3]=255}e!==0&&(this.pos+=4-e)}},kr.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,o=0;o<n;o++){var a=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+2*o*4,d=a>>4,f=15&a,g=this.palette[d];if(this.data[c]=g.blue,this.data[c+1]=g.green,this.data[c+2]=g.red,this.data[c+3]=255,2*o+1>=this.width)break;g=this.palette[f],this.data[c+4]=g.blue,this.data[c+4+1]=g.green,this.data[c+4+2]=g.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},kr.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*i;if(o<this.palette.length){var c=this.palette[o];this.data[a]=c.red,this.data[a+1]=c.green,this.data[a+2]=c.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},kr.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(a&t)/t*255|0,d=(a>>5&t)/t*255|0,f=(a>>10&t)/t*255|0,g=a>>15?255:0,w=i*this.width*4+4*o;this.data[w]=f,this.data[w+1]=d,this.data[w+2]=c,this.data[w+3]=g}this.pos+=n}},kr.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&t)/t*255|0,f=(c>>5&e)/e*255|0,g=(c>>11)/t*255|0,w=o*this.width*4+4*a;this.data[w]=g,this.data[w+1]=f,this.data[w+2]=d,this.data[w+3]=255}this.pos+=n}},kr.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=a,this.data[c+1]=o,this.data[c+2]=i,this.data[c+3]=255}this.pos+=this.width%4}},kr.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*e;this.data[d]=a,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=c}},kr.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,i,o){var a=new kr(t,!1),c=a.width,d=a.height,f={data:a.getData(),width:c,height:d},g=new Al(100).encode(f,100);return n.processJPEG.call(this,g,e,i,o)}}(ft.API),nu.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,i,o){var a=new nu(t),c=a.width,d=a.height,f={data:a.getData(),width:c,height:d},g=new Al(100).encode(f,100);return n.processJPEG.call(this,g,e,i,o)}}(ft.API),ft.API.processRGBA=function(n,t,e){for(var i=n.data,o=i.length,a=new Uint8Array(o/4*3),c=new Uint8Array(o/4),d=0,f=0,g=0;g<o;g+=4){var w=i[g],v=i[g+1],A=i[g+2],h=i[g+3];a[d++]=w,a[d++]=v,a[d++]=A,c[f++]=h}var D=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:D,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ft.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ma=ft.API,fo=ma.getCharWidthsArray=function(n,t){var e,i,o=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),d=t.widths?t.widths:o.metadata.Unicode.widths,f=d.fof?d.fof:1,g=t.kerning?t.kerning:o.metadata.Unicode.kerning,w=g.fof?g.fof:1,v=t.doKerning!==!1,A=0,h=n.length,D=0,C=d[0]||f,O=[];for(e=0;e<h;e++)i=n.charCodeAt(e),typeof o.metadata.widthOfString=="function"?O.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+c*(1e3/a)||0)/1e3):(A=v&&Wt(g[i])==="object"&&!isNaN(parseInt(g[i][D],10))?g[i][D]/w:0,O.push((d[i]||C)/f+A)),D=i;return O},Zc=ma.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),o=t.charSpace||this.internal.getCharSpace();return ma.processArabic&&(n=ma.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,e,o)/e:fo.apply(this,arguments).reduce(function(a,c){return a+c},0)},Qc=function(n,t,e,i){for(var o=[],a=0,c=n.length,d=0;a!==c&&d+t[a]<e;)d+=t[a],a++;o.push(n.slice(0,a));var f=a;for(d=0;a!==c;)d+t[a]>i&&(o.push(n.slice(f,a)),d=0,f=a),d+=t[a],a++;return f!==a&&o.push(n.slice(f,a)),o},eu=function(n,t,e){e||(e={});var i,o,a,c,d,f,g,w=[],v=[w],A=e.textIndent||0,h=0,D=0,C=n.split(" "),O=fo.apply(this,[" ",e])[0];if(f=e.lineIndent===-1?C[0].length+2:e.lineIndent||0){var _=Array(f).join(" "),I=[];C.map(function(ce){(ce=ce.split(/\s*\n/)).length>1?I=I.concat(ce.map(function(re,ie){return(ie&&re.length?`
`:"")+re})):I.push(ce[0])}),C=I,f=Zc.apply(this,[_,e])}for(a=0,c=C.length;a<c;a++){var Y=0;if(i=C[a],f&&i[0]==`
`&&(i=i.substr(1),Y=1),A+h+(D=(o=fo.apply(this,[i,e])).reduce(function(ce,re){return ce+re},0))>t||Y){if(D>t){for(d=Qc.apply(this,[i,o,t-(A+h),t]),w.push(d.shift()),w=[d.pop()];d.length;)v.push([d.shift()]);D=o.slice(i.length-(w[0]?w[0].length:0)).reduce(function(ce,re){return ce+re},0)}else w=[i];v.push(w),A=D+f,h=O}else w.push(i),A+=h+D,h=O}return g=f?function(ce,re){return(re?_:"")+ce.join(" ")}:function(ce){return ce.join(" ")},v.map(g)},ma.splitTextToSize=function(n,t,e){var i,o=(e=e||{}).fontSize||this.internal.getFontSize(),a=(function(w){if(w.widths&&w.kerning)return{widths:w.widths,kerning:w.kerning};var v=this.internal.getFont(w.fontName,w.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/o;a.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/o:0,a.lineIndent=e.lineIndent;var d,f,g=[];for(d=0,f=i.length;d<f;d++)g=g.concat(eu.apply(this,[i[d],c,a]));return g},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},o=0;o<t.length;o++)e[t[o]]="0123456789abcdef"[o],i["0123456789abcdef"[o]]=t[o];var a=function(v){return"0x"+parseInt(v,10).toString(16)},c=n.__fontmetrics__.compress=function(v){var A,h,D,C,O=["{"];for(var _ in v){if(A=v[_],isNaN(parseInt(_,10))?h="'"+_+"'":(_=parseInt(_,10),h=(h=a(_).slice(2)).slice(0,-1)+i[h.slice(-1)]),typeof A=="number")A<0?(D=a(A).slice(3),C="-"):(D=a(A).slice(2),C=""),D=C+D.slice(0,-1)+i[D.slice(-1)];else{if(Wt(A)!=="object")throw new Error("Don't know what to do with value type "+Wt(A)+".");D=c(A)}O.push(h+D)}return O.push("}"),O.join("")},d=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var A,h,D,C,O={},_=1,I=O,Y=[],ce="",re="",ie=v.length-1,U=1;U<ie;U+=1)(C=v[U])=="'"?A?(D=A.join(""),A=void 0):A=[]:A?A.push(C):C=="{"?(Y.push([I,D]),I={},D=void 0):C=="}"?((h=Y.pop())[0][h[1]]=I,D=void 0,I=h[0]):C=="-"?_=-1:D===void 0?e.hasOwnProperty(C)?(ce+=e[C],D=parseInt(ce,16)*_,_=1,ce=""):ce+=C:e.hasOwnProperty(C)?(re+=e[C],I[D]=parseInt(re,16)*_,_=1,D=void 0,re=""):re+=C;return O},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},w={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var A=v.font,h=w.Unicode[A.postScriptName];h&&(A.metadata.Unicode={},A.metadata.Unicode.widths=h.widths,A.metadata.Unicode.kerning=h.kerning);var D=g.Unicode[A.postScriptName];D&&(A.metadata.Unicode.encoding=D,A.encoding=D.codePages[0])}])}(ft.API),function(n){var t=function(e){for(var i=e.length,o=new Uint8Array(i),a=0;a<i;a++)o[a]=e.charCodeAt(a);return o};n.API.events.push(["addFont",function(e){var i=void 0,o=e.font,a=e.instance;if(!o.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(i=a.existsFileInVFS(o.postScriptName)===!1?a.loadFile(o.postScriptName):a.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?t(d):t(hs(d)),c.metadata=n.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(o,i)}}])}(ft),function(n){function t(){return(ht.canvg?Promise.resolve(ht.canvg):_l(()=>import("./index.es-Vg7tHEkz.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44]))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}ft.API.addSvgAsImage=function(e,i,o,a,c,d,f,g){if(isNaN(i)||isNaN(o))throw Zt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(c))throw Zt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var w=document.createElement("canvas");w.width=a,w.height=c;var v=w.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,w.width,w.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(D){return D.fromString(v,e,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(D){return D.render(A)}).then(function(){h.addImage(w.toDataURL("image/jpeg",1),i,o,a,c,f,g)})}}(),ft.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var o=0;o<this.internal.pages[i].length;o++)this.internal.pages[i][o]=this.internal.pages[i][o].replace(t,e);return this},ft.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,o,a,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),f=[],g=0,w=0,v=0;function A(D,C){var O,_=!1;for(O=0;O<D.length;O+=1)D[O]===C&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var h=d.length;for(v=0;v<h;v+=1)e[d[v]].value=e[d[v]].defaultValue,e[d[v]].explicitSet=!1}if(Wt(n)==="object"){for(o in n)if(a=n[o],A(d,o)&&a!==void 0){if(e[o].type==="boolean"&&typeof a=="boolean")e[o].value=a;else if(e[o].type==="name"&&A(e[o].valueSet,a))e[o].value=a;else if(e[o].type==="integer"&&Number.isInteger(a))e[o].value=a;else if(e[o].type==="array"){for(g=0;g<a.length;g+=1)if(i=!0,a[g].length===1&&typeof a[g][0]=="number")f.push(String(a[g]-1));else if(a[g].length>1){for(w=0;w<a[g].length;w+=1)typeof a[g][w]!="number"&&(i=!1);i===!0&&f.push([a[g][0]-1,a[g][1]-1].join(" "))}e[o].value="["+f.join(" ")+"]"}else e[o].value=e[o].defaultValue;e[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var D,C=[];for(D in e)e[D].explicitSet===!0&&(e[D].type==="name"?C.push("/"+D+" /"+e[D].value):C.push("/"+D+" "+e[D].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),g=a.length+c.length+d.length+o.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+g+" >>"),this.internal.write("stream"),this.internal.write(o+a+c+d+f),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(ft.API),function(n){var t=n.API,e=t.pdfEscape16=function(a,c){for(var d,f=c.metadata.Unicode.widths,g=["","0","00","000","0000"],w=[""],v=0,A=a.length;v<A;++v){if(d=c.metadata.characterToGlyph(a.charCodeAt(v)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=a.charCodeAt(v),f.indexOf(d)==-1&&(f.push(d),f.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return w.join("");d=d.toString(16),w.push(g[4-d.length],d)}return w.join("")},i=function(a){var c,d,f,g,w,v,A;for(w=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],v=0,A=(d=Object.keys(a).sort(function(h,D){return h-D})).length;v<A;v++)c=d[v],f.length>=100&&(w+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),a[c]!==void 0&&a[c]!==null&&typeof a[c].toString=="function"&&(g=("0000"+a[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+g+">"));return f.length&&(w+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),w+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(c){var d=c.font,f=c.out,g=c.newObject,w=c.putStream;if(d.metadata instanceof n.API.TTFFont&&d.encoding==="Identity-H"){for(var v=d.metadata.Unicode.widths,A=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),h="",D=0;D<A.length;D++)h+=String.fromCharCode(A[D]);var C=g();w({data:h,addLength1:!0,objectId:C}),f("endobj");var O=g();w({data:i(d.metadata.toUnicode),addLength1:!0,objectId:O}),f("endobj");var _=g();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+xa(d.fontName)),f("/FontFile2 "+C+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(d.metadata.bbox)),f("/Flags "+d.metadata.flags),f("/StemV "+d.metadata.stemV),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f(">>"),f("endobj");var I=g();f("<<"),f("/Type /Font"),f("/BaseFont /"+xa(d.fontName)),f("/FontDescriptor "+_+" 0 R"),f("/W "+n.API.PDFObject.convert(v)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+d.encoding+")"),f(">>"),f(">>"),f("endobj"),d.objectNumber=g(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+O+" 0 R"),f("/BaseFont /"+xa(d.fontName)),f("/Encoding /"+d.encoding),f("/DescendantFonts ["+I+" 0 R]"),f(">>"),f("endobj"),d.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(c){var d=c.font,f=c.out,g=c.newObject,w=c.putStream;if(d.metadata instanceof n.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var v=d.metadata.rawData,A="",h=0;h<v.length;h++)A+=String.fromCharCode(v[h]);var D=g();w({data:A,addLength1:!0,objectId:D}),f("endobj");var C=g();w({data:i(d.metadata.toUnicode),addLength1:!0,objectId:C}),f("endobj");var O=g();f("<<"),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f("/StemV "+d.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+D+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(d.metadata.bbox)),f("/FontName /"+xa(d.fontName)),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f(">>"),f("endobj"),d.objectNumber=g();for(var _=0;_<d.metadata.hmtx.widths.length;_++)d.metadata.hmtx.widths[_]=parseInt(d.metadata.hmtx.widths[_]*(1e3/d.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+xa(d.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),f("endobj"),d.isAlreadyPutted=!0}})(a)}]);var o=function(a){var c,d=a.text||"",f=a.x,g=a.y,w=a.options||{},v=a.mutex||{},A=v.pdfEscape,h=v.activeFontKey,D=v.fonts,C=h,O="",_=0,I="",Y=D[C].encoding;if(D[C].encoding!=="Identity-H")return{text:d,x:f,y:g,options:w,mutex:v};for(I=d,C=h,Array.isArray(d)&&(I=d[0]),_=0;_<I.length;_+=1)D[C].metadata.hasOwnProperty("cmap")&&(c=D[C].metadata.cmap.unicode.codeMap[I[_].charCodeAt(0)]),c||I[_].charCodeAt(0)<256&&D[C].metadata.hasOwnProperty("Unicode")?O+=I[_]:O+="";var ce="";return parseInt(C.slice(1))<14||Y==="WinAnsiEncoding"?ce=A(O,C).split("").map(function(re){return re.charCodeAt(0).toString(16)}).join(""):Y==="Identity-H"&&(ce=e(O,D[C])),v.isHex=!0,{text:ce,x:f,y:g,options:w,mutex:v}};t.events.push(["postProcessText",function(a){var c=a.text||"",d=[],f={text:c,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(c)){var g=0;for(g=0;g<c.length;g+=1)Array.isArray(c[g])&&c[g].length===3?d.push([o(Object.assign({},f,{text:c[g][0]})).text,c[g][1],c[g][2]]):d.push(o(Object.assign({},f,{text:c[g]})).text);a.text=d}else a.text=o(Object.assign({},f,{text:c})).text}])}(ft),function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(ft.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var o,a,c,d,f,g,w,v=t,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],D={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,Y=0;this.__bidiEngine__={};var ce=function(N){var L=N.charCodeAt(),M=L>>8,E=C[M];return E!==void 0?v[256*E+(255&L)]:M===252||M===253?"AL":_.test(M)?"L":M===8?"R":"N"},re=function(N){for(var L,M=0;M<N.length;M++){if((L=ce(N.charAt(M)))==="L")return!1;if(L==="R")return!0}return!1},ie=function(N,L,M,E){var G,V,de,J,ue=L[E];switch(ue){case"L":case"R":I=!1;break;case"N":case"AN":break;case"EN":I&&(ue="AN");break;case"AL":I=!0,ue="R";break;case"WS":ue="N";break;case"CS":E<1||E+1>=L.length||(G=M[E-1])!=="EN"&&G!=="AN"||(V=L[E+1])!=="EN"&&V!=="AN"?ue="N":I&&(V="AN"),ue=V===G?V:"N";break;case"ES":ue=(G=E>0?M[E-1]:"B")==="EN"&&E+1<L.length&&L[E+1]==="EN"?"EN":"N";break;case"ET":if(E>0&&M[E-1]==="EN"){ue="EN";break}if(I){ue="N";break}for(de=E+1,J=L.length;de<J&&L[de]==="ET";)de++;ue=de<J&&L[de]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(J=L.length,de=E+1;de<J&&L[de]==="NSM";)de++;if(de<J){var me=N[E],Oe=me>=1425&&me<=2303||me===64286;if(G=L[de],Oe&&(G==="R"||G==="AL")){ue="R";break}}}ue=E<1||(G=L[E-1])==="B"?"N":M[E-1];break;case"B":I=!1,o=!0,ue=Y;break;case"S":a=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"BN":ue="N"}return ue},U=function(N,L,M){var E=N.split("");return M&&q(E,M,{hiLevel:Y}),E.reverse(),L&&L.reverse(),E.join("")},q=function(N,L,M){var E,G,V,de,J,ue=-1,me=N.length,Oe=0,b=[],P=Y?h:A,T=[];for(I=!1,o=!1,a=!1,G=0;G<me;G++)T[G]=ce(N[G]);for(V=0;V<me;V++){if(J=Oe,b[V]=ie(N,T,b,V),E=240&(Oe=P[J][D[b[V]]]),Oe&=15,L[V]=de=P[Oe][5],E>0)if(E===16){for(G=ue;G<V;G++)L[G]=1;ue=-1}else ue=-1;if(P[Oe][6])ue===-1&&(ue=V);else if(ue>-1){for(G=ue;G<V;G++)L[G]=de;ue=-1}T[V]==="B"&&(L[V]=0),M.hiLevel|=de}a&&function(H,K,se){for(var he=0;he<se;he++)if(H[he]==="S"){K[he]=Y;for(var le=he-1;le>=0&&H[le]==="WS";le--)K[le]=Y}}(T,L,me)},Q=function(N,L,M,E,G){if(!(G.hiLevel<N)){if(N===1&&Y===1&&!o)return L.reverse(),void(M&&M.reverse());for(var V,de,J,ue,me=L.length,Oe=0;Oe<me;){if(E[Oe]>=N){for(J=Oe+1;J<me&&E[J]>=N;)J++;for(ue=Oe,de=J-1;ue<de;ue++,de--)V=L[ue],L[ue]=L[de],L[de]=V,M&&(V=M[ue],M[ue]=M[de],M[de]=V);Oe=J}Oe++}}},ae=function(N,L,M){var E=N.split(""),G={hiLevel:Y};return M||(M=[]),q(E,M,G),function(V,de,J){if(J.hiLevel!==0&&w)for(var ue,me=0;me<V.length;me++)de[me]===1&&(ue=O.indexOf(V[me]))>=0&&(V[me]=O[ue+1])}(E,M,G),Q(2,E,L,M,G),Q(1,E,L,M,G),E.join("")};return this.__bidiEngine__.doBidiReorder=function(N,L,M){if(function(G,V){if(V)for(var de=0;de<G.length;de++)V[de]=de;d===void 0&&(d=re(G)),g===void 0&&(g=re(G))}(N,L),c||!f||g)if(c&&f&&d^g)Y=d?1:0,N=U(N,L,M);else if(!c&&f&&g)Y=d?1:0,N=ae(N,L,M),N=U(N,L);else if(!c||d||f||g){if(c&&!f&&d^g)N=U(N,L),d?(Y=0,N=ae(N,L,M)):(Y=1,N=ae(N,L,M),N=U(N,L));else if(c&&d&&!f&&g)Y=1,N=ae(N,L,M),N=U(N,L);else if(!c&&!f&&d^g){var E=w;d?(Y=1,N=ae(N,L,M),Y=0,w=!1,N=ae(N,L,M),w=E):(Y=0,N=ae(N,L,M),N=U(N,L),Y=1,w=!1,N=ae(N,L,M),w=E,N=U(N,L))}}else Y=0,N=ae(N,L,M);else Y=d?1:0,N=ae(N,L,M);return N},this.__bidiEngine__.setOptions=function(N){N&&(c=N.isInputVisual,f=N.isOutputVisual,d=N.isInputRtl,g=N.isOutputRtl,w=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var o=i.text;i.x,i.y;var a=i.options||{};i.mutex,a.lang;var c=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,e.setOptions(a),Object.prototype.toString.call(o)==="[object Array]"){var d=0;for(c=[],d=0;d<o.length;d+=1)Object.prototype.toString.call(o[d])==="[object Array]"?c.push([e.doBidiReorder(o[d][0]),o[d][1],o[d][2]]):c.push([e.doBidiReorder(o[d])]);i.text=c}else i.text=e.doBidiReorder(o);e.setOptions({isInputVisual:!0})}])}(ft),ft.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new yi(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new zf(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new _f(this.contents),this.head=new Ff(this),this.name=new Df(this),this.cmap=new Ku(this),this.toUnicode={},this.hhea=new Pf(this),this.maxp=new Of(this),this.hmtx=new Rf(this),this.post=new If(this),this.os2=new Cf(this),this.loca=new Bf(this),this.glyf=new Mf(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,i,o,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,f,g;for(g=[],c=0,d=(f=this.bbox).length;c<d;c++)t=f[c],g.push(Math.round(t*this.scaleFactor));return g}).call(this),this.stemV=0,this.post.exists?(i=255&(o=this.post.italic_angle),(32768&(e=o>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var o,a,c,d;for(c=0,a=0,d=(t=""+t).length;0<=d?a<d:a>d;a=0<=d?++a:--a)o=t.charCodeAt(a),c+=this.widthOfGlyph(this.characterToGlyph(o))+i*(1e3/e)||0;return c*(e/1e3)},n.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},n}();var Ir,yi=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,o;for(o=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)o.push(this.writeByte(t.charCodeAt(e)));return o},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,o,a,c,d,f;return t=this.readByte(),e=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),c=this.readByte(),d=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^o)+16777216*(255^a)+65536*(255^c)+256*(255^d)+(255^f)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*o+16777216*a+65536*c+256*d+f},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var e,i,o,a;for(a=[],i=0,o=t.length;i<o;i++)e=t[i],a.push(this.writeByte(e));return a},n}(),_f=function(){var n;function t(e){var i,o,a;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},o=0,a=this.tableCount;0<=a?o<a:o>a;o=0<=a?++o:--o)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,o,a,c,d,f,g,w,v,A,h,D,C;for(C in h=Object.keys(e).length,f=Math.log(2),v=16*Math.floor(Math.log(h)/f),c=Math.floor(v/f),w=16*h-v,(o=new yi).writeInt(this.scalarType),o.writeShort(h),o.writeShort(v),o.writeShort(c),o.writeShort(w),a=16*h,g=o.pos+a,d=null,D=[],e)for(A=e[C],o.writeString(C),o.writeInt(n(A)),o.writeInt(g),o.writeInt(A.length),D=D.concat(A),C==="head"&&(d=g),g+=A.length;g%4;)D.push(0),g++;return o.write(D),i=2981146554-n(o.data),o.pos=d+8,o.writeUInt32(i),o.data},n=function(e){var i,o,a,c;for(e=Xu.call(e);e.length%4;)e.push(0);for(a=new yi(e),o=0,i=0,c=e.length;i<c;i=i+=4)o+=a.readUInt32();return 4294967295&o},t}(),kf={}.hasOwnProperty,zr=function(n,t){for(var e in t)kf.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};Ir=function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var Ff=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return zr(t,Ir),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new yi).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),ru=function(){function n(t,e){var i,o,a,c,d,f,g,w,v,A,h,D,C,O,_,I,Y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),v=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(h=t.readUInt16(),A=h/2,t.pos+=6,a=function(){var ce,re;for(re=[],f=ce=0;0<=A?ce<A:ce>A;f=0<=A?++ce:--ce)re.push(t.readUInt16());return re}(),t.pos+=2,C=function(){var ce,re;for(re=[],f=ce=0;0<=A?ce<A:ce>A;f=0<=A?++ce:--ce)re.push(t.readUInt16());return re}(),g=function(){var ce,re;for(re=[],f=ce=0;0<=A?ce<A:ce>A;f=0<=A?++ce:--ce)re.push(t.readUInt16());return re}(),w=function(){var ce,re;for(re=[],f=ce=0;0<=A?ce<A:ce>A;f=0<=A?++ce:--ce)re.push(t.readUInt16());return re}(),o=(this.length-t.pos+this.offset)/2,d=function(){var ce,re;for(re=[],f=ce=0;0<=o?ce<o:ce>o;f=0<=o?++ce:--ce)re.push(t.readUInt16());return re}(),f=_=0,Y=a.length;_<Y;f=++_)for(O=a[f],i=I=D=C[f];D<=O?I<=O:I>=O;i=D<=O?++I:--I)w[f]===0?c=i+g[f]:(c=d[w[f]/2+(i-D)-(A-f)]||0)!==0&&(c+=g[f]),this.codeMap[i]=65535&c}t.pos=v}return n.encode=function(t,e){var i,o,a,c,d,f,g,w,v,A,h,D,C,O,_,I,Y,ce,re,ie,U,q,Q,ae,N,L,M,E,G,V,de,J,ue,me,Oe,b,P,T,H,K,se,he,le,Le,Pe,qe;switch(E=new yi,c=Object.keys(t).sort(function(Be,nt){return Be-nt}),e){case"macroman":for(C=0,O=function(){var Be=[];for(D=0;D<256;++D)Be.push(0);return Be}(),I={0:0},a={},G=0,ue=c.length;G<ue;G++)I[le=t[o=c[G]]]==null&&(I[le]=++C),a[o]={old:t[o],new:I[t[o]]},O[o]=I[t[o]];return E.writeUInt16(1),E.writeUInt16(0),E.writeUInt32(12),E.writeUInt16(0),E.writeUInt16(262),E.writeUInt16(0),E.write(O),{charMap:a,subtable:E.data,maxGlyphID:C+1};case"unicode":for(L=[],v=[],Y=0,I={},i={},_=g=null,V=0,me=c.length;V<me;V++)I[re=t[o=c[V]]]==null&&(I[re]=++Y),i[o]={old:re,new:I[re]},d=I[re]-o,_!=null&&d===g||(_&&v.push(_),L.push(o),g=d),_=o;for(_&&v.push(_),v.push(65535),L.push(65535),ae=2*(Q=L.length),q=2*Math.pow(Math.log(Q)/Math.LN2,2),A=Math.log(q/2)/Math.LN2,U=2*Q-q,f=[],ie=[],h=[],D=de=0,Oe=L.length;de<Oe;D=++de){if(N=L[D],w=v[D],N===65535){f.push(0),ie.push(0);break}if(N-(M=i[N].new)>=32768)for(f.push(0),ie.push(2*(h.length+Q-D)),o=J=N;N<=w?J<=w:J>=w;o=N<=w?++J:--J)h.push(i[o].new);else f.push(M-N),ie.push(0)}for(E.writeUInt16(3),E.writeUInt16(1),E.writeUInt32(12),E.writeUInt16(4),E.writeUInt16(16+8*Q+2*h.length),E.writeUInt16(0),E.writeUInt16(ae),E.writeUInt16(q),E.writeUInt16(A),E.writeUInt16(U),se=0,b=v.length;se<b;se++)o=v[se],E.writeUInt16(o);for(E.writeUInt16(0),he=0,P=L.length;he<P;he++)o=L[he],E.writeUInt16(o);for(Le=0,T=f.length;Le<T;Le++)d=f[Le],E.writeUInt16(d);for(Pe=0,H=ie.length;Pe<H;Pe++)ce=ie[Pe],E.writeUInt16(ce);for(qe=0,K=h.length;qe<K;qe++)C=h[qe],E.writeUInt16(C);return{charMap:i,subtable:E.data,maxGlyphID:Y+1}}},n}(),Ku=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return zr(t,Ir),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,o,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)i=new ru(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var o,a;return i==null&&(i="macroman"),o=ru.encode(e,i),(a=new yi).writeUInt16(0),a.writeUInt16(1),o.table=a.data.concat(o.subtable),o},t}(),Pf=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return zr(t,Ir),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Cf=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return zr(t,Ir),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,o;for(o=[],i=0;i<10;++i)o.push(e.readByte());return o}(),this.charRange=function(){var i,o;for(o=[],i=0;i<4;++i)o.push(e.readInt());return o}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,o;for(o=[],i=0;i<2;i=++i)o.push(e.readInt());return o}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),If=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return zr(t,Ir),t.prototype.tag="post",t.prototype.parse=function(e){var i,o,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var c;for(o=e.readUInt16(),this.glyphNameIndex=[],c=0;0<=o?c<o:c>o;c=0<=o?++c:--c)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)i=e.readByte(),a.push(this.names.push(e.readString(i)));return a;case 151552:return o=e.readUInt16(),this.offsets=e.read(o);case 196608:break;case 262144:return this.map=(function(){var d,f,g;for(g=[],c=d=0,f=this.file.maxp.numGlyphs;0<=f?d<f:d>f;c=0<=f?++d:--d)g.push(e.readUInt32());return g}).call(this)}},t}(),Ef=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Df=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return zr(t,Ir),t.prototype.tag="name",t.prototype.parse=function(e){var i,o,a,c,d,f,g,w,v,A,h;for(e.pos=this.offset,e.readShort(),i=e.readShort(),f=e.readShort(),o=[],c=0;0<=i?c<i:c>i;c=0<=i?++c:--c)o.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+f+e.readShort()});for(g={},c=v=0,A=o.length;v<A;c=++v)a=o[c],e.pos=a.offset,w=e.readString(a.length),d=new Ef(w,a),g[h=a.nameID]==null&&(g[h]=[]),g[a.nameID].push(d);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},t}(),Of=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return zr(t,Ir),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Rf=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return zr(t,Ir),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,o,a,c,d,f,g;for(e.pos=this.offset,this.metrics=[],i=0,f=this.file.hhea.numberOfMetrics;0<=f?i<f:i>f;i=0<=f?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var w,v;for(v=[],i=w=0;0<=a?w<a:w>a;i=0<=a?++w:--w)v.push(e.readInt16());return v}(),this.widths=(function(){var w,v,A,h;for(h=[],w=0,v=(A=this.metrics).length;w<v;w++)c=A[w],h.push(c.advance);return h}).call(this),o=this.widths[this.widths.length-1],g=[],i=d=0;0<=a?d<a:d>a;i=0<=a?++d:--d)g.push(this.widths.push(o));return g},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Xu=[].slice,Mf=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return zr(t,Ir),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,o,a,c,d,f,g,w,v,A;return e in this.cache?this.cache[e]:(c=this.file.loca,i=this.file.contents,o=c.indexOf(e),(a=c.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+o,d=(f=new yi(i.read(a))).readShort(),w=f.readShort(),A=f.readShort(),g=f.readShort(),v=f.readShort(),this.cache[e]=d===-1?new qf(f,w,A,g,v):new Tf(f,d,w,A,g,v),this.cache[e]))},t.prototype.encode=function(e,i,o){var a,c,d,f,g;for(d=[],c=[],f=0,g=i.length;f<g;f++)a=e[i[f]],c.push(d.length),a&&(d=d.concat(a.encode(o)));return c.push(d.length),{table:d,offsets:c}},t}(),Tf=function(){function n(t,e,i,o,a,c){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=o,this.xMax=a,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),qf=function(){function n(t,e,i,o,a){var c,d;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=o,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new yi(Xu.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),Bf=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return zr(t,Ir),t.prototype.tag="loca",t.prototype.parse=function(e){var i,o;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var a,c;for(c=[],o=0,a=this.length;o<a;o+=2)c.push(2*e.readUInt16());return c}).call(this):(function(){var a,c;for(c=[],o=0,a=this.length;o<a;o+=4)c.push(e.readUInt32());return c}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var o=new Uint32Array(this.offsets.length),a=0,c=0,d=0;d<o.length;++d)if(o[d]=a,c<i.length&&i[c]==d){++c,o[d]=a;var f=this.offsets[d],g=this.offsets[d+1]-f;g>0&&(a+=g)}for(var w=new Array(4*o.length),v=0;v<o.length;++v)w[4*v+3]=255&o[v],w[4*v+2]=(65280&o[v])>>8,w[4*v+1]=(16711680&o[v])>>16,w[4*v]=(4278190080&o[v])>>24;return w},t}(),zf=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,i,o,a;for(e in o=this.font.cmap.tables[0].codeMap,t={},a=this.subset)i=a[e],t[e]=o[i];return t},n.prototype.glyphsFor=function(t){var e,i,o,a,c,d,f;for(o={},c=0,d=t.length;c<d;c++)o[a=t[c]]=this.font.glyf.glyphFor(a);for(a in e=[],o)(i=o[a])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(a in f=this.glyphsFor(e))i=f[a],o[a]=i;return o},n.prototype.encode=function(t,e){var i,o,a,c,d,f,g,w,v,A,h,D,C,O,_;for(o in i=Ku.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),h={0:0},_=i.charMap)h[(f=_[o]).old]=f.new;for(D in A=i.maxGlyphID,c)D in h||(h[D]=A++);return w=function(I){var Y,ce;for(Y in ce={},I)ce[I[Y]]=Y;return ce}(h),v=Object.keys(w).sort(function(I,Y){return I-Y}),C=function(){var I,Y,ce;for(ce=[],I=0,Y=v.length;I<Y;I++)d=v[I],ce.push(w[d]);return ce}(),a=this.font.glyf.encode(c,C,h),g=this.font.loca.encode(a.offsets,C),O={cmap:this.font.cmap.raw(),glyf:a.table,loca:g,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},n}();ft.API.PDFObject=function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,o,a,c;if(Array.isArray(e))return"["+function(){var d,f,g;for(g=[],d=0,f=e.length;d<f;d++)i=e[d],g.push(t.convert(i));return g}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(o in a=["<<"],e)c=e[o],a.push("/"+o+" "+t.convert(c));return a.push(">>"),a.join(`
`)}return""+e},t}();const cr=({text:n,searchTerm:t})=>{if(!t||!n)return l.jsx(l.Fragment,{children:n});const e=String(n),i=t.toLowerCase(),a=e.toLowerCase().indexOf(i);if(a===-1)return l.jsx(l.Fragment,{children:e});const c=e.slice(0,a),d=e.slice(a,a+t.length),f=e.slice(a+t.length);return l.jsxs(l.Fragment,{children:[c,l.jsx("mark",{className:"bg-warning-200 text-warning-800 dark:bg-warning-800/40 dark:text-warning-200 px-0.5 rounded",children:d}),f]})},iu=({allData:n,setData:t,loading:e,handleClickOpen:i,allInCharges:o,reports:a,juniors:c,reports_with_daily_works:d,openModal:f,setCurrentRow:g,filteredData:w,setFilteredData:v,currentPage:A,totalRows:h,lastPage:D,onPageChange:C,searchTerm:O=""})=>{var It,kt,$n,En,Dn;const{auth:_,users:I,jurisdictions:Y}=np().props;ya("(min-width: 1025px)");const ce=ya("(min-width: 641px) and (max-width: 1024px)"),re=ya("(max-width: 640px)"),ie=ne.useCallback(()=>{rp.reload({only:["allData","reports_with_daily_works"],onSuccess:()=>{Ot.success("Daily works data refreshed successfully")}})},[]),[U,q]=ne.useState(!1),[Q,ae]=ne.useState(null),[N,L]=ne.useState("structure"),M=[{key:"structure",label:"Structure",icon:""},{key:"embankment",label:"Embankment",icon:""},{key:"pavement",label:"Pavement",icon:""}],[E,G]=ne.useState(new Set),[V,de]=ne.useState(!1),[J,ue]=ne.useState(null),[me,Oe]=ne.useState(!1),[b,P]=ne.useState(null),T=ne.useCallback(W=>{console.log("[openStatusModal] Called with work:",W==null?void 0:W.id,W==null?void 0:W.number),P(W),Oe(!0),console.log("[openStatusModal] State set - modalOpen: true, work:",W==null?void 0:W.id)},[]),H=ne.useCallback(W=>{W&&t&&t(Me=>Me.map(ye=>ye.id===W.id?W:ye))},[t]),K=ne.useCallback(W=>{ue(W),de(!0)},[]),se=ne.useCallback(W=>{if(J&&t){const Me=n.map(ye=>ye.id===J.id?{...ye,rfi_files_count:W}:ye);t(Me)}},[J,n,t]),he=ne.useCallback(W=>{G(Me=>{const ye=new Set(Me);return ye.has(W)?ye.delete(W):ye.add(W),ye})},[]);ne.useEffect(()=>{if(n&&n.length>0){const W=new Set(n.map(Me=>Me.id));G(Me=>{const ye=new Set;return Me.forEach(_e=>{W.has(_e)&&ye.add(_e)}),ye})}},[n]);const le=((It=_.roles)==null?void 0:It.includes("Administrator"))||((kt=_.roles)==null?void 0:kt.includes("Super Administrator"))||(($n=_.roles)==null?void 0:$n.includes("Daily Work Manager"))||!1,Le=_.designation==="Supervision Engineer"||!1;_.designation==="Quality Control Inspector"||_.designation;const Pe=W=>{var Me;return(W==null?void 0:W.incharge)&&String(W.incharge)===String((Me=_.user)==null?void 0:Me.id)},qe=W=>{var Me;return(W==null?void 0:W.assigned)&&String(W.assigned)===String((Me=_.user)==null?void 0:Me.id)},Be=W=>le||Pe(W),nt=W=>le||Le||qe(W),ge=ne.useMemo(()=>le?!1:(n==null?void 0:n.some(W=>Pe(W)))||!1,[le,n,(En=_.user)==null?void 0:En.id]);ne.useMemo(()=>le||ge?!1:(n==null?void 0:n.some(W=>qe(W)))||!1,[le,ge,n,(Dn=_.user)==null?void 0:Dn.id]);const z=ne.useMemo(()=>le,[le]),rt=ne.useMemo(()=>!!(le||ge),[le,ge]),Ye=ne.useMemo(()=>le,[le]),Fe=ne.useMemo(()=>le,[le]),Re=o||I||[],Ue=c||I||[],Te=Y||[],tt=[...new Set(Te.map(W=>W.incharge).filter(W=>W))],we=Re.filter(W=>tt.includes(W.id)),De=we.length>0?we:Re,Xe=W=>W?(I==null?void 0:I.filter(Me=>Me.report_to===parseInt(W)))||[]:[],st=(W,Me)=>{if(!W)return"new";const ye=W.toLowerCase();return ye==="completed"&&Me?`completed:${Me.toLowerCase()}`:ye.includes(":")||["new","in-progress","completed","rejected","resubmission","pending","emergency"].includes(ye)?ye:ye==="completed"?"completed:pass":"new"},ot={new:{color:"primary",icon:Bp,label:"New"},"in-progress":{color:"secondary",icon:Cc,label:"In Progress"},pending:{color:"default",icon:fp,label:"Pending"},"completed:pass":{color:"success",icon:hl,label:"Completed: Passed"},"completed:fail":{color:"danger",icon:Ic,label:"Completed: Failed"},"completed:conditional":{color:"warning",icon:hl,label:"Completed: Conditional"},"completed:pending":{color:"default",icon:hl,label:"Completed: Pending Review"},rejected:{color:"danger",icon:Ic,label:"Rejected"},resubmission:{color:"warning",icon:Cc,label:"Resubmission"},emergency:{color:"danger",icon:pp,label:"Emergency"}},it=(W,Me="w-4 h-4")=>{const ye=`${Me} shrink-0`;switch(W==null?void 0:W.toLowerCase()){case"embankment":return l.jsx(fl,{className:`${ye} text-amber-600 dark:text-amber-400`});case"structure":return l.jsx(Ti,{className:`${ye} text-blue-600 dark:text-blue-400`});case"pavement":return l.jsx(ps,{className:`${ye} text-gray-600 dark:text-gray-400`});case"earthwork":return l.jsx(fl,{className:`${ye} text-green-600 dark:text-green-400`});case"drainage":return l.jsx(Ti,{className:`${ye} text-cyan-600 dark:text-cyan-400`});case"roadwork":return l.jsx(ps,{className:`${ye} text-orange-600 dark:text-orange-400`});case"bridge":return l.jsx(fl,{className:`${ye} text-purple-600 dark:text-purple-400`});case"culvert":return l.jsx(Ti,{className:`${ye} text-indigo-600 dark:text-indigo-400`});case"standard":default:return l.jsx(Oi,{className:`${ye} text-default-500`})}},mt=(W,Me=null)=>{if(W==="completed"&&Me){const Qe=`completed:${Me}`,Ee=ot[Qe]||ot.new,vt=Ee.icon;return l.jsx(gn,{size:"sm",variant:"flat",color:Ee.color,startContent:l.jsx(vt,{className:"w-3 h-3"}),classNames:{base:"h-6",content:"text-xs font-medium"},children:Ee.label})}if(W&&W.includes(":")){const Qe=ot[W]||ot.new,Ee=Qe.icon;return l.jsx(gn,{size:"sm",variant:"flat",color:Qe.color,startContent:l.jsx(Ee,{className:"w-3 h-3"}),classNames:{base:"h-6",content:"text-xs font-medium"},children:Qe.label})}const ye=ot[W]||ot.new,_e=ye.icon;return l.jsx(gn,{size:"sm",variant:"flat",color:ye.color,startContent:l.jsx(_e,{className:"w-3 h-3"}),classNames:{base:"h-6",content:"text-xs font-medium"},children:ye.label})},ze=W=>{if(!W)return"No date";try{return new Date(W).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})}catch{return"Invalid date"}},Ht=W=>W?(Re==null?void 0:Re.find(ye=>String(ye.id)===String(W)))||(Ue==null?void 0:Ue.find(ye=>String(ye.id)===String(W)))||(I==null?void 0:I.find(ye=>String(ye.id)===String(W)))||{name:"Unassigned",profile_image_url:null,profile_image:null}:{name:"Unassigned",profile_image_url:null,profile_image:null},St=W=>new Promise((Me,ye)=>{const _e=document.createElement("input");_e.type="file",_e.accept="image/*",_e.multiple=!0,document.body.appendChild(_e),_e.onchange=async()=>{const Qe=Array.from(_e.files);if(Qe.length>0)try{const Ee=[];for(let Je of Qe){const lt=await nn(Je),Ce=Lt(lt,1024);Ee.push(Ce)}const vt=await Mt(Ee),je=new File([vt],`${W}_scanned_document.pdf`,{type:"application/pdf"});Me(je),document.body.removeChild(_e)}catch(Ee){ye(Ee),document.body.removeChild(_e)}else ye(new Error("No files selected")),document.body.removeChild(_e)},_e.click()}),nn=W=>new Promise((Me,ye)=>{const _e=new Image;_e.src=URL.createObjectURL(W),_e.onload=()=>{Me(_e),URL.revokeObjectURL(_e.src)},_e.onerror=()=>ye(new Error("Failed to load image"))}),Lt=(W,Me)=>{const ye=W.width/W.height,_e=Me*ye,Qe=document.createElement("canvas");return Qe.width=_e,Qe.height=Me,Qe.getContext("2d").drawImage(W,0,0,_e,Me),Qe},Mt=W=>new Promise((Me,ye)=>{const _e=new ft({orientation:"portrait",unit:"px",format:[W[0].width,W[0].height]});W.forEach((Qe,Ee)=>{Ee>0&&_e.addPage();const vt=Qe.toDataURL("image/jpeg",1);_e.addImage(vt,"JPEG",0,0,Qe.width,Qe.height)});try{const Qe=_e.output("blob");Me(Qe)}catch(Qe){ye(Qe)}}),An=async(W,Me)=>{const ye=new Promise(async(_e,Qe)=>{try{const Ee=new FormData;Ee.append("taskId",W),Ee.append("file",Me);const vt=await an.post(route("dailyWorks.uploadRFI"),Ee,{headers:{"Content-Type":"multipart/form-data"}});vt.status===200&&(t(je=>je.map(Je=>Je.id===W?{...Je,file:vt.data.url}:Je)),_e([vt.data.message||"RFI file uploaded successfully"]))}catch(Ee){console.error(Ee),Qe(Ee.response.statusText||"Failed to upload RFI file")}});Ot.promise(ye,{loading:"Uploading RFI file...",success:_e=>_e.join(", "),error:_e=>_e})},Ft=ne.useCallback(async(W,Me)=>{if(Q===W.id)return;ae(W.id);const ye=new Promise(async(_e,Qe)=>{var Ee,vt,je,Je,lt,Ce,ut,Ke,Jt;try{let $e=Me,$t=null;if(Me.includes(":")){const[_t,Ln]=Me.split(":");$e=_t,$t=Ln}const cn={id:W.id,status:$e};$t&&(cn.inspection_result=$t);const Gt=await an.post(route("dailyWorks.updateStatus"),cn);if(Gt.status===200){t(Ln=>Ln.map(wr=>wr.id===W.id?Gt.data.dailyWork:wr));const _t=((Ee=ot[Me])==null?void 0:Ee.label)||`${$e}${$t?` - ${$t}`:""}`;_e(Gt.data.message||`Work status updated to ${_t}`)}}catch($e){console.error("Error updating work status:",((vt=$e.response)==null?void 0:vt.data)||$e.message||$e);let $t="Failed to update work status";if(((je=$e.response)==null?void 0:je.status)===422&&((Je=$e.response.data)!=null&&Je.errors)){const cn=$e.response.data.errors;$t=Object.values(cn).flat().join(", ")}else(Ce=(lt=$e.response)==null?void 0:lt.data)!=null&&Ce.error?$t=$e.response.data.error:(Ke=(ut=$e.response)==null?void 0:ut.data)!=null&&Ke.message?$t=$e.response.data.message:(Jt=$e.response)!=null&&Jt.statusText&&($t=$e.response.statusText);Qe($t)}finally{ae(null)}});Ot.promise(ye,{loading:"Updating work status...",success:_e=>_e||"Work status updated successfully!",error:_e=>_e||"Failed to update work status"})},[t,Q]);ne.useCallback(async(W,Me)=>{const ye=new Promise(async(_e,Qe)=>{var Ee,vt,je,Je,lt;try{const Ce=await an.post(route("dailyWorks.updateCompletionTime"),{id:W.id,completion_time:Me});Ce.status===200&&(t(ut=>ut.map(Ke=>Ke.id===W.id?Ce.data.dailyWork:Ke)),_e("Completion time updated successfully"))}catch(Ce){console.error("Error updating completion time:",((Ee=Ce.response)==null?void 0:Ee.data)||Ce.message||Ce),Qe(((je=(vt=Ce.response)==null?void 0:vt.data)==null?void 0:je.error)||((lt=(Je=Ce.response)==null?void 0:Je.data)==null?void 0:lt.message)||"Failed to update completion time")}});Ot.promise(ye,{loading:"Updating completion time...",success:_e=>_e,error:_e=>_e})},[t]),ne.useCallback(async(W,Me)=>{const ye=new Promise(async(_e,Qe)=>{var Ee,vt,je,Je,lt;try{const Ce=await an.post(route("dailyWorks.updateSubmissionTime"),{id:W.id,submission_time:Me});Ce.status===200&&(t(ut=>ut.map(Ke=>Ke.id===W.id?Ce.data.dailyWork:Ke)),_e("Submission time updated successfully"))}catch(Ce){console.error("Error updating submission time:",((Ee=Ce.response)==null?void 0:Ee.data)||Ce.message||Ce),Qe(((je=(vt=Ce.response)==null?void 0:vt.data)==null?void 0:je.error)||((lt=(Je=Ce.response)==null?void 0:Je.data)==null?void 0:lt.message)||"Failed to update submission time")}});Ot.promise(ye,{loading:"Updating submission time...",success:_e=>_e,error:_e=>_e})},[t]);const Vt=ne.useRef(n),Tt=ne.useRef(t);Vt.current=n,Tt.current=t;const Sn=ne.useMemo(()=>ls.debounce(async(W,Me)=>{var Qe;const ye=(Qe=Vt.current)==null?void 0:Qe.find(Ee=>Ee.id===W);if(!ye){Ot.error("Work not found");return}const _e=new Promise(async(Ee,vt)=>{var je,Je,lt,Ce,ut;try{const Ke=await an.post(route("dailyWorks.updateIncharge"),{id:ye.id,incharge:Me});Ke.status===200&&(Tt.current(Jt=>Jt.map($e=>$e.id===ye.id?Ke.data.dailyWork:$e)),Ee("Incharge updated successfully"))}catch(Ke){console.error("Error updating incharge:",((je=Ke.response)==null?void 0:je.data)||Ke.message||Ke),vt(((lt=(Je=Ke.response)==null?void 0:Je.data)==null?void 0:lt.error)||((ut=(Ce=Ke.response)==null?void 0:Ce.data)==null?void 0:ut.message)||"Failed to update incharge")}});Ot.promise(_e,{loading:"Updating incharge...",success:Ee=>Ee,error:Ee=>Ee})},500),[]),Cn=ne.useMemo(()=>ls.debounce(async(W,Me)=>{var Qe;const ye=(Qe=Vt.current)==null?void 0:Qe.find(Ee=>Ee.id===W);if(!ye){Ot.error("Work not found");return}const _e=new Promise(async(Ee,vt)=>{var je,Je,lt,Ce,ut;try{const Ke=await an.post(route("dailyWorks.updateAssigned"),{id:ye.id,assigned:Me});Ke.status===200&&(Tt.current(Jt=>Jt.map($e=>$e.id===ye.id?Ke.data.dailyWork:$e)),Ee("Assigned user updated successfully"))}catch(Ke){console.error("Error updating assigned user:",((je=Ke.response)==null?void 0:je.data)||Ke.message||Ke),vt(((lt=(Je=Ke.response)==null?void 0:Je.data)==null?void 0:lt.error)||((ut=(Ce=Ke.response)==null?void 0:Ce.data)==null?void 0:ut.message)||"Failed to update assigned user")}});Ot.promise(_e,{loading:"Updating assigned user...",success:Ee=>Ee,error:Ee=>Ee})},500),[]),Pt=ne.useMemo(()=>ls.debounce(async(W,Me)=>{var Qe;const ye=(Qe=Vt.current)==null?void 0:Qe.find(Ee=>Ee.id===W);if(!ye){Ot.error("Work not found");return}const _e=new Promise(async(Ee,vt)=>{var je,Je,lt,Ce,ut;try{const Ke=await an.post(route("dailyWorks.updateCompletionTime"),{id:ye.id,completion_time:Me});Ke.status===200&&(Tt.current(Jt=>Jt.map($e=>$e.id===ye.id?Ke.data.dailyWork:$e)),Ee("Completion time updated successfully"))}catch(Ke){console.error("Error updating completion time:",((je=Ke.response)==null?void 0:je.data)||Ke.message||Ke),vt(((lt=(Je=Ke.response)==null?void 0:Je.data)==null?void 0:lt.error)||((ut=(Ce=Ke.response)==null?void 0:Ce.data)==null?void 0:ut.message)||"Failed to update completion time")}});Ot.promise(_e,{loading:"Updating completion time...",success:Ee=>Ee,error:Ee=>Ee})},800),[]),pt=ne.useMemo(()=>ls.debounce(async(W,Me)=>{var Qe;const ye=(Qe=Vt.current)==null?void 0:Qe.find(Ee=>Ee.id===W);if(!ye){Ot.error("Work not found");return}const _e=new Promise(async(Ee,vt)=>{var je,Je,lt,Ce,ut;try{(await an.post(route("dailyWorks.updateInspectionDetails"),{id:ye.id,inspection_details:Me})).status===200&&(Tt.current(Jt=>Jt.map($e=>$e.id===ye.id?{...$e,inspection_details:Me}:$e)),Ee("Inspection details updated successfully"))}catch(Ke){console.error("Error updating inspection details:",((je=Ke.response)==null?void 0:je.data)||Ke.message||Ke),vt(((lt=(Je=Ke.response)==null?void 0:Je.data)==null?void 0:lt.error)||((ut=(Ce=Ke.response)==null?void 0:Ce.data)==null?void 0:ut.message)||"Failed to update inspection details")}});Ot.promise(_e,{loading:"Updating inspection details...",success:Ee=>Ee,error:Ee=>Ee})},800),[]),Ct=ne.useMemo(()=>ls.debounce(async(W,Me)=>{var Qe;const ye=(Qe=Vt.current)==null?void 0:Qe.find(Ee=>Ee.id===W);if(!ye){Ot.error("Work not found");return}const _e=new Promise(async(Ee,vt)=>{var je,Je,lt,Ce,ut;try{const Ke=await an.post(route("dailyWorks.updateSubmissionTime"),{id:ye.id,rfi_submission_date:Me});Ke.status===200&&(Tt.current(Jt=>Jt.map($e=>$e.id===ye.id?Ke.data.dailyWork:$e)),Ee("RFI submission time updated successfully"))}catch(Ke){console.error("Error updating RFI submission time:",((je=Ke.response)==null?void 0:je.data)||Ke.message||Ke),vt(((lt=(Je=Ke.response)==null?void 0:Je.data)==null?void 0:lt.error)||((ut=(Ce=Ke.response)==null?void 0:Ce.data)==null?void 0:ut.message)||"Failed to update RFI submission time")}});Ot.promise(_e,{loading:"Updating RFI submission time...",success:Ee=>Ee,error:Ee=>Ee})},800),[]);ne.useEffect(()=>()=>{Sn.cancel(),Cn.cancel(),Pt.cancel(),pt.cancel(),Ct.cancel()},[Sn,Cn,Pt,pt,Ct]);const pr=async(W,Me,ye,_e,Qe)=>{const Ee=n==null?void 0:n.find(je=>je.id===W);if(!Ee){Ot.error("Work not found");return}const vt=new Promise(async(je,Je)=>{var lt,Ce,ut,Ke,Jt;try{const $e={id:W,[ye]:_e,date:Ee.date||new Date().toISOString().split("T")[0],number:Ee.number||`RFI-${Date.now()}`,planned_time:Ee.planned_time||"09:00",status:ye==="status"?_e:Ee.status||"new",type:Ee.type||"Standard",description:Ee.description||"Work description pending",location:Ee.location||"Location to be determined",side:Ee.side||"Both"};if(ye==="status")if(_e==="completed"){if($e.completion_time=Ee.completion_time||new Date().toISOString(),$e.submission_time=Ee.submission_time||new Date().toISOString(),Qe!=="Structure"){const cn=await St(Me);cn&&await An(W,cn)}}else _e==="resubmission"?$e.resubmission_count=(Ee.resubmission_count||0)+1:_e==="new"&&($e.completion_time=null,$e.submission_time=null);const $t=await an.post(route("dailyWorks.update"),$e);$t.status===200&&(t(cn=>cn.map(Gt=>Gt.id===W?{...Gt,[ye]:_e,...ye==="status"&&_e==="completed"&&{completion_time:$e.completion_time,submission_time:$e.submission_time},...ye==="status"&&_e==="resubmission"&&{resubmission_count:$e.resubmission_count},...ye==="status"&&_e==="new"&&{completion_time:null,submission_time:null}}:Gt)),je($t.data.message||"Task updated successfully"))}catch($e){console.error($e);let $t="An unexpected error occurred.";if(((lt=$e.response)==null?void 0:lt.status)===422&&((Ce=$e.response.data)!=null&&Ce.errors)){const cn=$e.response.data.errors;$t=Object.values(cn).flat().join(", ")}else(Ke=(ut=$e.response)==null?void 0:ut.data)!=null&&Ke.message?$t=$e.response.data.message:(Jt=$e.response)!=null&&Jt.statusText&&($t=$e.response.statusText);Je($t)}});Ot.promise(vt,{loading:"Updating task...",success:je=>je,error:je=>je})},ln=({works:W,selectedTab:Me,setSelectedTab:ye,expandedItems:_e,toggleExpanded:Qe})=>{const Ee=ne.useMemo(()=>{const je={structure:[],embankment:[],pavement:[]};return W.forEach(Je=>{var Ce;const lt=((Ce=Je.type)==null?void 0:Ce.toLowerCase())||"structure";je[lt]?je[lt].push(Je):je.structure.push(Je)}),je},[W]),vt=({work:je,index:Je,isExpanded:lt,onToggle:Ce})=>{const ut=Ht(je.incharge),Ke=Ht(je.assigned),Jt=st(je.status,je.inspection_result),$e=ot[Jt]||ot.new,$t=$e.icon,cn=_t=>{(_t.key==="Enter"||_t.key===" ")&&(_t.preventDefault(),Ce())},Gt=({label:_t,value:Ln,chip:wr,chipColor:Fa="default",highlight:rn=!1})=>l.jsxs("div",{className:"flex items-center justify-between py-0.5 border-b border-divider/20 last:border-b-0 gap-2",children:[l.jsx("span",{className:"text-[10px] text-default-400 shrink-0",children:_t}),wr?l.jsx(gn,{size:"sm",variant:"flat",color:Fa,className:"text-[9px] h-3.5 px-1",children:rn?l.jsx(cr,{text:Ln,searchTerm:O}):Ln}):l.jsx("span",{className:"text-[10px] font-medium text-default-600 text-right truncate max-w-[65%]",children:rn?l.jsx(cr,{text:Ln,searchTerm:O}):Ln})]});return l.jsxs(ur,{radius:gt(),className:"bg-content1 border border-divider/40 shadow-sm",style:{fontFamily:'var(--fontFamily, "Inter")'},role:"article","aria-label":`Daily work ${je.number}`,children:[l.jsx(kl,{className:"p-2 cursor-pointer select-none active:scale-[0.99] transition-transform duration-100",onClick:Ce,onKeyDown:cn,tabIndex:0,role:"button","aria-expanded":lt,children:l.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 w-full",children:[l.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[je.rfi_files_count>0&&l.jsx(ml,{className:"w-3 h-3 text-success shrink-0"}),l.jsx("span",{className:"font-semibold text-[11px] text-default-800 break-all",children:l.jsx(cr,{text:je.number,searchTerm:O})}),je.rfi_files_count>0&&l.jsxs("span",{className:"text-[9px] text-success shrink-0",children:["(",je.rfi_files_count,")"]})]}),l.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[l.jsx(gn,{size:"sm",variant:"flat",color:$e.color,className:"h-4 text-[9px] px-1",children:$e.label.split(":")[0]}),l.jsx("div",{className:`w-4 h-4 rounded-full bg-default-100 flex items-center justify-center transition-transform duration-200 ${lt?"rotate-180":""}`,children:l.jsx("svg",{className:"w-2.5 h-2.5 text-default-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),lt&&l.jsxs(yr,{className:"px-2 pb-2 pt-0",onClick:_t=>_t.stopPropagation(),children:[l.jsx(xs,{className:"mb-2"}),l.jsxs("div",{className:"bg-default-50 rounded-lg p-1.5 mb-2",children:[l.jsx(Gt,{label:"Date",value:ze(je.date),highlight:!0}),je.description&&l.jsx(Gt,{label:"Description",value:je.description,highlight:!0}),l.jsx(Gt,{label:"Location",value:je.location||"Not set",highlight:!0}),l.jsx(Gt,{label:"Side",value:je.side||"Both",chip:!0,highlight:!0}),je.qty_layer&&l.jsx(Gt,{label:"Qty/Layer",value:je.qty_layer,highlight:!0}),l.jsx(Gt,{label:"Planned",value:je.planned_time||"Not set",highlight:!0}),je.resubmission_count>0&&l.jsx(Gt,{label:"Resubmissions",value:je.resubmission_count,chip:!0,chipColor:"warning"})]}),l.jsxs("div",{className:"space-y-1.5",children:[z&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-[10px] text-default-400 w-14 shrink-0",children:"In-charge:"}),l.jsx(Pr,{size:"sm",variant:"bordered",radius:gt(),placeholder:"Select","aria-label":"Select in-charge",selectedKeys:je.incharge?[String(je.incharge)]:[],onSelectionChange:_t=>{const Ln=Array.from(_t)[0];Ln&&Sn(je.id,Ln)},classNames:{base:"flex-1",trigger:"min-h-6 h-6",value:"text-[10px]",popoverContent:"max-w-[280px]"},renderValue:()=>l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ii,{src:ut.profile_image_url,size:"xs",name:ut.name,className:"w-3 h-3"}),l.jsx("span",{className:"text-[10px] truncate",children:ut.name})]}),children:De.map(_t=>l.jsx(Hn,{textValue:_t.name,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ii,{src:_t.profile_image_url,size:"sm",name:_t.name,className:"w-5 h-5"}),l.jsx("span",{className:"text-xs",children:_t.name})]})},String(_t.id)))})]}),rt&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-[10px] text-default-400 w-14 shrink-0",children:"Assigned:"}),Be(je)?l.jsx(Pr,{size:"sm",variant:"bordered",radius:gt(),placeholder:"Select","aria-label":"Select assignee",selectedKeys:je.assigned?[String(je.assigned)]:[],onSelectionChange:_t=>{const Ln=Array.from(_t)[0];Ln&&Cn(je.id,Ln)},classNames:{base:"flex-1",trigger:"min-h-6 h-6",value:"text-[10px]",popoverContent:"max-w-[280px]"},renderValue:()=>Ke.name!=="Unassigned"?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ii,{src:Ke.profile_image_url,size:"xs",name:Ke.name,className:"w-3 h-3"}),l.jsx("span",{className:"text-[10px] truncate",children:Ke.name})]}):l.jsx("span",{className:"text-[10px] text-default-400",children:"Select"}),children:Xe(je.incharge).map(_t=>l.jsx(Hn,{textValue:_t.name,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ii,{src:_t.profile_image_url,size:"sm",name:_t.name,className:"w-4 h-4"}),l.jsx("span",{className:"text-[10px]",children:_t.name})]})},String(_t.id)))}):l.jsxs("div",{className:"flex-1 flex items-center gap-1",children:[l.jsx(Ii,{src:Ke.profile_image_url,size:"xs",name:Ke.name,className:"w-3 h-3"}),l.jsx("span",{className:"text-[10px] text-default-600",children:Ke.name||"Unassigned"})]})]}),nt(je)&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-[10px] text-default-400 w-14 shrink-0",children:"Status:"}),l.jsx(gn,{size:"sm",variant:"flat",color:$e.color,startContent:l.jsx($t,{className:"w-3 h-3"}),className:"cursor-pointer hover:scale-105 transition-transform flex-1",onClick:_t=>{console.log("[Mobile Status Chip] Click event:",_t),console.log("[Mobile Status Chip] Work:",je.id,je.number),_t.stopPropagation(),T(je),console.log("[Mobile Status Chip] openStatusModal called")},classNames:{base:"h-6 px-2",content:"text-[10px] font-medium"},children:$e.label})]}),l.jsxs("div",{className:"flex flex-col gap-0.5",children:[l.jsx("span",{className:"text-[10px] text-default-400",children:"Inspection Details:"}),l.jsx(Xn,{size:"sm",type:"text",variant:"bordered",radius:gt(),placeholder:"Enter details...",defaultValue:je.inspection_details||"",onChange:_t=>pt(je.id,_t.target.value),classNames:{base:"w-full",input:"text-[10px]",inputWrapper:"min-h-7 h-7"}})]}),l.jsxs("div",{className:"flex flex-col gap-0.5",children:[l.jsx("span",{className:"text-[10px] text-default-400",children:"Completion:"}),l.jsx(Xn,{size:"sm",type:"datetime-local",variant:"bordered",radius:gt(),value:je.completion_time?new Date(je.completion_time).toLocaleString("sv-SE").replace(" ","T").slice(0,16):"",onChange:_t=>Pt(je.id,_t.target.value),classNames:{base:"w-full",input:"text-[10px]",inputWrapper:"min-h-7 h-7"}})]}),Ye&&l.jsxs("div",{className:"flex flex-col gap-0.5",children:[l.jsx("span",{className:"text-[10px] text-default-400",children:"RFI Date:"}),l.jsx(Xn,{size:"sm",type:"date",variant:"bordered",radius:gt(),value:je.rfi_submission_date?new Date(je.rfi_submission_date).toISOString().slice(0,10):"",onChange:_t=>Ct(je.id,_t.target.value),classNames:{base:"w-full",input:"text-[10px]",inputWrapper:"min-h-7 h-7"}})]})]}),l.jsxs("div",{className:"flex gap-1.5 mt-2 pt-1.5 border-t border-divider",children:[l.jsxs(Bt,{size:"sm",variant:"flat",color:je.rfi_files_count>0?"success":"default",radius:gt(),className:"flex-1 h-7 text-[10px]",onPress:()=>{console.log("[Mobile Files Button] onPress triggered"),console.log("[Mobile Files Button] Work:",je.id,je.number),K(je),console.log("[Mobile Files Button] openRfiFilesModal called")},children:["Files ",je.rfi_files_count>0&&`(${je.rfi_files_count})`]}),Fe&&l.jsxs(l.Fragment,{children:[l.jsx(Bt,{size:"sm",variant:"flat",color:"primary",radius:gt(),className:"flex-1 h-7 text-[10px]",onPress:()=>{g(je),f("editDailyWork")},children:"Edit"}),l.jsx(Bt,{size:"sm",variant:"flat",color:"danger",radius:gt(),className:"flex-1 h-7 text-[10px]",onPress:()=>i(je.id,"deleteDailyWork"),children:"Delete"})]})]})]})]})};return l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"flex overflow-x-auto border-b border-divider scrollbar-hide -mx-1 px-1",children:M.map(je=>{var Je;return l.jsxs("button",{onClick:()=>ye(je.key),className:`flex items-center gap-1 px-2 py-1.5 min-w-fit whitespace-nowrap border-b-2 transition-all duration-150 ${Me===je.key?"border-primary text-primary font-semibold":"border-transparent text-default-500"}`,children:[l.jsx("span",{className:"text-[10px]",children:je.icon}),l.jsx("span",{className:"text-[10px]",children:je.label}),l.jsx("span",{className:`min-w-[16px] h-3.5 px-1 rounded-full text-[9px] font-medium flex items-center justify-center ${Me===je.key?"bg-primary text-white":"bg-default-100 text-default-600"}`,children:((Je=Ee[je.key])==null?void 0:Je.length)||0})]},je.key)})}),l.jsx("div",{className:"pt-2",children:M.map(je=>{var Je;return l.jsx("div",{className:Me===je.key?"block":"hidden",children:((Je=Ee[je.key])==null?void 0:Je.length)>0?l.jsx("div",{className:"flex flex-col gap-2",children:Ee[je.key].map((lt,Ce)=>l.jsx(zp,{onEdit:()=>{g(lt),f("editDailyWork")},onDelete:()=>i(lt.id,"deleteDailyWork"),onStatusChange:()=>{lt.status!=="completed"&&Ft(lt,"completed:pass")},disabled:!Fe,children:l.jsx(vt,{work:lt,index:Ce,isExpanded:_e.has(lt.id),onToggle:()=>Qe(lt.id)})},lt.id))}):l.jsxs("div",{className:"text-center py-6",children:[l.jsx("div",{className:"text-4xl mb-3",children:je.icon}),l.jsxs("div",{className:"text-default-500 text-sm",children:["No ",je.label.toLowerCase()," works found"]})]})},je.key)})})]})},Mn=ne.useCallback(W=>{C&&C(W)},[C]),In="text-xs sm:text-sm md:text-base whitespace-nowrap",ve=ne.useCallback((W,Me)=>{var Qe,Ee,vt;const ye=Ht(W.incharge),_e=Ht(W.assigned);switch(Me){case"date":return l.jsx(mn,{className:In,children:l.jsxs("div",{className:"flex items-center justify-center gap-1 whitespace-nowrap",children:[l.jsx(as,{className:"w-3 h-3 text-default-500"}),l.jsx("span",{className:"text-sm font-medium",children:l.jsx(cr,{text:ze(W.date),searchTerm:O})})]})});case"number":return l.jsx(mn,{className:"max-w-40",children:l.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 w-full whitespace-nowrap",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ei,{content:W.rfi_files_count>0?`View ${W.rfi_files_count} RFI file(s)`:"Manage RFI files",children:l.jsx(Bt,{isIconOnly:!0,size:"sm",variant:"light",className:"w-5 h-5 min-w-5",onPress:()=>K(W),children:W.rfi_files_count>0?l.jsx(Oc,{className:"w-3.5 h-3.5 text-primary"}):l.jsx(Fl,{className:"w-3.5 h-3.5 text-default-400"})})}),(W.status==="completed"||(Qe=W.status)!=null&&Qe.startsWith("completed:"))&&W.file?l.jsx(Jd,{isExternal:!0,href:W.file,color:(()=>{var ut;const Ce=st(W.status,W.inspection_result);return((ut=ot[Ce])==null?void 0:ut.color)||"default"})(),size:"sm",className:"font-medium text-center",title:W.number,children:l.jsx(cr,{text:W.number,searchTerm:O})}):l.jsx("span",{className:"text-sm font-medium text-primary text-center",title:W.number,children:l.jsx(cr,{text:W.number,searchTerm:O})}),W.rfi_files_count>0&&l.jsx(Ei,{content:`${W.rfi_files_count} file(s) attached`,children:l.jsx("span",{className:"flex items-center",children:l.jsx(ml,{className:"w-3.5 h-3.5 text-success"})})})]}),(Ee=W.reports)==null?void 0:Ee.map(Ce=>l.jsxs("span",{className:"text-xs text-default-500 text-center",title:` ${Ce.ref_no}`,children:[" ",l.jsx(cr,{text:Ce.ref_no,searchTerm:O})]},Ce.ref_no))]})});case"status":const je=st(W.status,W.inspection_result),Je=ot[je]||ot.new,lt=Je.icon;return l.jsx(mn,{className:"min-w-40",children:l.jsx("div",{className:"flex items-center justify-center w-full",children:nt(W)?l.jsx(Ei,{content:"Click to update status",children:l.jsx(gn,{size:"md",variant:"flat",color:Je.color,startContent:l.jsx(lt,{className:"w-4 h-4"}),className:"cursor-pointer hover:scale-105 transition-transform",onClick:Ce=>{Ce.stopPropagation(),T(W)},classNames:{base:"h-8 px-3",content:"text-sm font-medium"},children:Je.label})}):mt(W.status,W.inspection_result)})});case"type":return l.jsx(mn,{className:In,children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[it(W.type,"w-4 h-4"),l.jsx("span",{className:"text-sm font-medium capitalize",children:l.jsx(cr,{text:W.type||"Standard Work",searchTerm:O})})]})});case"description":return l.jsx(mn,{className:`max-w-60 ${In}`,children:l.jsx("div",{className:"w-full overflow-hidden",children:l.jsx("span",{className:"text-sm text-default-600 line-clamp-2",title:W.description||"No description provided",children:l.jsx(cr,{text:W.description||"No description provided",searchTerm:O})})})});case"location":return l.jsx(mn,{className:"max-w-48",children:l.jsxs("div",{className:"flex items-center justify-center gap-2 overflow-hidden",children:[l.jsx(ps,{className:"w-3 h-3 text-default-500 shrink-0"}),l.jsx("span",{className:"text-sm font-medium line-clamp-2 text-center",title:W.location||"Location not specified",children:l.jsx(cr,{text:W.location||"Location not specified",searchTerm:O})})]})});case"side":return l.jsx(mn,{children:l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(gn,{size:"sm",variant:"flat",color:"default",className:"capitalize",children:l.jsx(cr,{text:W.side||"Both Sides",searchTerm:O})})})});case"qty_layer":return l.jsx(mn,{children:l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("span",{className:"text-sm",children:l.jsx(cr,{text:W.qty_layer?W.qty_layer:"N/A",searchTerm:O})})})});case"planned_time":return l.jsx(mn,{children:l.jsxs("div",{className:"flex items-center justify-center gap-1",children:[l.jsx(vi,{className:"w-3 h-3 text-default-500"}),l.jsx("span",{className:"text-sm",children:l.jsx(cr,{text:W.planned_time||"Not set",searchTerm:O})})]})});case"resubmission_count":return l.jsx(mn,{children:l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(gn,{size:"sm",variant:"flat",color:W.resubmission_count>0?"warning":"default",children:W.resubmission_count||0})})});case"incharge":return l.jsx(mn,{className:"w-64",children:l.jsx("div",{className:"flex items-center justify-center",children:le?l.jsx(Pr,{size:"sm",variant:"bordered",radius:gt(),placeholder:"Select in-charge","aria-label":"Select in-charge person",selectedKeys:W.incharge&&De.find(Ce=>Ce.id===parseInt(W.incharge))?[String(W.incharge)]:[],onSelectionChange:Ce=>{const ut=Array.from(Ce)[0];ut&&Sn(W.id,ut)},classNames:{trigger:"min-h-10 w-full bg-content2/50 hover:bg-content2/80 focus:bg-content2/90 transition-colors",value:"text-sm leading-tight",popoverContent:"w-64 max-w-[300px]"},style:{fontFamily:'var(--fontFamily, "Inter")'},renderValue:Ce=>Ce.length===0?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ds,{className:"w-4 h-4 text-default-400"}),l.jsx("span",{className:"text-xs",children:"Select in-charge"})]}):Ce.map(ut=>l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(Ii,{src:ye.profile_image_url||ye.profile_image,size:"sm",name:ye.name,showBorder:!0}),l.jsx("span",{className:"text-xs font-medium truncate max-w-[120px]",title:ye.name,children:ye.name})]},ut.key)),children:De==null?void 0:De.map(Ce=>l.jsx(Hn,{textValue:Ce.name,children:l.jsx(so,{size:"sm",name:Ce.name,description:`Employee ID: ${Ce.employee_id||"N/A"}`,avatarProps:{size:"sm",src:Ce.profile_image_url||Ce.profile_image,name:Ce.name,...lo({name:Ce.name,size:"sm"})}})},Ce.id))}):l.jsx("div",{className:"flex items-center justify-center gap-2",children:ye.name!=="Unassigned"?l.jsx(so,{size:"sm",name:l.jsx("span",{className:"truncate max-w-[100px]",title:ye.name,children:ye.name}),description:"In-charge",avatarProps:{size:"sm",src:ye.profile_image_url||ye.profile_image,name:ye.name,...lo({name:ye.name,size:"sm"})},classNames:{name:"text-xs font-medium leading-tight",description:"text-xs text-default-400"}}):l.jsx(gn,{size:"sm",variant:"flat",color:"default",children:"Unassigned"})})})});case"assigned":return l.jsx(mn,{className:"w-64 text-center",children:l.jsx("div",{className:"flex items-center justify-center",children:Be(W)?l.jsx(Pr,{size:"sm",variant:"bordered",radius:gt(),placeholder:"Select assignee","aria-label":"Select assigned person",selectedKeys:W.assigned&&Xe(W.incharge).find(Ce=>Ce.id===parseInt(W.assigned))?[String(W.assigned)]:[],onSelectionChange:Ce=>{const ut=Array.from(Ce)[0];ut&&Cn(W.id,ut)},classNames:{trigger:"min-h-10 w-full bg-content2/50 hover:bg-content2/80 focus:bg-content2/90 transition-colors",value:"text-sm leading-tight text-center",popoverContent:"w-64 max-w-[300px]"},style:{fontFamily:'var(--fontFamily, "Inter")'},renderValue:Ce=>Ce.length===0?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ds,{className:"w-4 h-4 text-default-400"}),l.jsx("span",{className:"text-xs",children:"Select assignee"})]}):Ce.map(ut=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ii,{src:_e.profile_image_url||_e.profile_image,size:"sm",name:_e.name,showBorder:!0}),l.jsx("span",{className:"text-xs font-medium truncate max-w-[120px]",title:_e.name,children:_e.name})]},ut.key)),children:(vt=Xe(W.incharge))==null?void 0:vt.map(Ce=>{var ut;return l.jsx(Hn,{textValue:Ce.name,children:l.jsx(so,{size:"sm",name:Ce.name,description:Ce.designation_title||((ut=Ce.designation)==null?void 0:ut.title)||"Staff",avatarProps:{size:"sm",src:Ce.profile_image_url||Ce.profile_image,name:Ce.name,...lo({name:Ce.name,size:"sm"})}})},Ce.id)})}):l.jsx("div",{className:"flex items-center justify-center gap-2",children:_e.name!=="Unassigned"?l.jsx(so,{size:"sm",name:l.jsx("span",{className:"truncate max-w-[100px]",title:_e.name,children:_e.name}),description:"Assigned",avatarProps:{size:"sm",src:_e.profile_image_url||_e.profile_image,name:_e.name,...lo({name:_e.name,size:"sm"})},classNames:{name:"text-xs font-medium",description:"text-xs text-default-400"}}):l.jsx(gn,{size:"sm",variant:"flat",color:"default",children:"Unassigned"})})})});case"completion_time":return l.jsx(mn,{children:l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(Xn,{size:"sm",type:"datetime-local",variant:"bordered",value:W.completion_time?new Date(W.completion_time).toLocaleString("sv-SE").replace(" ","T").slice(0,16):"",onChange:Ce=>Pt(W.id,Ce.target.value),startContent:l.jsx(Qr,{className:"w-4 h-4 text-default-400"}),classNames:{input:"text-xs text-center",inputWrapper:"min-h-10 bg-content2/50 hover:bg-content2/80 focus-within:bg-content2/90 border-divider/50 hover:border-divider data-[focus]:border-primary"},style:{fontFamily:"var(--font-family)"}})})});case"rfi_submission_date":return l.jsx(mn,{children:le?l.jsx("div",{className:"flex items-center justify-center",children:l.jsx(Xn,{size:"sm",type:"date",variant:"bordered",value:W.rfi_submission_date?new Date(W.rfi_submission_date).toISOString().slice(0,10):"",onChange:Ce=>Ct(W.id,Ce.target.value),startContent:l.jsx(as,{className:"w-4 h-4 text-default-400"}),classNames:{input:"text-xs text-center",inputWrapper:"min-h-10 bg-content2/50 hover:bg-content2/80 focus-within:bg-content2/90 border-divider/50 hover:border-divider data-[focus]:border-primary"},style:{fontFamily:"var(--font-family)"}})}):l.jsxs("div",{className:"flex items-center justify-center gap-1",children:[l.jsx(as,{className:"w-3 h-3 text-default-500"}),l.jsx("span",{className:"text-sm",children:W.rfi_submission_date?ze(W.rfi_submission_date):"Not set"})]})});case"actions":return l.jsx(mn,{children:l.jsxs("div",{className:"flex items-center justify-center gap-1",children:[l.jsx(Ei,{content:W.rfi_files_count>0?`Files (${W.rfi_files_count})`:"Manage Files",children:l.jsx(Bt,{isIconOnly:!0,size:"sm",variant:"ghost",color:W.rfi_files_count>0?"success":"default",radius:gt(),onPress:()=>K(W),className:"min-w-8 h-8",children:W.rfi_files_count>0?l.jsx(ml,{className:"w-4 h-4"}):l.jsx(Oc,{className:"w-4 h-4"})})}),l.jsx(Ei,{content:"Edit Work",children:l.jsx(Bt,{isIconOnly:!0,size:"sm",variant:"ghost",color:"primary",radius:gt(),onPress:()=>{Q!==W.id&&(g(W),f("editDailyWork"))},className:"min-w-8 h-8",children:l.jsx(Su,{className:"w-4 h-4"})})}),l.jsx(Ei,{content:"Delete Work",color:"danger",children:l.jsx(Bt,{isIconOnly:!0,size:"sm",variant:"ghost",color:"danger",radius:gt(),onPress:()=>{Q!==W.id&&(g(W),i(W.id,"deleteDailyWork"))},className:"min-w-8 h-8",children:l.jsx(ms,{className:"w-4 h-4"})})})]})});default:return l.jsx(mn,{children:W[Me]})}},[le,Le,Q,g,f,i,pr]),at=[{name:"Date",uid:"date",icon:as,sortable:!0,width:"w-24"},{name:"RFI Number",uid:"number",icon:Ti,sortable:!0,width:"w-32"},{name:"Work Type",uid:"type",icon:Oi,sortable:!0,width:"w-28"},{name:"Description",uid:"description",icon:Oi,sortable:!1,width:"w-60"},{name:"Location",uid:"location",icon:ps,sortable:!0,width:"w-48"},{name:"Road Side",uid:"side",sortable:!0,width:"w-20"},{name:"Layer Quantity",uid:"qty_layer",sortable:!0,width:"w-24"},{name:"Planned Time",uid:"planned_time",icon:vi,sortable:!0,width:"w-28"},{name:"Resubmissions",uid:"resubmission_count",icon:La,sortable:!0,width:"w-28"},...z?[{name:"In-Charge",uid:"incharge",icon:ds,sortable:!0,width:"w-64"}]:[],...rt?[{name:"Assigned To",uid:"assigned",icon:ds,sortable:!0,width:"w-64"}]:[],{name:"Status",uid:"status",icon:vi,sortable:!0,width:"w-56"},{name:"Inspection Details",uid:"inspection_details",icon:Oi,sortable:!1,width:"w-48"},{name:"Completion Time",uid:"completion_time",icon:Qr,sortable:!0,width:"w-56"},...Ye?[{name:"RFI Submission Date",uid:"rfi_submission_date",icon:as,sortable:!0,width:"w-36"}]:[],...Fe?[{name:"Actions",uid:"actions",sortable:!1,width:"w-28"}]:[]],Ze=()=>l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"flex overflow-x-auto border-b border-divider scrollbar-hide -mx-1 px-1",children:M.map(W=>l.jsxs("button",{onClick:()=>L(W.key),className:`flex items-center gap-1 px-2 py-1.5 min-w-fit whitespace-nowrap border-b-2 transition-all duration-150 ${N===W.key?"border-primary text-primary font-semibold":"border-transparent text-default-500"}`,children:[l.jsx("span",{className:"text-[10px]",children:W.icon}),l.jsx("span",{className:"text-[10px]",children:W.label}),l.jsx("span",{className:`min-w-[16px] h-3.5 px-1 rounded-full text-[9px] font-medium flex items-center justify-center ${N===W.key?"bg-primary text-white":"bg-default-100 text-default-600"}`,children:"-"})]},W.key))}),l.jsx("div",{className:"py-2 space-y-1.5",children:Array.from({length:5}).map((W,Me)=>l.jsx(ur,{className:"w-full border border-divider/50 shadow-none",children:l.jsx(kl,{className:"p-2 gap-1.5",children:l.jsxs("div",{className:"flex items-center gap-1.5 w-full",children:[l.jsx(Kn,{className:"flex-1 h-3 rounded"}),l.jsx(Kn,{className:"w-12 h-4 rounded-full shrink-0"}),l.jsx(Kn,{className:"w-4 h-4 rounded-full shrink-0"})]})})},Me))})]}),bt=()=>l.jsx("div",{className:"divide-y divide-divider",children:Array.from({length:8}).map((W,Me)=>l.jsx("div",{className:"flex bg-content1 hover:bg-content2/50",children:at.map((ye,_e)=>l.jsx("div",{className:"flex-1 p-3 flex items-center justify-center",children:ye.uid==="status"?l.jsx(Kn,{className:"w-28 h-7 rounded"}):ye.uid==="description"?l.jsxs("div",{className:"w-full space-y-1",children:[l.jsx(Kn,{className:"w-full h-3 rounded"}),l.jsx(Kn,{className:"w-3/4 h-3 rounded"})]}):ye.uid==="incharge"||ye.uid==="assigned"?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Kn,{className:"w-7 h-7 rounded-full"}),l.jsx(Kn,{className:"w-16 h-3 rounded"})]}):ye.uid==="completion_time"||ye.uid==="rfi_submission_date"?l.jsx(Kn,{className:"w-28 h-7 rounded"}):ye.uid==="actions"?l.jsxs("div",{className:"flex gap-1",children:[l.jsx(Kn,{className:"w-7 h-7 rounded"}),l.jsx(Kn,{className:"w-7 h-7 rounded"})]}):ye.uid==="side"||ye.uid==="resubmission_count"?l.jsx(Kn,{className:"w-14 h-5 rounded-full"}):l.jsx(Kn,{className:"w-16 h-3 rounded"})},_e))},Me))}),yt=()=>l.jsxs("div",{className:"max-h-[84vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-default-700",children:"Daily Works"}),l.jsx(Bt,{variant:"flat",color:"primary",size:"sm",radius:gt(),isDisabled:!0,startContent:l.jsx(Yl,{size:"sm"}),children:"Loading..."})]}),l.jsx(oo,{className:"max-h-[70vh]",children:l.jsxs("div",{className:"border border-divider rounded-lg overflow-hidden",children:[l.jsx("div",{className:"bg-default-100/80 backdrop-blur-md border-b border-divider",children:l.jsx("div",{className:"flex",children:at.map(W=>{const Me=W.icon;return l.jsxs("div",{className:"flex-1 p-3 flex items-center justify-center gap-1 text-xs font-medium text-default-600",children:[Me&&l.jsx(Me,{className:"w-3 h-3"}),l.jsx("span",{children:W.name})]},W.uid)})})}),l.jsx(bt,{})]})}),l.jsx("div",{className:"py-4 flex justify-center",children:l.jsx(pl,{isDisabled:!0,total:D||1,page:A,showControls:!0,size:"sm",radius:gt()})})]});return e?re?l.jsx("div",{className:"space-y-3",children:l.jsx(oo,{className:"max-h-[calc(100vh-280px)] min-h-[300px]",hideScrollBar:!0,children:l.jsx(Ze,{})})}):l.jsx(yt,{}):re?l.jsxs("div",{className:"space-y-3",children:[l.jsx(oo,{className:"max-h-[calc(100vh-280px)] min-h-[300px]",hideScrollBar:!0,children:l.jsx(ln,{works:n||[],selectedTab:N,setSelectedTab:L,expandedItems:E,toggleExpanded:he})}),D>1&&l.jsx("div",{className:"flex justify-center pt-2 pb-safe",children:l.jsx(pl,{showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:A,total:D,onChange:Mn,size:"sm",siblings:0,boundaries:1,radius:gt(),classNames:{wrapper:"bg-content1/80 backdrop-blur-md border-divider/50 gap-1",item:"bg-content1/50 border-divider/30 min-w-8 h-8",cursor:"bg-primary/20 backdrop-blur-md"},style:{fontFamily:'var(--fontFamily, "Inter")'}})})]}):l.jsxs("div",{className:"max-h-[84vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-default-700",children:"Daily Works"}),l.jsx(Bt,{variant:"flat",color:"primary",size:"sm",radius:gt(),style:{backgroundColor:"rgba(var(--color-primary), 0.1)",borderColor:"rgba(var(--color-primary), 0.3)",color:"var(--color-text)"},onClick:ie,startContent:l.jsx(La,{className:"w-4 h-4"}),children:"Refresh"})]}),l.jsx(oo,{className:"max-h-[70vh]",children:l.jsxs(yu,{selectionMode:"none",isCompact:!0,removeWrapper:!0,isStriped:!0,"aria-label":"Daily Works Management Table",isHeaderSticky:!0,radius:gt(),classNames:{base:"max-h-[520px] overflow-auto",table:"min-h-[200px] w-full",thead:"z-10",tbody:"overflow-y-auto",th:"bg-default-100 text-default-700 font-semibold",td:"text-default-600"},style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:[l.jsx(wu,{columns:at,children:W=>l.jsx(ga,{align:W.uid==="description"?"start":"center",className:`bg-default-100/80 backdrop-blur-md ${W.width||""}`,style:{minWidth:W.uid==="description"?"240px":W.uid==="location"?"192px":W.uid==="number"?"128px":W.uid==="status"?"192px":"auto"},children:l.jsxs("div",{className:`flex items-center gap-1 ${W.uid==="description"?"justify-start":"justify-center"}`,children:[W.icon&&l.jsx(W.icon,{className:"w-3 h-3"}),l.jsx("span",{className:"text-xs font-semibold",children:W.name})]})},W.uid)}),l.jsx(Nu,{items:n||[],emptyContent:l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[l.jsx(Oi,{className:"w-12 h-12 text-default-300 mb-4"}),l.jsx("h6",{className:"text-lg font-medium text-default-600",children:"No daily works found"}),l.jsx("span",{className:"text-sm text-default-500",children:"No work logs available for the selected period"})]}),children:W=>l.jsx(ju,{children:Me=>ve(W,Me)},W.id)})]})}),!re&&h>30&&l.jsx("div",{className:"py-4 flex justify-center",children:l.jsx(pl,{showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:A,total:D,onChange:Mn,size:ce?"sm":"md",radius:gt(),classNames:{wrapper:"bg-content1/80 backdrop-blur-md border-divider/50",item:"bg-content1/50 border-divider/30",cursor:"bg-primary/20 backdrop-blur-md"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),l.jsx(Up,{isOpen:V,onClose:()=>{de(!1),ue(null)},dailyWork:J,onFilesUpdated:se}),b&&l.jsx(Wp,{open:me,closeModal:()=>{Oe(!1),P(null)},dailyWork:b,onStatusUpdated:H})]})},au=({open:n,closeModal:t,currentRow:e,setData:i,modalType:o})=>{const a=()=>{const N=new Date,L=N.getFullYear(),M=String(N.getMonth()+1).padStart(2,"0"),E=String(N.getDate()).padStart(2,"0"),G=String(N.getTime()).slice(-6);return`RFI-${L}${M}${E}-${G}`},[c,d]=ne.useState({id:(e==null?void 0:e.id)||"",date:e!=null&&e.date?new Date(e.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],number:(e==null?void 0:e.number)||(o==="add"?a():""),planned_time:(e==null?void 0:e.planned_time)||"Morning shift",type:(e==null?void 0:e.type)||"Structure",location:(e==null?void 0:e.location)||"",description:(e==null?void 0:e.description)||"",side:(e==null?void 0:e.side)||"SR-R",qty_layer:(e==null?void 0:e.qty_layer)||""}),[f,g]=ne.useState({}),[w,v]=ne.useState(!1),[A,h]=ne.useState(!1),[D,C]=ne.useState(!0),[O,_]=ne.useState({}),I=ne.useMemo(()=>({Structure:{label:"Structure Work",description:"Concrete structures, bridges, culverts",icon:"",color:"primary",suggestedSides:["SR-R","SR-L","Both"],suggestedTimes:["Morning shift","Afternoon shift","Full day","2-3 hours"],defaultLayers:1},Embankment:{label:"Embankment Work",description:"Earthwork, soil stabilization",icon:"",color:"secondary",suggestedSides:["SR-R","SR-L","Both"],suggestedTimes:["Early morning","Morning shift","Full day","4-5 hours"],defaultLayers:3},Pavement:{label:"Pavement Work",description:"Road surfacing, asphalt laying",icon:"",color:"success",suggestedSides:["TR-R","TR-L","Both"],suggestedTimes:["Night shift","Early morning","Morning shift","6-8 hours"],defaultLayers:2}}),[]),Y=ne.useMemo(()=>({"SR-R":{label:"Service Road - Right",description:"Right side service road"},"SR-L":{label:"Service Road - Left",description:"Left side service road"},"TR-R":{label:"Through Road - Right",description:"Right lane main road"},"TR-L":{label:"Through Road - Left",description:"Left lane main road"},Both:{label:"Both Sides",description:"Both sides of the road"}}),[]),ce=(N,L)=>{var G;const M={date:V=>{if(!V)return"Date is required";const de=new Date(V),J=new Date,ue=new Date(J.setDate(J.getDate()-30));return de<ue?"Date cannot be more than 30 days ago":null},number:V=>V?V.length<5?"RFI Number must be at least 5 characters":null:"RFI Number is required",location:V=>V?V.length<3?"Location must be at least 3 characters":null:"Location is required",description:V=>V?V.length<10?"Description must be at least 10 characters":null:"Description is required",planned_time:V=>V?V.length<2?"Planned time must be at least 2 characters":null:"Planned time is required"},E=(G=M[N])==null?void 0:G.call(M,L);return o==="update"&&L&&L.toString().trim()!==""&&!E?_(V=>({...V,[N]:"success"})):_(V=>({...V,[N]:E?"error":"success"})),E};ne.useEffect(()=>{const N=setTimeout(()=>{if(C(!1),o==="update"&&e){const L={},M={};Object.entries(c).forEach(([E,G])=>{G&&G.toString().trim()!==""&&(M[E]="success",ce(E,G)||delete L[E])}),_(M),g(L)}},800);return()=>clearTimeout(N)},[o,e,c]),ne.useEffect(()=>{if(c.type&&I[c.type]){const N=I[c.type];e||d(L=>({...L,qty_layer:L.qty_layer||String(N.defaultLayers),planned_time:L.planned_time||N.suggestedTimes[0]}))}},[c.type,e,I]),ne.useEffect(()=>{const N=Object.entries(c).some(([L,M])=>e?M!==(e[L]||""):M!=="");if(h(N),e&&o==="update"){const L={};Object.entries(c).forEach(([M,E])=>{E&&E.toString().trim()!==""&&(L[M]="success")}),_(M=>({...M,...L}))}},[c,e,o]);const re=(N,L)=>{d(E=>({...E,[N]:L}));const M=ce(N,L);g(M?E=>({...E,[N]:M}):E=>{const G={...E};return delete G[N],G}),h(!0)},ie=()=>{const N=a();re("number",N),Ot.success("New RFI number generated!")},U=()=>{const N=["date","number","location","description","planned_time"],L={};return N.forEach(M=>{const E=ce(M,c[M]);E&&(L[M]=E)}),g(L),Object.keys(L).length===0};async function q(N){if(N.preventDefault(),!U()){Ot.error("Please fix all validation errors before submitting");return}v(!0);const L=new Promise(async(M,E)=>{var G,V,de;try{const J=await an.post(route(`dailyWorks.${o}`),{ruleSet:"details",...c});J.status===200&&(i(o==="add"?ue=>[J.data.dailyWork,...ue]:ue=>ue.map(me=>me.id===c.id?J.data.dailyWork:me)),t(),M([J.data.message||`Daily work ${o==="add"?"created":"updated"} successfully`]))}catch(J){if(console.error("Form submission error:",J),((G=J.response)==null?void 0:G.status)===422){const ue=J.response.data.errors||{};g(ue),Object.keys(ue).forEach(me=>{_(Oe=>({...Oe,[me]:"error"}))}),E([J.response.data.message||"Please check the form for errors"])}else E([((de=(V=J.response)==null?void 0:V.data)==null?void 0:de.message)||"An unexpected error occurred. Please try again."])}finally{v(!1)}});Ot.promise(L,{pending:{render(){return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Yl,{size:"sm"}),l.jsx("span",{children:o==="add"?"Creating daily work...":"Updating daily work..."})]})},icon:!1},success:{render({data:M}){return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(os,{size:16,className:"text-green-500"}),l.jsx("span",{children:M.join(", ")})]})},icon:!1},error:{render({data:M}){return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Mc,{size:16,className:"text-red-500"}),l.jsx("span",{children:M.join(", ")})]})},icon:!1}})}const Q=()=>l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:Array.from({length:8}).map((N,L)=>l.jsx("div",{className:L===7?"col-span-full":"col-span-1",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Kn,{className:"h-4 w-20 rounded"}),l.jsx(Kn,{className:`h-10 w-full rounded-lg ${L===7?"h-20":""}`})]})},L))}),ae=N=>{const L=O[N];return c[N]?L==="success"?l.jsx(os,{size:16,className:"text-green-500"}):L==="error"?l.jsx(xi,{className:"w-4 h-4 text-red-500"}):null:null};return l.jsx(Bi,{isOpen:n,onClose:t,size:"3xl",radius:gt(),scrollBehavior:"inside",classNames:{base:"backdrop-blur-md mx-2 my-2 sm:mx-4 sm:my-8 max-h-[95vh]",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",body:"overflow-y-auto",footer:"border-t border-divider",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:l.jsx(zi,{children:N=>{var L;return l.jsxs(l.Fragment,{children:[l.jsx(Ui,{className:"flex flex-col gap-1",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:l.jsx(go,{size:20,className:"text-primary"})}),l.jsxs("div",{children:[l.jsx("span",{className:"text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:e?"Edit Daily Work":"Add Daily Work"}),l.jsx("p",{className:"text-sm text-default-500",children:e?"Update work details and status":"Create a new daily work entry"})]})]}),A&&!w&&l.jsx(gn,{size:"sm",variant:"flat",color:"warning",startContent:l.jsx(Mc,{size:12}),children:"Unsaved Changes"})]})}),l.jsxs("form",{onSubmit:q,children:[l.jsx(Wi,{className:"py-4 px-4 sm:py-6 sm:px-6",style:{fontFamily:'var(--fontFamily, "Inter")'},children:D?l.jsx(Q,{}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"col-span-full mb-4",children:[l.jsx("label",{className:"text-sm font-medium text-default-700 mb-2 block",children:"Work Type Selection"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.entries(I).map(([M,E])=>l.jsx(ur,{isPressable:!0,isHoverable:!0,className:`p-3 cursor-pointer transition-all duration-200 ${c.type===M?"border-2 border-primary bg-primary/5":"border border-divider hover:border-primary/50"}`,onPress:()=>re("type",M),radius:gt(),children:l.jsx(yr,{className:"p-0",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-2xl",children:E.icon}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold text-sm",children:E.label}),l.jsx("div",{className:"text-xs text-default-500",children:E.description})]}),c.type===M&&l.jsx(os,{size:16,className:"text-primary"})]})})},M))})]}),l.jsx(xs,{className:"my-4"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[l.jsx("div",{className:"col-span-1",children:l.jsx(Xn,{label:"RFI Date",type:"date",value:c.date,onValueChange:M=>re("date",M),isInvalid:!!f.date,errorMessage:f.date,variant:"bordered",size:"sm",radius:gt(),startContent:l.jsx(gp,{size:16,className:"text-default-400"}),endContent:ae("date"),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),l.jsx("div",{className:"col-span-1",children:l.jsx(Xn,{label:"RFI Number",value:c.number,onValueChange:M=>re("number",M),isInvalid:!!f.number,errorMessage:f.number,variant:"bordered",size:"sm",radius:gt(),startContent:l.jsx(Dp,{size:16,className:"text-default-400"}),endContent:l.jsxs("div",{className:"flex items-center gap-1",children:[ae("number"),l.jsx(Ei,{content:"Generate new RFI number",children:l.jsx(Bt,{isIconOnly:!0,size:"sm",variant:"light",onPress:ie,className:"min-w-unit-6 w-unit-6 h-unit-6",children:l.jsx(Rc,{size:12})})})]}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),l.jsx("div",{className:"col-span-1",children:l.jsx(Xn,{label:"Location",placeholder:"e.g., Station 10+500 to 11+000",value:c.location,onValueChange:M=>re("location",M),isInvalid:!!f.location,errorMessage:f.location,variant:"bordered",size:"sm",radius:gt(),startContent:l.jsx(Ec,{size:16,className:"text-default-400"}),endContent:ae("location"),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),l.jsx("div",{className:"col-span-1",children:l.jsx(Pr,{label:"Road Type",placeholder:"Select Road Type",selectionMode:"single",selectedKeys:c.side?new Set([c.side]):new Set,onSelectionChange:M=>{const E=Array.from(M)[0];re("side",E||"")},isInvalid:!!f.side,errorMessage:f.side,variant:"bordered",size:"sm",radius:gt(),startContent:l.jsx(Ec,{size:16,className:"text-default-400"}),classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:Object.entries(Y).map(([M,E])=>l.jsx(Hn,{value:M,textValue:E.label,children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium",children:E.label}),l.jsx("span",{className:"text-xs text-default-400",children:E.description})]})},M))})}),l.jsx("div",{className:"col-span-1",children:l.jsx(Xn,{label:"Planned Time",type:"text",placeholder:"e.g., Morning shift, 2-3 hours, Full day",value:c.planned_time,onValueChange:M=>re("planned_time",M),isInvalid:!!f.planned_time,errorMessage:f.planned_time,variant:"bordered",size:"sm",radius:gt(),startContent:l.jsx(ku,{size:16,className:"text-default-400"}),endContent:ae("planned_time"),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),l.jsx("div",{className:"col-span-1",children:l.jsx(Xn,{label:"Quantity/Layer No.",placeholder:"e.g., 3 layers or 150 m",value:c.qty_layer,onValueChange:M=>re("qty_layer",M),isInvalid:!!f.qty_layer,errorMessage:f.qty_layer,variant:"bordered",size:"sm",radius:gt(),startContent:l.jsx(go,{size:16,className:"text-default-400"}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),l.jsx("div",{className:"col-span-full",children:l.jsx(bu,{label:"Work Description",placeholder:"Provide detailed description of the work to be performed, including specific requirements, materials, and safety considerations...",value:c.description,onValueChange:M=>re("description",M),isInvalid:!!f.description,errorMessage:f.description,variant:"bordered",size:"sm",radius:gt(),minRows:3,maxRows:6,endContent:l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[ae("description"),l.jsxs("span",{className:"text-xs text-default-400",children:[((L=c.description)==null?void 0:L.length)||0,"/500"]})]}),classNames:{input:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),c.type&&I[c.type]&&l.jsx("div",{className:"col-span-full",children:l.jsx(ur,{className:"bg-primary/5 border border-primary/20",radius:gt(),children:l.jsx(yr,{className:"p-3",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Rc,{size:16,className:"text-primary mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h4",{className:"text-sm font-semibold text-primary mb-2",children:["Smart Suggestions for ",I[c.type].label]}),l.jsxs("div",{className:"mb-2",children:[l.jsx("p",{className:"text-xs text-default-600 mb-1",children:"Recommended times:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:I[c.type].suggestedTimes.map((M,E)=>l.jsx(gn,{size:"sm",variant:"flat",color:"primary",className:"cursor-pointer hover:bg-primary/20 transition-colors",onClick:()=>re("planned_time",M),children:M},E))})]}),l.jsxs("p",{className:"text-xs text-default-600",children:["Typical layers: ",I[c.type].defaultLayers]})]})]})})})})]})]})}),l.jsxs(ka,{className:"flex flex-col sm:flex-row justify-between items-center gap-3 px-4 sm:px-6 py-3 sm:py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[l.jsx("div",{className:"flex items-center gap-2 text-sm",children:Object.keys(f).length>0?l.jsxs("div",{className:"flex items-center gap-2 text-danger",children:[l.jsx(xi,{className:"w-4 h-4"}),l.jsxs("span",{children:[Object.keys(f).length," field",Object.keys(f).length>1?"s":""," need attention"]})]}):A?l.jsxs("div",{className:"flex items-center gap-2 text-success",children:[l.jsx(os,{size:16}),l.jsx("span",{children:"Ready to submit"})]}):l.jsx("span",{className:"text-default-500",children:"Fill in the required fields"})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Bt,{color:"default",variant:"bordered",onPress:N,radius:gt(),size:"sm",isDisabled:w,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),l.jsx(Bt,{type:"submit",color:"primary",variant:"solid",isLoading:w,isDisabled:w||!A||Object.keys(f).length>0,radius:gt(),size:"sm",startContent:!w&&(o==="add"?l.jsx(go,{size:16}):l.jsx(os,{size:16})),style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:w?o==="add"?"Creating...":"Updating...":o==="add"?"Create Work":"Update Work"})]})]})]})]})}})})},Uf=({open:n,handleClose:t,handleDelete:e,isLoading:i=!1})=>{const o=()=>{var f;if(typeof window>"u")return"lg";const c=((f=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:f.trim())||"12px",d=parseInt(c);return d===0?"none":d<=4?"sm":d<=8?"md":d<=16?"lg":"full"};return l.jsx(Bi,{isOpen:n,onClose:t,size:"md",radius:o(),classNames:{base:"backdrop-blur-md mx-2 my-2 sm:mx-4 sm:my-8",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",body:"py-4",footer:"border-t border-divider",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:l.jsx(zi,{children:a=>l.jsxs(l.Fragment,{children:[l.jsx(Ui,{className:"flex flex-col gap-1",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-2 rounded-lg bg-danger/10",children:l.jsx(xi,{className:"w-5 h-5 text-danger"})}),l.jsxs("div",{children:[l.jsx("span",{className:"text-lg font-semibold text-danger",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Confirm Deletion"}),l.jsx("p",{className:"text-sm text-default-500",children:"This action cannot be undone"})]})]})}),l.jsx(Wi,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-3 rounded-full bg-danger/10 flex-shrink-0",children:l.jsx(ms,{className:"w-6 h-6 text-danger"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-default-700 leading-relaxed",children:"Are you sure you want to delete this daily work entry? This action will permanently remove the work record and cannot be undone."}),l.jsx("div",{className:"mt-3 p-3 rounded-lg bg-warning/10 border border-warning/20",children:l.jsx("p",{className:"text-sm text-warning-700 font-medium",children:" Warning: All associated data will be permanently lost."})})]})]})}),l.jsxs(ka,{className:"flex justify-end gap-2",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[l.jsx(Bt,{color:"default",variant:"bordered",onPress:t,radius:o(),size:"sm",isDisabled:i,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),l.jsx(Bt,{color:"danger",variant:"solid",onPress:e,radius:o(),size:"sm",isLoading:i,isDisabled:i,startContent:!i&&l.jsx(ms,{className:"w-4 h-4"}),style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:i?"Deleting...":"Delete Work"})]})]})})})},Wf=({open:n,closeModal:t,filterData:e={},users:i=[],inCharges:o=[]})=>{var re;const a=()=>{var Q;if(typeof window>"u")return"lg";const U=((Q=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:Q.trim())||"12px",q=parseInt(U);return q===0?"none":q<=4?"sm":q<=8?"md":q<=16?"lg":"full"},[c,d]=ne.useState({format:"excel",dateRange:{start:e.startDate?Fc(e.startDate):null,end:e.endDate?Fc(e.endDate):null},columns:["date","number","type","status","description","location","incharge","assigned","completion_time","rfi_submission_date"],filters:{status:e.status||"all",incharge:e.incharge||"all",type:e.type||"all"}}),[f,g]=ne.useState(!1),[w,v]=ne.useState(null),A=[{key:"excel",label:"Excel (.xlsx)",description:"Comprehensive spreadsheet format",icon:l.jsx(cp,{size:20,className:"text-green-600"})},{key:"csv",label:"CSV (.csv)",description:"Simple comma-separated values",icon:l.jsx(Pu,{className:"w-5 h-5 text-blue-600"})},{key:"json",label:"JSON Data",description:"Structured data format",icon:l.jsx(Ip,{size:20,className:"text-purple-600"})}],h=[{key:"date",label:"Date",description:"RFI submission date"},{key:"number",label:"RFI Number",description:"Unique RFI identifier"},{key:"type",label:"Type",description:"Work type (Embankment, Structure, Pavement)"},{key:"status",label:"Status",description:"Current work status"},{key:"description",label:"Description",description:"Work description"},{key:"location",label:"Location",description:"Work location/chainage"},{key:"side",label:"Side",description:"Road side (SR-R, SR-L)"},{key:"qty_layer",label:"Quantity/Layer",description:"Quantity or layer information"},{key:"planned_time",label:"Planned Time",description:"Planned completion time"},{key:"incharge",label:"In Charge",description:"Supervision engineer"},{key:"assigned",label:"Assigned To",description:"Assigned team member"},{key:"completion_time",label:"Completion Time",description:"Actual completion time"},{key:"inspection_details",label:"Inspection Details",description:"Quality inspection results"},{key:"resubmission_count",label:"Resubmission Count",description:"Number of resubmissions"},{key:"rfi_submission_date",label:"RFI Submission Date",description:"Date RFI was submitted"}],D=[{key:"all",label:"All Statuses"},{key:"new",label:"New"},{key:"in_progress",label:"In Progress"},{key:"review",label:"Under Review"},{key:"completed",label:"Completed"},{key:"rejected",label:"Rejected"}],C=[{key:"all",label:"All Types"},{key:"Embankment",label:"Embankment"},{key:"Structure",label:"Structure"},{key:"Pavement",label:"Pavement"}],O=async()=>{g(!0);const ie=new Promise(async(U,q)=>{var Q,ae;try{const N={columns:c.columns,...c.filters,...c.dateRange.start&&{startDate:c.dateRange.start.toString()},...c.dateRange.end&&{endDate:c.dateRange.end.toString()}},L=await an.post(route("dailyWorks.export"),N);if(L.data.data){const{data:M,filename:E}=L.data;switch(c.format){case"excel":_(M,E);break;case"csv":I(M,E);break;case"json":Y(M,E);break}t(),U(`Successfully exported ${M.length} records`)}}catch(N){q("Export failed: "+(((ae=(Q=N.response)==null?void 0:Q.data)==null?void 0:ae.error)||N.message))}finally{g(!1)}});Ot.promise(ie,{loading:"Exporting daily works...",success:U=>U,error:U=>U})},_=(ie,U)=>{const q=ss.json_to_sheet(ie),Q=ss.book_new();ss.book_append_sheet(Q,q,"Daily Works");const ae=Object.keys(ie[0]||{}).map(()=>({wch:20}));q["!cols"]=ae,up(Q,`${U}.xlsx`)},I=(ie,U)=>{const q=ss.json_to_sheet(ie),Q=ss.sheet_to_csv(q),ae=new Blob([Q],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),L=URL.createObjectURL(ae);N.setAttribute("href",L),N.setAttribute("download",`${U}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N)},Y=(ie,U)=>{const q=JSON.stringify(ie,null,2),Q=new Blob([q],{type:"application/json"}),ae=document.createElement("a"),N=URL.createObjectURL(Q);ae.setAttribute("href",N),ae.setAttribute("download",`${U}.json`),ae.style.visibility="hidden",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae)},ce=()=>"Calculating...";return l.jsx(Bi,{isOpen:n,onClose:t,size:"4xl",radius:a(),scrollBehavior:"inside",classNames:{base:"backdrop-blur-md mx-2 my-2 sm:mx-4 sm:my-8 max-h-[95vh]",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",body:"overflow-y-auto",footer:"border-t border-divider",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:l.jsxs(zi,{children:[l.jsx(Ui,{className:"flex flex-col gap-1",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",color:"var(--theme-primary)"},children:l.jsx(Fu,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Export Daily Works"}),l.jsx("p",{className:"text-sm text-default-500",children:"Export daily work records with customizable options"})]})]})}),l.jsx(Wi,{className:"py-4 px-4 sm:py-6 sm:px-6",style:{fontFamily:'var(--fontFamily, "Inter")'},children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(ur,{className:"bg-default-50",radius:a(),style:{borderRadius:"var(--borderRadius, 12px)"},children:l.jsxs(yr,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[l.jsx("h4",{className:"font-semibold mb-3",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Export Format"}),l.jsx(Kd,{value:c.format,onValueChange:ie=>d(U=>({...U,format:ie})),orientation:"horizontal",style:{fontFamily:'var(--fontFamily, "Inter")'},children:A.map(ie=>l.jsx(Xd,{value:ie.key,children:l.jsxs("div",{className:"flex items-center gap-2",children:[ie.icon,l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:ie.label}),l.jsx("div",{className:"text-xs text-default-500",children:ie.description})]})]})},ie.key))})]})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-3",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Date Range"}),l.jsx(Zd,{label:"Select date range",value:c.dateRange,onChange:ie=>d(U=>({...U,dateRange:ie})),size:"sm",variant:"bordered",radius:a(),style:{fontFamily:'var(--fontFamily, "Inter")'}})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-3",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Filters"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx(Pr,{label:"Status",selectedKeys:[c.filters.status],onSelectionChange:ie=>d(U=>({...U,filters:{...U.filters,status:Array.from(ie)[0]}})),size:"sm",variant:"bordered",radius:a(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:D.map(ie=>l.jsx(Hn,{value:ie.key,children:ie.label},ie.key))}),l.jsx(Pr,{label:"Type",selectedKeys:[c.filters.type],onSelectionChange:ie=>d(U=>({...U,filters:{...U.filters,type:Array.from(ie)[0]}})),size:"sm",variant:"bordered",radius:a(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:C.map(ie=>l.jsx(Hn,{value:ie.key,children:ie.label},ie.key))}),l.jsxs(Pr,{label:"In Charge",selectedKeys:[c.filters.incharge],onSelectionChange:ie=>d(U=>({...U,filters:{...U.filters,incharge:Array.from(ie)[0]}})),size:"sm",variant:"bordered",radius:a(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:[l.jsx(Hn,{value:"all",children:"All In Charges"},"all"),o.map(ie=>l.jsx(Hn,{value:ie.id,children:ie.name},ie.id))]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold mb-3",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Columns to Export"}),l.jsx(Qd,{value:c.columns,onValueChange:ie=>d(U=>({...U,columns:ie})),style:{fontFamily:'var(--fontFamily, "Inter")'},children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:h.map(ie=>l.jsx(ep,{value:ie.key,children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:ie.label}),l.jsx("div",{className:"text-xs text-default-500",children:ie.description})]})},ie.key))})})]}),l.jsx(ur,{className:"bg-primary-50 border-primary-200",radius:a(),style:{borderRadius:"var(--borderRadius, 12px)",background:"color-mix(in srgb, var(--theme-primary) 10%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)"},children:l.jsx(yr,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Pl,{className:"w-5 h-5 mt-0.5",style:{color:"var(--theme-primary)"}}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-medium mb-2",style:{color:"var(--theme-primary)",fontFamily:'var(--fontFamily, "Inter")'},children:"Export Summary"}),l.jsxs("div",{className:"text-sm space-y-1",style:{color:"color-mix(in srgb, var(--theme-primary) 80%, black)",fontFamily:'var(--fontFamily, "Inter")'},children:[l.jsxs("p",{children:[" Format: ",(re=A.find(ie=>ie.key===c.format))==null?void 0:re.label]}),l.jsxs("p",{children:[" Columns: ",c.columns.length," selected"]}),l.jsxs("p",{children:[" Estimated records: ",ce()]})]})]})]})})})]})}),l.jsxs(ka,{className:"flex flex-col sm:flex-row justify-center gap-2 px-4 sm:px-6 py-3 sm:py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[l.jsx(Bt,{color:"default",variant:"bordered",onPress:t,isDisabled:f,radius:a(),size:"sm",style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),l.jsx(Bt,{color:"primary",onPress:O,isLoading:f,startContent:!f&&l.jsx(lp,{size:16}),isDisabled:c.columns.length===0,radius:a(),size:"sm",style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:f?"Exporting...":"Export Data"})]})]})})},Hf=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function _a(n,t,e){const i=Vf(n),{webkitRelativePath:o}=n,a=typeof t=="string"?t:typeof o=="string"&&o.length>0?o:`./${n.name}`;return typeof i.path!="string"&&su(i,"path",a),su(i,"relativePath",a),i}function Vf(n){const{name:t}=n;if(t&&t.lastIndexOf(".")!==-1&&!n.type){const i=t.split(".").pop().toLowerCase(),o=Hf.get(i);o&&Object.defineProperty(n,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return n}function su(n,t,e){Object.defineProperty(n,t,{value:e,writable:!1,configurable:!1,enumerable:!0})}const $f=[".DS_Store","Thumbs.db"];function Gf(n){return Hi(this,void 0,void 0,function*(){return Ao(n)&&Yf(n.dataTransfer)?Zf(n.dataTransfer,n.type):Jf(n)?Kf(n):Array.isArray(n)&&n.every(t=>"getFile"in t&&typeof t.getFile=="function")?Xf(n):[]})}function Yf(n){return Ao(n)}function Jf(n){return Ao(n)&&Ao(n.target)}function Ao(n){return typeof n=="object"&&n!==null}function Kf(n){return Wl(n.target.files).map(t=>_a(t))}function Xf(n){return Hi(this,void 0,void 0,function*(){return(yield Promise.all(n.map(e=>e.getFile()))).map(e=>_a(e))})}function Zf(n,t){return Hi(this,void 0,void 0,function*(){if(n.items){const e=Wl(n.items).filter(o=>o.kind==="file");if(t!=="drop")return e;const i=yield Promise.all(e.map(Qf));return ou(Zu(i))}return ou(Wl(n.files).map(e=>_a(e)))})}function ou(n){return n.filter(t=>$f.indexOf(t.name)===-1)}function Wl(n){if(n===null)return[];const t=[];for(let e=0;e<n.length;e++){const i=n[e];t.push(i)}return t}function Qf(n){if(typeof n.webkitGetAsEntry!="function")return lu(n);const t=n.webkitGetAsEntry();return t&&t.isDirectory?Qu(t):lu(n,t)}function Zu(n){return n.reduce((t,e)=>[...t,...Array.isArray(e)?Zu(e):[e]],[])}function lu(n,t){return Hi(this,void 0,void 0,function*(){var e;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const a=yield n.getAsFileSystemHandle();if(a===null)throw new Error(`${n} is not a File`);if(a!==void 0){const c=yield a.getFile();return c.handle=a,_a(c)}}const i=n.getAsFile();if(!i)throw new Error(`${n} is not a File`);return _a(i,(e=t==null?void 0:t.fullPath)!==null&&e!==void 0?e:void 0)})}function eh(n){return Hi(this,void 0,void 0,function*(){return n.isDirectory?Qu(n):th(n)})}function Qu(n){const t=n.createReader();return new Promise((e,i)=>{const o=[];function a(){t.readEntries(c=>Hi(this,void 0,void 0,function*(){if(c.length){const d=Promise.all(c.map(eh));o.push(d),a()}else try{const d=yield Promise.all(o);e(d)}catch(d){i(d)}}),c=>{i(c)})}a()})}function th(n){return Hi(this,void 0,void 0,function*(){return new Promise((t,e)=>{n.file(i=>{const o=_a(i,n.fullPath);t(o)},i=>{e(i)})})})}var ho={},cu;function nh(){return cu||(cu=1,ho.__esModule=!0,ho.default=function(n,t){if(n&&t){var e=Array.isArray(t)?t:t.split(",");if(e.length===0)return!0;var i=n.name||"",o=(n.type||"").toLowerCase(),a=o.replace(/\/.*$/,"");return e.some(function(c){var d=c.trim().toLowerCase();return d.charAt(0)==="."?i.toLowerCase().endsWith(d):d.endsWith("/*")?a===d.replace(/\/.*$/,""):o===d})}return!0}),ho}var rh=nh();const Sl=vp(rh);function uu(n){return sh(n)||ah(n)||td(n)||ih()}function ih(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ah(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function sh(n){if(Array.isArray(n))return Hl(n)}function du(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),e.push.apply(e,i)}return e}function pu(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?du(Object(e),!0).forEach(function(i){ed(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):du(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function ed(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function vs(n,t){return ch(n)||lh(n,t)||td(n,t)||oh()}function oh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function td(n,t){if(n){if(typeof n=="string")return Hl(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Hl(n,t)}}function Hl(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function lh(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i=[],o=!0,a=!1,c,d;try{for(e=e.call(n);!(o=(c=e.next()).done)&&(i.push(c.value),!(t&&i.length===t));o=!0);}catch(f){a=!0,d=f}finally{try{!o&&e.return!=null&&e.return()}finally{if(a)throw d}}return i}}function ch(n){if(Array.isArray(n))return n}var uh=typeof Sl=="function"?Sl:Sl.default,dh="file-invalid-type",ph="file-too-large",fh="file-too-small",hh="too-many-files",mh=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=t.split(","),i=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:dh,message:"File type must be ".concat(i)}},fu=function(t){return{code:ph,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},hu=function(t){return{code:fh,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},gh={code:hh,message:"Too many files"};function nd(n,t){var e=n.type==="application/x-moz-file"||uh(n,t);return[e,e?null:mh(t)]}function rd(n,t,e){if(Mi(n.size))if(Mi(t)&&Mi(e)){if(n.size>e)return[!1,fu(e)];if(n.size<t)return[!1,hu(t)]}else{if(Mi(t)&&n.size<t)return[!1,hu(t)];if(Mi(e)&&n.size>e)return[!1,fu(e)]}return[!0,null]}function Mi(n){return n!=null}function vh(n){var t=n.files,e=n.accept,i=n.minSize,o=n.maxSize,a=n.multiple,c=n.maxFiles,d=n.validator;return!a&&t.length>1||a&&c>=1&&t.length>c?!1:t.every(function(f){var g=nd(f,e),w=vs(g,1),v=w[0],A=rd(f,i,o),h=vs(A,1),D=h[0],C=d?d(f):null;return v&&D&&!C})}function So(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function mo(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!n.target&&!!n.target.files}function mu(n){n.preventDefault()}function xh(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function bh(n){return n.indexOf("Edge/")!==-1}function yh(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return xh(n)||bh(n)}function Mr(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return t.some(function(d){return!So(i)&&d&&d.apply(void 0,[i].concat(a)),So(i)})}}function wh(){return"showOpenFilePicker"in window}function Nh(n){if(Mi(n)){var t=Object.entries(n).filter(function(e){var i=vs(e,2),o=i[0],a=i[1],c=!0;return id(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(a)||!a.every(ad))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(e,i){var o=vs(i,2),a=o[0],c=o[1];return pu(pu({},e),{},ed({},a,c))},{});return[{description:"Files",accept:t}]}return n}function jh(n){if(Mi(n))return Object.entries(n).reduce(function(t,e){var i=vs(e,2),o=i[0],a=i[1];return[].concat(uu(t),[o],uu(a))},[]).filter(function(t){return id(t)||ad(t)}).join(",")}function Ah(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function Sh(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function id(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function ad(n){return/^.*\.[\w]+$/.test(n)}var Lh=["children"],_h=["open"],kh=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Fh=["refKey","onChange","onClick"];function Ph(n){return Eh(n)||Ih(n)||sd(n)||Ch()}function Ch(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ih(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Eh(n){if(Array.isArray(n))return Vl(n)}function Ll(n,t){return Rh(n)||Oh(n,t)||sd(n,t)||Dh()}function Dh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sd(n,t){if(n){if(typeof n=="string")return Vl(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Vl(n,t)}}function Vl(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}function Oh(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var i=[],o=!0,a=!1,c,d;try{for(e=e.call(n);!(o=(c=e.next()).done)&&(i.push(c.value),!(t&&i.length===t));o=!0);}catch(f){a=!0,d=f}finally{try{!o&&e.return!=null&&e.return()}finally{if(a)throw d}}return i}}function Rh(n){if(Array.isArray(n))return n}function gu(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),e.push.apply(e,i)}return e}function on(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?gu(Object(e),!0).forEach(function(i){$l(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):gu(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function $l(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Lo(n,t){if(n==null)return{};var e=Mh(n,t),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)i=a[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function Mh(n,t){if(n==null)return{};var e={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(t.indexOf(o)>=0)&&(e[o]=n[o]);return e}var Ql=ne.forwardRef(function(n,t){var e=n.children,i=Lo(n,Lh),o=ld(i),a=o.open,c=Lo(o,_h);return ne.useImperativeHandle(t,function(){return{open:a}},[a]),Jl.createElement(ne.Fragment,null,e(on(on({},c),{},{open:a})))});Ql.displayName="Dropzone";var od={disabled:!1,getFilesFromEvent:Gf,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Ql.defaultProps=od;Ql.propTypes={children:Xt.func,accept:Xt.objectOf(Xt.arrayOf(Xt.string)),multiple:Xt.bool,preventDropOnDocument:Xt.bool,noClick:Xt.bool,noKeyboard:Xt.bool,noDrag:Xt.bool,noDragEventsBubbling:Xt.bool,minSize:Xt.number,maxSize:Xt.number,maxFiles:Xt.number,disabled:Xt.bool,getFilesFromEvent:Xt.func,onFileDialogCancel:Xt.func,onFileDialogOpen:Xt.func,useFsAccessApi:Xt.bool,autoFocus:Xt.bool,onDragEnter:Xt.func,onDragLeave:Xt.func,onDragOver:Xt.func,onDrop:Xt.func,onDropAccepted:Xt.func,onDropRejected:Xt.func,onError:Xt.func,validator:Xt.func};var Gl={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ld(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=on(on({},od),n),e=t.accept,i=t.disabled,o=t.getFilesFromEvent,a=t.maxSize,c=t.minSize,d=t.multiple,f=t.maxFiles,g=t.onDragEnter,w=t.onDragLeave,v=t.onDragOver,A=t.onDrop,h=t.onDropAccepted,D=t.onDropRejected,C=t.onFileDialogCancel,O=t.onFileDialogOpen,_=t.useFsAccessApi,I=t.autoFocus,Y=t.preventDropOnDocument,ce=t.noClick,re=t.noKeyboard,ie=t.noDrag,U=t.noDragEventsBubbling,q=t.onError,Q=t.validator,ae=ne.useMemo(function(){return jh(e)},[e]),N=ne.useMemo(function(){return Nh(e)},[e]),L=ne.useMemo(function(){return typeof O=="function"?O:vu},[O]),M=ne.useMemo(function(){return typeof C=="function"?C:vu},[C]),E=ne.useRef(null),G=ne.useRef(null),V=ne.useReducer(Th,Gl),de=Ll(V,2),J=de[0],ue=de[1],me=J.isFocused,Oe=J.isFileDialogActive,b=ne.useRef(typeof window<"u"&&window.isSecureContext&&_&&wh()),P=function(){!b.current&&Oe&&setTimeout(function(){if(G.current){var De=G.current.files;De.length||(ue({type:"closeDialog"}),M())}},300)};ne.useEffect(function(){return window.addEventListener("focus",P,!1),function(){window.removeEventListener("focus",P,!1)}},[G,Oe,M,b]);var T=ne.useRef([]),H=function(De){E.current&&E.current.contains(De.target)||(De.preventDefault(),T.current=[])};ne.useEffect(function(){return Y&&(document.addEventListener("dragover",mu,!1),document.addEventListener("drop",H,!1)),function(){Y&&(document.removeEventListener("dragover",mu),document.removeEventListener("drop",H))}},[E,Y]),ne.useEffect(function(){return!i&&I&&E.current&&E.current.focus(),function(){}},[E,I,i]);var K=ne.useCallback(function(we){q?q(we):console.error(we)},[q]),se=ne.useCallback(function(we){we.preventDefault(),we.persist(),Re(we),T.current=[].concat(Ph(T.current),[we.target]),mo(we)&&Promise.resolve(o(we)).then(function(De){if(!(So(we)&&!U)){var Xe=De.length,st=Xe>0&&vh({files:De,accept:ae,minSize:c,maxSize:a,multiple:d,maxFiles:f,validator:Q}),ot=Xe>0&&!st;ue({isDragAccept:st,isDragReject:ot,isDragActive:!0,type:"setDraggedFiles"}),g&&g(we)}}).catch(function(De){return K(De)})},[o,g,K,U,ae,c,a,d,f,Q]),he=ne.useCallback(function(we){we.preventDefault(),we.persist(),Re(we);var De=mo(we);if(De&&we.dataTransfer)try{we.dataTransfer.dropEffect="copy"}catch{}return De&&v&&v(we),!1},[v,U]),le=ne.useCallback(function(we){we.preventDefault(),we.persist(),Re(we);var De=T.current.filter(function(st){return E.current&&E.current.contains(st)}),Xe=De.indexOf(we.target);Xe!==-1&&De.splice(Xe,1),T.current=De,!(De.length>0)&&(ue({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),mo(we)&&w&&w(we))},[E,w,U]),Le=ne.useCallback(function(we,De){var Xe=[],st=[];we.forEach(function(ot){var it=nd(ot,ae),mt=Ll(it,2),ze=mt[0],Ht=mt[1],St=rd(ot,c,a),nn=Ll(St,2),Lt=nn[0],Mt=nn[1],An=Q?Q(ot):null;if(ze&&Lt&&!An)Xe.push(ot);else{var Ft=[Ht,Mt];An&&(Ft=Ft.concat(An)),st.push({file:ot,errors:Ft.filter(function(Vt){return Vt})})}}),(!d&&Xe.length>1||d&&f>=1&&Xe.length>f)&&(Xe.forEach(function(ot){st.push({file:ot,errors:[gh]})}),Xe.splice(0)),ue({acceptedFiles:Xe,fileRejections:st,isDragReject:st.length>0,type:"setFiles"}),A&&A(Xe,st,De),st.length>0&&D&&D(st,De),Xe.length>0&&h&&h(Xe,De)},[ue,d,ae,c,a,f,A,h,D,Q]),Pe=ne.useCallback(function(we){we.preventDefault(),we.persist(),Re(we),T.current=[],mo(we)&&Promise.resolve(o(we)).then(function(De){So(we)&&!U||Le(De,we)}).catch(function(De){return K(De)}),ue({type:"reset"})},[o,Le,K,U]),qe=ne.useCallback(function(){if(b.current){ue({type:"openDialog"}),L();var we={multiple:d,types:N};window.showOpenFilePicker(we).then(function(De){return o(De)}).then(function(De){Le(De,null),ue({type:"closeDialog"})}).catch(function(De){Ah(De)?(M(De),ue({type:"closeDialog"})):Sh(De)?(b.current=!1,G.current?(G.current.value=null,G.current.click()):K(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):K(De)});return}G.current&&(ue({type:"openDialog"}),L(),G.current.value=null,G.current.click())},[ue,L,M,_,Le,K,N,d]),Be=ne.useCallback(function(we){!E.current||!E.current.isEqualNode(we.target)||(we.key===" "||we.key==="Enter"||we.keyCode===32||we.keyCode===13)&&(we.preventDefault(),qe())},[E,qe]),nt=ne.useCallback(function(){ue({type:"focus"})},[]),ge=ne.useCallback(function(){ue({type:"blur"})},[]),z=ne.useCallback(function(){ce||(yh()?setTimeout(qe,0):qe())},[ce,qe]),rt=function(De){return i?null:De},Ye=function(De){return re?null:rt(De)},Fe=function(De){return ie?null:rt(De)},Re=function(De){U&&De.stopPropagation()},Ue=ne.useMemo(function(){return function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},De=we.refKey,Xe=De===void 0?"ref":De,st=we.role,ot=we.onKeyDown,it=we.onFocus,mt=we.onBlur,ze=we.onClick,Ht=we.onDragEnter,St=we.onDragOver,nn=we.onDragLeave,Lt=we.onDrop,Mt=Lo(we,kh);return on(on($l({onKeyDown:Ye(Mr(ot,Be)),onFocus:Ye(Mr(it,nt)),onBlur:Ye(Mr(mt,ge)),onClick:rt(Mr(ze,z)),onDragEnter:Fe(Mr(Ht,se)),onDragOver:Fe(Mr(St,he)),onDragLeave:Fe(Mr(nn,le)),onDrop:Fe(Mr(Lt,Pe)),role:typeof st=="string"&&st!==""?st:"presentation"},Xe,E),!i&&!re?{tabIndex:0}:{}),Mt)}},[E,Be,nt,ge,z,se,he,le,Pe,re,ie,i]),Te=ne.useCallback(function(we){we.stopPropagation()},[]),tt=ne.useMemo(function(){return function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},De=we.refKey,Xe=De===void 0?"ref":De,st=we.onChange,ot=we.onClick,it=Lo(we,Fh),mt=$l({accept:ae,multiple:d,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:rt(Mr(st,Pe)),onClick:rt(Mr(ot,Te)),tabIndex:-1},Xe,G);return on(on({},mt),it)}},[G,e,d,Pe,i]);return on(on({},J),{},{isFocused:me&&!i,getRootProps:Ue,getInputProps:tt,rootRef:E,inputRef:G,open:rt(qe)})}function Th(n,t){switch(t.type){case"focus":return on(on({},n),{},{isFocused:!0});case"blur":return on(on({},n),{},{isFocused:!1});case"openDialog":return on(on({},Gl),{},{isFileDialogActive:!0});case"closeDialog":return on(on({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return on(on({},n),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return on(on({},n),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return on({},Gl);default:return n}}function vu(){}const qh=({open:n,closeModal:t,setTotalRows:e,setData:i,refreshData:o,onSuccess:a})=>{const c=[{column:"A",field:"Date",example:"4/27/2025",required:!0,processed:!0},{column:"B",field:"RFI Number",example:"S2025-0425-9663, E2025-0426-14687, P2025-0427-3180",required:!0,processed:!0},{column:"C",field:"Work Type",example:"Structure, Embankment, Pavement",required:!0,processed:!0},{column:"D",field:"Description",example:"Isolation Barrier (Type-2, Steel Post) Installation Work",required:!0,processed:!0},{column:"E",field:"Location/Chainage",example:"K05+560-K05+660",required:!0,processed:!0},{column:"F",field:"Quantity/Layer",example:"150 MT, 2 Layers, 500 SQM",required:!1,processed:!1},{column:"G",field:"Side (Optional)",example:"TR-R, TR-L, SR-L, SR-R",required:!1,processed:!1},{column:"H",field:"Time (Optional)",example:"3:00 PM, 4:00 PM, 9:00 AM",required:!1,processed:!1}],[d,f]=ne.useState(null),[g,w]=ne.useState(!1),[v,A]=ne.useState(0),[h,D]=ne.useState(!1),[C,O]=ne.useState([]),[_,I]=ne.useState({}),[Y,ce]=ne.useState(null),re=G=>{const V=[];return["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"].includes(G.type)||V.push("Please upload an Excel file (.xlsx, .xls) or CSV file (.csv)"),G.size>10485760&&V.push("File size must be less than 10MB"),V},ie=ne.useCallback(G=>{if(G.length>0){const V=G[0],de=re(V);if(de.length>0){O(de),Ot.error("File validation failed");return}f(V),O([]),I({}),ce(null)}},[]),U=()=>{f(null),O([]),I({}),ce(null),A(0)},{getRootProps:q,getInputProps:Q,isDragActive:ae}=ld({onDrop:ie,accept:{"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/vnd.ms-excel":[".xls"],"text/csv":[".csv"]},multiple:!1,onDragEnter:()=>D(!0),onDragLeave:()=>D(!1)}),N=G=>G?G.type.includes("sheet")||G.type.includes("excel")?l.jsx(Pu,{className:"w-8 h-8 text-green-500"}):G.type.includes("csv")?l.jsx(Oi,{className:"w-8 h-8 text-blue-500"}):l.jsx(Ti,{className:"w-8 h-8"}):l.jsx(wa,{className:"w-8 h-8"}),L=G=>{if(G===0)return"0 Bytes";const V=1024,de=["Bytes","KB","MB","GB"],J=Math.floor(Math.log(G)/Math.log(V));return parseFloat((G/Math.pow(V,J)).toFixed(2))+" "+de[J]},M=async()=>{if(!d){Ot.error("Please select a file to upload");return}w(!0),A(0);const G=new FormData;G.append("file",d);const V=new Promise(async(de,J)=>{var ue,me,Oe;try{const b=((ue=document.head.querySelector('meta[name="csrf-token"]'))==null?void 0:ue.content)||((me=document.querySelector('input[name="_token"]'))==null?void 0:me.value)||((Oe=window.Laravel)==null?void 0:Oe.csrfToken),P=await an.post(route("dailyWorks.import"),G,{headers:{"Content-Type":"multipart/form-data",...b&&{"X-CSRF-TOKEN":b}},onUploadProgress:T=>{const H=Math.round(T.loaded*100/T.total);A(H)}});P.status===200&&(U(),I({}),t(),typeof a=="function"?a(P.data.results):(P.data.data&&i(P.data.data),P.data.total&&e(P.data.total),typeof o=="function"&&o()),de(P.data.message||"Daily works imported successfully."))}catch(b){if(console.error("Upload error:",b),b.response)if(console.error("Error response status:",b.response.status),console.error("Error response data:",b.response.data),console.error("Error response headers:",b.response.headers),b.response.status===422)I(b.response.data.errors||{}),J(b.response.data.error||"Failed to import daily works");else if(b.response.status===500){const P=b.response.data.error||b.response.data.message||"Internal server error occurred";I({general:[P]}),J(`Server Error: ${P}`)}else{const P=b.response.data.message||b.response.data.error||"An unexpected error occurred";I({general:[P]}),J(`HTTP Error ${b.response.status}: ${P}`)}else b.request?(console.error("No response received:",b.request),I({general:["No response received from the server. Please check your internet connection."]}),J("No response received from the server. Please check your internet connection.")):(console.error("Request setup error:",b.message),I({general:["An error occurred while setting up the request."]}),J("An error occurred while setting up the request."))}finally{w(!1)}});Ot.promise(V,{pending:"Uploading file...",success:{render({data:de}){return l.jsx(l.Fragment,{children:de})}},error:{render({data:de}){return l.jsx(l.Fragment,{children:de})}}})},E=()=>{g||(U(),I({}),t())};return l.jsx(Bi,{isOpen:n,onClose:E,size:"4xl",radius:gt(),placement:"center",scrollBehavior:"inside",classNames:{base:"backdrop-blur-md mx-2 my-2 sm:mx-4 sm:my-8 max-h-[95vh]",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",body:"overflow-y-auto",footer:"border-t border-divider",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:l.jsx(zi,{children:G=>l.jsxs(l.Fragment,{children:[l.jsx(Ui,{className:"flex flex-col gap-1",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",color:"var(--theme-primary)"},children:l.jsx(wa,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Import Daily Works"}),l.jsx("p",{className:"text-sm text-default-500",children:"Upload Excel or CSV file to import multiple daily work entries"})]})]})}),l.jsx(Wi,{className:"py-4 px-4 sm:py-6 sm:px-6",style:{fontFamily:'var(--fontFamily, "Inter")'},children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx(ur,{className:`border-2 border-dashed transition-all duration-200 ${ae?"border-primary bg-primary/5":d?"border-success bg-success/5":"border-default-300 hover:border-default-400"}`,radius:gt(),children:l.jsx(yr,{className:"p-8",children:l.jsxs("div",{...q(),className:"flex flex-col items-center justify-center text-center cursor-pointer",children:[l.jsx("input",{...Q()}),l.jsx("div",{className:`p-4 rounded-full mb-4 ${d?"bg-success/10":"bg-default-100"}`,children:N(d)}),d?l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-medium text-foreground",children:d.name}),l.jsx("p",{className:"text-sm text-default-500",children:L(d.size)}),l.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[l.jsx(gn,{size:"sm",color:"success",variant:"flat",startContent:l.jsx(Qr,{className:"w-3 h-3"}),children:"File Ready"}),l.jsx(Bt,{size:"sm",variant:"light",color:"danger",onPress:U,isIconOnly:!0,children:l.jsx(_u,{className:"w-4 h-4"})})]})]}):l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-medium text-foreground",children:ae?"Drop your file here":"Choose file to upload"}),l.jsx("p",{className:"text-sm text-default-500",children:"Drag and drop your Excel or CSV file here, or click to browse"}),l.jsx("p",{className:"text-xs text-default-400",children:"Supported formats: .xlsx, .xls, .csv (Max: 10MB)"})]})]})})}),g&&l.jsx(ur,{children:l.jsx(yr,{className:"p-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium",children:"Uploading..."}),l.jsxs("span",{className:"text-sm text-default-500",children:[v,"%"]})]}),l.jsx(xu,{value:v,color:"primary",size:"sm",className:"w-full"})]})})}),C.length>0&&l.jsx(ur,{className:"border border-danger/20 bg-danger/5",children:l.jsx(yr,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(xi,{className:"w-5 h-5 text-danger mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-danger mb-1",children:"File Validation Errors"}),l.jsx("ul",{className:"space-y-1",children:C.map((V,de)=>l.jsxs("li",{className:"text-sm text-danger/80",children:[" ",V]},de))})]})]})})}),Object.keys(_).length>0&&l.jsx(ur,{className:"border border-danger/20 bg-danger/5",children:l.jsx(yr,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(xi,{className:"w-5 h-5 text-danger mt-0.5"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-danger mb-1",children:"Upload Errors"}),l.jsx("div",{className:"space-y-2",children:Object.entries(_).map(([V,de])=>l.jsxs("div",{children:[V!=="general"&&l.jsxs("p",{className:"text-sm font-medium text-danger capitalize",children:[V.replace("_"," "),":"]}),l.jsx("ul",{className:"space-y-1",children:Array.isArray(de)?de.map((J,ue)=>l.jsxs("li",{className:"text-sm text-danger/80",children:[" ",J]},ue)):l.jsxs("li",{className:"text-sm text-danger/80",children:[" ",de]})})]},V))})]})]})})})]}),l.jsx(xs,{}),l.jsxs(tp,{variant:"bordered",children:[l.jsx(Pc,{"aria-label":"Expected File Format",startContent:l.jsx(Pl,{className:"w-5 h-5 text-primary"}),title:"Expected File Format",subtitle:"Click to view the required Excel/CSV structure",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 rounded-lg bg-default-50",children:[l.jsx("h4",{className:"font-medium mb-2 text-foreground",children:"Excel/CSV Column Structure:"}),l.jsx("div",{className:"text-sm text-default-600",children:"Your file should have exactly 8 columns in this order (with or without headers):"})]}),l.jsxs(yu,{"aria-label":"Expected format table",removeWrapper:!0,classNames:{th:"bg-default-100 text-default-700 text-xs font-semibold",td:"py-2 text-sm"},children:[l.jsxs(wu,{children:[l.jsx(ga,{children:"Column"}),l.jsx(ga,{children:"Field Name"}),l.jsx(ga,{children:"Example"}),l.jsx(ga,{children:"Required"}),l.jsx(ga,{children:"Processed"})]}),l.jsx(Nu,{children:c.map((V,de)=>l.jsxs(ju,{children:[l.jsx(mn,{children:l.jsx(gn,{size:"sm",variant:"flat",color:"primary",children:V.column})}),l.jsx(mn,{className:"font-medium",children:V.field}),l.jsx(mn,{className:"text-default-500",children:V.example}),l.jsx(mn,{children:V.required?l.jsx(gn,{size:"sm",color:"danger",variant:"flat",children:"Required"}):l.jsx(gn,{size:"sm",color:"default",variant:"flat",children:"Optional"})}),l.jsx(mn,{children:V.processed?l.jsx(gn,{size:"sm",color:"success",variant:"flat",children:"Yes"}):l.jsx(gn,{size:"sm",color:"warning",variant:"flat",children:"No"})})]},de))})]}),l.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-primary/10 border border-primary/20",children:[l.jsx(Pl,{className:"w-4 h-4 text-primary mt-0.5"}),l.jsxs("div",{className:"text-xs text-primary-700",children:[l.jsx("strong",{children:"Format Tips:"})," Only columns A-E are processed by the system (columns F-H are for reference only)  Work Type examples: Structure, Embankment, Pavement  Quantity/Layer examples: 150 MT (metric tons), 2 Layers, 500 SQM (square meters)  Side values: TR-R (Traffic Right), TR-L (Traffic Left), SR-R (Service Right), SR-L (Service Left)  Location/Chainage format: K05+560-K05+660 (kilometer markers with ranges)"]})]}),l.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-warning/10 border border-warning/20",children:[l.jsx(xi,{className:"w-4 h-4 text-warning mt-0.5"}),l.jsxs("div",{className:"text-xs text-warning-700",children:[l.jsx("strong",{children:"Important:"})," The first row can contain headers (they will be skipped). Date format should be M/D/YYYY (e.g., 4/27/2025). RFI Number can contain multiple comma-separated values."]})]})]})},"format"),l.jsx(Pc,{"aria-label":"Download Template",startContent:l.jsx(Cl,{className:"w-5 h-5 text-success"}),title:"Download Template",subtitle:"Get a pre-formatted Excel template",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-sm text-default-600",children:"Download our Excel template with the correct 8-column format and sample daily work data:"}),l.jsx(Bt,{color:"success",variant:"flat",startContent:l.jsx(Cl,{className:"w-4 h-4"}),onPress:()=>{window.open(route("dailyWorks.downloadTemplate"),"_blank")},children:"Download Excel Template"})]})},"template")]})]})}),l.jsxs(ka,{className:"flex flex-col sm:flex-row justify-center gap-2 px-4 sm:px-6 py-3 sm:py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[l.jsx(Bt,{color:"default",variant:"bordered",onPress:E,disabled:g,radius:gt(),size:"sm",style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),l.jsx(Bt,{color:"primary",onPress:M,isLoading:g,disabled:!d||C.length>0,radius:gt(),size:"sm",startContent:g?null:l.jsx(wa,{className:"w-4 h-4"}),style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:g?`Uploading... ${v}%`:"Import Daily Works"})]})]})})})};class Bh extends ne.Component{constructor(e){super(e);_c(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onRetry&&this.props.onRetry()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){console.error("ErrorBoundary caught an error:",e,i),this.setState({errorInfo:i}),this.props.onError&&this.props.onError(e,i)}render(){var e;if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const{fallbackTitle:i="Something went wrong",fallbackDescription:o="An unexpected error occurred. Please try again.",showDetails:a=!1,showRetry:c=!0}=this.props;return l.jsx(ur,{className:"border border-danger/20 bg-danger/5",style:{borderRadius:"var(--borderRadius, 12px)"},children:l.jsxs(yr,{className:"flex flex-col items-center justify-center py-12 px-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-danger/10 flex items-center justify-center mb-4",children:l.jsx(xi,{className:"w-8 h-8 text-danger"})}),l.jsx("h3",{className:"text-lg font-semibold text-danger mb-2",children:i}),l.jsx("p",{className:"text-sm text-default-600 mb-4 max-w-md",children:o}),a&&this.state.error&&l.jsx("div",{className:"w-full max-w-lg mb-4",children:l.jsxs("details",{className:"text-left",children:[l.jsx("summary",{className:"text-xs text-default-500 cursor-pointer hover:text-default-700",children:"Error Details"}),l.jsxs("pre",{className:"mt-2 p-3 bg-default-100 rounded-lg text-xs text-danger overflow-x-auto",children:[this.state.error.toString(),((e=this.state.errorInfo)==null?void 0:e.componentStack)&&l.jsx("span",{className:"text-default-500",children:this.state.errorInfo.componentStack})]})]})}),c&&l.jsx(Bt,{color:"danger",variant:"flat",onPress:this.handleRetry,startContent:l.jsx(La,{className:"w-4 h-4"}),style:{borderRadius:"var(--borderRadius, 12px)"},children:"Try Again"})]})})}return this.props.children}}const zh=({onRefresh:n,children:t,disabled:e=!1,threshold:i=80,className:o=""})=>{const[a,c]=ne.useState(!1),[d,f]=ne.useState(0),g=ne.useRef(null),w=ne.useRef(0),v=ne.useRef(0),A=ne.useRef(!0),h=Au(0),D=fs(h,[0,i],[0,360]),C=fs(h,[0,i/2,i],[0,.5,1]),O=fs(h,[0,i],[.5,1]),_=ne.useCallback(ce=>{if(e||a)return;const re=g.current;if(re&&re.scrollTop>0){A.current=!1;return}A.current=!0,w.current=ce.touches[0].clientY},[e,a]),I=ne.useCallback(ce=>{if(e||a||!A.current)return;v.current=ce.touches[0].clientY;const re=v.current-w.current;if(re>0){const U=Math.min(re*.4,i*1.5);f(U),h.set(U),U>10&&ce.preventDefault()}},[e,a,i,h]),Y=ne.useCallback(async()=>{if(!(e||a||!A.current)){if(d>=i){c(!0);try{await(n==null?void 0:n())}finally{c(!1)}}f(0),h.set(0)}},[e,a,d,i,n,h]);return l.jsxs("div",{ref:g,className:`relative overflow-auto ${o}`,onTouchStart:_,onTouchMove:I,onTouchEnd:Y,style:{touchAction:d>10?"none":"auto"},children:[l.jsx(wo,{children:(d>0||a)&&l.jsx(Zr.div,{className:"absolute left-0 right-0 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{top:Math.min(d,i)-40,height:40},children:l.jsx(Zr.div,{className:`
                                w-10 h-10 rounded-full flex items-center justify-center
                                ${a?"bg-primary/20 border-2 border-primary":d>=i?"bg-success/20 border-2 border-success":"bg-default-100 border-2 border-default-300"}
                            `,style:{scale:a?1:O,opacity:a?1:C},children:l.jsx(Zr.div,{animate:a?{rotate:360}:{},transition:a?{repeat:1/0,duration:1,ease:"linear"}:{},style:{rotate:a?void 0:D},children:l.jsx(La,{className:`w-5 h-5 ${a?"text-primary":d>=i?"text-success":"text-default-500"}`})})})})}),l.jsx(Zr.div,{style:{y:a?i/2:h,transition:a?"transform 0.2s ease-out":void 0},children:t})]})},cd=({auth:n,title:t,allData:e,jurisdictions:i,users:o,reports:a,reports_with_daily_works:c,overallEndDate:d,overallStartDate:f})=>{var ln,Mn,In;const g=ya("(min-width: 1025px)"),w=ya("(min-width: 641px) and (max-width: 1024px)"),v=ya("(max-width: 640px)"),A=((ln=n.roles)==null?void 0:ln.includes("Administrator"))||((Mn=n.roles)==null?void 0:Mn.includes("Super Administrator"))||((In=n.roles)==null?void 0:In.includes("Daily Work Manager"))||!1,h=ne.useRef(null),[D,C]=ne.useState(!1);ne.useRef(0),ne.useRef(0);const[O,_]=ne.useState([]),[I,Y]=ne.useState(!1),[ce,re]=ne.useState(!0),[ie,U]=ne.useState(!1),[q,Q]=ne.useState(!1),[ae,N]=ne.useState(0),[L,M]=ne.useState(0),[E,G]=ne.useState([]),[V,de]=ne.useState(),[J,ue]=ne.useState(null),[me,Oe]=ne.useState(null),[b,P]=ne.useState(""),[T,H]=ne.useState(30),[K,se]=ne.useState(1),[he,le]=ne.useState(d),[Le,Pe]=ne.useState({start:f,end:d}),qe=ne.useCallback((ve,at,Ze,bt="name")=>{if(!ve||ve.length===0)return l.jsx("span",{className:"text-default-400 text-xs",children:Ze});const yt=ve.map(String),It=(at==null?void 0:at.filter(kt=>yt.includes(String(kt.id))).map(kt=>kt[bt]))??[];return It.length===0?l.jsx("span",{className:"text-default-400 text-xs",children:Ze}):l.jsx("div",{className:"flex flex-wrap gap-1",children:It.map(kt=>l.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-primary/10 text-primary",children:kt},kt))})},[]),Be=ne.useMemo(()=>(e==null?void 0:e.allInCharges)??[],[e==null?void 0:e.allInCharges]),nt=ne.useMemo(()=>(i==null?void 0:i.map(ve=>({...ve,displayLabel:`${ve.start_chainage} - ${ve.end_chainage}`})))??[],[i]),[ge,z]=ne.useState({status:"all",incharge:[],jurisdiction:[],startDate:f,endDate:d}),[rt,Ye]=ne.useState(!1),Fe=ne.useCallback(()=>(h.current&&h.current.abort(),h.current=new AbortController,h.current.signal),[]),Re=async(ve=!0)=>{const at=Fe();ve&&!q&&re(!0);try{const Ze={search:b,...it(),startDate:he,endDate:he},bt=await an.get("/daily-works-all",{params:Ze,signal:at});if(at.aborted)return;const yt=bt.data.dailyWorks||[];_(Array.isArray(yt)?yt:[]),N(yt.length),M(1)}catch(Ze){if(an.isCancel(Ze)||Ze.name==="AbortError")return;console.error("Error fetching mobile data:",Ze),_([]),Ot.error("Failed to fetch data.")}finally{at.aborted||(re(!1),Y(!1),C(!1))}},Ue=async(ve=!0)=>{const at=Fe();ve&&!q&&re(!0);try{const Ze={search:b,...it(),startDate:Le.start,endDate:Le.end,page:K,perPage:T},bt=await an.get("/daily-works-paginate",{params:Ze,signal:at});if(at.aborted)return;_(Array.isArray(bt.data.data)?bt.data.data:[]),N(bt.data.total||0),M(bt.data.last_page||1)}catch(Ze){if(an.isCancel(Ze)||Ze.name==="AbortError")return;console.error("Error fetching desktop data:",Ze),_([]),Ot.error("Failed to fetch data.")}finally{at.aborted||(re(!1),Y(!1))}},Te=ne.useCallback(async(ve=!0)=>{v?await Re(ve):await Ue(ve)},[v,b,ge,he,Le,K,T]),tt=ne.useCallback(async()=>{D||!v||(C(!0),se(1),await Te(!1),await Pt(),Ot.success("Data refreshed"))},[D,v,Te]),we=ne.useCallback(()=>{se(1),Te(),Pt()},[Te]);ne.useEffect(()=>()=>{h.current&&h.current.abort()},[]);const De=ve=>{P(ve.target.value),se(1)},Xe=ve=>{se(ve)},st=ve=>{le(ve),se(1)},ot=ve=>{Pe(ve),se(1)},it=()=>{const ve={status:ge.status!=="all"?ge.status:""};return ge.incharge.length>0&&(ve.inCharge=ge.incharge),ge.jurisdiction.length>0&&(ve.jurisdiction=ge.jurisdiction),ve},mt=async()=>{if(O&&O.length<T&&ae>O.length){const ve=Math.min(T-O.length,ae-O.length);if(ve<=0)return;re(!0);try{const at={search:b,...it(),startDate:v?he:Le.start,endDate:v?he:Le.end,page:K+1,perPage:ve},Ze=await an.get("/daily-works-paginate",{params:at});Ze.status===200&&Ze.data.data&&_(bt=>{const yt=Ze.data.data;return[...bt,...yt]})}catch(at){console.error("Error fetching additional items:",at)}finally{re(!1)}}},ze=()=>{if(!J){Ot.error("No task selected for deletion");return}U(!0);const ve=new Promise(async(at,Ze)=>{try{const bt=await an.delete("/delete-daily-work",{data:{id:J,page:K,perPage:T}}),yt=Math.max(0,ae-1);if(O.filter(kt=>kt.id!==J).length===0&&yt>0&&K>1){const kt=K-1;se(kt)}else{_($n=>$n.filter(En=>En.id!==J)),N(yt);const kt=Math.ceil(yt/T);M(kt),setTimeout(()=>mt(),100)}St(),Pt(),at("Daily work deleted successfully!")}catch(bt){if(console.error("Delete error:",bt),Te(),bt.response){const yt=bt.response.status,It=bt.response.data;yt===403?Ze("You do not have permission to delete daily works."):yt===404?Ze("Daily work not found."):yt===422&&It.message?Ze(It.message):Ze(`Failed to delete daily work. Status: ${yt}`)}else bt.request?Ze("Network error. Please check your connection."):Ze(`Failed to delete daily work: ${bt.message}`)}finally{U(!1)}});Ot.promise(ve,{loading:"Deleting daily work...",success:at=>at,error:at=>at})},Ht=(ve,at)=>{ue(ve),Oe(at)},St=()=>{Oe(null),ue(null)},nn=ve=>{Oe(ve)},Lt=()=>{Oe(null)},Mt=ve=>{if(ve){_(Ze=>[ve,...Ze]),N(Ze=>Ze+1);const at=Math.ceil((ae+1)/T);M(at),Pt()}else Te();Lt()},An=ve=>{ve?(_(at=>at.map(Ze=>Ze.id===ve.id?{...Ze,...ve}:Ze)),ve.status&&Pt()):Te(),Lt()},Ft=ve=>{if(Lt(),ve&&Array.isArray(ve)&&ve.length>0){const at=ve.filter(Ze=>Ze.date).map(Ze=>Ze.date);if(at.length>0){const bt=at.sort((yt,It)=>new Date(It)-new Date(yt))[0];if(v)le(bt);else{const yt=new Date(Le.end);new Date(bt)>yt?Pe(kt=>({...kt,end:bt})):Pe(kt=>({...kt,end:bt}))}}}se(1),setTimeout(()=>{Te(!0),Pt()},100)},[Vt,Tt]=ne.useState(null),[Sn,Cn]=ne.useState(!1),Pt=async()=>{Cn(!0);try{const ve=await an.get("/daily-works/statistics");Tt(ve.data)}catch(ve){console.error("Error fetching statistics:",ve),Ot.error("Failed to load statistics")}finally{Cn(!1)}},pt=ne.useMemo(()=>{var Dn,W,Me,ye,_e,Qe,Ee,vt,je;if(Vt){const Je=((Dn=Vt.overview)==null?void 0:Dn.totalWorks)||0,lt=((W=Vt.overview)==null?void 0:W.completedWorks)||0,Ce=((Me=Vt.overview)==null?void 0:Me.pendingWorks)||0;(ye=Vt.qualityMetrics)!=null&&ye.rfiSubmissions;const ut=((_e=Vt.qualityMetrics)==null?void 0:_e.passedInspections)||0,Ke=((Qe=Vt.qualityMetrics)==null?void 0:Qe.failedInspections)||0,Jt=((Ee=Vt.qualityMetrics)==null?void 0:Ee.totalResubmissions)||0,$e=((vt=Vt.performanceIndicators)==null?void 0:vt.completionRate)||0,$t=((je=Vt.recentActivity)==null?void 0:je.todayWorks)||0,cn=ut+Ke,Gt=cn>0?Math.round(ut/cn*100):0;return[{title:"Total Works",value:Je.toLocaleString(),icon:l.jsx(Dc,{className:"w-5 h-5"}),color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",description:`${$t} added today`,trend:$t>0?"up":"neutral"},{title:"Completion Rate",value:`${$e}%`,icon:l.jsx(Qr,{className:"w-5 h-5"}),color:$e>=80?"text-green-600":$e>=50?"text-yellow-600":"text-red-600",bgColor:$e>=80?"bg-green-50 dark:bg-green-900/20":$e>=50?"bg-yellow-50 dark:bg-yellow-900/20":"bg-red-50 dark:bg-red-900/20",description:`${lt.toLocaleString()} of ${Je.toLocaleString()} completed`,trend:$e>=80?"up":$e>=50?"neutral":"down"},{title:"Pending Review",value:Ce.toLocaleString(),icon:l.jsx(vi,{className:"w-5 h-5"}),color:Ce>100?"text-orange-600":"text-amber-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",description:Ce>0?"Awaiting action":"All caught up!",trend:Ce>100?"down":"neutral"},{title:"Inspection Pass",value:`${Gt}%`,icon:l.jsx(wa,{className:"w-5 h-5"}),color:Gt>=90?"text-green-600":Gt>=70?"text-purple-600":"text-red-600",bgColor:Gt>=90?"bg-green-50 dark:bg-green-900/20":"bg-purple-50 dark:bg-purple-900/20",description:Jt>0?`${Jt} resubmissions`:`${ut} passed`,trend:Gt>=90?"up":Gt>=70?"neutral":"down"}]}const ve=ae||O.length,at=O.filter(Je=>Je.status==="completed").length,Ze=O.filter(Je=>["new","resubmission","pending","in-progress"].includes(Je.status)).length,bt=O.filter(Je=>Je.inspection_result==="pass"||Je.inspection_result==="approved").length,yt=O.filter(Je=>Je.inspection_result==="fail"||Je.inspection_result==="rejected").length,It=O.filter(Je=>Je.resubmission_count>0).length,kt=O.length>0?Math.round(at/O.length*100):0,$n=bt+yt,En=$n>0?Math.round(bt/$n*100):0;return[{title:"Total Works",value:ve.toLocaleString(),icon:l.jsx(Dc,{className:"w-5 h-5"}),color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",description:`Showing ${O.length} on page`},{title:"Completion Rate",value:`${kt}%`,icon:l.jsx(Qr,{className:"w-5 h-5"}),color:kt>=80?"text-green-600":kt>=50?"text-yellow-600":"text-red-600",bgColor:kt>=80?"bg-green-50 dark:bg-green-900/20":kt>=50?"bg-yellow-50 dark:bg-yellow-900/20":"bg-red-50 dark:bg-red-900/20",description:`${at} completed`},{title:"Pending",value:Ze,icon:l.jsx(vi,{className:"w-5 h-5"}),color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",description:"Awaiting action"},{title:"Inspection Pass",value:$n>0?`${En}%`:"-",icon:l.jsx(wa,{className:"w-5 h-5"}),color:En>=90?"text-green-600":"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",description:It>0?`${It} resubmitted`:`${bt} passed`}]},[Vt,O,ae]),Ct=[{label:"Add Work",icon:l.jsx(Lu,{className:"w-4 h-4"}),color:"primary",variant:"solid",onPress:()=>nn("addDailyWork")},{label:"Import",icon:l.jsx(wa,{className:"w-4 h-4"}),color:"secondary",variant:"flat",onPress:()=>nn("importDailyWorks")},{label:"Export",icon:l.jsx(Fu,{className:"w-4 h-4"}),color:"success",variant:"flat",onPress:()=>nn("exportDailyWorks")}],pr=ne.useRef(!0);return ne.useEffect(()=>{v&&!he&&le(d),Q(!0),re(!0),se(1),Te(!0).finally(()=>{Q(!1),re(!1),pr.current=!1})},[v]),ne.useEffect(()=>{if(pr.current||q)return;const ve=b?setTimeout(()=>{Te(!0)},150):null;return b||Te(!0),()=>{ve&&clearTimeout(ve)}},[K,T,b,ge,he,Le,v]),ne.useEffect(()=>{Pt()},[]),l.jsxs(l.Fragment,{children:[l.jsx(ip,{title:t}),me==="addDailyWork"&&l.jsx(au,{modalType:"add",open:me==="addDailyWork",setData:_,closeModal:Lt,onSuccess:Mt}),me==="editDailyWork"&&l.jsx(au,{modalType:"update",open:me==="editDailyWork",currentRow:V,setData:_,closeModal:Lt,onSuccess:An}),me==="deleteDailyWork"&&l.jsx(Uf,{open:me==="deleteDailyWork",handleClose:St,handleDelete:ze,isLoading:ie,setData:_}),me==="importDailyWorks"&&l.jsx(qh,{open:me==="importDailyWorks",closeModal:Lt,setData:_,setTotalRows:N,refreshData:we,onSuccess:Ft}),me==="exportDailyWorks"&&l.jsx(Wf,{open:me==="exportDailyWorks",closeModal:Lt,filterData:ge,users:o,inCharges:e.allInCharges}),l.jsx("div",{className:"flex justify-center p-4",children:l.jsx(Zr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full max-w-[2000px]",children:l.jsxs(ur,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                                var(--theme-content1, #FAFAFA) 20%, 
                                var(--theme-content2, #F4F4F5) 10%, 
                                var(--theme-content3, #F1F3F4) 20%)`},children:[l.jsx(kl,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                                    color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                                    color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:l.jsx("div",{className:`${g?"p-6":w?"p-4":"p-3"} w-full`,children:l.jsx("div",{className:"flex flex-col space-y-4",children:l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[l.jsx("div",{className:`
                                                    ${g?"p-3":w?"p-2.5":"p-2"} 
                                                    rounded-xl flex items-center justify-center
                                                `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:l.jsx(sp,{className:`
                                                        ${g?"w-8 h-8":w?"w-6 h-6":"w-5 h-5"}
                                                    `,style:{color:"var(--theme-primary)"}})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h4",{className:`
                                                        ${g?"text-2xl":w?"text-xl":"text-lg"}
                                                        font-bold text-foreground
                                                        ${g?"":"truncate"}
                                                    `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Project Work Management"}),l.jsx("p",{className:`
                                                        ${g?"text-sm":"text-xs"} 
                                                        text-default-500
                                                        ${g?"":"truncate"}
                                                    `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Track daily work progress and project activities"})]})]}),l.jsx("div",{className:"flex items-center gap-2 sm:gap-4 w-full lg:w-auto",children:l.jsx("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap justify-end w-full lg:w-auto",children:Ct.map((ve,at)=>l.jsx(Bt,{size:g?"md":"sm",variant:ve.variant||"flat",color:ve.color||"primary",startContent:!v&&ve.icon,isIconOnly:v,onPress:ve.onPress,className:`${ve.className||""} font-medium ${v?"min-w-9 h-9":""}`,"aria-label":ve.label,style:{fontFamily:'var(--fontFamily, "Inter")',borderRadius:"var(--borderRadius, 12px)"},children:v?ve.icon:ve.label},at))})})]})})})}),l.jsxs(yr,{className:"pt-6",children:[l.jsx("div",{className:"relative",children:l.jsx(mp,{stats:pt,onRefresh:Pt,isLoading:Sn})}),l.jsxs("div",{className:"mb-4 space-y-4",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 items-stretch lg:items-center",children:[l.jsx(Bt,{size:"sm",variant:rt?"solid":"bordered",color:rt?"primary":"default",onPress:()=>Ye(!rt),radius:gt(),className:`shrink-0 min-h-10 ${rt?"":"border-divider/50"}`,startContent:l.jsx(xp,{className:"w-4 h-4"}),style:{fontFamily:'var(--fontFamily, "Inter")'},children:v?"":"Filters"}),l.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[!v&&l.jsx(hp,{className:"w-4 h-4 text-default-500 shrink-0"}),v?l.jsx(Xn,{type:"date",value:he,onChange:ve=>st(ve.target.value),variant:"bordered",size:"sm",radius:gt(),min:f,max:d,classNames:{base:"w-full",input:"text-foreground text-sm",inputWrapper:"min-h-10 bg-content2/50 border-divider/50 hover:border-divider"},style:{fontFamily:'var(--fontFamily, "Inter")'}}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xn,{type:"date",labelPlacement:"outside-left",label:"From",value:Le.start,onChange:ve=>ot({...Le,start:ve.target.value}),variant:"bordered",size:"sm",radius:gt(),min:f,max:d,classNames:{base:"w-auto",label:"text-xs text-default-500 whitespace-nowrap",input:"text-foreground text-sm",inputWrapper:"min-h-10 bg-content2/50 border-divider/50 hover:border-divider"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),l.jsx("span",{className:"text-default-400 text-sm",children:""}),l.jsx(Xn,{type:"date",labelPlacement:"outside-left",label:"To",value:Le.end,onChange:ve=>ot({...Le,end:ve.target.value}),variant:"bordered",size:"sm",radius:gt(),min:f,max:d,classNames:{base:"w-auto",label:"text-xs text-default-500 whitespace-nowrap",input:"text-foreground text-sm",inputWrapper:"min-h-10 bg-content2/50 border-divider/50 hover:border-divider"},style:{fontFamily:'var(--fontFamily, "Inter")'}})]})]}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx(Xn,{type:"text",placeholder:"Search by description, location, or notes...",value:b,onChange:ve=>De(ve),variant:"bordered",size:"sm",radius:gt(),startContent:l.jsx(bp,{className:"w-4 h-4 text-default-400 shrink-0"}),classNames:{input:"text-foreground text-sm",inputWrapper:"min-h-10 bg-content2/50 border-divider/50 hover:border-divider"},style:{fontFamily:'var(--fontFamily, "Inter")'}})})]}),l.jsx(wo,{children:rt&&l.jsx(Zr.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"overflow-hidden",children:l.jsx("div",{className:"p-3 rounded-lg border",style:{background:"var(--theme-content2, rgba(244, 244, 245, 0.8))",borderColor:"var(--theme-divider, rgba(228, 228, 231, 0.5))"},children:l.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[l.jsx("div",{className:"w-full sm:w-auto sm:min-w-[160px]",children:l.jsxs(Pr,{label:"Status",placeholder:"All",selectedKeys:ge.status?[ge.status]:["all"],onSelectionChange:ve=>{const at=Array.from(ve)[0];z(Ze=>({...Ze,status:at})),se(1)},variant:"bordered",size:"sm",radius:gt(),classNames:{trigger:"min-h-10",value:"text-foreground text-sm"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:[l.jsx(Hn,{value:"all",children:"All Status"},"all"),l.jsx(Hn,{value:"new",children:"New"},"new"),l.jsx(Hn,{value:"completed",children:"Completed"},"completed"),l.jsx(Hn,{value:"resubmission",children:"Resubmission"},"resubmission"),l.jsx(Hn,{value:"emergency",children:"Emergency"},"emergency")]})}),A&&l.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:l.jsx(Pr,{label:"In Charge",placeholder:"Filter by in charge...",selectionMode:"multiple",selectedKeys:new Set(ge.incharge||[]),onSelectionChange:ve=>{const at=Array.from(ve).filter(Ze=>Ze!=="all");z(Ze=>({...Ze,incharge:at,jurisdiction:at.length?[]:Ze.jurisdiction})),se(1)},variant:"bordered",size:"sm",radius:gt(),startContent:l.jsx(ds,{className:"w-4 h-4 text-default-400"}),classNames:{trigger:"min-h-10",value:"text-foreground text-sm"},renderValue:()=>qe(ge.incharge,Be,"All"),style:{fontFamily:'var(--fontFamily, "Inter")'},children:Be==null?void 0:Be.map(ve=>l.jsx(Hn,{value:String(ve.id),children:ve.name},String(ve.id)))})}),A&&l.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:l.jsx(Pr,{label:"Jurisdiction",placeholder:"Filter by jurisdiction...",selectionMode:"multiple",selectedKeys:new Set(ge.jurisdiction||[]),onSelectionChange:ve=>{const at=Array.from(ve).filter(Ze=>Ze!=="all");z(Ze=>({...Ze,jurisdiction:at,incharge:at.length?[]:Ze.incharge})),se(1)},variant:"bordered",size:"sm",radius:gt(),startContent:l.jsx(ps,{className:"w-4 h-4 text-default-400"}),classNames:{trigger:"min-h-10",value:"text-foreground text-sm"},renderValue:()=>qe(ge.jurisdiction,nt,"All","displayLabel"),style:{fontFamily:'var(--fontFamily, "Inter")'},children:nt==null?void 0:nt.map(ve=>l.jsx(Hn,{value:String(ve.id),children:ve.displayLabel},String(ve.id)))})}),l.jsx(Bt,{size:"sm",variant:"flat",color:"danger",radius:gt(),className:"min-h-10",onPress:()=>{z({status:"all",incharge:[],jurisdiction:[],startDate:f,endDate:d}),se(1)},style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Clear"})]})})})})]}),l.jsx(ur,{radius:gt(),className:"bg-content2/50 backdrop-blur-md border border-divider/30",style:{fontFamily:'var(--fontFamily, "Inter")',borderRadius:"var(--borderRadius, 12px)",backgroundColor:"var(--theme-content2)",borderColor:"var(--theme-divider)"},children:l.jsx(yr,{className:"p-4",children:l.jsx(Bh,{fallbackTitle:"Unable to load daily works",fallbackDescription:"There was an error loading the daily works table. Please try refreshing.",onRetry:we,children:v?l.jsx(zh,{onRefresh:tt,disabled:ce||q,children:l.jsx(iu,{setData:_,filteredData:E,setFilteredData:G,reports:a,setCurrentRow:de,currentPage:K,setCurrentPage:se,onPageChange:Xe,setLoading:re,refreshStatistics:Pt,handleClickOpen:Ht,openModal:nn,juniors:e.juniors,totalRows:ae,lastPage:L,loading:ce,allData:O,allInCharges:e.allInCharges,jurisdictions:i,users:o,reports_with_daily_works:c,isMobile:v,isRefreshing:D,searchTerm:b})}):l.jsx(iu,{setData:_,filteredData:E,setFilteredData:G,reports:a,setCurrentRow:de,currentPage:K,setCurrentPage:se,onPageChange:Xe,setLoading:re,refreshStatistics:Pt,handleClickOpen:Ht,openModal:nn,juniors:e.juniors,totalRows:ae,lastPage:L,loading:ce,allData:O,allInCharges:e.allInCharges,jurisdictions:i,users:o,reports_with_daily_works:c,isMobile:v,searchTerm:b})})})})]})]})})})]})};cd.layout=n=>l.jsx(op,{children:n});const Lm=Object.freeze(Object.defineProperty({__proto__:null,default:cd},Symbol.toStringTag,{value:"Module"}));export{Lm as D,Wt as _};
