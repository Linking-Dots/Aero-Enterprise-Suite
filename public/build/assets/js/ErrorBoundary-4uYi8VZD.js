var T=Object.defineProperty;var _=(a,s,r)=>s in a?T(a,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[s]=r;var R=(a,s,r)=>_(a,typeof s!="symbol"?s+"":s,r);import{r as t,R as I}from"./vendor-inertia-sUfCHI_5.js";import{j as e,a as L,e as X,b as B}from"./vendor-heroui-CinxWHhv.js";import{f as H,g as y,A as E,e as w}from"./vendor-framer-B7qqn1b6.js";import{F as V}from"./PencilIcon-BsmkHcSS.js";import{F as C}from"./CheckCircleIcon-BAvoXTNq.js";import{F as U}from"./TrashIcon-Dnjv_I7q.js";import{b as k}from"./app-BrvrVuek.js";import{F as Z}from"./XCircleIcon-Cv262LQg.js";import{F as G}from"./XCircleIcon-BzKw4V53.js";import{F as P}from"./CheckCircleIcon-CykloG3X.js";import{F as W}from"./ExclamationTriangleIcon-D3y6aOMr.js";import{F as Y}from"./ClockIcon-BKLni_N9.js";import{F as N}from"./DocumentIcon-08C5TBVc.js";import{F as q}from"./ExclamationTriangleIcon-BarRaUA8.js";function z({title:a,titleId:s,...r},o){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const pe=t.forwardRef(z);function J({title:a,titleId:s,...r},o){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const xe=t.forwardRef(J);function K({title:a,titleId:s,...r},o){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},r),a?t.createElement("title",{id:s},a):null,t.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875Zm6.905 9.97a.75.75 0 0 0-1.06 0l-3 3a.75.75 0 1 0 1.06 1.06l1.72-1.72V18a.75.75 0 0 0 1.5 0v-4.19l1.72 1.72a.75.75 0 1 0 1.06-1.06l-3-3Z",clipRule:"evenodd"}),t.createElement("path",{d:"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"}))}const F=t.forwardRef(K),be=({children:a,onEdit:s,onDelete:r,onStatusChange:o,disabled:l=!1,className:h=""})=>{const[d,m]=t.useState(!1),[v,f]=t.useState(null),p=t.useRef(null),j=t.useRef(0),n=H(0),c=80,S=y(n,[-c,-40,0],[1,.5,0]),O=y(n,[0,40,c],[0,.5,1]),$=t.useCallback(i=>{l||(j.current=i.touches[0].clientX)},[l]),A=t.useCallback(i=>{if(l)return;const M=i.touches[0].clientX-j.current,g=Math.max(-c*1.5,Math.min(c*1.5,M));n.set(g),Math.abs(g)>20&&f(g<0?"left":"right")},[l,n]),D=t.useCallback(()=>{if(l)return;const i=n.get();Math.abs(i)>=c?i<0?(n.set(-c),m(!0),f("left")):(n.set(c),m(!0),f("right")):(n.set(0),m(!1),f(null))},[l,n]),u=t.useCallback(()=>{n.set(0),m(!1),f(null)},[n]),x=t.useCallback(i=>{i==null||i(),u()},[u]),b=t.useCallback(i=>{d&&p.current&&!p.current.contains(i.target)&&u()},[d,u]);return I.useEffect(()=>{if(d)return document.addEventListener("touchstart",b),()=>document.removeEventListener("touchstart",b)},[d,b]),e.jsxs("div",{ref:p,className:`relative overflow-hidden ${h}`,children:[e.jsx(E,{children:(v==="right"||n.get()>0)&&e.jsx(w.div,{className:"absolute left-0 top-0 bottom-0 flex items-stretch",style:{width:c,opacity:O},children:e.jsxs("button",{onClick:()=>x(s),className:"flex-1 flex flex-col items-center justify-center gap-1 bg-primary text-white active:bg-primary/80 transition-colors","aria-label":"Edit",children:[e.jsx(V,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:"Edit"})]})})}),e.jsx(E,{children:(v==="left"||n.get()<0)&&e.jsxs(w.div,{className:"absolute right-0 top-0 bottom-0 flex items-stretch",style:{width:c,opacity:S},children:[o&&e.jsxs("button",{onClick:()=>x(o),className:"flex-1 flex flex-col items-center justify-center gap-1 bg-success text-white active:bg-success/80 transition-colors","aria-label":"Complete",children:[e.jsx(C,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:"Done"})]}),r&&e.jsxs("button",{onClick:()=>x(r),className:"flex-1 flex flex-col items-center justify-center gap-1 bg-danger text-white active:bg-danger/80 transition-colors","aria-label":"Delete",children:[e.jsx(U,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:"Delete"})]})]})}),e.jsx(w.div,{style:{x:n},onTouchStart:$,onTouchMove:A,onTouchEnd:D,className:"relative bg-content1",children:a}),!d&&!l&&e.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-20 pointer-events-none",children:e.jsx(k,{className:"w-4 h-4 text-default-400"})})]})},ge={draft:{color:"default",icon:N,solidIcon:N,label:"Draft",description:"Objection is being drafted"},submitted:{color:"primary",icon:F,solidIcon:F,label:"Submitted",description:"Objection submitted for review"},under_review:{color:"warning",icon:Y,solidIcon:W,label:"Under Review",description:"Objection is being reviewed"},resolved:{color:"success",icon:C,solidIcon:P,label:"Resolved",description:"Objection has been resolved"},rejected:{color:"danger",icon:G,solidIcon:Z,label:"Rejected",description:"Objection has been rejected"}},we={design_conflict:{label:"Design Conflict",color:"danger",description:"Conflict between design documents"},site_mismatch:{label:"Site Condition Mismatch",color:"warning",description:"Actual site conditions differ from plans"},material_change:{label:"Material Change",color:"secondary",description:"Material specifications need to be changed"},safety_concern:{label:"Safety Concern",color:"danger",description:"Safety-related issue identified"},specification_error:{label:"Specification Error",color:"primary",description:"Error in specifications"},other:{label:"Other",color:"default",description:"Other type of objection"}};class ve extends t.Component{constructor(r){super(r);R(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onRetry&&this.props.onRetry()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,o){console.error("ErrorBoundary caught an error:",r,o),this.setState({errorInfo:o}),this.props.onError&&this.props.onError(r,o)}render(){var r;if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const{fallbackTitle:o="Something went wrong",fallbackDescription:l="An unexpected error occurred. Please try again.",showDetails:h=!1,showRetry:d=!0}=this.props;return e.jsx(L,{className:"border border-danger/20 bg-danger/5",style:{borderRadius:"var(--borderRadius, 12px)"},children:e.jsxs(X,{className:"flex flex-col items-center justify-center py-12 px-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-danger/10 flex items-center justify-center mb-4",children:e.jsx(q,{className:"w-8 h-8 text-danger"})}),e.jsx("h3",{className:"text-lg font-semibold text-danger mb-2",children:o}),e.jsx("p",{className:"text-sm text-default-600 mb-4 max-w-md",children:l}),h&&this.state.error&&e.jsx("div",{className:"w-full max-w-lg mb-4",children:e.jsxs("details",{className:"text-left",children:[e.jsx("summary",{className:"text-xs text-default-500 cursor-pointer hover:text-default-700",children:"Error Details"}),e.jsxs("pre",{className:"mt-2 p-3 bg-default-100 rounded-lg text-xs text-danger overflow-x-auto",children:[this.state.error.toString(),((r=this.state.errorInfo)==null?void 0:r.componentStack)&&e.jsx("span",{className:"text-default-500",children:this.state.errorInfo.componentStack})]})]})}),d&&e.jsx(B,{color:"danger",variant:"flat",onPress:this.handleRetry,startContent:e.jsx(k,{className:"w-4 h-4"}),style:{borderRadius:"var(--borderRadius, 12px)"},children:"Try Again"})]})})}return this.props.children}}export{we as C,ve as E,xe as F,be as S,pe as a,ge as b};
