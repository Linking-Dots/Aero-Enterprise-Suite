import{j as e,P as O,a as H,e as V,J as r,F as se,m as be,n as we,o as Ne,q as Fe,r as ke,v as Y,L as re,h as te,S as ae,d as ne,b as oe,i as le,p as _e}from"./vendor-heroui-CinxWHhv.js";import{r as t,R as Re,Q as Me}from"./vendor-inertia-sUfCHI_5.js";import{S as Ae}from"./StatsCards-C8h61SxQ.js";import{u as X,f as G,j as ie,A as $e}from"./Dashboard-C-xHYcsc.js";import{d as m}from"./dayjs.min-BJ9zlrPD.js";import{F as Ee}from"./UserIcon-CgrjQ1A2.js";import{F as Ie}from"./ExclamationTriangleIcon-D3y6aOMr.js";import{F as Se}from"./XCircleIcon-Cv262LQg.js";import{F as Ce}from"./CheckCircleIcon-CykloG3X.js";import{a as W}from"./vendor-utils-CrJAVL9K.js";import{s as Pe}from"./toastUtils-BVg-E_WQ.js";import{F as Le}from"./UserGroupIcon-CSQScwVa.js";import{F as de}from"./CheckCircleIcon-BAvoXTNq.js";import{F as Ye}from"./XCircleIcon-BzKw4V53.js";import{F as We}from"./ExclamationTriangleIcon-BarRaUA8.js";import{F as ce}from"./PresentationChartLineIcon-BVDAJ73-.js";import{F as Ue}from"./ClipboardDocumentListIcon-CESV3yIX.js";import{e as ze}from"./vendor-framer-B7qqn1b6.js";import{F as me}from"./DocumentArrowDownIcon-DCm9Iy1y.js";import{F as Be}from"./MagnifyingGlassIcon-BjGR0KXJ.js";import{F as Te}from"./MapPinIcon-DDwLGyCW.js";import{F as Oe}from"./ClockIcon-BKLni_N9.js";import"./vendor-react-FouZbkAE.js";import"./app-Btgm0z4q.js";import"./EnvelopeIcon-CFKoTD3N.js";import"./ShieldCheckIcon-Ck-ae4AP.js";import"./XMarkIcon-twQGc8di.js";import"./KeyIcon-BIi5nz4o.js";import"./logo-DFaNDj_M.js";import"./MagnifyingGlassIcon-BJyUDYwI.js";function He({title:g,titleId:i,...l},x){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:x,"aria-labelledby":i},l),g?t.createElement("title",{id:i},g):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const J=t.forwardRef(He);function Ve({title:g,titleId:i,...l},x){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:x,"aria-labelledby":i},l),g?t.createElement("title",{id:i},g):null,t.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm3 10.5a.75.75 0 0 0 0-1.5H9a.75.75 0 0 0 0 1.5h6Z",clipRule:"evenodd"}))}const qe=t.forwardRef(Ve),U=()=>{var x;if(typeof window>"u")return"lg";const i=((x=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:x.trim())||"12px",l=parseInt(i);return l===0?"none":l<=4?"sm":l<=8?"md":l<=12?"lg":"xl"},Qe=({loading:g,attendanceData:i,currentYear:l,currentMonth:x,leaveTypes:N,leaveCounts:j,attendanceSettings:F,onRefresh:C})=>{const P=X("(min-width: 1025px)");X("(min-width: 641px) and (max-width: 1024px)");const k=X("(max-width: 640px)"),_=m(`${l}-${x}-01`).daysInMonth(),I=t.useMemo(()=>s=>{if(!(F!=null&&F.weekend_days)){const h=m(s).day();return h===0||h===6}const n=m(s).format("dddd").toLowerCase();return F.weekend_days.includes(n)},[F==null?void 0:F.weekend_days]),q={"âˆš":{icon:Ce,color:"var(--theme-success)",bg:"color-mix(in srgb, var(--theme-success) 20%, transparent)",label:"âˆš",short:"P"},"â–¼":{icon:Se,color:"var(--theme-danger)",bg:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",label:"â–¼",short:"A"},"#":{icon:Ie,color:"var(--theme-warning)",bg:"color-mix(in srgb, var(--theme-warning) 20%, transparent)",label:"#",short:"H"},"/":{icon:qe,color:"var(--theme-secondary)",bg:"color-mix(in srgb, var(--theme-secondary) 20%, transparent)",label:"/",short:"L"}},Q=t.useMemo(()=>[{label:"No.",key:"sl",icon:J,width:60},{label:"Employee",key:"name",icon:Ee,width:200},...Array.from({length:_},(s,n)=>{const h=n+1,c=m(`${l}-${x}-${h}`);return{label:`${h}`,sublabel:c.format("ddd"),key:`day-${h}`,width:40,isWeekend:I(c)}}),...N?N.map(s=>({label:s.type,key:s.type,icon:G,width:80})):[]],[_,l,x,N,I]),B=s=>q[s]||{icon:null,color:"var(--theme-foreground-500)",bg:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",label:"No Data",short:"-"},Z=({data:s,index:n,daysInMonth:h,currentMonth:c,currentYear:R,leaveTypes:p,leaveCounts:$,isWeekendDay:o})=>e.jsx(H,{className:"mb-2",style:{background:"color-mix(in srgb, var(--theme-content1) 85%, transparent)",backdropFilter:"blur(16px)",border:"1px solid color-mix(in srgb, var(--theme-content2) 50%, transparent)",borderRadius:U()},children:e.jsxs(V,{className:"p-3",children:[e.jsx("div",{className:"flex items-center gap-3 mb-4",children:e.jsx(ae,{avatarProps:{src:s.profile_image_url||s.profile_image,name:s.name||"Unknown",size:"md",...ie({name:s.name||"Unknown",size:"md"})},name:e.jsx("span",{className:"text-sm font-medium",style:{fontFamily:'var(--fontFamily, "Inter")',color:"var(--theme-foreground, #000000)"},children:s.name||"Unknown"}),description:e.jsxs("span",{className:"text-xs",style:{fontFamily:'var(--fontFamily, "Inter")',color:"var(--theme-foreground-600, #71717A)"},children:["Employee #",n+1]})})}),e.jsx(se,{style:{borderColor:"var(--theme-divider, #E4E4E7)"}}),e.jsx("div",{className:"grid grid-cols-7 gap-1 my-4",children:Array.from({length:h},(E,v)=>{const y=v+1,S=m(`${R}-${c}-${y}`).format("YYYY-MM-DD"),d=s[S],T=o(m(S)),w=typeof d=="object"&&(d==null?void 0:d.status)||"â–¼",f=B(w);return e.jsx(re,{placement:"top",content:e.jsxs("div",{className:"text-sm space-y-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Status:"})," ",w]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Punch In:"})," ",(d==null?void 0:d.punch_in)||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Punch Out:"})," ",(d==null?void 0:d.punch_out)||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Work Hours:"})," ",(d==null?void 0:d.total_work_hours)||"00:00"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Remarks:"})," ",(d==null?void 0:d.remarks)||"N/A"]})]}),children:e.jsxs("div",{className:`
                                        flex flex-col items-center justify-center p-1 rounded text-xs cursor-pointer
                                        transition-colors
                                        ${T?"bg-default-100":"bg-default-50"}
                                    `,style:{borderRadius:"var(--borderRadius, 6px)",fontFamily:'var(--fontFamily, "Inter")',backgroundColor:f.bg},children:[e.jsx("span",{className:"font-medium",children:y}),e.jsx("span",{children:f.icon?e.jsx(f.icon,{className:"w-3 h-3",style:{color:f.color}}):e.jsx("span",{style:{color:f.color},children:w})})]})},y)})}),(p==null?void 0:p.length)>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(E=>{var y;const v=((y=$==null?void 0:$[s.user_id])==null?void 0:y[E.type])||0;return e.jsxs(te,{size:"sm",variant:"flat",startContent:e.jsx(G,{className:"w-3 h-3"}),radius:U(),style:{background:v>0?"color-mix(in srgb, var(--theme-warning) 20%, transparent)":"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:`1px solid ${v>0?"color-mix(in srgb, var(--theme-warning) 40%, transparent)":"color-mix(in srgb, var(--theme-content3) 50%, transparent)"}`,color:v>0?"var(--theme-warning)":"var(--theme-foreground)",fontFamily:'var(--fontFamily, "Inter")'},children:[E.type,": ",v]},E.type)})})]})});return g?k?e.jsx("div",{className:"space-y-4",children:e.jsx(O,{className:"max-h-[70vh]",children:Array.from({length:6}).map((s,n)=>e.jsx(H,{className:"mb-2",style:{background:"color-mix(in srgb, var(--theme-content1) 85%, transparent)",backdropFilter:"blur(16px)",border:"1px solid color-mix(in srgb, var(--theme-content2) 50%, transparent)",borderRadius:U()},children:e.jsxs(V,{className:"p-3",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(r,{className:"w-12 h-12 rounded-full"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(r,{className:"w-32 h-4 rounded"}),e.jsx(r,{className:"w-20 h-3 rounded"})]})]}),e.jsx(se,{style:{borderColor:"var(--theme-divider, #E4E4E7)"}}),e.jsx("div",{className:"grid grid-cols-7 gap-1 my-4",children:Array.from({length:_},(h,c)=>e.jsxs("div",{className:"flex flex-col items-center justify-center p-1 rounded text-xs",style:{borderRadius:"var(--borderRadius, 6px)",backgroundColor:"color-mix(in srgb, var(--theme-content2) 30%, transparent)"},children:[e.jsx(r,{className:"w-4 h-3 rounded mb-1"}),e.jsx(r,{className:"w-4 h-4 rounded"})]},c+1))}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:3}).map((h,c)=>e.jsx(r,{className:"w-16 h-6 rounded-full"},c))})]})},n))})}):e.jsxs("div",{className:"max-h-[84vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[e.jsx(r,{className:"w-32 h-6 rounded"}),e.jsx(r,{className:"w-20 h-8 rounded"})]}),e.jsx(O,{className:"max-h-[70vh]",children:e.jsxs("div",{className:"border border-divider rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-default-100/80 backdrop-blur-md border-b border-divider",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-16 p-3 flex items-center justify-center",children:e.jsx(r,{className:"w-8 h-4 rounded"})}),e.jsxs("div",{className:"w-48 p-3 flex items-center gap-1",children:[e.jsx(r,{className:"w-4 h-4 rounded"}),e.jsx(r,{className:"w-20 h-4 rounded"})]}),Array.from({length:_},(s,n)=>e.jsxs("div",{className:"w-10 p-3 flex flex-col items-center justify-center gap-1",children:[e.jsx(r,{className:"w-4 h-3 rounded"}),e.jsx(r,{className:"w-6 h-3 rounded"})]},n)),Array.from({length:3}).map((s,n)=>e.jsx("div",{className:"w-20 p-3 flex items-center justify-center",children:e.jsx(r,{className:"w-12 h-4 rounded"})},`leave-${n}`))]})}),e.jsx("div",{className:"divide-y divide-divider",children:Array.from({length:8}).map((s,n)=>e.jsxs("div",{className:"flex bg-content1 hover:bg-content2/50",children:[e.jsx("div",{className:"w-16 p-3 flex items-center justify-center",children:e.jsx(r,{className:"w-6 h-4 rounded"})}),e.jsxs("div",{className:"w-48 p-3 flex items-center gap-3",children:[e.jsx(r,{className:"w-8 h-8 rounded-full"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(r,{className:"w-24 h-4 rounded"}),e.jsx(r,{className:"w-16 h-3 rounded"})]})]}),Array.from({length:_},(h,c)=>e.jsx("div",{className:"w-10 p-3 flex items-center justify-center",children:e.jsx(r,{className:"w-6 h-6 rounded"})},c)),Array.from({length:3}).map((h,c)=>e.jsx("div",{className:"w-20 p-3 flex items-center justify-center",children:e.jsx(r,{className:"w-8 h-6 rounded"})},`leave-${c}`))]},n))})]})}),e.jsx("div",{className:"py-4 flex justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{className:"w-8 h-8 rounded"}),e.jsx(r,{className:"w-8 h-8 rounded"}),e.jsx(r,{className:"w-8 h-8 rounded"}),e.jsx(r,{className:"w-8 h-8 rounded"}),e.jsx(r,{className:"w-8 h-8 rounded"})]})})]}):!i||i.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(J,{className:"w-12 h-12 text-default-300 mb-4"}),e.jsx("span",{className:"text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No attendance data found"})]}):k?e.jsx("div",{className:"space-y-4",children:e.jsx(O,{className:"max-h-[70vh]",children:i.map((s,n)=>e.jsx(Z,{data:s,index:n,daysInMonth:_,currentMonth:x,currentYear:l,leaveTypes:N,leaveCounts:j,isWeekendDay:I},s.user_id||n))})}):e.jsx("div",{children:e.jsx(O,{className:"max-h-[70vh]",children:e.jsxs(be,{isStriped:!0,isCompact:!P,isHeaderSticky:!0,removeWrapper:!0,"aria-label":"Monthly Attendance Table",radius:U(),classNames:{base:"max-h-[520px] overflow-auto",table:"min-h-[200px] w-full",thead:"z-10",tbody:"overflow-y-auto",th:"backdrop-blur-md",td:"text-default-600"},style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(we,{columns:Q,children:s=>e.jsx(Ne,{align:s.key==="sl"||s.key.startsWith("day-")?"center":"start",className:"bg-default-100/50 backdrop-blur-md",width:s.width,style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[s.icon&&e.jsx(s.icon,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-medium",children:s.label})]}),s.sublabel&&e.jsx("span",{className:`text-xs ${s.isWeekend?"text-warning":"text-default-400"}`,children:s.sublabel})]})},s.key)}),e.jsx(Fe,{items:i,emptyContent:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(J,{className:"w-12 h-12 text-default-300 mb-4"}),e.jsx("span",{className:"text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No attendance data found"})]}),children:s=>e.jsx(ke,{children:n=>{var c;const h=i.findIndex(R=>(R.user_id||R.id)===(s.user_id||s.id));switch(n){case"sl":return e.jsx(Y,{className:"text-center font-medium",children:h+1});case"name":return e.jsx(Y,{className:"whitespace-nowrap",children:e.jsx(ae,{avatarProps:{src:s.profile_image_url||s.profile_image,name:s.name||"Unknown User",size:P?"md":"sm",...ie({name:s.name||"Unknown User",size:P?"md":"sm"})},name:s.name||"Unknown User",description:`Employee ID: ${s.employee_id}`||`ID: ${s.user_id}`})});default:if(n.startsWith("day-")){const p=parseInt(n.split("-")[1]),$=m(`${l}-${x}-${p}`).format("YYYY-MM-DD"),o=s[$],E=I(m($)),v=typeof o=="object"&&(o==null?void 0:o.status)||"â–¼",y=B(v);return e.jsx(Y,{className:`text-center ${E?"bg-default-50":""}`,children:e.jsx(re,{content:e.jsxs("div",{className:"text-sm space-y-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Status:"})," ",v]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Punch In:"})," ",(o==null?void 0:o.punch_in)||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Punch Out:"})," ",(o==null?void 0:o.punch_out)||"-"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Work Hours:"})," ",(o==null?void 0:o.total_work_hours)||"00:00"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Remarks:"})," ",(o==null?void 0:o.remarks)||"N/A"]})]}),placement:"top",children:e.jsx("div",{className:"flex items-center justify-center cursor-help",children:y.icon?e.jsx(y.icon,{className:"w-4 h-4",style:{color:y.color}}):e.jsx("span",{className:"text-xs",style:{color:y.color},children:v})})})})}const R=N==null?void 0:N.find(p=>p.type===n);if(R){const p=((c=j==null?void 0:j[s.user_id])==null?void 0:c[R.type])||0;return e.jsx(Y,{className:"text-center",children:e.jsx(te,{size:"sm",variant:p>0?"flat":"bordered",color:p>0?"warning":"default",className:"min-w-8",radius:U(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:p})})}return e.jsx(Y,{children:"-"})}}},s.user_id||s.id)})]})})})},z=()=>{var x;if(typeof window>"u")return"lg";const i=((x=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:x.trim())||"12px",l=parseInt(i);return l===0?"none":l<=4?"sm":l<=8?"md":l<=12?"lg":"xl"},Ze=Re.memo(({title:g})=>{const[i,l]=t.useState(!1),[x,N]=t.useState(!1),[j,F]=t.useState(!1),[C,P]=t.useState(!1);t.useEffect(()=>{const a=()=>{l(window.innerWidth<640),N(window.innerWidth<768),F(window.innerWidth>=1025),P(window.innerWidth>=641&&window.innerWidth<=1024)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const[k,_]=t.useState(!1),[I,q]=t.useState([]),[Q,B]=t.useState([]),[Z,s]=t.useState([]),[n,h]=t.useState(null),[c,R]=t.useState(0),[p,$]=t.useState(0),[o,E]=t.useState(""),[v,y]=t.useState(30),[S,d]=t.useState(1),[T,w]=t.useState(""),[f,xe]=t.useState({currentMonth:m().format("YYYY-MM")}),[M,he]=t.useState({meta:{month:"",workingDays:0,holidays:0,weekends:0},attendance:{present:0,absent:0,leaves:0,lateArrivals:0,percentage:0},hours:{totalWork:0,averageDaily:0,overtime:0}}),ue=t.useCallback((a,A)=>{xe(b=>({...b,[a]:A}))},[]),fe=async(a=1,A=30,b)=>{_(!0);try{const u=b.currentMonth?m(b.currentMonth).format("MM"):m().format("MM"),K=b.currentMonth?m(b.currentMonth).year():m().year(),L=await W.get(route("attendancesAdmin.paginate"),{params:{page:a,perPage:A,employee:o,currentYear:K,currentMonth:u}});q(L.data.data),R(L.data.total),$(L.data.last_page),s(L.data.leaveTypes),B(L.data.leaveCounts);const D=await W.get("/settings/attendance",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});D.data&&D.data.attendanceSettings&&h(D.data.attendanceSettings);const ee=await W.get(route("attendance.monthlyStats"),{params:{currentYear:K,currentMonth:u}});ee.data.success&&he(ee.data.data)}catch(u){console.error(u),Pe.error("Failed to fetch data.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",fontFamily:'var(--fontFamily, "Inter")',background:"var(--theme-content1, #FFFFFF)",border:"var(--borderWidth, 1px) solid var(--theme-divider, #E4E4E7)",color:"var(--theme-foreground, #000000)"}})}finally{_(!1)}},pe=a=>{const A=a.target.value.toLowerCase();E(A)};t.useEffect(()=>{fe(S,v,f).then(a=>"")},[S,v,f,o]);const ge=a=>{d(a)},ve=async()=>{w("excel");try{const a=f.currentMonth?m(f.currentMonth).format("YYYY-MM"):m().format("YYYY-MM"),A=await W.get(route("attendance.exportAdminExcel"),{params:{month:a},responseType:"blob"}),b=window.URL.createObjectURL(new Blob([A.data])),u=document.createElement("a");u.href=b,u.download=`Admin_Attendance_${a}.xlsx`,document.body.appendChild(u),u.click(),w(""),u.remove(),window.URL.revokeObjectURL(b)}catch(a){console.error("Download failed:",a),w(""),alert("Failed to download attendance sheet.")}},je=async()=>{w("pdf");try{const a=f.currentMonth?m(f.currentMonth).format("YYYY-MM"):m().format("YYYY-MM"),A=await W.get(route("attendance.exportAdminPdf"),{params:{month:a},responseType:"blob"}),b=window.URL.createObjectURL(new Blob([A.data],{type:"application/pdf"})),u=document.createElement("a");u.href=b,u.download=`Admin_Attendance_${a}.pdf`,document.body.appendChild(u),u.click(),w(""),u.remove(),window.URL.revokeObjectURL(b)}catch(a){console.error("PDF download failed:",a),w(""),alert("Failed to download attendance PDF.")}},ye=[{title:"Total Employees",value:M.meta.totalEmployees,icon:e.jsx(Le,{}),color:"text-blue-600",iconBg:"bg-blue-100",description:"Active employees"},{title:"Working Days",value:M.meta.workingDays,icon:e.jsx(G,{}),color:"text-purple-600",iconBg:"bg-purple-100",description:`This month (${M.meta.month})`},{title:"Present Days",value:M.attendance.present,icon:e.jsx(de,{}),color:"text-success",iconBg:"bg-success/20",description:"Total present days this month"},{title:"Absent Days",value:M.attendance.absent,icon:e.jsx(Ye,{}),color:"text-danger",iconBg:"bg-danger/20",description:"Total absent days this month"},{title:"Late Arrivals",value:M.attendance.lateArrivals,icon:e.jsx(We,{}),color:"text-orange-500",iconBg:"bg-orange-100",description:"Total late arrivals this month"},{title:"Attendance Rate",value:`${M.attendance.percentage}%`,icon:e.jsx(ce,{}),color:"text-success",iconBg:"bg-success/20",description:"Monthly attendance percentage"},{title:"Approved Leaves",value:M.attendance.leaves,icon:e.jsx(Ue,{}),color:"text-blue-500",iconBg:"bg-blue-100",description:"Approved leave requests this month"},{title:"Perfect Attendance",value:M.attendance.perfectCount,icon:e.jsx(de,{}),color:"text-green-600",iconBg:"bg-green-100",description:"Employees with perfect attendance"}];return e.jsxs(e.Fragment,{children:[e.jsx(Me,{title:g||"Attendance Management"}),e.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Attendance Management",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full",children:e.jsx(ze.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.jsxs(H,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                                        var(--theme-content1, #FAFAFA) 20%, 
                                        var(--theme-content2, #F4F4F5) 10%, 
                                        var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(ne,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                                            color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                                            color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:e.jsx("div",{className:`${j?"p-6":C?"p-4":"p-3"} w-full`,children:e.jsx("div",{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[k?e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx(r,{className:"w-12 h-12 rounded-xl"}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(r,{className:"w-64 h-6 rounded mb-2"}),e.jsx(r,{className:"w-48 h-4 rounded"})]})]}):e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx("div",{className:`
                                                                ${j?"p-3":C?"p-2.5":"p-2"} 
                                                                rounded-xl flex items-center justify-center
                                                            `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(ce,{className:`
                                                                    ${j?"w-8 h-8":C?"w-6 h-6":"w-5 h-5"}
                                                                `,style:{color:"var(--theme-primary)"}})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:`
                                                                    ${j?"text-2xl":C?"text-xl":"text-lg"}
                                                                    font-bold text-foreground
                                                                    ${j?"":"truncate"}
                                                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Attendance Management"}),e.jsx("p",{className:`
                                                                    ${j?"text-sm":"text-xs"} 
                                                                    text-default-500
                                                                    ${j?"":"truncate"}
                                                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Monitor and manage employee attendance records"})]})]}),k?e.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[e.jsx(r,{className:"w-16 h-8 rounded"}),e.jsx(r,{className:"w-14 h-8 rounded"})]}):e.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[e.jsx(oe,{size:i?"sm":"md",variant:"bordered",startContent:e.jsx(me,{className:"w-4 h-4"}),onPress:ve,isLoading:T==="excel",radius:z(),style:{background:"color-mix(in srgb, var(--theme-primary) 10%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-primary) 30%, transparent)",color:"var(--theme-primary)",fontFamily:'var(--fontFamily, "Inter")'},className:"min-w-0",children:"Excel"}),e.jsx(oe,{size:i?"sm":"md",variant:"bordered",startContent:e.jsx(me,{className:"w-4 h-4"}),onPress:je,isLoading:T==="pdf",radius:z(),style:{background:"color-mix(in srgb, var(--theme-danger) 10%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-danger) 30%, transparent)",color:"var(--theme-danger)",fontFamily:'var(--fontFamily, "Inter")'},className:"min-w-0",children:"PDF"})]})]})})})}),e.jsxs(V,{className:"p-6",children:[e.jsx(Ae,{stats:ye,className:"mb-6",isLoading:k}),e.jsx("div",{className:"mb-6",children:k?e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[e.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{className:"w-24 h-4 rounded"}),e.jsx(r,{className:"w-full h-10 rounded-lg"})]})}),e.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{className:"w-20 h-4 rounded"}),e.jsx(r,{className:"w-full h-10 rounded-lg"})]})})]}):e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[e.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:e.jsx(le,{label:"Search Employee",type:"text",value:o,onValueChange:pe,placeholder:"Enter employee name...",variant:"bordered",size:i?"sm":"md",radius:z(),startContent:e.jsx(Be,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"border-default-200 hover:border-default-300"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),e.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:e.jsx(le,{label:"Month/Year",type:"month",value:f.currentMonth,onValueChange:a=>ue("currentMonth",a),variant:"bordered",size:i?"sm":"md",radius:z(),startContent:e.jsx(Te,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"border-default-200 hover:border-default-300"},style:{fontFamily:'var(--fontFamily, "Inter")'}})})]})}),e.jsxs(H,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',background:`linear-gradient(135deg, 
                                                var(--theme-content1, #FAFAFA) 20%, 
                                                var(--theme-content2, #F4F4F5) 10%, 
                                                var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(ne,{className:"border-b pb-2",style:{borderColor:"var(--theme-divider, #E4E4E7)"},children:k?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r,{className:"w-8 h-8 rounded-lg"}),e.jsx(r,{className:"w-64 h-6 rounded"})]}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg flex items-center justify-center",style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)"},children:e.jsx(Oe,{className:"w-6 h-6",style:{color:"var(--theme-primary)"}})}),e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Employee Attendance Records"})]})}),e.jsx(V,{children:e.jsxs("div",{className:"max-h-[84vh] overflow-y-auto",children:[e.jsx(Qe,{attendanceData:I,currentYear:f.currentYear,currentMonth:f.currentMonth,leaveTypes:Z,leaveCounts:Q,loading:k,attendanceSettings:n}),c>=30&&e.jsx("div",{className:"py-4 px-2 flex justify-center items-center",children:e.jsx(_e,{initialPage:1,isCompact:!0,showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:S,total:p,onChange:ge,radius:z(),style:{fontFamily:'var(--fontFamily, "Inter")'}})})]})})]})]})]})})})})})]})});Ze.layout=g=>e.jsx($e,{children:g});export{Ze as default};
