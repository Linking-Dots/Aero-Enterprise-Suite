import{j as e,f as fe,s as Z,l as N,H as we,I as C,h as u,a as d,d as y,b as z,m as L,r as T,v as s,q as D}from"./vendor-heroui-CinxWHhv.js";import{r as c,J as _e,Q as Ne,R as Te}from"./vendor-inertia-sUfCHI_5.js";import{u as Ce,b as J}from"./app-BrvrVuek.js";import{a as ee,g as Re,p as re,A as ke}from"./Dashboard-BK9cEOtI.js";import{G as Se}from"./GlassCard-C0Lzp5vl.js";import{P as Fe}from"./PageHeader-DcavjRv5.js";import{s as G}from"./toastUtils-BVg-E_WQ.js";import{a as se}from"./vendor-utils-CrJAVL9K.js";import{b as I}from"./XMarkIcon-twQGc8di.js";import{F as Ee}from"./ChartBarIcon-BGC3fra6.js";import{F as B}from"./ShieldCheckIcon-Ck-ae4AP.js";import{F as ae}from"./DocumentArrowDownIcon-DCm9Iy1y.js";import{F as Ae}from"./ClockIcon-BKLni_N9.js";import{F as R}from"./ExclamationTriangleIcon-BarRaUA8.js";import{e as Pe}from"./vendor-framer-B7qqn1b6.js";import{F as te}from"./CheckCircleIcon-BAvoXTNq.js";import{F as ie}from"./LockClosedIcon-kY0qk8nI.js";import{F as Me}from"./KeyIcon-BIi5nz4o.js";import{F as $e}from"./PresentationChartLineIcon-BVDAJ73-.js";import{R as ze,A as Le,C as De,X as Ge,Y as Ie,T as Be,a as Oe}from"./AreaChart-Btu55_aJ.js";import{F as qe}from"./ChartPieIcon-BPLv2dAX.js";import{F as Ue}from"./TableCellsIcon-Dw93jRLu.js";import{F as He}from"./InformationCircleIcon-Hd0GuQtg.js";import{F as Qe}from"./ExclamationCircleIcon-JlX8Ou6T.js";import"./vendor-react-FouZbkAE.js";import"./EnvelopeIcon-CFKoTD3N.js";import"./UserGroupIcon-CSQScwVa.js";import"./MapPinIcon-DDwLGyCW.js";import"./UserIcon-CgrjQ1A2.js";import"./logo-DFaNDj_M.js";import"./MagnifyingGlassIcon-BJyUDYwI.js";import"./index-C_Sjs4zr.js";function Ke({title:v,titleId:w,...k},S){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:S,"aria-labelledby":w},k),v?c.createElement("title",{id:w},v):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"}))}const ne=c.forwardRef(Ke);function We({title:v,titleId:w,...k},S){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:S,"aria-labelledby":w},k),v?c.createElement("title",{id:w},v):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const Ve=c.forwardRef(We),Xe=({title:v,initialData:w})=>{var H;const{isDark:k}=Ce();getThemePrimaryColor();const[S,le]=c.useState(!1);c.useEffect(()=>{const r=()=>{le(window.innerWidth<768)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);const{auth:Ye,app:_}=_e().props,[i,oe]=c.useState(w||{}),[ce,F]=c.useState(!1),[E,de]=c.useState(!0),[P,me]=c.useState("30"),[A,xe]=c.useState("overview"),[M,he]=c.useState("24h"),[Ze,Je]=c.useState("database");c.useEffect(()=>{if(!E)return;const r=setInterval(()=>{$()},parseInt(P)*1e3);return()=>clearInterval(r)},[E,P]);const $=c.useCallback(async()=>{F(!0);try{const r=await se.get("/api/system-monitoring/metrics",{params:{type:A,period:M}});oe(r.data)}catch(r){console.error("Failed to fetch monitoring data:",r),G.error("Failed to refresh system data")}finally{F(!1)}},[A,M]),pe=r=>{switch(r){case"healthy":case"compliant":case"good":return"success";case"warning":case"partial":return"warning";case"critical":case"unhealthy":case"non_compliant":return"error";default:return"default"}},be=r=>{switch(r){case"healthy":case"compliant":return e.jsx(te,{className:"w-5 h-5"});case"warning":case"partial":return e.jsx(R,{className:"w-5 h-5"});case"critical":case"unhealthy":return e.jsx(Qe,{className:"w-5 h-5"});default:return e.jsx(He,{className:"w-5 h-5"})}},O={primary:theme.palette.primary.main,secondary:theme.palette.secondary.main,success:theme.palette.success.main,warning:theme.palette.warning.main,error:theme.palette.error.main,info:theme.palette.info.main},q=c.useCallback(async()=>{try{F(!0);const r=await se.get("/admin/system-report",{responseType:"blob"}),o=window.URL.createObjectURL(new Blob([r.data])),n=document.createElement("a");n.href=o,n.setAttribute("download",`system-report-${new Date().toISOString().split("T")[0]}.pdf`),document.body.appendChild(n),n.click(),n.remove(),window.URL.revokeObjectURL(o),G.success("System report exported successfully")}catch(r){console.error("Failed to export report:",r),G.error("Failed to export system report")}finally{F(!1)}},[]),U=()=>{var o,n,g,h,x,b,m,p,a;const r=[{title:"System Health",value:((o=i.system_health)==null?void 0:o.overall_status)||"Unknown",icon:e.jsx(Ve,{}),color:((n=i.system_health)==null?void 0:n.overall_status)==="healthy"?"success":"error",description:"Overall system status"},{title:"Response Time",value:`${Math.round(((g=i.performance_summary)==null?void 0:g.avg_response_time)||0)}ms`,icon:e.jsx(Ae,{}),color:(((h=i.performance_summary)==null?void 0:h.avg_response_time)||0)<500?"success":"warning",description:"Average response time"},{title:"Active Users",value:((x=i.user_activity)==null?void 0:x.active_users)||0,icon:e.jsx(I,{}),color:"info",description:"Currently online"},{title:"Error Rate",value:`${((((b=i.error_summary)==null?void 0:b.total_errors)||0)/Math.max(((m=i.performance_summary)==null?void 0:m.total_requests)||1,1)*100).toFixed(2)}%`,icon:e.jsx(R,{}),color:(((p=i.error_summary)==null?void 0:p.total_errors)||0)<10?"success":"error",description:"System error rate"}];return e.jsxs(Grid,{container:!0,spacing:3,children:[e.jsx(Grid,{item:!0,xs:12,children:e.jsx(Grid,{container:!0,spacing:3,children:r.map((l,j)=>e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(Pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},children:e.jsx(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px",p:2},children:e.jsx(CardContent,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Typography,{variant:"h4",className:"font-bold",children:l.value}),e.jsx(Typography,{variant:"subtitle2",color:"text.secondary",children:l.title}),e.jsx(Typography,{variant:"caption",color:"text.secondary",children:l.description})]}),e.jsx("div",{className:`p-3 rounded-full bg-${l.color}-500/20`,children:Te.cloneElement(l.icon,{className:`w-6 h-6 text-${l.color}-500`})})]})})})})},j))})}),e.jsx(Grid,{item:!0,xs:12,lg:8,children:e.jsxs(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e.jsx(y,{title:"System Health Checks",avatar:e.jsx(te,{className:"w-6 h-6"})}),e.jsx(CardContent,{children:e.jsx("div",{className:"space-y-3",children:((a=i.system_health)==null?void 0:a.checks)&&Object.entries(i.system_health.checks).map(([l,j])=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/10 backdrop-blur-md border border-white/20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[be(j.status),e.jsxs("div",{children:[e.jsx(Typography,{variant:"subtitle2",className:"capitalize font-medium",children:l.replace(/_/g," ")}),e.jsx(Typography,{variant:"caption",color:"text.secondary",children:j.message})]})]}),e.jsx(u,{label:j.status,color:pe(j.status),size:"small",variant:"outlined",className:"capitalize"})]},l))})})]})}),e.jsx(Grid,{item:!0,xs:12,lg:4,children:e.jsxs(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e.jsx(y,{title:"Quick Actions",avatar:e.jsx(Re,{className:"w-6 h-6"})}),e.jsx(CardContent,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(z,{startIcon:e.jsx(J,{className:"w-4 h-4"}),onClick:$,className:"w-full",variant:"bordered",children:"Refresh Data"}),e.jsx(z,{startIcon:e.jsx(ae,{className:"w-4 h-4"}),onClick:q,className:"w-full",variant:"bordered",children:"Export Report"}),e.jsx(z,{startIcon:e.jsx(re,{className:"w-4 h-4"}),className:"w-full",variant:"bordered",children:"Configure Alerts"})]})})]})})]})},ue=()=>{var b,m,p,a,l,j,Q,K,W,V,X;const[r,o]=c.useState(0),[n,g]=c.useState(10),h=((m=(b=i.database_stats)==null?void 0:b.table_analysis)==null?void 0:m.tables)||[],x=((a=(p=i.database_stats)==null?void 0:p.table_analysis)==null?void 0:a.summary)||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Grid,{container:!0,spacing:3,children:[e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:e.jsxs(CardContent,{className:"text-center",children:[e.jsx(Typography,{variant:"h4",className:"font-bold text-blue-500",children:x.total_tables||0}),e.jsx(Typography,{variant:"subtitle2",children:"Total Tables"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:e.jsxs(CardContent,{className:"text-center",children:[e.jsxs(Typography,{variant:"h4",className:"font-bold text-green-500",children:[((l=x.total_size_mb)==null?void 0:l.toFixed(2))||0," MB"]}),e.jsx(Typography,{variant:"subtitle2",children:"Total Size"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:e.jsxs(CardContent,{className:"text-center",children:[e.jsx(Typography,{variant:"h4",className:"font-bold text-purple-500",children:((j=x.total_rows)==null?void 0:j.toLocaleString())||0}),e.jsx(Typography,{variant:"subtitle2",children:"Total Rows"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:e.jsxs(CardContent,{className:"text-center",children:[e.jsx(Typography,{variant:"h4",className:"font-bold text-orange-500",children:((Q=x.engines_used)==null?void 0:Q.length)||0}),e.jsx(Typography,{variant:"subtitle2",children:"Storage Engines"})]})})})]}),e.jsxs(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e.jsx(y,{title:"Table Analysis",avatar:e.jsx(Ue,{className:"w-6 h-6"}),action:e.jsx(u,{label:`${h.length} Tables`,color:"primary",variant:"outlined"})}),e.jsxs(CardContent,{children:[e.jsx(TableContainer,{children:e.jsxs(L,{children:[e.jsx(TableHead,{children:e.jsxs(T,{children:[e.jsx(s,{children:"Table Name"}),e.jsx(s,{align:"right",children:"Rows"}),e.jsx(s,{align:"right",children:"Size (MB)"}),e.jsx(s,{align:"right",children:"Data (MB)"}),e.jsx(s,{align:"right",children:"Index (MB)"}),e.jsx(s,{children:"Engine"}),e.jsx(s,{children:"Created"})]})}),e.jsx(D,{children:h.slice(r*n,r*n+n).map((t,f)=>{var Y;return e.jsxs(T,{hover:!0,children:[e.jsx(s,{children:e.jsx(Typography,{variant:"subtitle2",className:"font-medium",children:t.TABLE_NAME})}),e.jsx(s,{align:"right",children:((Y=t.TABLE_ROWS)==null?void 0:Y.toLocaleString())||0}),e.jsx(s,{align:"right",children:e.jsx(u,{label:`${t.size_mb||0} MB`,size:"small",color:t.size_mb>10?"warning":"default"})}),e.jsx(s,{align:"right",children:t.data_mb||0}),e.jsx(s,{align:"right",children:t.index_mb||0}),e.jsx(s,{children:e.jsx(u,{label:t.ENGINE,size:"small",variant:"outlined"})}),e.jsx(s,{children:t.CREATE_TIME?new Date(t.CREATE_TIME).toLocaleDateString():"N/A"})]},t.TABLE_NAME)})})]})}),e.jsx(TablePagination,{rowsPerPageOptions:[5,10,25,50],component:"div",count:h.length,rowsPerPage:n,page:r,onPageChange:(t,f)=>o(f),onRowsPerPageChange:t=>{g(parseInt(t.target.value,10)),o(0)}})]})]}),((K=i.database_stats)==null?void 0:K.storage_analysis)&&e.jsxs(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e.jsx(y,{title:"Storage Analysis",avatar:e.jsx(ne,{className:"w-6 h-6"})}),e.jsx(CardContent,{children:e.jsxs("div",{className:"space-y-4",children:[(W=i.database_stats.storage_analysis.by_engine)==null?void 0:W.map((t,f)=>e.jsx("div",{className:"p-3 rounded-lg bg-white/5",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs(Typography,{variant:"subtitle2",className:"font-medium",children:[t.ENGINE," Engine"]}),e.jsxs(Typography,{variant:"caption",color:"text.secondary",children:[t.table_count," tables"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs(Typography,{variant:"subtitle2",className:"font-bold",children:[t.total_size_mb," MB"]}),e.jsxs(Typography,{variant:"caption",color:"text.secondary",children:["Avg: ",t.avg_size_mb," MB"]})]})]})},f)),((V=i.database_stats.storage_analysis.fragmentation)==null?void 0:V.length)>0&&e.jsxs("div",{children:[e.jsx(Typography,{variant:"h6",className:"mb-3",children:"Fragmentation Issues"}),i.database_stats.storage_analysis.fragmentation.map((t,f)=>e.jsxs(Alert,{severity:t.fragmentation_percent>50?"error":"warning",className:"mb-2",children:["Table ",e.jsx("strong",{children:t.TABLE_NAME})," has ",t.fragmentation_percent,"% fragmentation (",t.fragmentation_mb," MB)"]},f))]}),((X=i.database_stats.storage_analysis.recommendations)==null?void 0:X.length)>0&&e.jsxs("div",{children:[e.jsx(Typography,{variant:"h6",className:"mb-3",children:"Recommendations"}),i.database_stats.storage_analysis.recommendations.map((t,f)=>e.jsx(Alert,{severity:t.priority==="high"?"error":"info",className:"mb-2",children:t.message},f))]})]})})]})]})},ge=()=>{var g,h,x,b,m,p;const r=((g=i.performance_summary)==null?void 0:g.metrics)||[],o=((h=i.database_stats)==null?void 0:h.query_performance)||{},n=r.length>0?r.map((a,l)=>({name:a.metric_type?a.metric_type.replace(/_/g," ").replace(/\b\w/g,j=>j.toUpperCase()):`Metric ${l+1}`,avgTime:Math.round(a.avg_time||a.average_time||0),requests:a.total_requests||a.count||0,maxTime:Math.round(a.max_time||0)})):[{name:"API Requests",avgTime:120,requests:150,maxTime:500},{name:"Database Queries",avgTime:80,requests:200,maxTime:300},{name:"Cache Operations",avgTime:15,requests:80,maxTime:45},{name:"File Operations",avgTime:250,requests:30,maxTime:800}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Grid,{container:!0,spacing:3,children:[e.jsx(Grid,{item:!0,xs:12,md:8,children:e.jsxs(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e.jsx(y,{title:"Performance Metrics",avatar:e.jsx($e,{className:"w-6 h-6"}),action:r.length===0&&e.jsx(u,{label:"Sample Data",size:"small",color:"warning"})}),e.jsx(CardContent,{children:e.jsx(ze,{width:"100%",height:300,children:e.jsxs(Le,{data:n,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(De,{strokeDasharray:"3 3",stroke:theme.palette.divider,opacity:.3}),e.jsx(Ge,{dataKey:"name",stroke:theme.palette.text.secondary,fontSize:12}),e.jsx(Ie,{stroke:theme.palette.text.secondary,fontSize:12,label:{value:"Response Time (ms)",angle:-90,position:"insideLeft"}}),"                                        ",e.jsx(Be,{contentStyle:{backgroundColor:theme.palette.background.paper,border:`1px solid ${theme.palette.divider}`,borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),e.jsx(Oe,{type:"monotone",dataKey:"avgTime",stroke:O.primary,fill:`${O.primary}30`,strokeWidth:2})]})})})]})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e.jsx(y,{title:"Performance Summary",avatar:e.jsx(qe,{className:"w-6 h-6"})}),e.jsx(CardContent,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Typography,{variant:"h4",className:"font-bold text-blue-500",children:((x=o.performance_summary)==null?void 0:x.total_queries_24h)||0}),e.jsx(Typography,{variant:"caption",color:"text.secondary",children:"Queries (24h)"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs(Typography,{variant:"h4",className:"font-bold text-green-500",children:[Math.round(((b=o.performance_summary)==null?void 0:b.avg_execution_time)||0),"ms"]}),e.jsx(Typography,{variant:"caption",color:"text.secondary",children:"Avg Execution Time"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs(Typography,{variant:"h4",className:"font-bold text-red-500",children:[Math.round(((m=o.performance_summary)==null?void 0:m.slowest_query_time)||0),"ms"]}),e.jsx(Typography,{variant:"caption",color:"text.secondary",children:"Slowest Query"})]})]})})]})})]}),((p=o.slow_queries)==null?void 0:p.length)>0&&e.jsxs(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e.jsx(y,{title:"Slow Queries",avatar:e.jsx(R,{className:"w-6 h-6"})}),e.jsx(CardContent,{children:e.jsx(TableContainer,{children:e.jsxs(L,{children:[e.jsx(TableHead,{children:e.jsxs(T,{children:[e.jsx(s,{children:"Query Type"}),e.jsx(s,{align:"right",children:"Execution Time (ms)"}),e.jsx(s,{align:"right",children:"Memory Usage"}),e.jsx(s,{children:"Timestamp"})]})}),e.jsx(D,{children:o.slow_queries.slice(0,10).map((a,l)=>e.jsxs(T,{hover:!0,children:[e.jsx(s,{children:a.metric_type}),e.jsx(s,{align:"right",children:e.jsx(u,{label:`${a.execution_time_ms}ms`,color:a.execution_time_ms>2e3?"error":"warning",size:"small"})}),e.jsx(s,{align:"right",children:a.memory_usage||"N/A"}),e.jsx(s,{children:new Date(a.created_at).toLocaleString()})]},l))})]})})})]})]})},je=()=>{var g,h,x,b;const r=i.security_metrics||{},o=r.authentication||{},n=r.suspicious_activities||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Grid,{container:!0,spacing:3,children:[e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:e.jsxs(CardContent,{className:"text-center",children:[e.jsx(B,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),e.jsx(Typography,{variant:"h4",className:"font-bold text-green-500",children:o.successful_logins_24h||0}),e.jsx(Typography,{variant:"subtitle2",children:"Successful Logins (24h)"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:e.jsxs(CardContent,{className:"text-center",children:[e.jsx(R,{className:"w-8 h-8 mx-auto mb-2 text-red-500"}),e.jsx(Typography,{variant:"h4",className:"font-bold text-red-500",children:((g=r.failed_attempts)==null?void 0:g.length)||0}),e.jsx(Typography,{variant:"subtitle2",children:"Failed Login Attempts"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:e.jsxs(CardContent,{className:"text-center",children:[e.jsx(ie,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),e.jsx(Typography,{variant:"h4",className:"font-bold text-blue-500",children:o.unique_users_24h||0}),e.jsx(Typography,{variant:"subtitle2",children:"Unique Users (24h)"})]})})}),e.jsx(Grid,{item:!0,xs:12,sm:6,md:3,children:e.jsx(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:e.jsxs(CardContent,{className:"text-center",children:[e.jsx(re,{className:"w-8 h-8 mx-auto mb-2 text-orange-500"}),e.jsx(Typography,{variant:"h4",className:"font-bold text-orange-500",children:((h=n.high_frequency_ips)==null?void 0:h.length)||0}),e.jsx(Typography,{variant:"subtitle2",children:"Suspicious IPs"})]})})})]}),((x=r.security_events)==null?void 0:x.length)>0&&e.jsxs(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e.jsx(y,{title:"Recent Security Events",avatar:e.jsx(Me,{className:"w-6 h-6"})}),e.jsx(CardContent,{children:e.jsx("div",{className:"space-y-3",children:r.security_events.slice(0,10).map((m,p)=>e.jsx("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(Typography,{variant:"subtitle2",className:"font-medium",children:m.description}),e.jsxs(Typography,{variant:"caption",color:"text.secondary",children:["User: ",m.causer_id," | ",new Date(m.created_at).toLocaleString()]})]}),e.jsx(u,{label:"Security Event",size:"small",color:"warning",variant:"outlined"})]})},p))})})]}),((b=r.failed_attempts)==null?void 0:b.length)>0&&e.jsxs(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e.jsx(y,{title:"Failed Login Attempts",avatar:e.jsx(R,{className:"w-6 h-6"})}),e.jsx(CardContent,{children:e.jsx(TableContainer,{children:e.jsxs(L,{children:[e.jsx(TableHead,{children:e.jsxs(T,{children:[e.jsx(s,{children:"Error Type"}),e.jsx(s,{children:"Message"}),e.jsx(s,{children:"IP Address"}),e.jsx(s,{children:"Timestamp"})]})}),e.jsx(D,{children:r.failed_attempts.slice(0,10).map((m,p)=>e.jsxs(T,{hover:!0,children:[e.jsx(s,{children:e.jsx(u,{label:m.error_type,size:"small",color:"error"})}),e.jsx(s,{children:m.message}),e.jsx(s,{children:m.ip_address||"Unknown"}),e.jsx(s,{children:new Date(m.created_at).toLocaleString()})]},p))})]})})})]})]})},ye=()=>{var g,h,x,b,m,p;const r=i.compliance_metrics||{},o=r.iso_27001||{},n=r.data_protection||{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Grid,{container:!0,spacing:3,children:[e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsxs(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e.jsx(y,{title:"ISO 27001 Compliance",avatar:e.jsx(B,{className:"w-6 h-6"})}),e.jsxs(CardContent,{children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs(Typography,{variant:"h3",className:"font-bold text-blue-500",children:[o.compliance_score||0,"%"]}),e.jsx(Typography,{variant:"subtitle2",color:"text.secondary",children:"Compliance Score"})]}),o.checks&&Object.entries(o.checks).map(([a,l])=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/5 mb-2",children:[e.jsxs("div",{children:[e.jsx(Typography,{variant:"subtitle2",className:"capitalize",children:a.replace(/_/g," ")}),e.jsxs(Typography,{variant:"caption",color:"text.secondary",children:["Score: ",l.score,"%"]})]}),e.jsx(u,{label:l.compliant?"Compliant":"Non-Compliant",color:l.compliant?"success":"error",size:"small"})]},a))]})]})}),e.jsx(Grid,{item:!0,xs:12,md:6,children:e.jsxs(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e.jsx(y,{title:"Data Protection Compliance",avatar:e.jsx(ie,{className:"w-6 h-6"})}),e.jsxs(CardContent,{children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs(Typography,{variant:"h3",className:"font-bold text-green-500",children:[n.gdpr_compliance_score||0,"%"]}),e.jsx(Typography,{variant:"subtitle2",color:"text.secondary",children:"GDPR Compliance Score"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white/5",children:[e.jsx(Typography,{variant:"subtitle2",children:"Data Retention"}),e.jsx(u,{label:`${((g=n.data_retention)==null?void 0:g.score)||0}%`,size:"small",color:"info"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white/5",children:[e.jsx(Typography,{variant:"subtitle2",children:"Data Anonymization"}),e.jsx(u,{label:`${((h=n.data_anonymization)==null?void 0:h.score)||0}%`,size:"small",color:"warning"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white/5",children:[e.jsx(Typography,{variant:"subtitle2",children:"Consent Management"}),e.jsx(u,{label:`${((x=n.consent_management)==null?void 0:x.score)||0}%`,size:"small",color:"success"})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white/5",children:[e.jsx(Typography,{variant:"subtitle2",children:"Breach Procedures"}),e.jsx(u,{label:`${((b=n.data_breach_procedures)==null?void 0:b.score)||0}%`,size:"small",color:"info"})]})]})]})]})})]}),e.jsxs(d,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e.jsx(y,{title:"Compliance Recommendations",avatar:e.jsx(ee,{className:"w-6 h-6"})}),e.jsx(CardContent,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Typography,{variant:"h6",className:"mb-3",children:"ISO 27001 Recommendations"}),(m=o.recommendations)==null?void 0:m.map((a,l)=>e.jsx(Alert,{severity:"info",className:"mb-2",children:a},l))]}),e.jsxs("div",{children:[e.jsx(Typography,{variant:"h6",className:"mb-3",children:"Data Protection Recommendations"}),(p=n.recommendations)==null?void 0:p.map((a,l)=>e.jsx(Alert,{severity:"warning",className:"mb-2",children:a},l))]})]})})]})]})},ve=()=>{switch(A){case"overview":return e.jsx(U,{});case"database":return e.jsx(ue,{});case"performance":return e.jsx(ge,{});case"security":return e.jsx(je,{});case"compliance":return e.jsx(ye,{});default:return e.jsx(U,{})}};return e.jsxs(e.Fragment,{children:[e.jsx(Ne,{title:v}),e.jsx(Box,{className:"min-h-screen p-2 sm:p-4 md:p-6",sx:{background:"linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(168, 85, 247, 0.1) 100%)"},children:e.jsx(Grow,{in:!0,timeout:800,children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(Se,{children:e.jsx(Fe,{title:"Enterprise System Monitoring",subtitle:"ISO-compliant comprehensive system monitoring and analysis dashboard",icon:e.jsx(I,{className:"w-8 h-8"}),variant:"default",actionButtons:[{label:"Export Report",icon:e.jsx(ae,{className:"w-4 h-4"}),onPress:q,className:"bg-linear-to-r from-[rgba(var(--theme-primary-rgb),0.2)] to-[rgba(var(--theme-secondary-rgb),0.2)] hover:from-[rgba(var(--theme-primary-rgb),0.3)] hover:to-[rgba(var(--theme-secondary-rgb),0.3)] border border-[rgba(var(--theme-primary-rgb),0.3)]"},{label:"Refresh Data",icon:e.jsx(J,{className:"w-4 h-4"}),onPress:$,loading:ce}],children:e.jsxs("div",{className:"p-6",children:[e.jsx(Paper,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",p:3,mb:4},children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{checked:E,onChange:r=>de(r.target.checked),size:"sm"}),e.jsx(Typography,{variant:"body2",children:"Auto Refresh"})]}),e.jsxs(Z,{size:"sm",selectedKeys:[P],onSelectionChange:r=>me(Array.from(r)[0]),className:"w-24",isDisabled:!E,"aria-label":"Refresh interval",children:[e.jsx(N,{value:"30",children:"30s"},"30"),e.jsx(N,{value:"60",children:"1m"},"60"),e.jsx(N,{value:"300",children:"5m"},"300")]})]}),e.jsxs(Z,{size:"sm",selectedKeys:[M],onSelectionChange:r=>he(Array.from(r)[0]),className:"w-32","aria-label":"Time period",children:[e.jsx(N,{value:"1h",children:"Last Hour"},"1h"),e.jsx(N,{value:"24h",children:"Last 24h"},"24h"),e.jsx(N,{value:"7d",children:"Last 7 days"},"7d")]})]})}),e.jsx(Paper,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",mb:4},children:e.jsxs(we,{selectedKey:A,onSelectionChange:xe,"aria-label":"System monitoring sections",className:"p-4",children:[e.jsx(C,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4"}),"Overview"]})},"overview"),e.jsx(C,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-4 h-4"}),"Database"]})},"database"),e.jsx(C,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-4 h-4"}),"Performance"]})},"performance"),e.jsx(C,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4"}),"Security"]})},"security"),e.jsx(C,{title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4"}),"Compliance"]})},"compliance")]})}),e.jsx("div",{className:"min-h-[600px]",children:ve()}),e.jsx(Paper,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",p:3,mt:4},children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx(Typography,{variant:"subtitle2",color:"text.secondary",children:"Last Updated"}),e.jsx(Typography,{variant:"body2",className:"font-medium",children:(H=i.system_health)!=null&&H.last_check?new Date(i.system_health.last_check).toLocaleString():new Date().toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(Typography,{variant:"subtitle2",color:"text.secondary",children:"Monitoring Since"}),e.jsx(Typography,{variant:"body2",className:"font-medium",children:new Date().toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx(Typography,{variant:"subtitle2",color:"text.secondary",children:"System Version"}),e.jsxs(Typography,{variant:"body2",className:"font-medium",children:[(_==null?void 0:_.name)||"ERP System"," v",(_==null?void 0:_.version)||"2.0"]})]}),e.jsxs("div",{children:[e.jsx(Typography,{variant:"subtitle2",color:"text.secondary",children:"Compliance Status"}),e.jsx(u,{label:"ISO Compliant",color:"success",size:"small",variant:"outlined"})]})]})})]})})})})})})]})};Xe.layout=v=>e.jsx(ke,{children:v});export{Xe as default};
