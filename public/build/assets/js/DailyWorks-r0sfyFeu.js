const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/index.es-DpaJ18KS.js","assets/js/vendor-react-FouZbkAE.js","assets/js/vendor-heroui-CinxWHhv.js","assets/js/vendor-inertia-sUfCHI_5.js","assets/js/vendor-utils-CrJAVL9K.js","assets/js/vendor-framer-B7qqn1b6.js","assets/js/toastUtils-BVg-E_WQ.js","assets/js/Dashboard-Bg4tO2M5.js","assets/js/app-RFHBqkxw.js","assets/css/app-DMOtwR6T.css","assets/js/EnvelopeIcon-CFKoTD3N.js","assets/js/UserGroupIcon-CSQScwVa.js","assets/js/MapPinIcon-DDwLGyCW.js","assets/js/ClockIcon-BKLni_N9.js","assets/js/UserIcon-CgrjQ1A2.js","assets/js/ShieldCheckIcon-Ck-ae4AP.js","assets/js/XMarkIcon-twQGc8di.js","assets/js/KeyIcon-BIi5nz4o.js","assets/js/logo-DFaNDj_M.js","assets/js/MagnifyingGlassIcon-BJyUDYwI.js","assets/js/CheckCircleIcon-BAvoXTNq.js","assets/js/ExclamationTriangleIcon-BarRaUA8.js","assets/css/Dashboard-Bh76j7cs.css","assets/js/xlsx-Dn9MZjKJ.js","assets/js/createLucideIcon-DJAbkOCz.js","assets/js/PencilIcon-BsmkHcSS.js","assets/js/TrashIcon-Dnjv_I7q.js","assets/js/DocumentIcon-08C5TBVc.js","assets/js/PlusIcon-BO1LbXgZ.js","assets/js/EyeIcon-Ihhc2c0I.js","assets/js/XCircleIcon-BzKw4V53.js","assets/js/clock-Cy0rHGp7.js","assets/js/PhotoIcon-D-cYh0Dc.js","assets/js/ShieldExclamationIcon-C50lFaC-.js","assets/js/CheckCircleIcon-CykloG3X.js","assets/js/XCircleIcon-Cv262LQg.js","assets/js/ExclamationTriangleIcon-D3y6aOMr.js","assets/js/ClockIcon-Auj34PFH.js","assets/js/StatsCards-DkLQokOC.js","assets/js/calendar-CNUH36JA.js","assets/js/map-pin-DeqdV2gE.js","assets/js/DocumentArrowDownIcon-DCm9Iy1y.js","assets/js/InformationCircleIcon-Hd0GuQtg.js","assets/js/TableCellsIcon-Dw93jRLu.js","assets/js/index-C_Sjs4zr.js","assets/js/ChartBarIcon-BGC3fra6.js","assets/js/AdjustmentsHorizontalIcon-lemo7t2o.js"])))=>i.map(i=>d[i]);
var ap=Object.defineProperty;var ip=(n,t,e)=>t in n?ap(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Dc=(n,t,e)=>ip(n,typeof t!="symbol"?t+"":t,e);import{j as i,A as va,B as xa,C as ba,D as ya,K as Ql,F as si,k as Mo,h as on,b as mt,E as Ba,G as Oc,a1 as vr,i as On,t as Ma,a as Un,e as Zn,s as sr,l as Ln,L as Wr,a2 as sp,_ as Il,v as gn,S as mo,T as op,P as go,p as vl,m as Ed,n as Dd,o as Di,q as Od,r as Rd,d as El,J as ir,a3 as Rc,X as lp,Y as cp,a4 as dp,N as up,O as pp,a5 as oi,Q as fp,R as Mc}from"./vendor-heroui-CinxWHhv.js";import{r as Q,R as ec,J as hp,S as Tc,Q as mp}from"./vendor-inertia-sUfCHI_5.js";import{r as gp,a as Mt}from"./vendor-utils-CrJAVL9K.js";import{s as lt}from"./toastUtils-BVg-E_WQ.js";import{F as Hr,x as vp,e as Oi,u as qi,i as vo,P as ei,c as xl,t as xp,A as bp}from"./Dashboard-Bg4tO2M5.js";import{b as So,F as qc,g as ft,D as yp,a as wp,u as ws,w as Np}from"./xlsx-Dn9MZjKJ.js";import{f as Md,g as ks,A as Fo,e as ha}from"./vendor-framer-B7qqn1b6.js";import{F as Td}from"./PencilIcon-BsmkHcSS.js";import{F as Vr}from"./CheckCircleIcon-BAvoXTNq.js";import{F as ii}from"./TrashIcon-Dnjv_I7q.js";import{b as Vi}from"./app-RFHBqkxw.js";import{F as ma}from"./DocumentIcon-08C5TBVc.js";import{F as Po}from"./PlusIcon-BO1LbXgZ.js";import{F as Co}from"./EyeIcon-Ihhc2c0I.js";import{a as tc}from"./XMarkIcon-twQGc8di.js";import{F as ga}from"./ClockIcon-BKLni_N9.js";import{F as nc}from"./XCircleIcon-BzKw4V53.js";import{c as Ua}from"./createLucideIcon-DJAbkOCz.js";import{F as Ir}from"./ExclamationTriangleIcon-BarRaUA8.js";import{C as qd}from"./clock-Cy0rHGp7.js";import{F as zc}from"./PhotoIcon-D-cYh0Dc.js";import{F as Fs}from"./ShieldExclamationIcon-C50lFaC-.js";import{F as bl}from"./CheckCircleIcon-CykloG3X.js";import{F as Bc}from"./XCircleIcon-Cv262LQg.js";import{F as jp}from"./ExclamationTriangleIcon-D3y6aOMr.js";import{F as Sp}from"./ClockIcon-Auj34PFH.js";import{F as _s}from"./UserIcon-CgrjQ1A2.js";import{a as Ls,F as Ap}from"./MapPinIcon-DDwLGyCW.js";import{S as _p}from"./StatsCards-DkLQokOC.js";import{C as Lp}from"./calendar-CNUH36JA.js";import{M as Uc}from"./map-pin-DeqdV2gE.js";import{F as zd}from"./DocumentArrowDownIcon-DCm9Iy1y.js";import{F as Dl}from"./InformationCircleIcon-Hd0GuQtg.js";import{F as Bd}from"./TableCellsIcon-Dw93jRLu.js";import{P as Kt}from"./index-C_Sjs4zr.js";import{g as kp}from"./vendor-react-FouZbkAE.js";import{F as Wc}from"./ChartBarIcon-BGC3fra6.js";import{F as Fp}from"./AdjustmentsHorizontalIcon-lemo7t2o.js";import{F as Pp}from"./MagnifyingGlassIcon-BJyUDYwI.js";function Cp({title:n,titleId:t,...e},a){return Q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},e),n?Q.createElement("title",{id:t},n):null,Q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Ol=Q.forwardRef(Cp);function Ip({title:n,titleId:t,...e},a){return Q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},e),n?Q.createElement("title",{id:t},n):null,Q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const zi=Q.forwardRef(Ip);function Ep({title:n,titleId:t,...e},a){return Q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},e),n?Q.createElement("title",{id:t},n):null,Q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const yl=Q.forwardRef(Ep);function Dp({title:n,titleId:t,...e},a){return Q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},e),n?Q.createElement("title",{id:t},n):null,Q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const Hc=Q.forwardRef(Dp);function Op({title:n,titleId:t,...e},a){return Q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},e),n?Q.createElement("title",{id:t},n):null,Q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const Rl=Q.forwardRef(Op);function Rp({title:n,titleId:t,...e},a){return Q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},e),n?Q.createElement("title",{id:t},n):null,Q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 9v6m-4.5 0V9M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Mp=Q.forwardRef(Rp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],qp=Ua("check-check",Tp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Bp=Ua("circle-alert",zp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ns=Ua("circle-check-big",Up);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Hp=Ua("database",Wp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],$p=Ua("hash",Vp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Yp=Ua("rotate-ccw",Gp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Vc=Ua("sparkles",Kp);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$c=Ua("triangle-alert",Jp);function Xp({title:n,titleId:t,...e},a){return Q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},e),n?Q.createElement("title",{id:t},n):null,Q.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const Zp=Q.forwardRef(Xp);var js=gp();const Qp=({children:n,onEdit:t,onDelete:e,onStatusChange:a,disabled:l=!1,className:s=""})=>{const[c,u]=Q.useState(!1),[f,g]=Q.useState(null),y=Q.useRef(null),v=Q.useRef(0),j=Md(0),h=80,R=ks(j,[-h,-40,0],[1,.5,0]),P=ks(j,[0,40,h],[0,.5,1]),I=Q.useCallback(oe=>{l||(v.current=oe.touches[0].clientX)},[l]),L=Q.useCallback(oe=>{if(l)return;const M=oe.touches[0].clientX-v.current,ne=Math.max(-h*1.5,Math.min(h*1.5,M));j.set(ne),Math.abs(ne)>20&&g(ne<0?"left":"right")},[l,j]),E=Q.useCallback(()=>{if(l)return;const oe=j.get();Math.abs(oe)>=h?oe<0?(j.set(-h),u(!0),g("left")):(j.set(h),u(!0),g("right")):(j.set(0),u(!1),g(null))},[l,j]),K=Q.useCallback(()=>{j.set(0),u(!1),g(null)},[j]),ue=Q.useCallback(oe=>{oe==null||oe(),K()},[K]),se=Q.useCallback(oe=>{c&&y.current&&!y.current.contains(oe.target)&&K()},[c,K]);return ec.useEffect(()=>{if(c)return document.addEventListener("touchstart",se),()=>document.removeEventListener("touchstart",se)},[c,se]),i.jsxs("div",{ref:y,className:`relative overflow-hidden ${s}`,children:[i.jsx(Fo,{children:(f==="right"||j.get()>0)&&i.jsx(ha.div,{className:"absolute left-0 top-0 bottom-0 flex items-stretch",style:{width:h,opacity:P},children:i.jsxs("button",{onClick:()=>ue(t),className:"flex-1 flex flex-col items-center justify-center gap-1 bg-primary text-white active:bg-primary/80 transition-colors","aria-label":"Edit",children:[i.jsx(Td,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-medium",children:"Edit"})]})})}),i.jsx(Fo,{children:(f==="left"||j.get()<0)&&i.jsxs(ha.div,{className:"absolute right-0 top-0 bottom-0 flex items-stretch",style:{width:h,opacity:R},children:[a&&i.jsxs("button",{onClick:()=>ue(a),className:"flex-1 flex flex-col items-center justify-center gap-1 bg-success text-white active:bg-success/80 transition-colors","aria-label":"Complete",children:[i.jsx(Vr,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-medium",children:"Done"})]}),e&&i.jsxs("button",{onClick:()=>ue(e),className:"flex-1 flex flex-col items-center justify-center gap-1 bg-danger text-white active:bg-danger/80 transition-colors","aria-label":"Delete",children:[i.jsx(ii,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-medium",children:"Delete"})]})]})}),i.jsx(ha.div,{style:{x:j},onTouchStart:I,onTouchMove:L,onTouchEnd:E,className:"relative bg-content1",children:n}),!c&&!l&&i.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-20 pointer-events-none",children:i.jsx(Vi,{className:"w-4 h-4 text-default-400"})})]})},Gc=({isOpen:n,onClose:t,dailyWork:e,onFilesUpdated:a})=>{const[l,s]=Q.useState([]),[c,u]=Q.useState(!1),[f,g]=Q.useState(!1),[y,v]=Q.useState(0),[j,h]=Q.useState(null),[R,P]=Q.useState(null),I=Q.useRef(null);ec.useEffect(()=>{n&&(e!=null&&e.id)&&L()},[n,e==null?void 0:e.id]);const L=async()=>{var z,M,ne,ce,N;if(e!=null&&e.id){u(!0);try{const _=await Mt.get(route("dailyWorks.rfiFiles.index",e.id));s(_.data.files||[])}catch(_){console.error("Error fetching RFI files:",((z=_.response)==null?void 0:z.data)||_.message||_),lt.error(((ne=(M=_.response)==null?void 0:M.data)==null?void 0:ne.error)||((N=(ce=_.response)==null?void 0:ce.data)==null?void 0:N.message)||"Failed to load RFI files")}finally{u(!1)}}},E=async z=>{const M=Array.from(z.target.files);if(M.length===0)return;g(!0),v(0);const ne=new FormData;M.forEach(N=>{ne.append("files[]",N)});const ce=new Promise(async(N,_)=>{var D,O,J,G,pe,X,de,ve,Oe;try{const x=await Mt.post(route("dailyWorks.rfiFiles.upload",e.id),ne,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:C=>{const q=Math.round(C.loaded*100/C.total);v(q)}});if(x.data.errors&&x.data.errors.length>0){const C=x.data.errors.map(q=>q.error||q.file).join("; ");console.error("Upload errors from server:",x.data.errors),_(C);return}if(!x.data.files||x.data.files.length===0){console.error("No files were uploaded:",x.data),_("No files were uploaded. Please try again.");return}await L(),a&&a(x.data.total_files),N(x.data.message||"Files uploaded successfully")}catch(x){console.error("Error uploading files:",((D=x.response)==null?void 0:D.data)||x.message||x);const C=((pe=(G=(J=(O=x.response)==null?void 0:O.data)==null?void 0:J.errors)==null?void 0:G.files)==null?void 0:pe[0])||((de=(X=x.response)==null?void 0:X.data)==null?void 0:de.error)||((Oe=(ve=x.response)==null?void 0:ve.data)==null?void 0:Oe.message)||"Failed to upload files";_(C)}finally{g(!1),v(0),I.current&&(I.current.value="")}});lt.promise(ce,{loading:"Uploading files...",success:N=>N,error:N=>N})},K=async z=>{if(!confirm("Are you sure you want to delete this file?"))return;h(z);const M=new Promise(async(ne,ce)=>{var N,_,D,O,J;try{if(await Mt.delete(route("dailyWorks.rfiFiles.delete",[e.id,z])),await L(),a){const G=l.length-1;a(G)}ne("File deleted successfully")}catch(G){console.error("Error deleting file:",((N=G.response)==null?void 0:N.data)||G.message||G),ce(((D=(_=G.response)==null?void 0:_.data)==null?void 0:D.error)||((J=(O=G.response)==null?void 0:O.data)==null?void 0:J.message)||"Failed to delete file")}finally{h(null)}});lt.promise(M,{loading:"Deleting file...",success:ne=>ne,error:ne=>ne})},ue=z=>{z.is_image?P(z):window.open(z.url,"_blank")},se=z=>{window.open(route("dailyWorks.rfiFiles.download",[e.id,z.id]),"_blank")},oe=z=>z.is_image?i.jsxs("div",{className:"relative group",children:[i.jsx(Oc,{src:z.thumb_url||z.url,alt:z.name,className:"w-16 h-16 object-cover rounded-lg cursor-pointer",onClick:()=>ue(z)}),i.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center cursor-pointer",onClick:()=>ue(z),children:i.jsx(Co,{className:"w-5 h-5 text-white"})})]}):i.jsx("div",{className:"w-16 h-16 bg-red-50 dark:bg-red-900/20 rounded-lg flex items-center justify-center cursor-pointer hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",onClick:()=>ue(z),children:i.jsx(Hr,{className:"w-8 h-8 text-red-500"})});return i.jsxs(i.Fragment,{children:[i.jsx(va,{isOpen:n,onClose:t,size:"2xl",scrollBehavior:"inside",placement:"center",children:i.jsx(xa,{children:z=>i.jsxs(i.Fragment,{children:[i.jsxs(ba,{className:"flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ma,{className:"w-5 h-5 text-primary"}),i.jsxs("span",{children:["RFI Files - ",e==null?void 0:e.number]})]}),i.jsx("p",{className:"text-sm text-default-500 font-normal",children:"Manage uploaded RFI documents and images"})]}),i.jsxs(ya,{children:[i.jsxs("div",{className:"border-2 border-dashed border-default-300 rounded-lg p-4 text-center hover:border-primary transition-colors",children:[i.jsx("input",{ref:I,type:"file",multiple:!0,accept:"image/jpeg,image/png,image/webp,image/gif,application/pdf",onChange:E,className:"hidden",id:"rfi-file-input"}),f?i.jsxs("div",{className:"py-4",children:[i.jsx(Ql,{value:y,className:"max-w-md mx-auto",color:"primary",showValueLabel:!0}),i.jsx("p",{className:"text-sm text-default-500 mt-2",children:"Uploading files..."})]}):i.jsxs("label",{htmlFor:"rfi-file-input",className:"cursor-pointer flex flex-col items-center gap-2 py-4",children:[i.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:i.jsx(Po,{className:"w-6 h-6 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Click to upload files"}),i.jsx("p",{className:"text-xs text-default-400",children:"Images (JPEG, PNG, WebP, GIF) or PDF files up to 10MB each"})]})]})]}),i.jsx(si,{className:"my-2"}),c?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(Mo,{size:"lg"})}):l.length===0?i.jsxs("div",{className:"text-center py-8 text-default-400",children:[i.jsx(ma,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No files uploaded yet"})]}):i.jsx("div",{className:"space-y-2",children:l.map(M=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-default-50 dark:bg-default-100/10 rounded-lg hover:bg-default-100 dark:hover:bg-default-100/20 transition-colors",children:[oe(M),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",title:M.name,children:M.name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(on,{size:"sm",variant:"flat",color:M.is_image?"primary":"danger",className:"h-5",children:M.is_image?"Image":"PDF"}),i.jsx("span",{className:"text-xs text-default-400",children:M.human_size})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(mt,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>ue(M),title:"Preview",children:i.jsx(Co,{className:"w-4 h-4"})}),i.jsx(mt,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>se(M),title:"Download",children:i.jsx(Ol,{className:"w-4 h-4"})}),i.jsx(mt,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",isLoading:j===M.id,onPress:()=>K(M.id),title:"Delete",children:j!==M.id&&i.jsx(ii,{className:"w-4 h-4"})})]})]},M.id))})]}),i.jsx(Ba,{children:i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsxs("span",{className:"text-sm text-default-500",children:[l.length," file",l.length!==1?"s":""," uploaded"]}),i.jsx(mt,{color:"primary",variant:"light",onPress:z,children:"Close"})]})})]})})}),R&&i.jsx(va,{isOpen:!!R,onClose:()=>P(null),size:"4xl",placement:"center",children:i.jsx(xa,{children:z=>i.jsxs(i.Fragment,{children:[i.jsxs(ba,{className:"flex items-center justify-between",children:[i.jsx("span",{className:"truncate",children:R.name}),i.jsx(mt,{isIconOnly:!0,size:"sm",variant:"light",onPress:z,children:i.jsx(tc,{className:"w-5 h-5"})})]}),i.jsx(ya,{className:"p-0",children:i.jsx(Oc,{src:R.url,alt:R.name,className:"w-full h-auto max-h-[70vh] object-contain",removeWrapper:!0})})]})})})]})},Yc=({open:n,closeModal:t,dailyWork:e,onStatusUpdated:a})=>{var se,oe;const[l,s]=Q.useState({status:"new",inspection_result:"",completion_time:"",inspection_details:""}),[c,u]=Q.useState(!1);Q.useEffect(()=>{e&&n&&s({status:e.status||"new",inspection_result:e.inspection_result||"",completion_time:e.completion_time?new Date(e.completion_time).toISOString().slice(0,16):"",inspection_details:e.inspection_details||""})},[e,n]);const f=Q.useMemo(()=>[{key:"pass",label:"Pass",color:"success",description:"Work passed inspection"},{key:"fail",label:"Fail",color:"danger",description:"Work failed inspection"},{key:"conditional",label:"Conditional",color:"warning",description:"Passed with conditions"},{key:"pending",label:"Pending",color:"default",description:"Awaiting inspection"}],[]),g=Q.useMemo(()=>[{key:"new",label:"New",color:"primary",bgColor:"bg-primary-50",borderColor:"border-primary-300",textColor:"text-primary-700",icon:ga,description:"Work has been created and is waiting to be started"},{key:"in-progress",label:"In Progress",color:"secondary",bgColor:"bg-secondary-50",borderColor:"border-secondary-300",textColor:"text-secondary-700",icon:Vi,description:"Work is currently being executed"},{key:"pending",label:"Pending",color:"default",bgColor:"bg-default-100",borderColor:"border-default-300",textColor:"text-default-700",icon:Mp,description:"Work is on hold awaiting action"},{key:"completed",label:"Completed",color:"success",bgColor:"bg-success-50",borderColor:"border-success-300",textColor:"text-success-700",icon:Vr,description:"Work has been completed (select inspection result below)"},{key:"rejected",label:"Rejected",color:"danger",bgColor:"bg-danger-50",borderColor:"border-danger-300",textColor:"text-danger-700",icon:nc,description:"Work was rejected and needs correction"},{key:"resubmission",label:"Resubmission",color:"warning",bgColor:"bg-warning-50",borderColor:"border-warning-300",textColor:"text-warning-700",icon:Yp,description:"Work has been corrected and resubmitted"},{key:"emergency",label:"Emergency",color:"danger",bgColor:"bg-danger-100",borderColor:"border-danger-400",textColor:"text-danger-700",icon:Ir,description:"Urgent work requiring immediate attention"}],[]),y=async()=>{u(!0);const z=new Promise(async(M,ne)=>{var ce,N,_,D,O;try{const J={id:e.id,status:l.status,completion_time:l.completion_time,inspection_details:l.inspection_details};l.status==="completed"&&l.inspection_result&&(J.inspection_result=l.inspection_result);const G=await Mt.post(route("dailyWorks.updateStatus"),J);a(G.data.dailyWork),t(),M("Status updated successfully")}catch(J){console.error("Error updating status:",((ce=J.response)==null?void 0:ce.data)||J.message||J);const G=((_=(N=J.response)==null?void 0:N.data)==null?void 0:_.error)||((O=(D=J.response)==null?void 0:D.data)==null?void 0:O.message)||"Failed to update status";ne(G)}finally{u(!1)}});lt.promise(z,{loading:"Updating status...",success:M=>M,error:M=>M})},v=()=>g.find(z=>z.key===l.status),j=()=>g.find(z=>z.key===(e==null?void 0:e.status)),h=z=>{s(M=>({...M,status:z,completion_time:z==="completed"&&!M.completion_time?new Date().toISOString().slice(0,16):M.completion_time,inspection_result:z==="completed"?M.inspection_result:""}))},R=z=>{s(M=>({...M,inspection_result:z}))},P=(e==null?void 0:e.status)!==l.status,I=l.status==="completed"&&(e==null?void 0:e.inspection_result)!==l.inspection_result,L=l.inspection_details!==((e==null?void 0:e.inspection_details)||""),E=P||I||L,K=((se=v())==null?void 0:se.icon)||ga,ue=((oe=j())==null?void 0:oe.icon)||ga;return i.jsx(va,{isOpen:n,onClose:t,size:"lg",scrollBehavior:"inside",placement:"center",classNames:{base:"mx-2 sm:mx-4 my-2 max-h-[90vh] overflow-hidden",wrapper:"items-center overflow-hidden",backdrop:"bg-black/50",body:"py-4 px-4 sm:px-6 overflow-y-auto",header:"px-4 sm:px-6 pt-4 pb-2 border-b border-divider",footer:"px-4 sm:px-6 py-4 border-t border-divider bg-content1",closeButton:"top-3 right-3"},children:i.jsx(xa,{className:"max-h-[90vh] flex flex-col",children:z=>{var M,ne,ce,N,_,D,O,J,G,pe,X,de,ve,Oe,x;return i.jsxs(i.Fragment,{children:[i.jsx(ba,{className:"flex flex-col gap-1 shrink-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center shrink-0",children:i.jsx(Vr,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h2",{className:"text-base sm:text-lg font-bold text-default-900",children:"Update Work Status"}),i.jsx("p",{className:"text-xs text-default-500 font-normal truncate",children:e==null?void 0:e.number})]})]})}),i.jsx(ya,{className:"flex-1 overflow-y-auto",children:i.jsxs("div",{className:"space-y-4",children:[(e==null?void 0:e.description)&&i.jsx("div",{className:"bg-default-50 rounded-lg p-3 border border-default-100",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(So,{className:"w-4 h-4 text-default-400 shrink-0 mt-0.5"}),i.jsx("p",{className:"text-sm text-default-600 line-clamp-2",children:e.description})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"bg-default-50 rounded-lg p-2",children:[i.jsx("span",{className:"text-default-400 block",children:"Type"}),i.jsx("span",{className:"font-medium text-default-700",children:(e==null?void 0:e.type)||"N/A"})]}),i.jsxs("div",{className:"bg-default-50 rounded-lg p-2",children:[i.jsx("span",{className:"text-default-400 block",children:"Location"}),i.jsx("span",{className:"font-medium text-default-700 truncate block",children:(e==null?void 0:e.location)||"N/A"})]}),i.jsxs("div",{className:"bg-default-50 rounded-lg p-2",children:[i.jsx("span",{className:"text-default-400 block",children:"In Charge"}),i.jsx("span",{className:"font-medium text-default-700",children:((M=e==null?void 0:e.incharge_user)==null?void 0:M.name)||((ne=e==null?void 0:e.inchargeUser)==null?void 0:ne.name)||"N/A"})]}),i.jsxs("div",{className:"bg-default-50 rounded-lg p-2",children:[i.jsx("span",{className:"text-default-400 block",children:"Assigned To"}),i.jsx("span",{className:"font-medium text-default-700",children:((ce=e==null?void 0:e.assigned_user)==null?void 0:ce.name)||((N=e==null?void 0:e.assignedUser)==null?void 0:N.name)||"Not assigned"})]})]}),i.jsx(si,{}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(qp,{className:"w-4 h-4 text-primary"}),i.jsx("span",{className:"font-semibold text-sm text-default-900",children:"Select New Status"})]}),i.jsx("div",{className:"space-y-2",children:g.map(C=>{const q=C.icon,V=l.status===C.key;return i.jsx("button",{type:"button",onClick:()=>h(C.key),className:vr("w-full p-3 rounded-lg border-2 transition-all duration-150 text-left","focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-1","active:scale-[0.99]",V?`${C.bgColor} ${C.borderColor}`:"bg-content1 border-default-200 hover:border-default-300"),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:vr("w-8 h-8 rounded-full flex items-center justify-center shrink-0",V?C.bgColor:"bg-default-100"),children:i.jsx(q,{className:vr("w-4 h-4",V?C.textColor:"text-default-500")})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:vr("font-medium text-sm",V?C.textColor:"text-default-700"),children:C.label}),V&&i.jsx(on,{color:C.color,size:"sm",variant:"flat",className:"h-5 text-xs",children:"Selected"})]}),i.jsx("p",{className:vr("text-xs mt-0.5 line-clamp-1",V?C.textColor:"text-default-400"),children:C.description})]})]})},C.key)})})]}),l.status==="completed"&&i.jsxs("div",{className:"bg-success-50 border-2 border-success-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Vr,{className:"w-4 h-4 text-success-600"}),i.jsx("span",{className:"font-semibold text-sm text-success-700",children:"Inspection Result"}),i.jsx("span",{className:"text-xs text-success-500",children:"(Required)"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.map(C=>{const q=l.inspection_result===C.key;return i.jsxs("button",{type:"button",onClick:()=>R(C.key),className:vr("p-3 rounded-lg border-2 transition-all duration-150 text-center","focus:outline-none focus:ring-2 focus:ring-success focus:ring-offset-1","active:scale-[0.98]",q?C.color==="success"?"bg-success-100 border-success-400":C.color==="danger"?"bg-danger-100 border-danger-400":C.color==="warning"?"bg-warning-100 border-warning-400":"bg-default-100 border-default-400":"bg-white border-default-200 hover:border-default-300"),children:[i.jsx("span",{className:vr("font-medium text-sm block",q?C.color==="success"?"text-success-700":C.color==="danger"?"text-danger-700":C.color==="warning"?"text-warning-700":"text-default-700":"text-default-600"),children:C.label}),i.jsx("span",{className:"text-xs text-default-400 block mt-0.5",children:C.description})]},C.key)})})]}),l.status==="completed"&&i.jsx("div",{children:i.jsx(On,{label:"Completion Time",type:"datetime-local",value:l.completion_time,onValueChange:C=>s(q=>({...q,completion_time:C})),variant:"bordered",size:"sm",startContent:i.jsx(qd,{size:16,className:"text-default-400"}),description:"When was this work actually completed?",classNames:{label:"text-default-700 font-medium text-sm",input:"text-sm",inputWrapper:"min-h-10"}})}),["completed","rejected","resubmission"].includes(l.status)&&i.jsx("div",{children:i.jsx(Ma,{label:"Inspection Details",placeholder:l.status==="rejected"?"Describe the issues...":"Add inspection notes...",value:l.inspection_details,onValueChange:C=>s(q=>({...q,inspection_details:C})),variant:"bordered",minRows:2,maxRows:4,size:"sm",classNames:{label:"text-default-700 font-medium text-sm",input:"text-sm resize-none",inputWrapper:"min-h-16"}})}),P&&i.jsxs("div",{className:vr("p-3 rounded-lg border-2",(_=v())==null?void 0:_.bgColor,(D=v())==null?void 0:D.borderColor),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Bp,{className:vr("w-4 h-4",(O=v())==null?void 0:O.textColor)}),i.jsx("span",{className:vr("font-medium text-sm",(J=v())==null?void 0:J.textColor),children:"Status Change"})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-1.5 bg-white/60 rounded px-2 py-1",children:[i.jsx(ue,{className:"w-3.5 h-3.5 text-default-500"}),i.jsx("span",{className:"text-xs font-medium capitalize",children:(G=e==null?void 0:e.status)==null?void 0:G.replace("_"," ")})]}),i.jsx("svg",{className:"w-4 h-4 text-default-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),i.jsxs("div",{className:vr("flex items-center gap-1.5 rounded px-2 py-1",(pe=v())==null?void 0:pe.bgColor),children:[i.jsx(K,{className:vr("w-3.5 h-3.5",(X=v())==null?void 0:X.textColor)}),i.jsx("span",{className:vr("text-xs font-medium",(de=v())==null?void 0:de.textColor),children:(ve=v())==null?void 0:ve.label})]})]})]})]})}),i.jsxs(Ba,{className:"shrink-0 flex-col sm:flex-row gap-2",children:[i.jsx(mt,{variant:"flat",color:"default",onPress:t,isDisabled:c,className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),i.jsx(mt,{color:((Oe=v())==null?void 0:Oe.color)||"primary",onPress:y,isLoading:c,startContent:!c&&i.jsx(K,{className:"w-4 h-4"}),className:"w-full sm:w-auto order-1 sm:order-2 font-semibold",isDisabled:!E||l.status==="completed"&&!l.inspection_result,children:c?"Updating...":`Update to ${(x=v())==null?void 0:x.label}`})]})]})}})})},Kc=[{value:"design_conflict",label:"Design Conflict"},{value:"site_mismatch",label:"Site Condition Mismatch"},{value:"material_change",label:"Material Change"},{value:"safety_concern",label:"Safety Concern"},{value:"specification_error",label:"Specification Error"},{value:"other",label:"Other"}],Jc={draft:{color:"default",icon:ma,label:"Draft"},submitted:{color:"warning",icon:Rl,label:"Submitted"},under_review:{color:"primary",icon:ga,label:"Under Review"},resolved:{color:"success",icon:Vr,label:"Resolved"},rejected:{color:"danger",icon:nc,label:"Rejected"}},Xc=({isOpen:n,onClose:t,dailyWork:e,onObjectionsUpdated:a,canCreate:l=!1,canReview:s=!1})=>{const[c,u]=Q.useState([]),[f,g]=Q.useState(!1),[y,v]=Q.useState(!1),[j,h]=Q.useState(!1),[R,P]=Q.useState(null),[I,L]=Q.useState(null),[E,K]=Q.useState(!1),[ue,se]=Q.useState(0),oe=Q.useRef(null),[z,M]=Q.useState({title:"",category:"other",description:"",reason:""}),[ne,ce]=Q.useState([]),[N,_]=Q.useState({notes:"",action:""});Q.useEffect(()=>{n&&(e!=null&&e.id)&&D()},[n,e==null?void 0:e.id]);const D=async()=>{if(e!=null&&e.id){g(!0);try{const W=await Mt.get(route("dailyWorks.objections.index",e.id));u(W.data.objections||[])}catch(W){console.error("Error fetching objections:",W),lt.error("Failed to load objections")}finally{g(!1)}}},O=async(W=!1)=>{var $,be;if(!z.title.trim()||!z.description.trim()||!z.reason.trim()){lt.error("Please fill in all required fields");return}v(!0);try{const Ie=(await Mt.post(route("dailyWorks.objections.store",e.id),{...z,status:W?"submitted":"draft"})).data.objection;if(ne.length>0){const Ee=new FormData;ne.forEach(Ve=>{Ee.append("files[]",Ve)});try{await Mt.post(route("dailyWorks.objections.files.upload",[e.id,Ie.id]),Ee,{headers:{"Content-Type":"multipart/form-data"}})}catch(Ve){console.error("Error uploading files:",Ve),lt.warning("Objection created but some files failed to upload")}}lt.success(W?"Objection submitted successfully":"Objection saved as draft"),await D(),M({title:"",category:"other",description:"",reason:""}),ce([]),h(!1),a&&a()}catch(je){console.error("Error creating objection:",je),lt.error(((be=($=je.response)==null?void 0:$.data)==null?void 0:be.error)||"Failed to create objection")}finally{v(!1)}},J=W=>{const $=Array.from(W.target.files);ce(be=>[...be,...$])},G=W=>{ce($=>$.filter((be,je)=>je!==W))},pe=W=>{P(W.id),M({title:W.title,category:W.category,description:W.description,reason:W.reason}),h(!1)},X=async()=>{var W,$;if(!z.title.trim()||!z.description.trim()||!z.reason.trim()){lt.error("Please fill in all required fields");return}v(!0);try{await Mt.put(route("dailyWorks.objections.update",[e.id,R]),z),lt.success("Objection updated successfully"),M({title:"",category:"other",description:"",reason:""}),P(null),await D(),a&&a()}catch(be){console.error("Error updating objection:",be),lt.error((($=(W=be.response)==null?void 0:W.data)==null?void 0:$.error)||"Failed to update objection")}finally{v(!1)}},de=()=>{P(null),M({title:"",category:"other",description:"",reason:""})},ve=async W=>{var $,be;try{await Mt.post(route("dailyWorks.objections.submit",[e.id,W])),lt.success("Objection submitted for review"),await D(),a&&a()}catch(je){console.error("Error submitting objection:",je),lt.error(((be=($=je.response)==null?void 0:$.data)==null?void 0:be.error)||"Failed to submit objection")}},Oe=async(W,$)=>{var be,je;if(!N.notes.trim()){lt.error(`Please provide ${$==="resolve"?"resolution":"rejection"} notes`);return}try{const Ie=$==="resolve"?route("dailyWorks.objections.resolve",[e.id,W]):route("dailyWorks.objections.reject",[e.id,W]);await Mt.post(Ie,{[$==="resolve"?"resolution_notes":"rejection_reason"]:N.notes}),lt.success(`Objection ${$==="resolve"?"resolved":"rejected"} successfully`),_({notes:"",action:""}),L(null),await D(),a&&a()}catch(Ie){console.error(`Error ${$}ing objection:`,Ie),lt.error(((je=(be=Ie.response)==null?void 0:be.data)==null?void 0:je.error)||`Failed to ${$} objection`)}},x=async W=>{var $,be;if(confirm("Are you sure you want to delete this objection?"))try{await Mt.delete(route("dailyWorks.objections.destroy",[e.id,W])),lt.success("Objection deleted successfully"),await D(),a&&a()}catch(je){console.error("Error deleting objection:",je),lt.error(((be=($=je.response)==null?void 0:$.data)==null?void 0:be.error)||"Failed to delete objection")}},C=async(W,$)=>{var Ie,Ee;const be=Array.from(W.target.files);if(be.length===0)return;K(!0),se(0);const je=new FormData;be.forEach(Ve=>{je.append("files[]",Ve)});try{await Mt.post(route("dailyWorks.objections.files.upload",[e.id,$]),je,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:Ve=>{const he=Math.round(Ve.loaded*100/Ve.total);se(he)}}),lt.success("Files uploaded successfully"),await D()}catch(Ve){console.error("Error uploading files:",Ve),lt.error(((Ee=(Ie=Ve.response)==null?void 0:Ie.data)==null?void 0:Ee.error)||"Failed to upload files")}finally{K(!1),se(0),oe.current&&(oe.current.value="")}},q=async(W,$)=>{if(confirm("Are you sure you want to delete this file?"))try{await Mt.delete(route("dailyWorks.objections.files.delete",[e.id,W,$])),lt.success("File deleted successfully"),await D()}catch(be){console.error("Error deleting file:",be),lt.error("Failed to delete file")}},V=W=>{const $=Jc[W]||Jc.draft,be=$.icon;return i.jsx(on,{size:"sm",color:$.color,variant:"flat",startContent:i.jsx(be,{className:"w-3 h-3"}),children:$.label})},Z=W=>{var Ee,Ve;const $=["draft","submitted","under_review"].includes(W.status),be=W.status==="draft"&&l,je=W.status==="draft"&&l,Ie=["submitted","under_review"].includes(W.status)&&s;return i.jsx(Un,{className:`mb-3 ${$?"border-l-4 border-warning":""}`,shadow:"sm",children:i.jsxs(Zn,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[V(W.status),i.jsx(on,{size:"sm",variant:"bordered",children:W.category_label})]}),i.jsx("h4",{className:"font-semibold text-sm",children:W.title})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[be&&i.jsx(Wr,{content:"Edit",children:i.jsx(mt,{isIconOnly:!0,size:"sm",variant:"light",color:"primary",onPress:()=>pe(W),children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})}),je&&i.jsx(Wr,{content:"Submit for Review",children:i.jsx(mt,{isIconOnly:!0,size:"sm",variant:"light",color:"primary",onPress:()=>ve(W.id),children:i.jsx(Rl,{className:"w-4 h-4"})})}),be&&i.jsx(Wr,{content:"Delete",children:i.jsx(mt,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",onPress:()=>x(W.id),children:i.jsx(ii,{className:"w-4 h-4"})})})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-xs text-default-500 mb-1",children:"Description:"}),i.jsx("p",{className:"text-sm",children:W.description})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-xs text-default-500 mb-1",children:"Reason for Objection:"}),i.jsx("p",{className:"text-sm",children:W.reason})]}),W.resolution_notes&&i.jsxs("div",{className:"mb-3 p-2 bg-default-100 rounded-lg",children:[i.jsx("p",{className:"text-xs text-default-500 mb-1",children:W.status==="resolved"?"Resolution:":"Rejection Reason:"}),i.jsx("p",{className:"text-sm",children:W.resolution_notes})]}),W.files&&W.files.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsxs("p",{className:"text-xs text-default-500 mb-2",children:["Attachments (",W.files.length,"):"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:W.files.map(he=>i.jsxs("div",{className:"flex items-center gap-1 p-1 bg-default-100 rounded text-xs",children:[he.is_image?i.jsx(zc,{className:"w-3 h-3 text-blue-500"}):i.jsx(Hr,{className:"w-3 h-3 text-red-500"}),i.jsx("span",{className:"max-w-[100px] truncate",children:he.name}),i.jsx("a",{href:he.url,target:"_blank",rel:"noopener noreferrer",children:i.jsx(Co,{className:"w-3 h-3 cursor-pointer hover:text-primary"})}),be&&i.jsx(ii,{className:"w-3 h-3 cursor-pointer hover:text-danger",onClick:()=>q(W.id,he.id)})]},he.id))})]}),be&&i.jsxs("div",{className:"mb-3",children:[i.jsx("input",{type:"file",multiple:!0,accept:"image/*,application/pdf,.doc,.docx,.xls,.xlsx",onChange:he=>C(he,W.id),className:"hidden",id:`file-upload-${W.id}`}),i.jsxs("label",{htmlFor:`file-upload-${W.id}`,className:"flex items-center gap-2 text-xs text-primary cursor-pointer hover:underline",children:[i.jsx(Po,{className:"w-3 h-3"}),"Add files"]})]}),Ie&&i.jsx("div",{className:"mt-3 pt-3 border-t border-divider",children:I===W.id?i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ma,{size:"sm",placeholder:N.action==="resolve"?"Enter resolution notes...":"Enter rejection reason...",value:N.notes,onChange:he=>_({...N,notes:he.target.value}),minRows:2}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(mt,{size:"sm",color:N.action==="resolve"?"success":"danger",onPress:()=>Oe(W.id,N.action),children:["Confirm ",N.action==="resolve"?"Resolution":"Rejection"]}),i.jsx(mt,{size:"sm",variant:"light",onPress:()=>{L(null),_({notes:"",action:""})},children:"Cancel"})]})]}):i.jsxs("div",{className:"flex gap-2",children:[i.jsx(mt,{size:"sm",color:"success",variant:"flat",startContent:i.jsx(Vr,{className:"w-4 h-4"}),onPress:()=>{L(W.id),_({notes:"",action:"resolve"})},children:"Resolve"}),i.jsx(mt,{size:"sm",color:"danger",variant:"flat",startContent:i.jsx(nc,{className:"w-4 h-4"}),onPress:()=>{L(W.id),_({notes:"",action:"reject"})},children:"Reject"})]})}),i.jsxs("div",{className:"flex items-center justify-between mt-3 pt-2 border-t border-divider text-xs text-default-400",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sp,{size:"sm",name:((Ee=W.created_by)==null?void 0:Ee.name)||"Unknown",className:"w-5 h-5"}),i.jsx("span",{children:((Ve=W.created_by)==null?void 0:Ve.name)||"Unknown"})]}),i.jsx("span",{children:new Date(W.created_at).toLocaleDateString()})]})]})},W.id)},le=c.filter(W=>["draft","submitted","under_review"].includes(W.status)).length;return i.jsx(va,{isOpen:n,onClose:t,size:"3xl",scrollBehavior:"inside",placement:"center",children:i.jsx(xa,{children:W=>i.jsxs(i.Fragment,{children:[i.jsxs(ba,{className:"flex flex-col gap-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ir,{className:"w-5 h-5 text-warning"}),i.jsxs("span",{children:["RFI Objections - ",e==null?void 0:e.number]}),le>0&&i.jsxs(on,{size:"sm",color:"warning",variant:"solid",children:[le," Active"]})]}),i.jsx("p",{className:"text-sm text-default-500 font-normal",children:"View and manage objections for this RFI"})]}),i.jsxs(ya,{children:[l&&!j&&i.jsx(mt,{color:"warning",variant:"flat",startContent:i.jsx(Po,{className:"w-4 h-4"}),onPress:()=>h(!0),className:"mb-4",children:"Raise New Objection"}),j&&i.jsx(Un,{className:"mb-4 border-2 border-warning/50",children:i.jsxs(Zn,{className:"p-4 space-y-4",children:[i.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[i.jsx(Ir,{className:"w-4 h-4 text-warning"}),"New Objection"]}),i.jsx(On,{label:"Title",placeholder:"Brief title for the objection",value:z.title,onChange:$=>M({...z,title:$.target.value}),isRequired:!0}),i.jsx(sr,{label:"Category",selectedKeys:[z.category],onChange:$=>M({...z,category:$.target.value}),children:Kc.map($=>i.jsx(Ln,{value:$.value,children:$.label},$.value))}),i.jsx(Ma,{label:"Description",placeholder:"Detailed description of the objection",value:z.description,onChange:$=>M({...z,description:$.target.value}),minRows:3,isRequired:!0}),i.jsx(Ma,{label:"Reason",placeholder:"Why is this objection being raised?",value:z.reason,onChange:$=>M({...z,reason:$.target.value}),minRows:2,isRequired:!0}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Supporting Documents (PDF, Images, Doc, Excel)"}),i.jsx("input",{type:"file",multiple:!0,accept:"image/*,application/pdf,.doc,.docx,.xls,.xlsx",onChange:J,className:"hidden",id:"objection-file-input"}),i.jsxs("label",{htmlFor:"objection-file-input",className:"flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-default-300 rounded-lg cursor-pointer hover:border-primary hover:bg-default-50 transition-colors",children:[i.jsx(ma,{className:"w-5 h-5 text-default-500"}),i.jsx("span",{className:"text-sm text-default-600",children:"Click to select files"})]}),ne.length>0&&i.jsx("div",{className:"space-y-1 mt-2",children:ne.map(($,be)=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-default-100 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[$.type.startsWith("image/")?i.jsx(zc,{className:"w-4 h-4 text-success shrink-0"}):i.jsx(Hr,{className:"w-4 h-4 text-primary shrink-0"}),i.jsx("span",{className:"text-xs truncate",children:$.name}),i.jsxs("span",{className:"text-xs text-default-400 shrink-0",children:["(",($.size/1024).toFixed(1)," KB)"]})]}),i.jsx(mt,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",onPress:()=>G(be),children:i.jsx(tc,{className:"w-4 h-4"})})]},be))})]}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(mt,{variant:"light",onPress:()=>{h(!1),M({title:"",category:"other",description:"",reason:""})},children:"Cancel"}),i.jsx(mt,{variant:"bordered",onPress:()=>O(!1),isLoading:y,children:"Save as Draft"}),i.jsx(mt,{color:"warning",onPress:()=>O(!0),isLoading:y,startContent:i.jsx(Rl,{className:"w-4 h-4"}),children:"Submit"})]})]})}),R&&i.jsx(Un,{className:"mb-4 border-2 border-primary",children:i.jsxs(Zn,{className:"p-4 space-y-3",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsxs("h3",{className:"text-base font-semibold flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Objection"]})}),i.jsx(On,{label:"Title",placeholder:"Brief title for the objection",value:z.title,onChange:$=>M({...z,title:$.target.value}),isRequired:!0}),i.jsx(sr,{label:"Category",selectedKeys:[z.category],onChange:$=>M({...z,category:$.target.value}),children:Kc.map($=>i.jsx(Ln,{value:$.value,children:$.label},$.value))}),i.jsx(Ma,{label:"Description",placeholder:"Detailed description of the objection",value:z.description,onChange:$=>M({...z,description:$.target.value}),minRows:3,isRequired:!0}),i.jsx(Ma,{label:"Reason",placeholder:"Why is this objection being raised?",value:z.reason,onChange:$=>M({...z,reason:$.target.value}),minRows:2,isRequired:!0}),i.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[i.jsx(mt,{variant:"light",onPress:de,children:"Cancel"}),i.jsx(mt,{color:"primary",onPress:X,isLoading:y,children:"Update Objection"})]})]})}),i.jsx(si,{className:"my-2"}),E&&i.jsx(Ql,{value:ue,className:"mb-4",color:"primary",showValueLabel:!0}),f?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(Mo,{size:"lg"})}):c.length===0?i.jsxs("div",{className:"text-center py-8 text-default-400",children:[i.jsx(vp,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No objections have been raised for this RFI"})]}):i.jsx("div",{className:"space-y-2",children:c.map(Z)})]}),i.jsx(Ba,{children:i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsxs("span",{className:"text-sm text-default-500",children:[c.length," objection",c.length!==1?"s":""," total"]}),i.jsx(mt,{color:"primary",variant:"light",onPress:W,children:"Close"})]})})]})})})},Zc=({isOpen:n,onClose:t,onConfirm:e,dailyWork:a,newSubmissionDate:l,activeObjectionsCount:s,activeObjections:c=[],isLoading:u=!1})=>{const[f,g]=Q.useState(""),[y,v]=Q.useState(!1),j=()=>{f.trim()&&e(f)},h=()=>{g(""),v(!1),t()},R=P=>P?new Date(P).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set";return a?i.jsx(va,{isOpen:n,onClose:h,size:"lg",placement:"center",isDismissable:!1,hideCloseButton:!0,children:i.jsx(xa,{children:P=>i.jsxs(i.Fragment,{children:[i.jsx(ba,{className:"flex flex-col gap-1 bg-warning-50 dark:bg-warning-900/20",children:i.jsxs("div",{className:"flex items-center gap-2 text-warning-700 dark:text-warning-400",children:[i.jsx(Fs,{className:"w-6 h-6"}),i.jsx("span",{className:"font-bold",children:"⚠️ Active Objections Warning"})]})}),i.jsxs(ya,{className:"py-6",children:[i.jsx("div",{className:"bg-warning-100 dark:bg-warning-900/30 border border-warning-300 dark:border-warning-700 rounded-lg p-4 mb-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Ir,{className:"w-6 h-6 text-warning-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-warning-800 dark:text-warning-300 mb-2",children:["This RFI has ",s," active objection",s!==1?"s":""]}),i.jsx("p",{className:"text-sm text-warning-700 dark:text-warning-400",children:"Changing the RFI submission date while objections are pending may:"}),i.jsxs("ul",{className:"list-disc list-inside text-sm text-warning-700 dark:text-warning-400 mt-2 space-y-1",children:[i.jsx("li",{children:"Affect approval timelines and workflows"}),i.jsx("li",{children:"Impact official records and documentation"}),i.jsx("li",{children:"Create discrepancies in claims or reports"}),i.jsx("li",{children:"Cause issues with regulatory compliance"})]})]})]})}),i.jsx(Un,{className:"mb-4",children:i.jsxs(Zn,{className:"p-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Hr,{className:"w-4 h-4 text-default-500"}),i.jsx("span",{className:"font-medium",children:"RFI Number:"}),i.jsx("span",{children:a==null?void 0:a.number})]}),i.jsxs(on,{size:"sm",color:"warning",variant:"flat",children:[s," Active Objection",s!==1?"s":""]})]}),i.jsx(si,{className:"my-2"}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oi,{className:"w-4 h-4 text-default-500"}),i.jsx("span",{children:"Current Date:"}),i.jsx("span",{className:"font-medium",children:R(a==null?void 0:a.rfi_submission_date)})]}),i.jsx("span",{children:"→"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:"New Date:"}),i.jsx("span",{className:"font-medium text-primary",children:R(l)})]})]})]})}),c.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Active Objections:"}),i.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:c.map(I=>{var L,E;return i.jsxs("div",{className:"flex items-center justify-between p-2 bg-default-100 dark:bg-default-50/10 rounded text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ir,{className:"w-4 h-4 text-warning"}),i.jsx("span",{className:"font-medium",children:I.title})]}),i.jsxs("div",{className:"flex items-center gap-2 text-default-500 text-xs",children:[i.jsx("span",{children:(L=I.created_by)==null?void 0:L.name}),i.jsx(on,{size:"sm",variant:"flat",color:"warning",children:(E=I.status)==null?void 0:E.replace("_"," ")})]})]},I.id)})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium mb-2 text-danger",children:"* Provide a reason for overriding this warning:"}),i.jsx(Ma,{placeholder:"Explain why you need to change the submission date despite active objections...",value:f,onChange:I=>g(I.target.value),minRows:3,isRequired:!0,classNames:{inputWrapper:"border-warning focus-within:border-warning-500"}}),i.jsx("p",{className:"text-xs text-default-400 mt-1",children:"This action will be logged for audit purposes."})]})]}),i.jsxs(Ba,{className:"bg-default-50 dark:bg-default-100/5",children:[i.jsx(mt,{variant:"light",onPress:h,isDisabled:u,children:"Cancel"}),i.jsx(mt,{color:"warning",onPress:j,isLoading:u,isDisabled:!f.trim(),startContent:!u&&i.jsx(Fs,{className:"w-4 h-4"}),children:"I Understand, Proceed Anyway"})]})]})})}):null};function Vt(n){"@babel/helpers - typeof";return Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(n)}var Xn=Uint8Array,br=Uint16Array,rc=Int32Array,To=new Xn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qo=new Xn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ml=new Xn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ud=function(n,t){for(var e=new br(31),a=0;a<31;++a)e[a]=t+=1<<n[a-1];for(var l=new rc(e[30]),a=1;a<30;++a)for(var s=e[a];s<e[a+1];++s)l[s]=s-e[a]<<5|a;return{b:e,r:l}},Wd=Ud(To,2),Hd=Wd.b,Tl=Wd.r;Hd[28]=258,Tl[258]=28;var Vd=Ud(qo,0),ef=Vd.b,Qc=Vd.r,ql=new br(32768);for(var an=0;an<32768;++an){var Oa=(an&43690)>>1|(an&21845)<<1;Oa=(Oa&52428)>>2|(Oa&13107)<<2,Oa=(Oa&61680)>>4|(Oa&3855)<<4,ql[an]=((Oa&65280)>>8|(Oa&255)<<8)>>1}var na=function(n,t,e){for(var a=n.length,l=0,s=new br(t);l<a;++l)n[l]&&++s[n[l]-1];var c=new br(t);for(l=1;l<t;++l)c[l]=c[l-1]+s[l-1]<<1;var u;if(e){u=new br(1<<t);var f=15-t;for(l=0;l<a;++l)if(n[l])for(var g=l<<4|n[l],y=t-n[l],v=c[n[l]-1]++<<y,j=v|(1<<y)-1;v<=j;++v)u[ql[v]>>f]=g}else for(u=new br(a),l=0;l<a;++l)n[l]&&(u[l]=ql[c[n[l]-1]++]>>15-n[l]);return u},qa=new Xn(288);for(var an=0;an<144;++an)qa[an]=8;for(var an=144;an<256;++an)qa[an]=9;for(var an=256;an<280;++an)qa[an]=7;for(var an=280;an<288;++an)qa[an]=8;var Cs=new Xn(32);for(var an=0;an<32;++an)Cs[an]=5;var tf=na(qa,9,0),nf=na(qa,9,1),rf=na(Cs,5,0),af=na(Cs,5,1),wl=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},zr=function(n,t,e){var a=t/8|0;return(n[a]|n[a+1]<<8)>>(t&7)&e},Nl=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},ac=function(n){return(n+7)/8|0},$d=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new Xn(n.subarray(t,e))},sf=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ur=function(n,t,e){var a=new Error(t||sf[n]);if(a.code=n,Error.captureStackTrace&&Error.captureStackTrace(a,Ur),!e)throw a;return a},of=function(n,t,e,a){var l=n.length,s=0;if(!l||t.f&&!t.l)return e||new Xn(0);var c=!e,u=c||t.i!=2,f=t.i;c&&(e=new Xn(l*3));var g=function(je){var Ie=e.length;if(je>Ie){var Ee=new Xn(Math.max(Ie*2,je));Ee.set(e),e=Ee}},y=t.f||0,v=t.p||0,j=t.b||0,h=t.l,R=t.d,P=t.m,I=t.n,L=l*8;do{if(!h){y=zr(n,v,1);var E=zr(n,v+1,3);if(v+=3,E)if(E==1)h=nf,R=af,P=9,I=5;else if(E==2){var oe=zr(n,v,31)+257,z=zr(n,v+10,15)+4,M=oe+zr(n,v+5,31)+1;v+=14;for(var ne=new Xn(M),ce=new Xn(19),N=0;N<z;++N)ce[Ml[N]]=zr(n,v+N*3,7);v+=z*3;for(var _=wl(ce),D=(1<<_)-1,O=na(ce,_,1),N=0;N<M;){var J=O[zr(n,v,D)];v+=J&15;var K=J>>4;if(K<16)ne[N++]=K;else{var G=0,pe=0;for(K==16?(pe=3+zr(n,v,3),v+=2,G=ne[N-1]):K==17?(pe=3+zr(n,v,7),v+=3):K==18&&(pe=11+zr(n,v,127),v+=7);pe--;)ne[N++]=G}}var X=ne.subarray(0,oe),de=ne.subarray(oe);P=wl(X),I=wl(de),h=na(X,P,1),R=na(de,I,1)}else Ur(1);else{var K=ac(v)+4,ue=n[K-4]|n[K-3]<<8,se=K+ue;if(se>l){f&&Ur(0);break}u&&g(j+ue),e.set(n.subarray(K,se),j),t.b=j+=ue,t.p=v=se*8,t.f=y;continue}if(v>L){f&&Ur(0);break}}u&&g(j+131072);for(var ve=(1<<P)-1,Oe=(1<<I)-1,x=v;;x=v){var G=h[Nl(n,v)&ve],C=G>>4;if(v+=G&15,v>L){f&&Ur(0);break}if(G||Ur(2),C<256)e[j++]=C;else if(C==256){x=v,h=null;break}else{var q=C-254;if(C>264){var N=C-257,V=To[N];q=zr(n,v,(1<<V)-1)+Hd[N],v+=V}var Z=R[Nl(n,v)&Oe],le=Z>>4;Z||Ur(3),v+=Z&15;var de=ef[le];if(le>3){var V=qo[le];de+=Nl(n,v)&(1<<V)-1,v+=V}if(v>L){f&&Ur(0);break}u&&g(j+131072);var W=j+q;if(j<de){var $=s-de,be=Math.min(de,W);for($+j<0&&Ur(3);j<be;++j)e[j]=a[$+j]}for(;j<W;++j)e[j]=e[j-de]}}t.l=h,t.p=x,t.b=j,t.f=y,h&&(y=1,t.m=P,t.d=R,t.n=I)}while(!y);return j!=e.length&&c?$d(e,0,j):e.subarray(0,j)},fa=function(n,t,e){e<<=t&7;var a=t/8|0;n[a]|=e,n[a+1]|=e>>8},Ss=function(n,t,e){e<<=t&7;var a=t/8|0;n[a]|=e,n[a+1]|=e>>8,n[a+2]|=e>>16},jl=function(n,t){for(var e=[],a=0;a<n.length;++a)n[a]&&e.push({s:a,f:n[a]});var l=e.length,s=e.slice();if(!l)return{t:Yd,l:0};if(l==1){var c=new Xn(e[0].s+1);return c[e[0].s]=1,{t:c,l:1}}e.sort(function(se,oe){return se.f-oe.f}),e.push({s:-1,f:25001});var u=e[0],f=e[1],g=0,y=1,v=2;for(e[0]={s:-1,f:u.f+f.f,l:u,r:f};y!=l-1;)u=e[e[g].f<e[v].f?g++:v++],f=e[g!=y&&e[g].f<e[v].f?g++:v++],e[y++]={s:-1,f:u.f+f.f,l:u,r:f};for(var j=s[0].s,a=1;a<l;++a)s[a].s>j&&(j=s[a].s);var h=new br(j+1),R=zl(e[y-1],h,0);if(R>t){var a=0,P=0,I=R-t,L=1<<I;for(s.sort(function(oe,z){return h[z.s]-h[oe.s]||oe.f-z.f});a<l;++a){var E=s[a].s;if(h[E]>t)P+=L-(1<<R-h[E]),h[E]=t;else break}for(P>>=I;P>0;){var K=s[a].s;h[K]<t?P-=1<<t-h[K]++-1:++a}for(;a>=0&&P;--a){var ue=s[a].s;h[ue]==t&&(--h[ue],++P)}R=t}return{t:new Xn(h),l:R}},zl=function(n,t,e){return n.s==-1?Math.max(zl(n.l,t,e+1),zl(n.r,t,e+1)):t[n.s]=e},ed=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new br(++t),a=0,l=n[0],s=1,c=function(f){e[a++]=f},u=1;u<=t;++u)if(n[u]==l&&u!=t)++s;else{if(!l&&s>2){for(;s>138;s-=138)c(32754);s>2&&(c(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(c(l),--s;s>6;s-=6)c(8304);s>2&&(c(s-3<<5|8208),s=0)}for(;s--;)c(l);s=1,l=n[u]}return{c:e.subarray(0,a),n:t}},As=function(n,t){for(var e=0,a=0;a<t.length;++a)e+=n[a]*t[a];return e},Gd=function(n,t,e){var a=e.length,l=ac(t+2);n[l]=a&255,n[l+1]=a>>8,n[l+2]=n[l]^255,n[l+3]=n[l+1]^255;for(var s=0;s<a;++s)n[l+s+4]=e[s];return(l+4+a)*8},td=function(n,t,e,a,l,s,c,u,f,g,y){fa(t,y++,e),++l[256];for(var v=jl(l,15),j=v.t,h=v.l,R=jl(s,15),P=R.t,I=R.l,L=ed(j),E=L.c,K=L.n,ue=ed(P),se=ue.c,oe=ue.n,z=new br(19),M=0;M<E.length;++M)++z[E[M]&31];for(var M=0;M<se.length;++M)++z[se[M]&31];for(var ne=jl(z,7),ce=ne.t,N=ne.l,_=19;_>4&&!ce[Ml[_-1]];--_);var D=g+5<<3,O=As(l,qa)+As(s,Cs)+c,J=As(l,j)+As(s,P)+c+14+3*_+As(z,ce)+2*z[16]+3*z[17]+7*z[18];if(f>=0&&D<=O&&D<=J)return Gd(t,y,n.subarray(f,f+g));var G,pe,X,de;if(fa(t,y,1+(J<O)),y+=2,J<O){G=na(j,h,0),pe=j,X=na(P,I,0),de=P;var ve=na(ce,N,0);fa(t,y,K-257),fa(t,y+5,oe-1),fa(t,y+10,_-4),y+=14;for(var M=0;M<_;++M)fa(t,y+3*M,ce[Ml[M]]);y+=3*_;for(var Oe=[E,se],x=0;x<2;++x)for(var C=Oe[x],M=0;M<C.length;++M){var q=C[M]&31;fa(t,y,ve[q]),y+=ce[q],q>15&&(fa(t,y,C[M]>>5&127),y+=C[M]>>12)}}else G=tf,pe=qa,X=rf,de=Cs;for(var M=0;M<u;++M){var V=a[M];if(V>255){var q=V>>18&31;Ss(t,y,G[q+257]),y+=pe[q+257],q>7&&(fa(t,y,V>>23&31),y+=To[q]);var Z=V&31;Ss(t,y,X[Z]),y+=de[Z],Z>3&&(Ss(t,y,V>>5&8191),y+=qo[Z])}else Ss(t,y,G[V]),y+=pe[V]}return Ss(t,y,G[256]),y+pe[256]},lf=new rc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Yd=new Xn(0),cf=function(n,t,e,a,l,s){var c=s.z||n.length,u=new Xn(a+c+5*(1+Math.ceil(c/7e3))+l),f=u.subarray(a,u.length-l),g=s.l,y=(s.r||0)&7;if(t){y&&(f[0]=s.r>>3);for(var v=lf[t-1],j=v>>13,h=v&8191,R=(1<<e)-1,P=s.p||new br(32768),I=s.h||new br(R+1),L=Math.ceil(e/3),E=2*L,K=function(Ve){return(n[Ve]^n[Ve+1]<<L^n[Ve+2]<<E)&R},ue=new rc(25e3),se=new br(288),oe=new br(32),z=0,M=0,ne=s.i||0,ce=0,N=s.w||0,_=0;ne+2<c;++ne){var D=K(ne),O=ne&32767,J=I[D];if(P[O]=J,I[D]=O,N<=ne){var G=c-ne;if((z>7e3||ce>24576)&&(G>423||!g)){y=td(n,f,0,ue,se,oe,M,ce,_,ne-_,y),ce=z=M=0,_=ne;for(var pe=0;pe<286;++pe)se[pe]=0;for(var pe=0;pe<30;++pe)oe[pe]=0}var X=2,de=0,ve=h,Oe=O-J&32767;if(G>2&&D==K(ne-Oe))for(var x=Math.min(j,G)-1,C=Math.min(32767,ne),q=Math.min(258,G);Oe<=C&&--ve&&O!=J;){if(n[ne+X]==n[ne+X-Oe]){for(var V=0;V<q&&n[ne+V]==n[ne+V-Oe];++V);if(V>X){if(X=V,de=Oe,V>x)break;for(var Z=Math.min(Oe,V-2),le=0,pe=0;pe<Z;++pe){var W=ne-Oe+pe&32767,$=P[W],be=W-$&32767;be>le&&(le=be,J=W)}}}O=J,J=P[O],Oe+=O-J&32767}if(de){ue[ce++]=268435456|Tl[X]<<18|Qc[de];var je=Tl[X]&31,Ie=Qc[de]&31;M+=To[je]+qo[Ie],++se[257+je],++oe[Ie],N=ne+X,++z}else ue[ce++]=n[ne],++se[n[ne]]}}for(ne=Math.max(ne,N);ne<c;++ne)ue[ce++]=n[ne],++se[n[ne]];y=td(n,f,g,ue,se,oe,M,ce,_,ne-_,y),g||(s.r=y&7|f[y/8|0]<<3,y-=7,s.h=I,s.p=P,s.i=ne,s.w=N)}else{for(var ne=s.w||0;ne<c+g;ne+=65535){var Ee=ne+65535;Ee>=c&&(f[y/8|0]=g,Ee=c),y=Gd(f,y+1,n.subarray(ne,Ee))}s.i=c}return $d(u,0,a+ac(y)+l)},Kd=function(){var n=1,t=0;return{p:function(e){for(var a=n,l=t,s=e.length|0,c=0;c!=s;){for(var u=Math.min(c+2655,s);c<u;++c)l+=a+=e[c];a=(a&65535)+15*(a>>16),l=(l&65535)+15*(l>>16)}n=a,t=l},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},df=function(n,t,e,a,l){if(!l&&(l={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),c=new Xn(s.length+n.length);c.set(s),c.set(n,s.length),n=c,l.w=s.length}return cf(n,t.level==null?6:t.level,t.mem==null?l.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,a,l)},Jd=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},uf=function(n,t){var e=t.level,a=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=a<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var l=Kd();l.p(t.dictionary),Jd(n,2,l.d())}},pf=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Ur(6,"invalid zlib data"),(n[1]>>5&1)==1&&Ur(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function Bl(n,t){t||(t={});var e=Kd();e.p(n);var a=df(n,t,t.dictionary?6:2,4);return uf(a,t),Jd(a,a.length-4,e.d()),a}function ff(n,t){return of(n.subarray(pf(n),-4),{i:2},t,t)}var hf=typeof TextDecoder<"u"&&new TextDecoder,mf=0;try{hf.decode(Yd,{stream:!0}),mf=1}catch{}var gt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Sl(){gt.console&&typeof gt.console.log=="function"&&gt.console.log.apply(gt.console,arguments)}var Jt={log:Sl,warn:function(n){gt.console&&(typeof gt.console.warn=="function"?gt.console.warn.apply(gt.console,arguments):Sl.call(null,arguments))},error:function(n){gt.console&&(typeof gt.console.error=="function"?gt.console.error.apply(gt.console,arguments):Sl(n))}};function Al(n,t,e){var a=new XMLHttpRequest;a.open("GET",n),a.responseType="blob",a.onload=function(){ti(a.response,t,e)},a.onerror=function(){Jt.error("could not download file")},a.send()}function nd(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function xo(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var Ps,Ul,ti=gt.saveAs||((typeof window>"u"?"undefined":Vt(window))!=="object"||window!==gt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var a=gt.URL||gt.webkitURL,l=document.createElement("a");t=t||n.name||"download",l.download=t,l.rel="noopener",typeof n=="string"?(l.href=n,l.origin!==location.origin?nd(l.href)?Al(n,t,e):xo(l,l.target="_blank"):xo(l)):(l.href=a.createObjectURL(n),setTimeout(function(){a.revokeObjectURL(l.href)},4e4),setTimeout(function(){xo(l)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(nd(n))Al(n,t,e);else{var a=document.createElement("a");a.href=n,a.target="_blank",setTimeout(function(){xo(a)})}else navigator.msSaveOrOpenBlob(function(l,s){return s===void 0?s={autoBom:!1}:Vt(s)!=="object"&&(Jt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}(n,e),t)}:function(n,t,e,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof n=="string")return Al(n,t,e);var l=n.type==="application/octet-stream",s=/constructor/i.test(gt.HTMLElement)||gt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||l&&s)&&(typeof FileReader>"u"?"undefined":Vt(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var y=u.result;y=c?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=y:location=y,a=null},u.readAsDataURL(n)}else{var f=gt.URL||gt.webkitURL,g=f.createObjectURL(n);a?a.location=g:location.href=g,a=null,setTimeout(function(){f.revokeObjectURL(g)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Xd(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],a=0;a<e.length;a++){var l=e[a].re,s=e[a].process,c=l.exec(n);c&&(t=s(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),f=this.g.toString(16),g=this.b.toString(16);return u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),g.length==1&&(g="0"+g),"#"+u+f+g}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function _l(n,t){var e=n[0],a=n[1],l=n[2],s=n[3];e=Gn(e,a,l,s,t[0],7,-680876936),s=Gn(s,e,a,l,t[1],12,-389564586),l=Gn(l,s,e,a,t[2],17,606105819),a=Gn(a,l,s,e,t[3],22,-1044525330),e=Gn(e,a,l,s,t[4],7,-176418897),s=Gn(s,e,a,l,t[5],12,1200080426),l=Gn(l,s,e,a,t[6],17,-1473231341),a=Gn(a,l,s,e,t[7],22,-45705983),e=Gn(e,a,l,s,t[8],7,1770035416),s=Gn(s,e,a,l,t[9],12,-1958414417),l=Gn(l,s,e,a,t[10],17,-42063),a=Gn(a,l,s,e,t[11],22,-1990404162),e=Gn(e,a,l,s,t[12],7,1804603682),s=Gn(s,e,a,l,t[13],12,-40341101),l=Gn(l,s,e,a,t[14],17,-1502002290),e=Yn(e,a=Gn(a,l,s,e,t[15],22,1236535329),l,s,t[1],5,-165796510),s=Yn(s,e,a,l,t[6],9,-1069501632),l=Yn(l,s,e,a,t[11],14,643717713),a=Yn(a,l,s,e,t[0],20,-373897302),e=Yn(e,a,l,s,t[5],5,-701558691),s=Yn(s,e,a,l,t[10],9,38016083),l=Yn(l,s,e,a,t[15],14,-660478335),a=Yn(a,l,s,e,t[4],20,-405537848),e=Yn(e,a,l,s,t[9],5,568446438),s=Yn(s,e,a,l,t[14],9,-1019803690),l=Yn(l,s,e,a,t[3],14,-187363961),a=Yn(a,l,s,e,t[8],20,1163531501),e=Yn(e,a,l,s,t[13],5,-1444681467),s=Yn(s,e,a,l,t[2],9,-51403784),l=Yn(l,s,e,a,t[7],14,1735328473),e=Kn(e,a=Yn(a,l,s,e,t[12],20,-1926607734),l,s,t[5],4,-378558),s=Kn(s,e,a,l,t[8],11,-2022574463),l=Kn(l,s,e,a,t[11],16,1839030562),a=Kn(a,l,s,e,t[14],23,-35309556),e=Kn(e,a,l,s,t[1],4,-1530992060),s=Kn(s,e,a,l,t[4],11,1272893353),l=Kn(l,s,e,a,t[7],16,-155497632),a=Kn(a,l,s,e,t[10],23,-1094730640),e=Kn(e,a,l,s,t[13],4,681279174),s=Kn(s,e,a,l,t[0],11,-358537222),l=Kn(l,s,e,a,t[3],16,-722521979),a=Kn(a,l,s,e,t[6],23,76029189),e=Kn(e,a,l,s,t[9],4,-640364487),s=Kn(s,e,a,l,t[12],11,-421815835),l=Kn(l,s,e,a,t[15],16,530742520),e=Jn(e,a=Kn(a,l,s,e,t[2],23,-995338651),l,s,t[0],6,-198630844),s=Jn(s,e,a,l,t[7],10,1126891415),l=Jn(l,s,e,a,t[14],15,-1416354905),a=Jn(a,l,s,e,t[5],21,-57434055),e=Jn(e,a,l,s,t[12],6,1700485571),s=Jn(s,e,a,l,t[3],10,-1894986606),l=Jn(l,s,e,a,t[10],15,-1051523),a=Jn(a,l,s,e,t[1],21,-2054922799),e=Jn(e,a,l,s,t[8],6,1873313359),s=Jn(s,e,a,l,t[15],10,-30611744),l=Jn(l,s,e,a,t[6],15,-1560198380),a=Jn(a,l,s,e,t[13],21,1309151649),e=Jn(e,a,l,s,t[4],6,-145523070),s=Jn(s,e,a,l,t[11],10,-1120210379),l=Jn(l,s,e,a,t[2],15,718787259),a=Jn(a,l,s,e,t[9],21,-343485551),n[0]=Ta(e,n[0]),n[1]=Ta(a,n[1]),n[2]=Ta(l,n[2]),n[3]=Ta(s,n[3])}function zo(n,t,e,a,l,s){return t=Ta(Ta(t,n),Ta(a,s)),Ta(t<<l|t>>>32-l,e)}function Gn(n,t,e,a,l,s,c){return zo(t&e|~t&a,n,t,l,s,c)}function Yn(n,t,e,a,l,s,c){return zo(t&a|e&~a,n,t,l,s,c)}function Kn(n,t,e,a,l,s,c){return zo(t^e^a,n,t,l,s,c)}function Jn(n,t,e,a,l,s,c){return zo(e^(t|~a),n,t,l,s,c)}function Zd(n){var t,e=n.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)_l(a,gf(n.substring(t-64,t)));n=n.substring(t-64);var l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)l[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(l[t>>2]|=128<<(t%4<<3),t>55)for(_l(a,l),t=0;t<16;t++)l[t]=0;return l[14]=8*e,_l(a,l),a}function gf(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}Ps=gt.atob.bind(gt),Ul=gt.btoa.bind(gt);var rd="0123456789abcdef".split("");function vf(n){for(var t="",e=0;e<4;e++)t+=rd[n>>8*e+4&15]+rd[n>>8*e&15];return t}function xf(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Wl(n){return Zd(n).map(xf).join("")}var bf=function(n){for(var t=0;t<n.length;t++)n[t]=vf(n[t]);return n.join("")}(Zd("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ta(n,t){if(bf){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Hl(n,t){var e,a,l,s;if(n!==e){for(var c=(l=n,s=1+(256/n.length>>0),new Array(s+1).join(l)),u=[],f=0;f<256;f++)u[f]=f;var g=0;for(f=0;f<256;f++){var y=u[f];g=(g+y+c.charCodeAt(f))%256,u[f]=u[g],u[g]=y}e=n,a=u}else u=a;var v=t.length,j=0,h=0,R="";for(f=0;f<v;f++)h=(h+(y=u[j=(j+1)%256]))%256,u[j]=u[h],u[h]=y,c=u[(u[j]+u[h])%256],R+=String.fromCharCode(t.charCodeAt(f)^c);return R}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ad={print:4,modify:8,copy:16,"annot-forms":32};function Ri(n,t,e,a){this.v=1,this.r=2;var l=192;n.forEach(function(u){if(ad.perm!==void 0)throw new Error("Invalid permission: "+u);l+=ad[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),c=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,c),this.P=-(1+(255^l)),this.encryptionKey=Wl(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Hl(this.encryptionKey,this.padding)}function Mi(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,a=0;a<e;a++){var l=n.charCodeAt(a);l<33||l===35||l===37||l===40||l===41||l===47||l===60||l===62||l===91||l===93||l===123||l===125||l>126?t+="#"+("0"+l.toString(16)).slice(-2):t+=n[a]}return t}function id(n){if(Vt(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,a,l){if(l=l||!1,typeof e!="string"||typeof a!="function"||typeof l!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[a,!!l],s},this.unsubscribe=function(e){for(var a in t)if(t[a][e])return delete t[a][e],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var a=Array.prototype.slice.call(arguments,1),l=[];for(var s in t[e]){var c=t[e][s];try{c[0].apply(n,a)}catch(u){gt.console&&Jt.error("jsPDF PubSub Error",u.message,u)}c[1]&&l.push(s)}l.length&&l.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Io(n){if(!(this instanceof Io))return new Io(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function Qd(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function ni(n,t,e,a,l){if(!(this instanceof ni))return new ni(n,t,e,a,l);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,Qd.call(this,a,l)}function Ti(n,t,e,a,l){if(!(this instanceof Ti))return new Ti(n,t,e,a,l);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,Qd.call(this,a,l)}function ht(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],l=arguments[2],s=arguments[3],c=[],u=1,f=16,g="S",y=null;Vt(n=n||{})==="object"&&(e=n.orientation,a=n.unit||a,l=n.format||l,s=n.compress||n.compressPdf||s,(y=n.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),g=n.defaultPathOperation||"S"),c=n.filters||(s===!0?["FlateEncode"]:c),a=a||"mm",e=(""+(e||"P")).toLowerCase();var v=n.putOnlyUsedFonts||!1,j={},h={internal:{},__private__:{}};h.__private__.PubSub=id;var R="1.3",P=h.__private__.getPdfVersion=function(){return R};h.__private__.setPdfVersion=function(d){R=d};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return I};var L=h.__private__.getPageFormat=function(d){return I[d]};l=l||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},K=E.COMPAT;function ue(){this.saveGraphicsState(),U(new xe(ze,0,0,-ze,0,ja()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),g="n",K=E.ADVANCED}function se(){this.restoreGraphicsState(),g="S",K=E.COMPAT}var oe=h.__private__.combineFontStyleAndFontWeight=function(d,w){if(d=="bold"&&w=="normal"||d=="bold"&&w==400||d=="normal"&&w=="italic"||d=="bold"&&w=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return w&&(d=w==400||w==="normal"?d==="italic"?"italic":"normal":w!=700&&w!=="bold"||d!=="normal"?(w==700?"bold":w)+""+d:"bold"),d};h.advancedAPI=function(d){var w=K===E.COMPAT;return w&&ue.call(this),typeof d!="function"||(d(this),w&&se.call(this)),this},h.compatAPI=function(d){var w=K===E.ADVANCED;return w&&se.call(this),typeof d!="function"||(d(this),w&&ue.call(this)),this},h.isAdvancedAPI=function(){return K===E.ADVANCED};var z,M=function(d){if(K!==E.ADVANCED)throw new Error(d+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ne=h.roundToPrecision=h.__private__.roundToPrecision=function(d,w){var B=t||w;if(isNaN(d)||isNaN(B))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return d.toFixed(B).replace(/0+$/,"")};z=h.hpf=h.__private__.hpf=typeof f=="number"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(d,f)}:f==="smart"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(d,d>-1&&d<1?16:5)}:function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return ne(d,16)};var ce=h.f2=h.__private__.f2=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f2");return ne(d,2)},N=h.__private__.f3=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f3");return ne(d,3)},_=h.scale=h.__private__.scale=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.scale");return K===E.COMPAT?d*ze:K===E.ADVANCED?d:void 0},D=function(d){return K===E.COMPAT?ja()-d:K===E.ADVANCED?d:void 0},O=function(d){return _(D(d))};h.__private__.setPrecision=h.setPrecision=function(d){typeof parseInt(d,10)=="number"&&(t=parseInt(d,10))};var J,G="00000000000000000000000000000000",pe=h.__private__.getFileId=function(){return G},X=h.__private__.setFileId=function(d){return G=d!==void 0&&/^[a-fA-F0-9]{32}$/.test(d)?d.toUpperCase():G.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(Vn=new Ri(y.userPermissions,y.userPassword,y.ownerPassword,G)),G};h.setFileId=function(d){return X(d),this},h.getFileId=function(){return pe()};var de=h.__private__.convertDateToPDFDate=function(d){var w=d.getTimezoneOffset(),B=w<0?"+":"-",Y=Math.floor(Math.abs(w/60)),fe=Math.abs(w%60),Ne=[B,q(Y),"'",q(fe),"'"].join("");return["D:",d.getFullYear(),q(d.getMonth()+1),q(d.getDate()),q(d.getHours()),q(d.getMinutes()),q(d.getSeconds()),Ne].join("")},ve=h.__private__.convertPDFDateToDate=function(d){var w=parseInt(d.substr(2,4),10),B=parseInt(d.substr(6,2),10)-1,Y=parseInt(d.substr(8,2),10),fe=parseInt(d.substr(10,2),10),Ne=parseInt(d.substr(12,2),10),Ce=parseInt(d.substr(14,2),10);return new Date(w,B,Y,fe,Ne,Ce,0)},Oe=h.__private__.setCreationDate=function(d){var w;if(d===void 0&&(d=new Date),d instanceof Date)w=de(d);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(d))throw new Error("Invalid argument passed to jsPDF.setCreationDate");w=d}return J=w},x=h.__private__.getCreationDate=function(d){var w=J;return d==="jsDate"&&(w=ve(J)),w};h.setCreationDate=function(d){return Oe(d),this},h.getCreationDate=function(d){return x(d)};var C,q=h.__private__.padd2=function(d){return("0"+parseInt(d)).slice(-2)},V=h.__private__.padd2Hex=function(d){return("00"+(d=d.toString())).substr(d.length)},Z=0,le=[],W=[],$=0,be=[],je=[],Ie=!1,Ee=W,Ve=function(){Z=0,$=0,W=[],le=[],be=[],Wn=It(),Hn=It()};h.__private__.setCustomOutputDestination=function(d){Ie=!0,Ee=d};var he=function(d){Ie||(Ee=d)};h.__private__.resetCustomOutputDestination=function(){Ie=!1,Ee=W};var U=h.__private__.out=function(d){return d=d.toString(),$+=d.length+1,Ee.push(d),Ee},We=h.__private__.write=function(d){return U(arguments.length===1?d.toString():Array.prototype.join.call(arguments," "))},Je=h.__private__.getArrayBuffer=function(d){for(var w=d.length,B=new ArrayBuffer(w),Y=new Uint8Array(B);w--;)Y[w]=d.charCodeAt(w);return B},Fe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Fe};var qe=n.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(d){return qe=K===E.ADVANCED?d/ze:d,this};var Be,Me=h.__private__.getFontSize=h.getFontSize=function(){return K===E.COMPAT?qe:qe*ze},et=n.R2L||!1;h.__private__.setR2L=h.setR2L=function(d){return et=d,this},h.__private__.getR2L=h.getR2L=function(){return et};var Se,De=h.__private__.setZoomMode=function(d){var w=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(d))Be=d;else if(isNaN(d)){if(w.indexOf(d)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+d+'" is not recognized.');Be=d}else Be=parseInt(d,10)};h.__private__.getZoomMode=function(){return Be};var Ze,st=h.__private__.setPageMode=function(d){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(d)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+d+'" is not recognized.');Se=d};h.__private__.getPageMode=function(){return Se};var vt=h.__private__.setLayoutMode=function(d){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(d)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+d+'" is not recognized.');Ze=d};h.__private__.getLayoutMode=function(){return Ze},h.__private__.setDisplayMode=h.setDisplayMode=function(d,w,B){return De(d),vt(w),st(B),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(d){if(Object.keys(rt).indexOf(d)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[d]},h.__private__.getDocumentProperties=function(){return rt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(d){for(var w in rt)rt.hasOwnProperty(w)&&d[w]&&(rt[w]=d[w]);return this},h.__private__.setDocumentProperty=function(d,w){if(Object.keys(rt).indexOf(d)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[d]=w};var ct,ze,tn,Ft,nn,Nt={},Tt={},jn=[],ut={},ln={},Xt={},Rn={},Mn=null,Rt=0,xt=[],qt=new id(h),yr=n.hotfixes||[],pn={},Tn={},fn=[],xe=function d(w,B,Y,fe,Ne,Ce){if(!(this instanceof d))return new d(w,B,Y,fe,Ne,Ce);isNaN(w)&&(w=1),isNaN(B)&&(B=0),isNaN(Y)&&(Y=0),isNaN(fe)&&(fe=1),isNaN(Ne)&&(Ne=0),isNaN(Ce)&&(Ce=0),this._matrix=[w,B,Y,fe,Ne,Ce]};Object.defineProperty(xe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(xe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(xe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(xe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(xe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(xe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(xe.prototype,"a",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(xe.prototype,"b",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(xe.prototype,"c",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(xe.prototype,"d",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(xe.prototype,"e",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(xe.prototype,"f",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(xe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(xe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(xe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(xe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),xe.prototype.join=function(d){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(d)},xe.prototype.multiply=function(d){var w=d.sx*this.sx+d.shy*this.shx,B=d.sx*this.shy+d.shy*this.sy,Y=d.shx*this.sx+d.sy*this.shx,fe=d.shx*this.shy+d.sy*this.sy,Ne=d.tx*this.sx+d.ty*this.shx+this.tx,Ce=d.tx*this.shy+d.ty*this.sy+this.ty;return new xe(w,B,Y,fe,Ne,Ce)},xe.prototype.decompose=function(){var d=this.sx,w=this.shy,B=this.shx,Y=this.sy,fe=this.tx,Ne=this.ty,Ce=Math.sqrt(d*d+w*w),Ge=(d/=Ce)*B+(w/=Ce)*Y;B-=d*Ge,Y-=w*Ge;var ot=Math.sqrt(B*B+Y*Y);return Ge/=ot,d*(Y/=ot)<w*(B/=ot)&&(d=-d,w=-w,Ge=-Ge,Ce=-Ce),{scale:new xe(Ce,0,0,ot,0,0),translate:new xe(1,0,0,1,fe,Ne),rotate:new xe(d,w,-w,d,0,0),skew:new xe(1,0,Ge,1,0,0)}},xe.prototype.toString=function(d){return this.join(" ")},xe.prototype.inversed=function(){var d=this.sx,w=this.shy,B=this.shx,Y=this.sy,fe=this.tx,Ne=this.ty,Ce=1/(d*Y-w*B),Ge=Y*Ce,ot=-w*Ce,_t=-B*Ce,St=d*Ce;return new xe(Ge,ot,_t,St,-Ge*fe-_t*Ne,-ot*fe-St*Ne)},xe.prototype.applyToPoint=function(d){var w=d.x*this.sx+d.y*this.shx+this.tx,B=d.x*this.shy+d.y*this.sy+this.ty;return new gi(w,B)},xe.prototype.applyToRectangle=function(d){var w=this.applyToPoint(d),B=this.applyToPoint(new gi(d.x+d.w,d.y+d.h));return new ts(w.x,w.y,B.x-w.x,B.y-w.y)},xe.prototype.clone=function(){var d=this.sx,w=this.shy,B=this.shx,Y=this.sy,fe=this.tx,Ne=this.ty;return new xe(d,w,B,Y,fe,Ne)},h.Matrix=xe;var at=h.matrixMult=function(d,w){return w.multiply(d)},Xe=new xe(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Xe;var bt=function(d,w){if(!ln[d]){var B=(w instanceof ni?"Sh":"P")+(Object.keys(ut).length+1).toString(10);w.id=B,ln[d]=B,ut[B]=w,qt.publish("addPattern",w)}};h.ShadingPattern=ni,h.TilingPattern=Ti,h.addShadingPattern=function(d,w){return M("addShadingPattern()"),bt(d,w),this},h.beginTilingPattern=function(d){M("beginTilingPattern()"),Us(d.boundingBox[0],d.boundingBox[1],d.boundingBox[2]-d.boundingBox[0],d.boundingBox[3]-d.boundingBox[1],d.matrix)},h.endTilingPattern=function(d,w){M("endTilingPattern()"),w.stream=je[C].join(`
`),bt(d,w),qt.publish("endTilingPattern",w),fn.pop().restore()};var yt=h.__private__.newObject=function(){var d=It();return Ct(d,!0),d},It=h.__private__.newObjectDeferred=function(){return Z++,le[Z]=function(){return $},Z},Ct=function(d,w){return w=typeof w=="boolean"&&w,le[d]=$,w&&U(d+" 0 obj"),d},Qn=h.__private__.newAdditionalObject=function(){var d={objId:It(),content:""};return be.push(d),d},Wn=It(),Hn=It(),qn=h.__private__.decodeColorString=function(d){var w=d.split(" ");if(w.length!==2||w[1]!=="g"&&w[1]!=="G")w.length===5&&(w[4]==="k"||w[4]==="K")&&(w=[(1-w[0])*(1-w[3]),(1-w[1])*(1-w[3]),(1-w[2])*(1-w[3]),"r"]);else{var B=parseFloat(w[0]);w=[B,B,B,"r"]}for(var Y="#",fe=0;fe<3;fe++)Y+=("0"+Math.floor(255*parseFloat(w[fe])).toString(16)).slice(-2);return Y},Pn=h.__private__.encodeColorString=function(d){var w;typeof d=="string"&&(d={ch1:d});var B=d.ch1,Y=d.ch2,fe=d.ch3,Ne=d.ch4,Ce=d.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof B=="string"&&B.charAt(0)!=="#"){var Ge=new Xd(B);if(Ge.ok)B=Ge.toHex();else if(!/^\d*\.?\d*$/.test(B))throw new Error('Invalid color "'+B+'" passed to jsPDF.encodeColorString.')}if(typeof B=="string"&&/^#[0-9A-Fa-f]{3}$/.test(B)&&(B="#"+B[1]+B[1]+B[2]+B[2]+B[3]+B[3]),typeof B=="string"&&/^#[0-9A-Fa-f]{6}$/.test(B)){var ot=parseInt(B.substr(1),16);B=ot>>16&255,Y=ot>>8&255,fe=255&ot}if(Y===void 0||Ne===void 0&&B===Y&&Y===fe)if(typeof B=="string")w=B+" "+Ce[0];else switch(d.precision){case 2:w=ce(B/255)+" "+Ce[0];break;case 3:default:w=N(B/255)+" "+Ce[0]}else if(Ne===void 0||Vt(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return w=["1.","1.","1.",Ce[1]].join(" ");if(typeof B=="string")w=[B,Y,fe,Ce[1]].join(" ");else switch(d.precision){case 2:w=[ce(B/255),ce(Y/255),ce(fe/255),Ce[1]].join(" ");break;default:case 3:w=[N(B/255),N(Y/255),N(fe/255),Ce[1]].join(" ")}}else if(typeof B=="string")w=[B,Y,fe,Ne,Ce[2]].join(" ");else switch(d.precision){case 2:w=[ce(B),ce(Y),ce(fe),ce(Ne),Ce[2]].join(" ");break;case 3:default:w=[N(B),N(Y),N(fe),N(Ne),Ce[2]].join(" ")}return w},er=h.__private__.getFilters=function(){return c},kn=h.__private__.putStream=function(d){var w=(d=d||{}).data||"",B=d.filters||er(),Y=d.alreadyAppliedFilters||[],fe=d.addLength1||!1,Ne=w.length,Ce=d.objectId,Ge=function($n){return $n};if(y!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(Ge=Vn.encryptor(Ce,0));var ot={};B===!0&&(B=["FlateEncode"]);var _t=d.additionalKeyValues||[],St=(ot=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters(w,B):{data:w,reverseChain:[]}).reverseChain+(Array.isArray(Y)?Y.join(" "):Y.toString());if(ot.data.length!==0&&(_t.push({key:"Length",value:ot.data.length}),fe===!0&&_t.push({key:"Length1",value:Ne})),St.length!=0)if(St.split("/").length-1==1)_t.push({key:"Filter",value:St});else{_t.push({key:"Filter",value:"["+St+"]"});for(var zt=0;zt<_t.length;zt+=1)if(_t[zt].key==="DecodeParms"){for(var dn=[],hn=0;hn<ot.reverseChain.split("/").length-1;hn+=1)dn.push("null");dn.push(_t[zt].value),_t[zt].value="["+dn.join(" ")+"]"}}U("<<");for(var Sn=0;Sn<_t.length;Sn++)U("/"+_t[Sn].key+" "+_t[Sn].value);U(">>"),ot.data.length!==0&&(U("stream"),U(Ge(ot.data)),U("endstream"))},tr=h.__private__.putPage=function(d){var w=d.number,B=d.data,Y=d.objId,fe=d.contentsObjId;Ct(Y,!0),U("<</Type /Page"),U("/Parent "+d.rootDictionaryObjId+" 0 R"),U("/Resources "+d.resourceDictionaryObjId+" 0 R"),U("/MediaBox ["+parseFloat(z(d.mediaBox.bottomLeftX))+" "+parseFloat(z(d.mediaBox.bottomLeftY))+" "+z(d.mediaBox.topRightX)+" "+z(d.mediaBox.topRightY)+"]"),d.cropBox!==null&&U("/CropBox ["+z(d.cropBox.bottomLeftX)+" "+z(d.cropBox.bottomLeftY)+" "+z(d.cropBox.topRightX)+" "+z(d.cropBox.topRightY)+"]"),d.bleedBox!==null&&U("/BleedBox ["+z(d.bleedBox.bottomLeftX)+" "+z(d.bleedBox.bottomLeftY)+" "+z(d.bleedBox.topRightX)+" "+z(d.bleedBox.topRightY)+"]"),d.trimBox!==null&&U("/TrimBox ["+z(d.trimBox.bottomLeftX)+" "+z(d.trimBox.bottomLeftY)+" "+z(d.trimBox.topRightX)+" "+z(d.trimBox.topRightY)+"]"),d.artBox!==null&&U("/ArtBox ["+z(d.artBox.bottomLeftX)+" "+z(d.artBox.bottomLeftY)+" "+z(d.artBox.topRightX)+" "+z(d.artBox.topRightY)+"]"),typeof d.userUnit=="number"&&d.userUnit!==1&&U("/UserUnit "+d.userUnit),qt.publish("putPage",{objId:Y,pageContext:xt[w],pageNumber:w,page:B}),U("/Contents "+fe+" 0 R"),U(">>"),U("endobj");var Ne=B.join(`
`);return K===E.ADVANCED&&(Ne+=`
Q`),Ct(fe,!0),kn({data:Ne,filters:er(),objectId:fe}),U("endobj"),Y},wr=h.__private__.putPages=function(){var d,w,B=[];for(d=1;d<=Rt;d++)xt[d].objId=It(),xt[d].contentsObjId=It();for(d=1;d<=Rt;d++)B.push(tr({number:d,data:je[d],objId:xt[d].objId,contentsObjId:xt[d].contentsObjId,mediaBox:xt[d].mediaBox,cropBox:xt[d].cropBox,bleedBox:xt[d].bleedBox,trimBox:xt[d].trimBox,artBox:xt[d].artBox,userUnit:xt[d].userUnit,rootDictionaryObjId:Wn,resourceDictionaryObjId:Hn}));Ct(Wn,!0),U("<</Type /Pages");var Y="/Kids [";for(w=0;w<Rt;w++)Y+=B[w]+" 0 R ";U(Y+"]"),U("/Count "+Rt),U(">>"),U("endobj"),qt.publish("postPutPages")},Er=function(d){qt.publish("putFont",{font:d,out:U,newObject:yt,putStream:kn}),d.isAlreadyPutted!==!0&&(d.objectNumber=yt(),U("<<"),U("/Type /Font"),U("/BaseFont /"+Mi(d.postScriptName)),U("/Subtype /Type1"),typeof d.encoding=="string"&&U("/Encoding /"+d.encoding),U("/FirstChar 32"),U("/LastChar 255"),U(">>"),U("endobj"))},Nr=function(){for(var d in Nt)Nt.hasOwnProperty(d)&&(v===!1||v===!0&&j.hasOwnProperty(d))&&Er(Nt[d])},sn=function(d){d.objectNumber=yt();var w=[];w.push({key:"Type",value:"/XObject"}),w.push({key:"Subtype",value:"/Form"}),w.push({key:"BBox",value:"["+[z(d.x),z(d.y),z(d.x+d.width),z(d.y+d.height)].join(" ")+"]"}),w.push({key:"Matrix",value:"["+d.matrix.toString()+"]"});var B=d.pages[1].join(`
`);kn({data:B,additionalKeyValues:w,objectId:d.objectNumber}),U("endobj")},Dr=function(){for(var d in pn)pn.hasOwnProperty(d)&&sn(pn[d])},jr=function(d,w){var B,Y=[],fe=1/(w-1);for(B=0;B<1;B+=fe)Y.push(B);if(Y.push(1),d[0].offset!=0){var Ne={offset:0,color:d[0].color};d.unshift(Ne)}if(d[d.length-1].offset!=1){var Ce={offset:1,color:d[d.length-1].color};d.push(Ce)}for(var Ge="",ot=0,_t=0;_t<Y.length;_t++){for(B=Y[_t];B>d[ot+1].offset;)ot++;var St=d[ot].offset,zt=(B-St)/(d[ot+1].offset-St),dn=d[ot].color,hn=d[ot+1].color;Ge+=V(Math.round((1-zt)*dn[0]+zt*hn[0]).toString(16))+V(Math.round((1-zt)*dn[1]+zt*hn[1]).toString(16))+V(Math.round((1-zt)*dn[2]+zt*hn[2]).toString(16))}return Ge.trim()},Yr=function(d,w){w||(w=21);var B=yt(),Y=jr(d.colors,w),fe=[];fe.push({key:"FunctionType",value:"0"}),fe.push({key:"Domain",value:"[0.0 1.0]"}),fe.push({key:"Size",value:"["+w+"]"}),fe.push({key:"BitsPerSample",value:"8"}),fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),kn({data:Y,additionalKeyValues:fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:B}),U("endobj"),d.objectNumber=yt(),U("<< /ShadingType "+d.type),U("/ColorSpace /DeviceRGB");var Ne="/Coords ["+z(parseFloat(d.coords[0]))+" "+z(parseFloat(d.coords[1]))+" ";d.type===2?Ne+=z(parseFloat(d.coords[2]))+" "+z(parseFloat(d.coords[3])):Ne+=z(parseFloat(d.coords[2]))+" "+z(parseFloat(d.coords[3]))+" "+z(parseFloat(d.coords[4]))+" "+z(parseFloat(d.coords[5])),U(Ne+="]"),d.matrix&&U("/Matrix ["+d.matrix.toString()+"]"),U("/Function "+B+" 0 R"),U("/Extend [true true]"),U(">>"),U("endobj")},H=function(d,w){var B=It(),Y=yt();w.push({resourcesOid:B,objectOid:Y}),d.objectNumber=Y;var fe=[];fe.push({key:"Type",value:"/Pattern"}),fe.push({key:"PatternType",value:"1"}),fe.push({key:"PaintType",value:"1"}),fe.push({key:"TilingType",value:"1"}),fe.push({key:"BBox",value:"["+d.boundingBox.map(z).join(" ")+"]"}),fe.push({key:"XStep",value:z(d.xStep)}),fe.push({key:"YStep",value:z(d.yStep)}),fe.push({key:"Resources",value:B+" 0 R"}),d.matrix&&fe.push({key:"Matrix",value:"["+d.matrix.toString()+"]"}),kn({data:d.stream,additionalKeyValues:fe,objectId:d.objectNumber}),U("endobj")},Te=function(d){var w;for(w in ut)ut.hasOwnProperty(w)&&(ut[w]instanceof ni?Yr(ut[w]):ut[w]instanceof Ti&&H(ut[w],d))},we=function(d){for(var w in d.objectNumber=yt(),U("<<"),d)switch(w){case"opacity":U("/ca "+ce(d[w]));break;case"stroke-opacity":U("/CA "+ce(d[w]))}U(">>"),U("endobj")},Pe=function(){var d;for(d in Xt)Xt.hasOwnProperty(d)&&we(Xt[d])},tt=function(){for(var d in U("/XObject <<"),pn)pn.hasOwnProperty(d)&&pn[d].objectNumber>=0&&U("/"+d+" "+pn[d].objectNumber+" 0 R");qt.publish("putXobjectDict"),U(">>")},Re=function(){Vn.oid=yt(),U("<<"),U("/Filter /Standard"),U("/V "+Vn.v),U("/R "+Vn.r),U("/U <"+Vn.toHexString(Vn.U)+">"),U("/O <"+Vn.toHexString(Vn.O)+">"),U("/P "+Vn.P),U(">>"),U("endobj")},pt=function(){for(var d in U("/Font <<"),Nt)Nt.hasOwnProperty(d)&&(v===!1||v===!0&&j.hasOwnProperty(d))&&U("/"+d+" "+Nt[d].objectNumber+" 0 R");U(">>")},wt=function(){if(Object.keys(ut).length>0){for(var d in U("/Shading <<"),ut)ut.hasOwnProperty(d)&&ut[d]instanceof ni&&ut[d].objectNumber>=0&&U("/"+d+" "+ut[d].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),U(">>")}},it=function(d){if(Object.keys(ut).length>0){for(var w in U("/Pattern <<"),ut)ut.hasOwnProperty(w)&&ut[w]instanceof h.TilingPattern&&ut[w].objectNumber>=0&&ut[w].objectNumber<d&&U("/"+w+" "+ut[w].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),U(">>")}},Pt=function(){if(Object.keys(Xt).length>0){var d;for(d in U("/ExtGState <<"),Xt)Xt.hasOwnProperty(d)&&Xt[d].objectNumber>=0&&U("/"+d+" "+Xt[d].objectNumber+" 0 R");qt.publish("putGStateDict"),U(">>")}},re=function(d){Ct(d.resourcesOid,!0),U("<<"),U("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),pt(),wt(),it(d.objectOid),Pt(),tt(),U(">>"),U("endobj")},Ye=function(){var d=[];Nr(),Pe(),Dr(),Te(d),qt.publish("putResources"),d.forEach(re),re({resourcesOid:Hn,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources")},$e=function(){qt.publish("putAdditionalObjects");for(var d=0;d<be.length;d++){var w=be[d];Ct(w.objId,!0),U(w.content),U("endobj")}qt.publish("postPutAdditionalObjects")},Et=function(d){Tt[d.fontName]=Tt[d.fontName]||{},Tt[d.fontName][d.fontStyle]=d.id},nt=function(d,w,B,Y,fe){var Ne={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:d,fontName:w,fontStyle:B,encoding:Y,isStandardFont:fe||!1,metadata:{}};return qt.publish("addFont",{font:Ne,instance:this}),Nt[Ne.id]=Ne,Et(Ne),Ne.id},Dt=function(d){for(var w=0,B=Fe.length;w<B;w++){var Y=nt.call(this,d[w][0],d[w][1],d[w][2],Fe[w][3],!0);v===!1&&(j[Y]=!0);var fe=d[w][0].split("-");Et({id:Y,fontName:fe[0],fontStyle:fe[1]||""})}qt.publish("addFonts",{fonts:Nt,dictionary:Tt})},$t=function(d){return d.foo=function(){try{return d.apply(this,arguments)}catch(Y){var w=Y.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var B="Error in function "+w.split(`
`)[0].split("<")[0]+": "+Y.message;if(!gt.console)throw new Error(B);gt.console.error(B,Y),gt.alert&&alert(B)}},d.foo.bar=d,d.foo},cn=function(d,w){var B,Y,fe,Ne,Ce,Ge,ot,_t,St;if(fe=(w=w||{}).sourceEncoding||"Unicode",Ce=w.outputEncoding,(w.autoencode||Ce)&&Nt[ct].metadata&&Nt[ct].metadata[fe]&&Nt[ct].metadata[fe].encoding&&(Ne=Nt[ct].metadata[fe].encoding,!Ce&&Nt[ct].encoding&&(Ce=Nt[ct].encoding),!Ce&&Ne.codePages&&(Ce=Ne.codePages[0]),typeof Ce=="string"&&(Ce=Ne[Ce]),Ce)){for(ot=!1,Ge=[],B=0,Y=d.length;B<Y;B++)(_t=Ce[d.charCodeAt(B)])?Ge.push(String.fromCharCode(_t)):Ge.push(d[B]),Ge[B].charCodeAt(0)>>8&&(ot=!0);d=Ge.join("")}for(B=d.length;ot===void 0&&B!==0;)d.charCodeAt(B-1)>>8&&(ot=!0),B--;if(!ot)return d;for(Ge=w.noBOM?[]:[254,255],B=0,Y=d.length;B<Y;B++){if((St=(_t=d.charCodeAt(B))>>8)>>8)throw new Error("Character at position "+B+" of string '"+d+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ge.push(St),Ge.push(_t-(St<<8))}return String.fromCharCode.apply(void 0,Ge)},Zt=h.__private__.pdfEscape=h.pdfEscape=function(d,w){return cn(d,w).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pr=h.__private__.beginPage=function(d){je[++Rt]=[],xt[Rt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(d[0]),topRightY:Number(d[1])}},ci(Rt),he(je[C])},Sr=function(d,w){var B,Y,fe;switch(e=w||e,typeof d=="string"&&(B=L(d.toLowerCase()),Array.isArray(B)&&(Y=B[0],fe=B[1])),Array.isArray(d)&&(Y=d[0]*ze,fe=d[1]*ze),isNaN(Y)&&(Y=l[0],fe=l[1]),(Y>14400||fe>14400)&&(Jt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Y=Math.min(14400,Y),fe=Math.min(14400,fe)),l=[Y,fe],e.substr(0,1)){case"l":fe>Y&&(l=[fe,Y]);break;case"p":Y>fe&&(l=[fe,Y])}pr(l),Ms(Xi),U(Rr),Qi!==0&&U(Qi+" J"),es!==0&&U(es+" j"),qt.publish("addPage",{pageNumber:Rt})},Gi=function(d){d>0&&d<=Rt&&(je.splice(d,1),xt.splice(d,1),Rt--,C>Rt&&(C=Rt),this.setPage(C))},ci=function(d){d>0&&d<=Rt&&(C=d)},Or=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return je.length-1},Lt=function(d,w,B){var Y,fe=void 0;return B=B||{},d=d!==void 0?d:Nt[ct].fontName,w=w!==void 0?w:Nt[ct].fontStyle,Y=d.toLowerCase(),Tt[Y]!==void 0&&Tt[Y][w]!==void 0?fe=Tt[Y][w]:Tt[d]!==void 0&&Tt[d][w]!==void 0?fe=Tt[d][w]:B.disableWarning===!1&&Jt.warn("Unable to look up font label for font '"+d+"', '"+w+"'. Refer to getFontList() for available fonts."),fe||B.noFallback||(fe=Tt.times[w])==null&&(fe=Tt.times.normal),fe},rn=h.__private__.putInfo=function(){var d=yt(),w=function(Y){return Y};for(var B in y!==null&&(w=Vn.encryptor(d,0)),U("<<"),U("/Producer ("+Zt(w("jsPDF "+ht.version))+")"),rt)rt.hasOwnProperty(B)&&rt[B]&&U("/"+B.substr(0,1).toUpperCase()+B.substr(1)+" ("+Zt(w(rt[B]))+")");U("/CreationDate ("+Zt(w(J))+")"),U(">>"),U("endobj")},Wa=h.__private__.putCatalog=function(d){var w=(d=d||{}).rootDictionaryObjId||Wn;switch(yt(),U("<<"),U("/Type /Catalog"),U("/Pages "+w+" 0 R"),Be||(Be="fullwidth"),Be){case"fullwidth":U("/OpenAction [3 0 R /FitH null]");break;case"fullheight":U("/OpenAction [3 0 R /FitV null]");break;case"fullpage":U("/OpenAction [3 0 R /Fit]");break;case"original":U("/OpenAction [3 0 R /XYZ null null 1]");break;default:var B=""+Be;B.substr(B.length-1)==="%"&&(Be=parseInt(Be)/100),typeof Be=="number"&&U("/OpenAction [3 0 R /XYZ null null "+ce(Be)+"]")}switch(Ze||(Ze="continuous"),Ze){case"continuous":U("/PageLayout /OneColumn");break;case"single":U("/PageLayout /SinglePage");break;case"two":case"twoleft":U("/PageLayout /TwoColumnLeft");break;case"tworight":U("/PageLayout /TwoColumnRight")}Se&&U("/PageMode /"+Se),qt.publish("putCatalog"),U(">>"),U("endobj")},Yi=h.__private__.putTrailer=function(){U("trailer"),U("<<"),U("/Size "+(Z+1)),U("/Root "+Z+" 0 R"),U("/Info "+(Z-1)+" 0 R"),y!==null&&U("/Encrypt "+Vn.oid+" 0 R"),U("/ID [ <"+G+"> <"+G+"> ]"),U(">>")},di=h.__private__.putHeader=function(){U("%PDF-"+R),U("%ºß¬à")},Bo=h.__private__.putXRef=function(){var d="0000000000";U("xref"),U("0 "+(Z+1)),U("0000000000 65535 f ");for(var w=1;w<=Z;w++)typeof le[w]=="function"?U((d+le[w]()).slice(-10)+" 00000 n "):le[w]!==void 0?U((d+le[w]).slice(-10)+" 00000 n "):U("0000000000 00000 n ")},aa=h.__private__.buildDocument=function(){Ve(),he(W),qt.publish("buildDocument"),di(),wr(),$e(),Ye(),y!==null&&Re(),rn(),Wa();var d=$;return Bo(),Yi(),U("startxref"),U(""+d),U("%%EOF"),he(je[C]),W.join(`
`)},ui=h.__private__.getBlob=function(d){return new Blob([Je(d)],{type:"application/pdf"})},pi=h.output=h.__private__.output=$t(function(d,w){switch(typeof(w=w||{})=="string"?w={filename:w}:w.filename=w.filename||"generated.pdf",d){case void 0:return aa();case"save":h.save(w.filename);break;case"arraybuffer":return Je(aa());case"blob":return ui(aa());case"bloburi":case"bloburl":if(gt.URL!==void 0&&typeof gt.URL.createObjectURL=="function")return gt.URL&&gt.URL.createObjectURL(ui(aa()))||void 0;Jt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var B="",Y=aa();try{B=Ul(Y)}catch{B=Ul(unescape(encodeURIComponent(Y)))}return"data:application/pdf;filename="+w.filename+";base64,"+B;case"pdfobjectnewwindow":if(Object.prototype.toString.call(gt)==="[object Window]"){var fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';w.pdfObjectUrl&&(fe=w.pdfObjectUrl,Ne="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+fe+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(w)+");<\/script></body></html>",Ge=gt.open();return Ge!==null&&Ge.document.write(Ce),Ge}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(gt)==="[object Window]"){var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(w.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+w.filename+'" width="500px" height="400px" /></body></html>',_t=gt.open();if(_t!==null){_t.document.write(ot);var St=this;_t.document.documentElement.querySelector("#pdfViewer").onload=function(){_t.document.title=w.filename,_t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(St.output("bloburl"))}}return _t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(gt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",w)+'"></iframe></body></html>',dn=gt.open();if(dn!==null&&(dn.document.write(zt),dn.document.title=w.filename),dn||typeof safari>"u")return dn;break;case"datauri":case"dataurl":return gt.document.location.href=this.output("datauristring",w);default:return null}}),Es=function(d){return Array.isArray(yr)===!0&&yr.indexOf(d)>-1};switch(a){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=Es("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);ze=a}var Vn=null;Oe(),X();var Uo=function(d){return y!==null?Vn.encryptor(d,0):function(w){return w}},Ds=h.__private__.getPageInfo=h.getPageInfo=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[d].objId,pageNumber:d,pageContext:xt[d]}},jt=h.__private__.getPageInfoByObjId=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var w in xt)if(xt[w].objId===d)break;return Ds(w)},Wo=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:xt[C].objId,pageNumber:C,pageContext:xt[C]}};h.addPage=function(){return Sr.apply(this,arguments),this},h.setPage=function(){return ci.apply(this,arguments),he.call(this,je[C]),this},h.insertPage=function(d){return this.addPage(),this.movePage(C,d),this},h.movePage=function(d,w){var B,Y;if(d>w){B=je[d],Y=xt[d];for(var fe=d;fe>w;fe--)je[fe]=je[fe-1],xt[fe]=xt[fe-1];je[w]=B,xt[w]=Y,this.setPage(w)}else if(d<w){B=je[d],Y=xt[d];for(var Ne=d;Ne<w;Ne++)je[Ne]=je[Ne+1],xt[Ne]=xt[Ne+1];je[w]=B,xt[w]=Y,this.setPage(w)}return this},h.deletePage=function(){return Gi.apply(this,arguments),this},h.__private__.text=h.text=function(d,w,B,Y,fe){var Ne,Ce,Ge,ot,_t,St,zt,dn,hn,Sn=(Y=Y||{}).scope||this;if(typeof d=="number"&&typeof w=="number"&&(typeof B=="string"||Array.isArray(B))){var $n=B;B=w,w=d,d=$n}if(arguments[3]instanceof xe?(M("The transform parameter of text() with a Matrix value"),hn=fe):(Ge=arguments[4],ot=arguments[5],Vt(zt=arguments[3])==="object"&&zt!==null||(typeof Ge=="string"&&(ot=Ge,Ge=null),typeof zt=="string"&&(ot=zt,zt=null),typeof zt=="number"&&(Ge=zt,zt=null),Y={flags:zt,angle:Ge,align:ot})),isNaN(w)||isNaN(B)||d==null)throw new Error("Invalid arguments passed to jsPDF.text");if(d.length===0)return Sn;var Cn="",Mr=!1,fr=typeof Y.lineHeightFactor=="number"?Y.lineHeightFactor:Va,Xr=Sn.internal.scaleFactor;function Ws(Qt){return Qt=Qt.split("	").join(Array(Y.TabLen||9).join(" ")),Zt(Qt,zt)}function is(Qt){for(var en,bn=Qt.concat(),Fn=[],ca=bn.length;ca--;)typeof(en=bn.shift())=="string"?Fn.push(en):Array.isArray(Qt)&&(en.length===1||en[1]===void 0&&en[2]===void 0)?Fn.push(en[0]):Fn.push([en[0],en[1],en[2]]);return Fn}function ss(Qt,en){var bn;if(typeof Qt=="string")bn=en(Qt)[0];else if(Array.isArray(Qt)){for(var Fn,ca,hs=Qt.concat(),Li=[],Ys=hs.length;Ys--;)typeof(Fn=hs.shift())=="string"?Li.push(en(Fn)[0]):Array.isArray(Fn)&&typeof Fn[0]=="string"&&(ca=en(Fn[0],Fn[1],Fn[2]),Li.push([ca[0],ca[1],ca[2]]));bn=Li}return bn}var xi=!1,os=!0;if(typeof d=="string")xi=!0;else if(Array.isArray(d)){var ls=d.concat();Ce=[];for(var bi,zn=ls.length;zn--;)(typeof(bi=ls.shift())!="string"||Array.isArray(bi)&&typeof bi[0]!="string")&&(os=!1);xi=os}if(xi===!1)throw new Error('Type of text must be string or Array. "'+d+'" is not recognized.');typeof d=="string"&&(d=d.match(/[\r?\n]/)?d.split(/\r\n|\r|\n/g):[d]);var yi=qe/Sn.internal.scaleFactor,wi=yi*(fr-1);switch(Y.baseline){case"bottom":B-=wi;break;case"top":B+=yi-wi;break;case"hanging":B+=yi-2*wi;break;case"middle":B+=yi/2-wi}if((St=Y.maxWidth||0)>0&&(typeof d=="string"?d=Sn.splitTextToSize(d,St):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(Qt,en){return Qt.concat(Sn.splitTextToSize(en,St))},[]))),Ne={text:d,x:w,y:B,options:Y,mutex:{pdfEscape:Zt,activeFontKey:ct,fonts:Nt,activeFontSize:qe}},qt.publish("preProcessText",Ne),d=Ne.text,Ge=(Y=Ne.options).angle,!(hn instanceof xe)&&Ge&&typeof Ge=="number"){Ge*=Math.PI/180,Y.rotationDirection===0&&(Ge=-Ge),K===E.ADVANCED&&(Ge=-Ge);var Ni=Math.cos(Ge),cs=Math.sin(Ge);hn=new xe(Ni,cs,-cs,Ni,0,0)}else Ge&&Ge instanceof xe&&(hn=Ge);K!==E.ADVANCED||hn||(hn=Xe),(_t=Y.charSpace||mi)!==void 0&&(Cn+=z(_(_t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(dn=Y.horizontalScale)!==void 0&&(Cn+=z(100*dn)+` Tz
`),Y.lang;var or=-1,Qo=Y.renderingMode!==void 0?Y.renderingMode:Y.stroke,ds=Sn.internal.getCurrentPageInfo().pageContext;switch(Qo){case 0:case!1:case"fill":or=0;break;case 1:case!0:case"stroke":or=1;break;case 2:case"fillThenStroke":or=2;break;case 3:case"invisible":or=3;break;case 4:case"fillAndAddForClipping":or=4;break;case 5:case"strokeAndAddPathForClipping":or=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":or=6;break;case 7:case"addToPathForClipping":or=7}var Hs=ds.usedRenderingMode!==void 0?ds.usedRenderingMode:-1;or!==-1?Cn+=or+` Tr
`:Hs!==-1&&(Cn+=`0 Tr
`),or!==-1&&(ds.usedRenderingMode=or),ot=Y.align||"left";var Ar,ji=qe*fr,Vs=Sn.internal.pageSize.getWidth(),$s=Nt[ct];_t=Y.charSpace||mi,St=Y.maxWidth||0,zt=Object.assign({autoencode:!0,noBOM:!0},Y.flags);var Sa=[],Ya=function(Qt){return Sn.getStringUnitWidth(Qt,{font:$s,charSpace:_t,fontSize:qe,doKerning:!1})*qe/Xr};if(Object.prototype.toString.call(d)==="[object Array]"){var lr;Ce=is(d),ot!=="left"&&(Ar=Ce.map(Ya));var nr,Aa=0;if(ot==="right"){w-=Ar[0],d=[],zn=Ce.length;for(var sa=0;sa<zn;sa++)sa===0?(nr=Jr(w),lr=ia(B)):(nr=_(Aa-Ar[sa]),lr=-ji),d.push([Ce[sa],nr,lr]),Aa=Ar[sa]}else if(ot==="center"){w-=Ar[0]/2,d=[],zn=Ce.length;for(var oa=0;oa<zn;oa++)oa===0?(nr=Jr(w),lr=ia(B)):(nr=_((Aa-Ar[oa])/2),lr=-ji),d.push([Ce[oa],nr,lr]),Aa=Ar[oa]}else if(ot==="left"){d=[],zn=Ce.length;for(var Si=0;Si<zn;Si++)d.push(Ce[Si])}else if(ot==="justify"&&$s.encoding==="Identity-H"){d=[],zn=Ce.length,St=St!==0?St:Vs;for(var la=0,xn=0;xn<zn;xn++)if(lr=xn===0?ia(B):-ji,nr=xn===0?Jr(w):la,xn<zn-1){var us=_((St-Ar[xn])/(Ce[xn].split(" ").length-1)),rr=Ce[xn].split(" ");d.push([rr[0]+" ",nr,lr]),la=0;for(var _r=1;_r<rr.length;_r++){var Ai=(Ya(rr[_r-1]+" "+rr[_r])-Ya(rr[_r]))*Xr+us;_r==rr.length-1?d.push([rr[_r],Ai,0]):d.push([rr[_r]+" ",Ai,0]),la-=Ai}}else d.push([Ce[xn],nr,lr]);d.push(["",la,0])}else{if(ot!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(d=[],zn=Ce.length,St=St!==0?St:Vs,xn=0;xn<zn;xn++)lr=xn===0?ia(B):-ji,nr=xn===0?Jr(w):0,xn<zn-1?Sa.push(z(_((St-Ar[xn])/(Ce[xn].split(" ").length-1)))):Sa.push(0),d.push([Ce[xn],nr,lr])}}var Gs=typeof Y.R2L=="boolean"?Y.R2L:et;Gs===!0&&(d=ss(d,function(Qt,en,bn){return[Qt.split("").reverse().join(""),en,bn]})),Ne={text:d,x:w,y:B,options:Y,mutex:{pdfEscape:Zt,activeFontKey:ct,fonts:Nt,activeFontSize:qe}},qt.publish("postProcessText",Ne),d=Ne.text,Mr=Ne.mutex.isHex||!1;var ps=Nt[ct].encoding;ps!=="WinAnsiEncoding"&&ps!=="StandardEncoding"||(d=ss(d,function(Qt,en,bn){return[Ws(Qt),en,bn]})),Ce=is(d),d=[];for(var Ka,Ja,_a,Xa=0,_i=1,Za=Array.isArray(Ce[0])?_i:Xa,La="",fs=function(Qt,en,bn){var Fn="";return bn instanceof xe?(bn=typeof Y.angle=="number"?at(bn,new xe(1,0,0,1,Qt,en)):at(new xe(1,0,0,1,Qt,en),bn),K===E.ADVANCED&&(bn=at(new xe(1,0,0,-1,0,0),bn)),Fn=bn.join(" ")+` Tm
`):Fn=z(Qt)+" "+z(en)+` Td
`,Fn},Lr=0;Lr<Ce.length;Lr++){switch(La="",Za){case _i:_a=(Mr?"<":"(")+Ce[Lr][0]+(Mr?">":")"),Ka=parseFloat(Ce[Lr][1]),Ja=parseFloat(Ce[Lr][2]);break;case Xa:_a=(Mr?"<":"(")+Ce[Lr]+(Mr?">":")"),Ka=Jr(w),Ja=ia(B)}Sa!==void 0&&Sa[Lr]!==void 0&&(La=Sa[Lr]+` Tw
`),Lr===0?d.push(La+fs(Ka,Ja,hn)+_a):Za===Xa?d.push(La+_a):Za===_i&&d.push(La+fs(Ka,Ja,hn)+_a)}d=Za===Xa?d.join(` Tj
T* `):d.join(` Tj
`),d+=` Tj
`;var kr=`BT
/`;return kr+=ct+" "+qe+` Tf
`,kr+=z(qe*fr)+` TL
`,kr+=$a+`
`,kr+=Cn,kr+=d,U(kr+="ET"),j[ct]=!0,Sn};var Ho=h.__private__.clip=h.clip=function(d){return U(d==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Ho("evenodd")},h.__private__.discardPath=h.discardPath=function(){return U("n"),this};var Kr=h.__private__.isValidStyle=function(d){var w=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(d)!==-1&&(w=!0),w};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(d){return Kr(d)&&(g=d),this};var Os=h.__private__.getStyle=h.getStyle=function(d){var w=g;switch(d){case"D":case"S":w="S";break;case"F":w="f";break;case"FD":case"DF":w="B";break;case"f":case"f*":case"B":case"B*":w=d}return w},Rs=h.close=function(){return U("h"),this};h.stroke=function(){return U("S"),this},h.fill=function(d){return fi("f",d),this},h.fillEvenOdd=function(d){return fi("f*",d),this},h.fillStroke=function(d){return fi("B",d),this},h.fillStrokeEvenOdd=function(d){return fi("B*",d),this};var fi=function(d,w){Vt(w)==="object"?$o(w,d):U(d)},Ki=function(d){d===null||K===E.ADVANCED&&d===void 0||(d=Os(d),U(d))};function Vo(d,w,B,Y,fe){var Ne=new Ti(w||this.boundingBox,B||this.xStep,Y||this.yStep,this.gState,fe||this.matrix);Ne.stream=this.stream;var Ce=d+"$$"+this.cloneIndex+++"$$";return bt(Ce,Ne),Ne}var $o=function(d,w){var B=ln[d.key],Y=ut[B];if(Y instanceof ni)U("q"),U(Go(w)),Y.gState&&h.setGState(Y.gState),U(d.matrix.toString()+" cm"),U("/"+B+" sh"),U("Q");else if(Y instanceof Ti){var fe=new xe(1,0,0,-1,0,ja());d.matrix&&(fe=fe.multiply(d.matrix||Xe),B=Vo.call(Y,d.key,d.boundingBox,d.xStep,d.yStep,fe).id),U("q"),U("/Pattern cs"),U("/"+B+" scn"),Y.gState&&h.setGState(Y.gState),U(w),U("Q")}},Go=function(d){switch(d){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ji=h.moveTo=function(d,w){return U(z(_(d))+" "+z(O(w))+" m"),this},Ha=h.lineTo=function(d,w){return U(z(_(d))+" "+z(O(w))+" l"),this},wa=h.curveTo=function(d,w,B,Y,fe,Ne){return U([z(_(d)),z(O(w)),z(_(B)),z(O(Y)),z(_(fe)),z(O(Ne)),"c"].join(" ")),this};h.__private__.line=h.line=function(d,w,B,Y,fe){if(isNaN(d)||isNaN(w)||isNaN(B)||isNaN(Y)||!Kr(fe))throw new Error("Invalid arguments passed to jsPDF.line");return K===E.COMPAT?this.lines([[B-d,Y-w]],d,w,[1,1],fe||"S"):this.lines([[B-d,Y-w]],d,w,[1,1]).stroke()},h.__private__.lines=h.lines=function(d,w,B,Y,fe,Ne){var Ce,Ge,ot,_t,St,zt,dn,hn,Sn,$n,Cn,Mr;if(typeof d=="number"&&(Mr=B,B=w,w=d,d=Mr),Y=Y||[1,1],Ne=Ne||!1,isNaN(w)||isNaN(B)||!Array.isArray(d)||!Array.isArray(Y)||!Kr(fe)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ji(w,B),Ce=Y[0],Ge=Y[1],_t=d.length,$n=w,Cn=B,ot=0;ot<_t;ot++)(St=d[ot]).length===2?($n=St[0]*Ce+$n,Cn=St[1]*Ge+Cn,Ha($n,Cn)):(zt=St[0]*Ce+$n,dn=St[1]*Ge+Cn,hn=St[2]*Ce+$n,Sn=St[3]*Ge+Cn,$n=St[4]*Ce+$n,Cn=St[5]*Ge+Cn,wa(zt,dn,hn,Sn,$n,Cn));return Ne&&Rs(),Ki(fe),this},h.path=function(d){for(var w=0;w<d.length;w++){var B=d[w],Y=B.c;switch(B.op){case"m":Ji(Y[0],Y[1]);break;case"l":Ha(Y[0],Y[1]);break;case"c":wa.apply(this,Y);break;case"h":Rs()}}return this},h.__private__.rect=h.rect=function(d,w,B,Y,fe){if(isNaN(d)||isNaN(w)||isNaN(B)||isNaN(Y)||!Kr(fe))throw new Error("Invalid arguments passed to jsPDF.rect");return K===E.COMPAT&&(Y=-Y),U([z(_(d)),z(O(w)),z(_(B)),z(_(Y)),"re"].join(" ")),Ki(fe),this},h.__private__.triangle=h.triangle=function(d,w,B,Y,fe,Ne,Ce){if(isNaN(d)||isNaN(w)||isNaN(B)||isNaN(Y)||isNaN(fe)||isNaN(Ne)||!Kr(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[B-d,Y-w],[fe-B,Ne-Y],[d-fe,w-Ne]],d,w,[1,1],Ce,!0),this},h.__private__.roundedRect=h.roundedRect=function(d,w,B,Y,fe,Ne,Ce){if(isNaN(d)||isNaN(w)||isNaN(B)||isNaN(Y)||isNaN(fe)||isNaN(Ne)||!Kr(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ge=4/3*(Math.SQRT2-1);return fe=Math.min(fe,.5*B),Ne=Math.min(Ne,.5*Y),this.lines([[B-2*fe,0],[fe*Ge,0,fe,Ne-Ne*Ge,fe,Ne],[0,Y-2*Ne],[0,Ne*Ge,-fe*Ge,Ne,-fe,Ne],[2*fe-B,0],[-fe*Ge,0,-fe,-Ne*Ge,-fe,-Ne],[0,2*Ne-Y],[0,-Ne*Ge,fe*Ge,-Ne,fe,-Ne]],d+fe,w,[1,1],Ce,!0),this},h.__private__.ellipse=h.ellipse=function(d,w,B,Y,fe){if(isNaN(d)||isNaN(w)||isNaN(B)||isNaN(Y)||!Kr(fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*B,Ce=4/3*(Math.SQRT2-1)*Y;return Ji(d+B,w),wa(d+B,w-Ce,d+Ne,w-Y,d,w-Y),wa(d-Ne,w-Y,d-B,w-Ce,d-B,w),wa(d-B,w+Ce,d-Ne,w+Y,d,w+Y),wa(d+Ne,w+Y,d+B,w+Ce,d+B,w),Ki(fe),this},h.__private__.circle=h.circle=function(d,w,B,Y){if(isNaN(d)||isNaN(w)||isNaN(B)||!Kr(Y))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(d,w,B,B,Y)},h.setFont=function(d,w,B){return B&&(w=oe(w,B)),ct=Lt(d,w,{disableWarning:!1}),this};var Yo=h.__private__.getFont=h.getFont=function(){return Nt[Lt.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var d,w,B={};for(d in Tt)if(Tt.hasOwnProperty(d))for(w in B[d]=[],Tt[d])Tt[d].hasOwnProperty(w)&&B[d].push(w);return B},h.addFont=function(d,w,B,Y,fe){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?fe=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(B=oe(B,Y)),fe=fe||"Identity-H",nt.call(this,d,w,B,fe)};var Va,Xi=n.lineWidth||.200025,hi=h.__private__.getLineWidth=h.getLineWidth=function(){return Xi},Ms=h.__private__.setLineWidth=h.setLineWidth=function(d){return Xi=d,U(z(_(d))+" w"),this};h.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(d,w){if(d=d||[],w=w||0,isNaN(w)||!Array.isArray(d))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return d=d.map(function(B){return z(_(B))}).join(" "),w=z(_(w)),U("["+d+"] "+w+" d"),this};var Ts=h.__private__.getLineHeight=h.getLineHeight=function(){return qe*Va};h.__private__.getLineHeight=h.getLineHeight=function(){return qe*Va};var qs=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(d){return typeof(d=d||1.15)=="number"&&(Va=d),this},zs=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Va};qs(n.lineHeight);var Jr=h.__private__.getHorizontalCoordinate=function(d){return _(d)},ia=h.__private__.getVerticalCoordinate=function(d){return K===E.ADVANCED?d:xt[C].mediaBox.topRightY-xt[C].mediaBox.bottomLeftY-_(d)},Ko=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(d){return z(Jr(d))},Na=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(d){return z(ia(d))},Rr=n.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return qn(Rr)},h.__private__.setStrokeColor=h.setDrawColor=function(d,w,B,Y){return Rr=Pn({ch1:d,ch2:w,ch3:B,ch4:Y,pdfColorType:"draw",precision:2}),U(Rr),this};var Zi=n.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return qn(Zi)},h.__private__.setFillColor=h.setFillColor=function(d,w,B,Y){return Zi=Pn({ch1:d,ch2:w,ch3:B,ch4:Y,pdfColorType:"fill",precision:2}),U(Zi),this};var $a=n.textColor||"0 g",Jo=h.__private__.getTextColor=h.getTextColor=function(){return qn($a)};h.__private__.setTextColor=h.setTextColor=function(d,w,B,Y){return $a=Pn({ch1:d,ch2:w,ch3:B,ch4:Y,pdfColorType:"text",precision:3}),this};var mi=n.charSpace,Xo=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(mi||0)};h.__private__.setCharSpace=h.setCharSpace=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return mi=d,this};var Qi=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(d){var w=h.CapJoinStyles[d];if(w===void 0)throw new Error("Line cap style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qi=w,U(w+" J"),this};var es=0;h.__private__.setLineJoin=h.setLineJoin=function(d){var w=h.CapJoinStyles[d];if(w===void 0)throw new Error("Line join style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return es=w,U(w+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(d){if(d=d||0,isNaN(d))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return U(z(_(d))+" M"),this},h.GState=Io,h.setGState=function(d){(d=typeof d=="string"?Xt[Rn[d]]:Bs(null,d)).equals(Mn)||(U("/"+d.id+" gs"),Mn=d)};var Bs=function(d,w){if(!d||!Rn[d]){var B=!1;for(var Y in Xt)if(Xt.hasOwnProperty(Y)&&Xt[Y].equals(w)){B=!0;break}if(B)w=Xt[Y];else{var fe="GS"+(Object.keys(Xt).length+1).toString(10);Xt[fe]=w,w.id=fe}return d&&(Rn[d]=w.id),qt.publish("addGState",w),w}};h.addGState=function(d,w){return Bs(d,w),this},h.saveGraphicsState=function(){return U("q"),jn.push({key:ct,size:qe,color:$a}),this},h.restoreGraphicsState=function(){U("Q");var d=jn.pop();return ct=d.key,qe=d.size,$a=d.color,Mn=null,this},h.setCurrentTransformationMatrix=function(d){return U(d.toString()+" cm"),this},h.comment=function(d){return U("#"+d),this};var gi=function(d,w){var B=d||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return B},set:function(Ne){isNaN(Ne)||(B=parseFloat(Ne))}});var Y=w||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Y},set:function(Ne){isNaN(Ne)||(Y=parseFloat(Ne))}});var fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return fe},set:function(Ne){fe=Ne.toString()}}),this},ts=function(d,w,B,Y){gi.call(this,d,w),this.type="rect";var fe=B||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return fe},set:function(Ce){isNaN(Ce)||(fe=parseFloat(Ce))}});var Ne=Y||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(Ce){isNaN(Ce)||(Ne=parseFloat(Ce))}}),this},ns=function(){this.page=Rt,this.currentPage=C,this.pages=je.slice(0),this.pagesContext=xt.slice(0),this.x=tn,this.y=Ft,this.matrix=nn,this.width=Ga(C),this.height=ja(C),this.outputDestination=Ee,this.id="",this.objectNumber=-1};ns.prototype.restore=function(){Rt=this.page,C=this.currentPage,xt=this.pagesContext,je=this.pages,tn=this.x,Ft=this.y,nn=this.matrix,rs(C,this.width),as(C,this.height),Ee=this.outputDestination};var Us=function(d,w,B,Y,fe){fn.push(new ns),Rt=C=0,je=[],tn=d,Ft=w,nn=fe,pr([B,Y])},Zo=function(d){if(Tn[d])fn.pop().restore();else{var w=new ns,B="Xo"+(Object.keys(pn).length+1).toString(10);w.id=B,Tn[d]=B,pn[B]=w,qt.publish("addFormObject",w),fn.pop().restore()}};for(var vi in h.beginFormObject=function(d,w,B,Y,fe){return Us(d,w,B,Y,fe),this},h.endFormObject=function(d){return Zo(d),this},h.doFormObject=function(d,w){var B=pn[Tn[d]];return U("q"),U(w.toString()+" cm"),U("/"+B.id+" Do"),U("Q"),this},h.getFormObject=function(d){var w=pn[Tn[d]];return{x:w.x,y:w.y,width:w.width,height:w.height,matrix:w.matrix}},h.save=function(d,w){return d=d||"generated.pdf",(w=w||{}).returnPromise=w.returnPromise||!1,w.returnPromise===!1?(ti(ui(aa()),d),typeof ti.unload=="function"&&gt.setTimeout&&setTimeout(ti.unload,911),this):new Promise(function(B,Y){try{var fe=ti(ui(aa()),d);typeof ti.unload=="function"&&gt.setTimeout&&setTimeout(ti.unload,911),B(fe)}catch(Ne){Y(Ne.message)}})},ht.API)ht.API.hasOwnProperty(vi)&&(vi==="events"&&ht.API.events.length?function(d,w){var B,Y,fe;for(fe=w.length-1;fe!==-1;fe--)B=w[fe][0],Y=w[fe][1],d.subscribe.apply(d,[B].concat(typeof Y=="function"?[Y]:Y))}(qt,ht.API.events):h[vi]=ht.API[vi]);var Ga=h.getPageWidth=function(d){return(xt[d=d||C].mediaBox.topRightX-xt[d].mediaBox.bottomLeftX)/ze},rs=h.setPageWidth=function(d,w){xt[d].mediaBox.topRightX=w*ze+xt[d].mediaBox.bottomLeftX},ja=h.getPageHeight=function(d){return(xt[d=d||C].mediaBox.topRightY-xt[d].mediaBox.bottomLeftY)/ze},as=h.setPageHeight=function(d,w){xt[d].mediaBox.topRightY=w*ze+xt[d].mediaBox.bottomLeftY};return h.internal={pdfEscape:Zt,getStyle:Os,getFont:Yo,getFontSize:Me,getCharSpace:Xo,getTextColor:Jo,getLineHeight:Ts,getLineHeightFactor:zs,getLineWidth:hi,write:We,getHorizontalCoordinate:Jr,getVerticalCoordinate:ia,getCoordinateString:Ko,getVerticalCoordinateString:Na,collections:{},newObject:yt,newAdditionalObject:Qn,newObjectDeferred:It,newObjectDeferredBegin:Ct,getFilters:er,putStream:kn,events:qt,scaleFactor:ze,pageSize:{getWidth:function(){return Ga(C)},setWidth:function(d){rs(C,d)},getHeight:function(){return ja(C)},setHeight:function(d){as(C,d)}},encryptionOptions:y,encryption:Vn,getEncryptor:Uo,output:pi,getNumberOfPages:Or,pages:je,out:U,f2:ce,f3:N,getPageInfo:Ds,getPageInfoByObjId:jt,getCurrentPageInfo:Wo,getPDFVersion:P,Point:gi,Rectangle:ts,Matrix:xe,hasHotfix:Es},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Ga(C)},set:function(d){rs(C,d)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return ja(C)},set:function(d){as(C,d)},enumerable:!0,configurable:!0}),Dt.call(h,Fe),ct="F1",Sr(l,e),qt.publish("initialized"),h}Ri.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Ri.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ri.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},Ri.prototype.processOwnerPassword=function(n,t){return Hl(Wl(t).substr(0,5),n)},Ri.prototype.encryptor=function(n,t){var e=Wl(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return Hl(e,a)}},Io.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Vt(n)!==Vt(this))return!1;var a=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;a++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&a--;return a===0},ht.API={events:[]},ht.version="3.0.1";var vn=ht.API,ic=1,li=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ii=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},At=function(n){return n.toFixed(2)},Ra=function(n){return n.toFixed(5)};vn.__acroform__={};var ur=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},sd=function(n){return n*ic},ea=function(n){var t=new tu,e=Qe.internal.getHeight(n)||0,a=Qe.internal.getWidth(n)||0;return t.BBox=[0,0,Number(At(a)),Number(At(e))],t},yf=vn.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<t},wf=vn.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<t)},Nf=vn.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<t)==0?0:1},yn=vn.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Nf(n,t-1)},wn=vn.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return yf(n,t-1)},Nn=vn.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wf(n,t-1)},jf=vn.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,l=n[0],s=n[1],c=n[2],u=n[3],f={};return f.lowerLeft_X=e(l)||0,f.lowerLeft_Y=a(s+u)||0,f.upperRight_X=e(l+c)||0,f.upperRight_Y=a(s)||0,[Number(At(f.lowerLeft_X)),Number(At(f.lowerLeft_Y)),Number(At(f.upperRight_X)),Number(At(f.upperRight_Y))]},Sf=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,a=Vl(n,e),l=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+l+" "+At(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=ea(n);return s.scope=n.scope,s.stream=t.join(`
`),s}},Vl=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,a={text:"",fontSize:""},l=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");l=n.multiline?l.map(function(N){return N.split(`
`)}):l.map(function(N){return[N]});var s=e,c=Qe.internal.getHeight(n)||0;c=c<0?-c:c;var u=Qe.internal.getWidth(n)||0;u=u<0?-u:u;var f=function(N,_,D){if(N+1<l.length){var O=_+" "+l[N+1][0];return bo(O,n,D).width<=u-4}return!1};s++;e:for(;s>0;){t="",s--;var g,y,v=bo("3",n,s).height,j=n.multiline?c-s:(c-v)/2,h=j+=2,R=0,P=0,I=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+bo(t,n,s=12).width+", FieldWidth:"+u+`
`;break}for(var L="",E=0,K=0;K<l.length;K++)if(l.hasOwnProperty(K)){var ue=!1;if(l[K].length!==1&&I!==l[K].length-1){if((v+2)*(E+2)+2>c)continue e;L+=l[K][I],ue=!0,P=K,K--}else{L=(L+=l[K][I]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var se=parseInt(K),oe=f(se,L,s),z=K>=l.length-1;if(oe&&!z){L+=" ",I=0;continue}if(oe||z){if(z)P=se;else if(n.multiline&&(v+2)*(E+2)+2>c)continue e}else{if(!n.multiline||(v+2)*(E+2)+2>c)continue e;P=se}}for(var M="",ne=R;ne<=P;ne++){var ce=l[ne];if(n.multiline){if(ne===P){M+=ce[I]+" ",I=(I+1)%ce.length;continue}if(ne===R){M+=ce[ce.length-1]+" ";continue}}M+=ce[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,y=bo(M,n,s).width,n.textAlign){case"right":g=u-y-2;break;case"center":g=(u-y)/2;break;case"left":default:g=2}t+=At(g)+" "+At(h)+` Td
`,t+="("+li(M)+`) Tj
`,t+=-At(g)+` 0 Td
`,h=-(s+2),y=0,R=ue?P:P+1,E++,L=""}break}return a.text=t,a.fontSize=s,a},bo=function(n,t,e){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),l=t.scope.getStringUnitWidth(n,{font:a,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:l}},Af={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_f=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(a){return a.type===e.type&&a.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},Lf=function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var a=e,l=n[e];t.internal.newObjectDeferredBegin(l.objId,!0),Vt(l)==="object"&&typeof l.putStream=="function"&&l.putStream(),delete n[a]}},kf=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if($r.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Af)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ic=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new nu,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var l in a)if(a.hasOwnProperty(l)){var s=a[l];s.objId=void 0,s.hasAnnotation&&_f(s,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(a,l){var s=!a;for(var c in a||(l.internal.newObjectDeferredBegin(l.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),l.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||l.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(c)){var u=a[c],f=[],g=u.Rect;if(u.Rect&&(u.Rect=jf(u.Rect,l)),l.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Qe.createDefaultAppearanceStream(u),Vt(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(f=u.getKeyValueListForStream()),u.Rect=g,u.hasAppearanceStream&&!u.appearanceStreamContent){var y=Sf(u);f.push({key:"AP",value:"<</N "+y+">>"}),l.internal.acroformPlugin.xForms.push(y)}if(u.appearanceStreamContent){var v="";for(var j in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(j)){var h=u.appearanceStreamContent[j];if(v+="/"+j+" ",v+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var c in h)if(h.hasOwnProperty(c)){var R=h[c];typeof R=="function"&&(R=R.call(l,u)),v+="/"+c+" "+R+" ",l.internal.acroformPlugin.xForms.indexOf(R)>=0||l.internal.acroformPlugin.xForms.push(R)}}else typeof(R=h)=="function"&&(R=R.call(l,u)),v+="/"+c+" "+R,l.internal.acroformPlugin.xForms.indexOf(R)>=0||l.internal.acroformPlugin.xForms.push(R);v+=">>"}f.push({key:"AP",value:`<<
`+v+">>"})}l.internal.putStream({additionalKeyValues:f,objectId:u.objId}),l.internal.out("endobj")}s&&Lf(l.internal.acroformPlugin.xForms,l)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},eu=vn.__acroform__.arrayToPdfArray=function(n,t,e){var a=function(c){return c};if(Array.isArray(n)){for(var l="[",s=0;s<n.length;s++)switch(s!==0&&(l+=" "),Vt(n[s])){case"boolean":case"number":case"object":l+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(t!==void 0&&e&&(a=e.internal.getEncryptor(t)),l+="("+li(a(n[s].toString()))+")"):l+=n[s].toString()}return l+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ll=function(n,t,e){var a=function(l){return l};return t!==void 0&&e&&(a=e.internal.getEncryptor(t)),(n=n||"").toString(),n="("+li(a(n))+")"},ta=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ta.prototype.toString=function(){return this.objId+" 0 R"},ta.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},ta.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var a=t[e],l=this[a];l&&(Array.isArray(l)?n.push({key:a,value:eu(l,this.objId,this.scope)}):l instanceof ta?(l.scope=this.scope,n.push({key:a,value:l.objId+" 0 R"})):typeof l!="function"&&n.push({key:a,value:l}))}return n};var tu=function(){ta.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};ur(tu,ta);var nu=function(){ta.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(a){return a};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+li(e(n))+")"}},set:function(e){n=e}})};ur(nu,ta);var $r=function n(){ta.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');t=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!yn(t,3)},set:function(L){L?this.F=wn(t,3):this.F=Nn(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');e=L}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(L){a=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(L){a[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(L){a[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(L){a[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(L){a[3]=L}});var l="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return l},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":l=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Eo)return;s="FieldObject"+n.FieldNum++}var L=function(E){return E};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+li(L(s))+")"},set:function(L){s=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(L){s=L}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(L){c=L}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(L){u=L}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(L){f=L}});var g=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return g===void 0?50/ic:g},set:function(L){g=L}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(L){y=L}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof Eo||this instanceof ai))return Ll(v,this.objId,this.scope)},set:function(L){L=L.toString(),v=L}});var j=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(j)return this instanceof Dn?j:Ll(j,this.objId,this.scope)},set:function(L){L=L.toString(),j=this instanceof Dn?L:L.substr(0,1)==="("?Ii(L.substr(1,L.length-2)):Ii(L)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dn?Ii(j.substr(1,j.length-1)):j},set:function(L){L=L.toString(),j=this instanceof Dn?"/"+L:L}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Dn?h:Ll(h,this.objId,this.scope)},set:function(L){L=L.toString(),h=this instanceof Dn?L:L.substr(0,1)==="("?Ii(L.substr(1,L.length-2)):Ii(L)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Dn?Ii(h.substr(1,h.length-1)):h},set:function(L){L=L.toString(),h=this instanceof Dn?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,P=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return P},set:function(L){L=!!L,P=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(L){R=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,1)},set:function(L){L?this.Ff=wn(this.Ff,1):this.Ff=Nn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,2)},set:function(L){L?this.Ff=wn(this.Ff,2):this.Ff=Nn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,3)},set:function(L){L?this.Ff=wn(this.Ff,3):this.Ff=Nn(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');I=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(I){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:I=2;break;case"center":case 1:I=1;break;case"left":case 0:default:I=0}}})};ur($r,ta);var Bi=function(){$r.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return eu(t,this.objId,this.scope)},set:function(e){var a,l;l=[],typeof(a=e)=="string"&&(l=function(s,c,u){u||(u=1);for(var f,g=[];f=c.exec(s);)g.push(f[u]);return g}(a,/\((.*?)\)/g)),t=l}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,a){for(a=a||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,18)},set:function(e){e?this.Ff=wn(this.Ff,18):this.Ff=Nn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=wn(this.Ff,19):this.Ff=Nn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,20)},set:function(e){e?(this.Ff=wn(this.Ff,20),t.sort()):this.Ff=Nn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,22)},set:function(e){e?this.Ff=wn(this.Ff,22):this.Ff=Nn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,23)},set:function(e){e?this.Ff=wn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,27)},set:function(e){e?this.Ff=wn(this.Ff,27):this.Ff=Nn(this.Ff,27)}}),this.hasAppearanceStream=!1};ur(Bi,$r);var Ui=function(){Bi.call(this),this.fontName="helvetica",this.combo=!1};ur(Ui,Bi);var Wi=function(){Ui.call(this),this.combo=!0};ur(Wi,Ui);var Ao=function(){Wi.call(this),this.edit=!0};ur(Ao,Wi);var Dn=function(){$r.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,15)},set:function(e){e?this.Ff=wn(this.Ff,15):this.Ff=Nn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,16)},set:function(e){e?this.Ff=wn(this.Ff,16):this.Ff=Nn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,17)},set:function(e){e?this.Ff=wn(this.Ff,17):this.Ff=Nn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,26)},set:function(e){e?this.Ff=wn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,l=[];for(a in l.push("<<"),t)l.push("/"+a+" ("+li(e(t[a]))+")");return l.push(">>"),l.join(`
`)}},set:function(e){Vt(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};ur(Dn,$r);var _o=function(){Dn.call(this),this.pushButton=!0};ur(_o,Dn);var Hi=function(){Dn.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};ur(Hi,Dn);var Eo=function(){var n,t;$r.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(l){n=l}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(l){t=l}});var e,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var l=function(u){return u};this.scope&&(l=this.scope.internal.getEncryptor(this.objId));var s,c=[];for(s in c.push("<<"),a)c.push("/"+s+" ("+li(l(a[s]))+")");return c.push(">>"),c.join(`
`)},set:function(l){Vt(l)==="object"&&(a=l)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(l){typeof l=="string"&&(a.CA=l)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(l){e=l}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(l){e="/"+l}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ur(Eo,$r),Hi.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Hi.prototype.createOption=function(n){var t=new Eo;return t.Parent=this,t.optionName=n,this.Kids.push(t),Ff.call(this.scope,t),t};var Lo=function(){Dn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Qe.CheckBox.createAppearanceStream()};ur(Lo,Dn);var ai=function(){$r.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,13)},set:function(t){t?this.Ff=wn(this.Ff,13):this.Ff=Nn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,21)},set:function(t){t?this.Ff=wn(this.Ff,21):this.Ff=Nn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,23)},set:function(t){t?this.Ff=wn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,24)},set:function(t){t?this.Ff=wn(this.Ff,24):this.Ff=Nn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,25)},set:function(t){t?this.Ff=wn(this.Ff,25):this.Ff=Nn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,26)},set:function(t){t?this.Ff=wn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ur(ai,$r);var ko=function(){ai.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!yn(this.Ff,14)},set:function(n){n?this.Ff=wn(this.Ff,14):this.Ff=Nn(this.Ff,14)}}),this.password=!0};ur(ko,ai);var Qe={CheckBox:{createAppearanceStream:function(){return{N:{On:Qe.CheckBox.YesNormal},D:{On:Qe.CheckBox.YesPushDown,Off:Qe.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=ea(n);t.scope=n.scope;var e=[],a=n.scope.internal.getFont(n.fontName,n.fontStyle).id,l=n.scope.__private__.encodeColorString(n.color),s=Vl(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+At(Qe.internal.getWidth(n))+" "+At(Qe.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+a+" "+At(s.fontSize)+" Tf "+l),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=ea(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),l=[],s=Qe.internal.getHeight(n),c=Qe.internal.getWidth(n),u=Vl(n,n.caption);return l.push("1 g"),l.push("0 0 "+At(c)+" "+At(s)+" re"),l.push("f"),l.push("q"),l.push("0 0 1 rg"),l.push("0 0 "+At(c-1)+" "+At(s-1)+" re"),l.push("W"),l.push("n"),l.push("0 g"),l.push("BT"),l.push("/"+e+" "+At(u.fontSize)+" Tf "+a),l.push(u.text),l.push("ET"),l.push("Q"),t.stream=l.join(`
`),t},OffPushDown:function(n){var t=ea(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+At(Qe.internal.getWidth(n))+" "+At(Qe.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:Qe.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=Qe.RadioButton.Circle.YesNormal,t.D[n]=Qe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=ea(n);t.scope=n.scope;var e=[],a=Qe.internal.getWidth(n)<=Qe.internal.getHeight(n)?Qe.internal.getWidth(n)/4:Qe.internal.getHeight(n)/4;a=Number((.9*a).toFixed(5));var l=Qe.internal.Bezier_C,s=Number((a*l).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Ra(Qe.internal.getWidth(n)/2)+" "+Ra(Qe.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),e.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),e.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),e.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=ea(n);t.scope=n.scope;var e=[],a=Qe.internal.getWidth(n)<=Qe.internal.getHeight(n)?Qe.internal.getWidth(n)/4:Qe.internal.getHeight(n)/4;a=Number((.9*a).toFixed(5));var l=Number((2*a).toFixed(5)),s=Number((l*Qe.internal.Bezier_C).toFixed(5)),c=Number((a*Qe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ra(Qe.internal.getWidth(n)/2)+" "+Ra(Qe.internal.getHeight(n)/2)+" cm"),e.push(l+" 0 m"),e.push(l+" "+s+" "+s+" "+l+" 0 "+l+" c"),e.push("-"+s+" "+l+" -"+l+" "+s+" -"+l+" 0 c"),e.push("-"+l+" -"+s+" -"+s+" -"+l+" 0 -"+l+" c"),e.push(s+" -"+l+" "+l+" -"+s+" "+l+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Ra(Qe.internal.getWidth(n)/2)+" "+Ra(Qe.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+c+" "+c+" "+a+" 0 "+a+" c"),e.push("-"+c+" "+a+" -"+a+" "+c+" -"+a+" 0 c"),e.push("-"+a+" -"+c+" -"+c+" -"+a+" 0 -"+a+" c"),e.push(c+" -"+a+" "+a+" -"+c+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=ea(n);t.scope=n.scope;var e=[],a=Qe.internal.getWidth(n)<=Qe.internal.getHeight(n)?Qe.internal.getWidth(n)/4:Qe.internal.getHeight(n)/4;a=Number((.9*a).toFixed(5));var l=Number((2*a).toFixed(5)),s=Number((l*Qe.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ra(Qe.internal.getWidth(n)/2)+" "+Ra(Qe.internal.getHeight(n)/2)+" cm"),e.push(l+" 0 m"),e.push(l+" "+s+" "+s+" "+l+" 0 "+l+" c"),e.push("-"+s+" "+l+" -"+l+" "+s+" -"+l+" 0 c"),e.push("-"+l+" -"+s+" -"+s+" -"+l+" 0 -"+l+" c"),e.push(s+" -"+l+" "+l+" -"+s+" "+l+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:Qe.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=Qe.RadioButton.Cross.YesNormal,t.D[n]=Qe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=ea(n);t.scope=n.scope;var e=[],a=Qe.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+At(Qe.internal.getWidth(n)-2)+" "+At(Qe.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(At(a.x1.x)+" "+At(a.x1.y)+" m"),e.push(At(a.x2.x)+" "+At(a.x2.y)+" l"),e.push(At(a.x4.x)+" "+At(a.x4.y)+" m"),e.push(At(a.x3.x)+" "+At(a.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=ea(n);t.scope=n.scope;var e=Qe.internal.calculateCross(n),a=[];return a.push("0.749023 g"),a.push("0 0 "+At(Qe.internal.getWidth(n))+" "+At(Qe.internal.getHeight(n))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+At(Qe.internal.getWidth(n)-2)+" "+At(Qe.internal.getHeight(n)-2)+" re"),a.push("W"),a.push("n"),a.push(At(e.x1.x)+" "+At(e.x1.y)+" m"),a.push(At(e.x2.x)+" "+At(e.x2.y)+" l"),a.push(At(e.x4.x)+" "+At(e.x4.y)+" m"),a.push(At(e.x3.x)+" "+At(e.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(n){var t=ea(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+At(Qe.internal.getWidth(n))+" "+At(Qe.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};Qe.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=Qe.internal.getWidth(n),e=Qe.internal.getHeight(n),a=Math.min(t,e);return{x1:{x:(t-a)/2,y:(e-a)/2+a},x2:{x:(t-a)/2+a,y:(e-a)/2},x3:{x:(t-a)/2,y:(e-a)/2},x4:{x:(t-a)/2+a,y:(e-a)/2+a}}}},Qe.internal.getWidth=function(n){var t=0;return Vt(n)==="object"&&(t=sd(n.Rect[2])),t},Qe.internal.getHeight=function(n){var t=0;return Vt(n)==="object"&&(t=sd(n.Rect[3])),t};var Ff=vn.addField=function(n){if(kf(this,n),!(n instanceof $r))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};vn.AcroFormChoiceField=Bi,vn.AcroFormListBox=Ui,vn.AcroFormComboBox=Wi,vn.AcroFormEditBox=Ao,vn.AcroFormButton=Dn,vn.AcroFormPushButton=_o,vn.AcroFormRadioButton=Hi,vn.AcroFormCheckBox=Lo,vn.AcroFormTextField=ai,vn.AcroFormPasswordField=ko,vn.AcroFormAppearance=Qe,vn.AcroForm={ChoiceField:Bi,ListBox:Ui,ComboBox:Wi,EditBox:Ao,Button:Dn,PushButton:_o,RadioButton:Hi,CheckBox:Lo,TextField:ai,PasswordField:ko,Appearance:Qe},ht.AcroForm={ChoiceField:Bi,ListBox:Ui,ComboBox:Wi,EditBox:Ao,Button:Dn,PushButton:_o,RadioButton:Hi,CheckBox:Lo,TextField:ai,PasswordField:ko,Appearance:Qe};ht.AcroForm;function ru(n){return n.reduce(function(t,e,a){return t[e]=a,t},{})}(function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(N,_){var D,O,J,G,pe,X=t;if((_=_||t)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(oe(N))for(pe in e)for(J=e[pe],D=0;D<J.length;D+=1){for(G=!0,O=0;O<J[D].length;O+=1)if(J[D][O]!==void 0&&J[D][O]!==N[O]){G=!1;break}if(G===!0){X=pe;break}}else for(pe in e)for(J=e[pe],D=0;D<J.length;D+=1){for(G=!0,O=0;O<J[D].length;O+=1)if(J[D][O]!==void 0&&J[D][O]!==N.charCodeAt(O)){G=!1;break}if(G===!0){X=pe;break}}return X===t&&_!==t&&(X=_),X},l=function N(_){for(var D=this.internal.write,O=this.internal.putStream,J=(0,this.internal.getFilters)();J.indexOf("FlateEncode")!==-1;)J.splice(J.indexOf("FlateEncode"),1);_.objectId=this.internal.newObject();var G=[];if(G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Image"}),G.push({key:"Width",value:_.width}),G.push({key:"Height",value:_.height}),_.colorSpace===I.INDEXED?G.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(_.palette.length/3-1)+" "+("sMask"in _&&_.sMask!==void 0?_.objectId+2:_.objectId+1)+" 0 R]"}):(G.push({key:"ColorSpace",value:"/"+_.colorSpace}),_.colorSpace===I.DEVICE_CMYK&&G.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),G.push({key:"BitsPerComponent",value:_.bitsPerComponent}),"decodeParameters"in _&&_.decodeParameters!==void 0&&G.push({key:"DecodeParms",value:"<<"+_.decodeParameters+">>"}),"transparency"in _&&Array.isArray(_.transparency)){for(var pe="",X=0,de=_.transparency.length;X<de;X++)pe+=_.transparency[X]+" "+_.transparency[X]+" ";G.push({key:"Mask",value:"["+pe+"]"})}_.sMask!==void 0&&G.push({key:"SMask",value:_.objectId+1+" 0 R"});var ve=_.filter!==void 0?["/"+_.filter]:void 0;if(O({data:_.data,additionalKeyValues:G,alreadyAppliedFilters:ve,objectId:_.objectId}),D("endobj"),"sMask"in _&&_.sMask!==void 0){var Oe="/Predictor "+_.predictor+" /Colors 1 /BitsPerComponent "+_.bitsPerComponent+" /Columns "+_.width,x={width:_.width,height:_.height,colorSpace:"DeviceGray",bitsPerComponent:_.bitsPerComponent,decodeParameters:Oe,data:_.sMask};"filter"in _&&(x.filter=_.filter),N.call(this,x)}if(_.colorSpace===I.INDEXED){var C=this.internal.newObject();O({data:M(new Uint8Array(_.palette)),objectId:C}),D("endobj")}},s=function(){var N=this.internal.collections.addImage_images;for(var _ in N)l.call(this,N[_])},c=function(){var N,_=this.internal.collections.addImage_images,D=this.internal.write;for(var O in _)D("/I"+(N=_[O]).index,N.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",c))},f=function(){var N=this.internal.collections.addImage_images;return u.call(this),N},g=function(){return Object.keys(this.internal.collections.addImage_images).length},y=function(N){return typeof n["process"+N.toUpperCase()]=="function"},v=function(N){return Vt(N)==="object"&&N.nodeType===1},j=function(N,_){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var D=""+N.getAttribute("src");if(D.indexOf("data:image/")===0)return Ps(unescape(D).split("base64,").pop());var O=n.loadFile(D,!0);if(O!==void 0)return O}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var J;switch(_){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;case"JPEG":case"JPG":default:J="image/jpeg"}return Ps(N.toDataURL(J,1).split("base64,").pop())}},h=function(N){var _=this.internal.collections.addImage_images;if(_){for(var D in _)if(N===_[D].alias)return _[D]}},R=function(N,_,D){return N||_||(N=-96,_=-96),N<0&&(N=-1*D.width*72/N/this.internal.scaleFactor),_<0&&(_=-1*D.height*72/_/this.internal.scaleFactor),N===0&&(N=_*D.width/D.height),_===0&&(_=N*D.height/D.width),[N,_]},P=function(N,_,D,O,J,G){var pe=R.call(this,D,O,J),X=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,ve=f.call(this);if(D=pe[0],O=pe[1],ve[J.index]=J,G){G*=Math.PI/180;var Oe=Math.cos(G),x=Math.sin(G),C=function(V){return V.toFixed(4)},q=[C(Oe),C(x),C(-1*x),C(Oe),0,0,"cm"]}this.internal.write("q"),G?(this.internal.write([1,"0","0",1,X(N),de(_+O),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([X(D),"0","0",X(O),"0","0","cm"].join(" "))):this.internal.write([X(D),"0","0",X(O),X(N),de(_+O),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},I=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=n.__addimage__.sHashCode=function(N){var _,D,O=0;if(typeof N=="string")for(D=N.length,_=0;_<D;_++)O=(O<<5)-O+N.charCodeAt(_),O|=0;else if(oe(N))for(D=N.byteLength/2,_=0;_<D;_++)O=(O<<5)-O+N[_],O|=0;return O},K=n.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var _=!0;return N.length===0&&(_=!1),N.length%4!=0&&(_=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(_=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(_=!1),_},ue=n.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var _=N.indexOf(",");return _<0?null:N.substring(0,_).trim().endsWith("base64")?N.substring(_+1):null},se=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(N){return se()&&N instanceof ArrayBuffer};var oe=n.__addimage__.isArrayBufferView=function(N){return se()&&typeof Uint32Array<"u"&&(N instanceof Int8Array||N instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array)},z=n.__addimage__.binaryStringToUint8Array=function(N){for(var _=N.length,D=new Uint8Array(_),O=0;O<_;O++)D[O]=N.charCodeAt(O);return D},M=n.__addimage__.arrayBufferToBinaryString=function(N){for(var _="",D=oe(N)?N:new Uint8Array(N),O=0;O<D.length;O+=8192)_+=String.fromCharCode.apply(null,D.subarray(O,O+8192));return _};n.addImage=function(){var N,_,D,O,J,G,pe,X,de;if(typeof arguments[1]=="number"?(_=t,D=arguments[1],O=arguments[2],J=arguments[3],G=arguments[4],pe=arguments[5],X=arguments[6],de=arguments[7]):(_=arguments[1],D=arguments[2],O=arguments[3],J=arguments[4],G=arguments[5],pe=arguments[6],X=arguments[7],de=arguments[8]),Vt(N=arguments[0])==="object"&&!v(N)&&"imageData"in N){var ve=N;N=ve.imageData,_=ve.format||_||t,D=ve.x||D||0,O=ve.y||O||0,J=ve.w||ve.width||J,G=ve.h||ve.height||G,pe=ve.alias||pe,X=ve.compression||X,de=ve.rotation||ve.angle||de}var Oe=this.internal.getFilters();if(X===void 0&&Oe.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(D)||isNaN(O))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var x=ne.call(this,N,_,pe,X);return P.call(this,D,O,J,G,x,de),this};var ne=function(N,_,D,O){var J,G,pe;if(typeof N=="string"&&a(N)===t){N=unescape(N);var X=ce(N,!1);(X!==""||(X=n.loadFile(N,!0))!==void 0)&&(N=X)}if(v(N)&&(N=j(N,_)),_=a(N,_),!y(_))throw new Error("addImage does not support files of type '"+_+"', please ensure that a plugin for '"+_+"' support is added.");if(((pe=D)==null||pe.length===0)&&(D=function(de){return typeof de=="string"||oe(de)?E(de):oe(de.data)?E(de.data):null}(N)),(J=h.call(this,D))||(se()&&(N instanceof Uint8Array||_==="RGBA"||(G=N,N=z(N))),J=this["process"+_.toUpperCase()](N,g.call(this),D,function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in n.image_compression?de:L.NONE}(O),G)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},ce=n.__addimage__.convertBase64ToBinaryString=function(N,_){_=typeof _!="boolean"||_;var D,O="";if(typeof N=="string"){var J;D=(J=ue(N))!==null&&J!==void 0?J:N;try{O=Ps(D)}catch(G){if(_)throw K(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+G.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return O};n.getImageProperties=function(N){var _,D,O="";if(v(N)&&(N=j(N)),typeof N=="string"&&a(N)===t&&((O=ce(N,!1))===""&&(O=n.loadFile(N)||""),N=O),D=a(N),!y(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!se()||N instanceof Uint8Array||(N=z(N)),!(_=this["process"+D.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return _.fileType=D,_}})(ht.API),function(n){var t=function(e){if(e!==void 0&&e!="")return!0};ht.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var a,l,s,c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(e.objId),g=e.pageContext.annotations,y=!1,v=0;v<g.length&&!y;v++)switch((a=g[v]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var j=0;j<g.length;j++){a=g[j];var h=this.internal.pdfEscape,R=this.internal.getEncryptor(e.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var P=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(P.objId),E=a.title||"Note";s="<</Type /Annot /Subtype /Text "+(l="/Rect ["+c(a.bounds.x)+" "+u(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w)+" "+u(a.bounds.y)+"] ")+"/Contents ("+h(L(a.contents))+")",s+=" /Popup "+I.objId+" 0 R",s+=" /P "+f.objId+" 0 R",s+=" /T ("+h(L(E))+") >>",P.content=s;var K=P.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(l="/Rect ["+c(a.bounds.x+30)+" "+u(a.bounds.y+a.bounds.h)+" "+c(a.bounds.x+a.bounds.w+30)+" "+u(a.bounds.y)+"] ")+" /Parent "+K,a.open&&(s+=" /Open true"),s+=" >>",I.content=s,this.internal.write(P.objId,"0 R",I.objId,"0 R");break;case"freetext":l="/Rect ["+c(a.bounds.x)+" "+u(a.bounds.y)+" "+c(a.bounds.x+a.bounds.w)+" "+u(a.bounds.y+a.bounds.h)+"] ";var ue=a.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+l+"/Contents ("+h(R(a.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ue+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(a.options.name){var se=this.annotations._nameMap[a.options.name];a.options.pageNumber=se.page,a.options.top=se.y}else a.options.top||(a.options.top=0);if(l="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",s="",a.options.url)s="<</Type /Annot /Subtype /Link "+l+"/Border [0 0 0] /A <</S /URI /URI ("+h(R(a.options.url))+") >>";else if(a.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+l+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,s+=" /FitV "+a.options.left+"]";break;case"XYZ":default:var oe=u(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),s+=" /XYZ "+a.options.left+" "+oe+" "+a.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var a=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":a.pageContext.annotations.push(e)}},n.link=function(e,a,l,s,c){var u=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:f(e),y:g(a),w:f(e+l),h:g(a+s)},options:c,type:"link"})},n.textWithLink=function(e,a,l,s){var c,u,f=this.getTextWidth(e),g=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var y=this.splitTextToSize(e,u).length;c=Math.ceil(g*y)}else u=f,c=g;return this.text(e,a,l,s),l+=.2*g,s.align==="center"&&(a-=f/2),s.align==="right"&&(a-=f),this.link(a,l-g,u,c,s),f},n.getTextWidth=function(e){var a=this.internal.getFontSize();return this.getStringUnitWidth(e)*a/this.internal.scaleFactor}}(ht.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},l=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(P){return t[P.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(P){return typeof P=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(P)},u=n.__arabicParser__.isArabicEndLetter=function(P){return c(P)&&s(P)&&t[P.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(P){return c(P)&&l.indexOf(P.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(P){return c(P)&&s(P)&&t[P.charCodeAt(0)].length>=1};var g=n.__arabicParser__.arabicLetterHasFinalForm=function(P){return c(P)&&s(P)&&t[P.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(P){return c(P)&&s(P)&&t[P.charCodeAt(0)].length>=3};var y=n.__arabicParser__.arabicLetterHasMedialForm=function(P){return c(P)&&s(P)&&t[P.charCodeAt(0)].length==4},v=n.__arabicParser__.resolveLigatures=function(P){var I=0,L=e,E="",K=0;for(I=0;I<P.length;I+=1)L[P.charCodeAt(I)]!==void 0?(K++,typeof(L=L[P.charCodeAt(I)])=="number"&&(E+=String.fromCharCode(L),L=e,K=0),I===P.length-1&&(L=e,E+=P.charAt(I-(K-1)),I-=K-1,K=0)):(L=e,E+=P.charAt(I-K),I-=K,K=0);return E};n.__arabicParser__.isArabicDiacritic=function(P){return P!==void 0&&a[P.charCodeAt(0)]!==void 0};var j=n.__arabicParser__.getCorrectForm=function(P,I,L){return c(P)?s(P)===!1?-1:!g(P)||!c(I)&&!c(L)||!c(L)&&u(I)||u(P)&&!c(I)||u(P)&&f(I)||u(P)&&u(I)?0:y(P)&&c(I)&&!u(I)&&c(L)&&g(L)?3:u(P)||!c(L)?1:2:-1},h=function(P){var I=0,L=0,E=0,K="",ue="",se="",oe=(P=P||"").split("\\s+"),z=[];for(I=0;I<oe.length;I+=1){for(z.push(""),L=0;L<oe[I].length;L+=1)K=oe[I][L],ue=oe[I][L-1],se=oe[I][L+1],c(K)?(E=j(K,ue,se),z[I]+=E!==-1?String.fromCharCode(t[K.charCodeAt(0)][E]):K):z[I]+=K;z[I]=v(z[I])}return z.join(" ")},R=n.__arabicParser__.processArabic=n.processArabic=function(){var P,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(I)){var E=0;for(L=[],E=0;E<I.length;E+=1)Array.isArray(I[E])?L.push([h(I[E][0]),I[E][1],I[E][2]]):L.push([h(I[E])]);P=L}else P=h(I);return typeof arguments[0]=="string"?P:(arguments[0].text=P,arguments[0])};n.events.push(["preProcessText",R])}(ht.API),ht.API.autoPrint=function(n){var t;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(u){e=u}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var l=300;Object.defineProperty(this,"height",{get:function(){return l},set:function(u){l=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=l+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(u){c=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,a){var l;if((e=e||"2d")!=="2d")return null;for(l in a)this.pdf.context2d.hasOwnProperty(l)&&(this.pdf.context2d[l]=a[l]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ht.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),l.call(this))},l=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(P){f=P}});var g=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return g},set:function(P){g=P}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(P){y=P}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(P){v=P}});var j=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return j},set:function(P){j=P}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(P){h=P}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(P){R=P}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return a.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,g){a.call(this);var y=(g=g||{}).fontSize||this.getFontSize(),v=g.font||this.getFont(),j=g.scaleFactor||this.internal.scaleFactor,h=0,R=0,P=0,I=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var L=g.maxWidth;L>0?typeof f=="string"?f=this.splitTextToSize(f,L):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(K,ue){return K.concat(I.splitTextToSize(ue,L))},[])):f=Array.isArray(f)?f:[f];for(var E=0;E<f.length;E++)h<(P=this.getStringUnitWidth(f[E],{font:v})*y)&&(h=P);return h!==0&&(R=f.length),{w:h/=j,h:Math.max((R*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/j,0)}},n.cellAddPage=function(){a.call(this),this.addPage();var f=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var f;f=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var g=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,v=this.internal.__cell__.margins||t,j=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return g.lineNumber!==void 0&&(g.lineNumber===f.lineNumber?(f.x=(g.x||0)+(g.width||0),f.y=g.y||0):g.y+g.height+f.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=v.top,h&&j&&(this.printHeaderRow(f.lineNumber,!0),f.y+=j[0].height)):f.y=g.y+g.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,e===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-y,f.y+y,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+y,{align:"center",baseline:"top",maxWidth:f.width-y-y}):this.text(f.text,f.x+y,f.y+y,{align:"left",baseline:"top",maxWidth:f.width-y-y})),this.internal.__cell__.lastCell=f,this};n.table=function(f,g,y,v,j){if(a.call(this),!y)throw new Error("No data for PDF table.");var h,R,P,I,L=[],E=[],K=[],ue={},se={},oe=[],z=[],M=(j=j||{}).autoSize||!1,ne=j.printHeaders!==!1,ce=j.css&&j.css["font-size"]!==void 0?16*j.css["font-size"]:j.fontSize||12,N=j.margins||Object.assign({width:this.getPageWidth()},t),_=typeof j.padding=="number"?j.padding:3,D=j.headerBackgroundColor||"#c8c8c8",O=j.headerTextColor||"#000";if(l.call(this),this.internal.__cell__.printHeaders=ne,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=ce,this.internal.__cell__.padding=_,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=O,this.setFontSize(ce),v==null)E=L=Object.keys(y[0]),K=L.map(function(){return"left"});else if(Array.isArray(v)&&Vt(v[0])==="object")for(L=v.map(function(ve){return ve.name}),E=v.map(function(ve){return ve.prompt||ve.name||""}),K=v.map(function(ve){return ve.align||"left"}),h=0;h<v.length;h+=1)se[v[h].name]=v[h].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(E=L=v,K=L.map(function(){return"left"}));if(M||Array.isArray(v)&&typeof v[0]=="string")for(h=0;h<L.length;h+=1){for(ue[I=L[h]]=y.map(function(ve){return ve[I]}),this.setFont(void 0,"bold"),oe.push(this.getTextDimensions(E[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=ue[I],this.setFont(void 0,"normal"),P=0;P<R.length;P+=1)oe.push(this.getTextDimensions(R[P],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);se[I]=Math.max.apply(null,oe)+_+_,oe=[]}if(ne){var J={};for(h=0;h<L.length;h+=1)J[L[h]]={},J[L[h]].text=E[h],J[L[h]].align=K[h];var G=u.call(this,J,se);z=L.map(function(ve){return new s(f,g,se[ve],G,J[ve].text,void 0,J[ve].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var pe=v.reduce(function(ve,Oe){return ve[Oe.name]=Oe.align,ve},{});for(h=0;h<y.length;h+=1){"rowStart"in j&&j.rowStart instanceof Function&&j.rowStart({row:h,data:y[h]},this);var X=u.call(this,y[h],se);for(P=0;P<L.length;P+=1){var de=y[h][L[P]];"cellStart"in j&&j.cellStart instanceof Function&&j.cellStart({row:h,col:P,data:de},this),c.call(this,new s(f,g,se[L[P]],X,de,h+2,pe[L[P]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=g,this};var u=function(f,g){var y=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,j=this.internal.scaleFactor;return Object.keys(f).map(function(h){var R=f[h];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,g[h]-y-y)},this).map(function(h){return this.getLineHeightFactor()*h.length*v/j+y+y},this).reduce(function(h,R){return Math.max(h,R)},0)};n.setTableHeaderRow=function(f){a.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,g){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var j=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){y=this.internal.__cell__.tableHeaderRow[h].clone(),g&&(y.y=this.internal.__cell__.margins.top||0,j.push(y)),y.lineNumber=f;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,y),this.setTextColor(R)}j.length>0&&this.setTableHeaderRow(j),this.setFont(void 0,"normal"),e=!1}}(ht.API);var au={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},iu=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$l=ru(iu),su=[100,200,300,400,500,600,700,800,900],Pf=ru(su);function Gl(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=function(s){return au[s=s||"normal"]?s:"normal"}(n.style),a=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),l=function(s){return typeof $l[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:t,style:e,weight:a,stretch:l,src:n.src||[],ref:n.ref||{name:t,style:[l,e,a].join(" ")}}}function od(n,t,e,a){var l;for(l=e;l>=0&&l<t.length;l+=a)if(n[t[l]])return n[t[l]];for(l=e;l>=0&&l<t.length;l-=a)if(n[t[l]])return n[t[l]]}var Cf={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ld={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cd(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function If(n,t,e){for(var a=(e=e||{}).defaultFontFamily||"times",l=Object.assign({},Cf,e.genericFontFamilies||{}),s=null,c=null,u=0;u<t.length;++u)if(l[(s=Gl(t[u])).family]&&(s.family=l[s.family]),n.hasOwnProperty(s.family)){c=n[s.family];break}if(!(c=c||n[a]))throw new Error("Could not find a font-family for the rule '"+cd(s)+"' and default family '"+a+"'.");if(c=function(f,g){if(g[f])return g[f];var y=$l[f],v=y<=$l.normal?-1:1,j=od(g,iu,y,v);if(!j)throw new Error("Could not find a matching font-stretch value for "+f);return j}(s.stretch,c),c=function(f,g){if(g[f])return g[f];for(var y=au[f],v=0;v<y.length;++v)if(g[y[v]])return g[y[v]];throw new Error("Could not find a matching font-style for "+f)}(s.style,c),!(c=function(f,g){if(g[f])return g[f];if(f===400&&g[500])return g[500];if(f===500&&g[400])return g[400];var y=Pf[f],v=od(g,su,y,f<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+f);return v}(s.weight,c)))throw new Error("Failed to resolve a font for the rule '"+cd(s)+"'.");return c}function dd(n){return n.trimLeft()}function Ef(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function Df(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var yo,ud,pd,kl=["times"];(function(n){var t,e,a,l,s,c,u,f,g,y=function(x){return x=x||{},this.isStrokeTransparent=x.isStrokeTransparent||!1,this.strokeOpacity=x.strokeOpacity||1,this.strokeStyle=x.strokeStyle||"#000000",this.fillStyle=x.fillStyle||"#000000",this.isFillTransparent=x.isFillTransparent||!1,this.fillOpacity=x.fillOpacity||1,this.font=x.font||"10px sans-serif",this.textBaseline=x.textBaseline||"alphabetic",this.textAlign=x.textAlign||"left",this.lineWidth=x.lineWidth||1,this.lineJoin=x.lineJoin||"miter",this.lineCap=x.lineCap||"butt",this.path=x.path||[],this.transform=x.transform!==void 0?x.transform.clone():new f,this.globalCompositeOperation=x.globalCompositeOperation||"normal",this.globalAlpha=x.globalAlpha||1,this.clip_path=x.clip_path||[],this.currentPoint=x.currentPoint||new c,this.miterLimit=x.miterLimit||10,this.lastPoint=x.lastPoint||new c,this.lineDashOffset=x.lineDashOffset||0,this.lineDash=x.lineDash||[],this.margin=x.margin||[0,0,0,0],this.prevPageLastElemOffset=x.prevPageLastElemOffset||0,this.ignoreClearRect=typeof x.ignoreClearRect!="boolean"||x.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new v(this),t=this.internal.f2,e=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,c=this.internal.Point,u=this.internal.Rectangle,f=this.internal.Matrix,g=new y}]);var v=function(x){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var C=x;Object.defineProperty(this,"pdf",{get:function(){return C}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(he){q=!!he}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(he){V=!!he}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(he){isNaN(he)||(Z=he)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(he){isNaN(he)||(le=he)}}),Object.defineProperty(this,"margin",{get:function(){return g.margin},set:function(he){var U;typeof he=="number"?U=[he,he,he,he]:((U=new Array(4))[0]=he[0],U[1]=he.length>=2?he[1]:U[0],U[2]=he.length>=3?he[2]:U[0],U[3]=he.length>=4?he[3]:U[1]),g.margin=U}});var W=!1;Object.defineProperty(this,"autoPaging",{get:function(){return W},set:function(he){W=he}});var $=0;Object.defineProperty(this,"lastBreak",{get:function(){return $},set:function(he){$=he}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(he){be=he}}),Object.defineProperty(this,"ctx",{get:function(){return g},set:function(he){he instanceof y&&(g=he)}}),Object.defineProperty(this,"path",{get:function(){return g.path},set:function(he){g.path=he}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(he){je=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var U;U=j(he),this.ctx.fillStyle=U.style,this.ctx.isFillTransparent=U.a===0,this.ctx.fillOpacity=U.a,this.pdf.setFillColor(U.r,U.g,U.b,{a:U.a}),this.pdf.setTextColor(U.r,U.g,U.b,{a:U.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var U=j(he);this.ctx.strokeStyle=U.style,this.ctx.isStrokeTransparent=U.a===0,this.ctx.strokeOpacity=U.a,U.a===0?this.pdf.setDrawColor(255,255,255):(U.a,this.pdf.setDrawColor(U.r,U.g,U.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var Ie=null;function Ee(he,U){if(Ie===null){var We=function(Je){var Fe=[];return Object.keys(Je).forEach(function(qe){Je[qe].forEach(function(Be){var Me=null;switch(Be){case"bold":Me={family:qe,weight:"bold"};break;case"italic":Me={family:qe,style:"italic"};break;case"bolditalic":Me={family:qe,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:qe}}Me!==null&&(Me.ref={name:qe,style:Be},Fe.push(Me))})}),Fe}(he.getFontList());Ie=function(Je){for(var Fe={},qe=0;qe<Je.length;++qe){var Be=Gl(Je[qe]),Me=Be.family,et=Be.stretch,Se=Be.style,De=Be.weight;Fe[Me]=Fe[Me]||{},Fe[Me][et]=Fe[Me][et]||{},Fe[Me][et][Se]=Fe[Me][et][Se]||{},Fe[Me][et][Se][De]=Be}return Fe}(We.concat(U))}return Ie}var Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(he){Ie=null,Ve=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var U;if(this.ctx.font=he,(U=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(he))!==null){var We=U[1];U[2];var Je=U[3],Fe=U[4];U[5];var qe=U[6],Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Fe)[2];Fe=Math.floor(Be==="px"?parseFloat(Fe)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(Fe)*this.pdf.getFontSize():parseFloat(Fe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Fe);var Me=function(rt){var ct,ze,tn=[],Ft=rt.trim();if(Ft==="")return kl;if(Ft in ld)return[ld[Ft]];for(;Ft!=="";){switch(ze=null,ct=(Ft=dd(Ft)).charAt(0)){case'"':case"'":ze=Ef(Ft.substring(1),ct);break;default:ze=Df(Ft)}if(ze===null||(tn.push(ze[0]),(Ft=dd(ze[1]))!==""&&Ft.charAt(0)!==","))return kl;Ft=Ft.replace(/^,/,"")}return tn}(qe);if(this.fontFaces){var et=If(Ee(this.pdf,this.fontFaces),Me.map(function(rt){return{family:rt,stretch:"normal",weight:Je,style:We}}));this.pdf.setFont(et.ref.name,et.ref.style)}else{var Se="";(Je==="bold"||parseInt(Je,10)>=700||We==="bold")&&(Se="bold"),We==="italic"&&(Se+="italic"),Se.length===0&&(Se="normal");for(var De="",Ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<Me.length;st++){if(this.pdf.internal.getFont(Me[st],Se,{noFallback:!0,disableWarning:!0})!==void 0){De=Me[st];break}if(Se==="bolditalic"&&this.pdf.internal.getFont(Me[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)De=Me[st],Se="bold";else if(this.pdf.internal.getFont(Me[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){De=Me[st],Se="normal";break}}if(De===""){for(var vt=0;vt<Me.length;vt++)if(Ze[Me[vt]]){De=Ze[Me[vt]];break}}De=De===""?"Times":De,this.pdf.setFont(De,Se)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,Oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,Oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};v.prototype.setLineDash=function(x){this.lineDash=x},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){ue.call(this,"fill",!1)},v.prototype.stroke=function(){ue.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(x,C){if(isNaN(x)||isNaN(C))throw Jt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new c(x,C));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new c(x,C)},v.prototype.closePath=function(){var x=new c(0,0),C=0;for(C=this.path.length-1;C!==-1;C--)if(this.path[C].type==="begin"&&Vt(this.path[C+1])==="object"&&typeof this.path[C+1].x=="number"){x=new c(this.path[C+1].x,this.path[C+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(x.x,x.y)},v.prototype.lineTo=function(x,C){if(isNaN(x)||isNaN(C))throw Jt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new c(x,C));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new c(q.x,q.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ue.call(this,null,!0)},v.prototype.quadraticCurveTo=function(x,C,q,V){if(isNaN(q)||isNaN(V)||isNaN(x)||isNaN(C))throw Jt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new c(q,V)),le=this.ctx.transform.applyToPoint(new c(x,C));this.path.push({type:"qct",x1:le.x,y1:le.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new c(Z.x,Z.y)},v.prototype.bezierCurveTo=function(x,C,q,V,Z,le){if(isNaN(Z)||isNaN(le)||isNaN(x)||isNaN(C)||isNaN(q)||isNaN(V))throw Jt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var W=this.ctx.transform.applyToPoint(new c(Z,le)),$=this.ctx.transform.applyToPoint(new c(x,C)),be=this.ctx.transform.applyToPoint(new c(q,V));this.path.push({type:"bct",x1:$.x,y1:$.y,x2:be.x,y2:be.y,x:W.x,y:W.y}),this.ctx.lastPoint=new c(W.x,W.y)},v.prototype.arc=function(x,C,q,V,Z,le){if(isNaN(x)||isNaN(C)||isNaN(q)||isNaN(V)||isNaN(Z))throw Jt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var W=this.ctx.transform.applyToPoint(new c(x,C));x=W.x,C=W.y;var $=this.ctx.transform.applyToPoint(new c(0,q)),be=this.ctx.transform.applyToPoint(new c(0,0));q=Math.sqrt(Math.pow($.x-be.x,2)+Math.pow($.y-be.y,2))}Math.abs(Z-V)>=2*Math.PI&&(V=0,Z=2*Math.PI),this.path.push({type:"arc",x,y:C,radius:q,startAngle:V,endAngle:Z,counterclockwise:le})},v.prototype.arcTo=function(x,C,q,V,Z){throw new Error("arcTo not implemented.")},v.prototype.rect=function(x,C,q,V){if(isNaN(x)||isNaN(C)||isNaN(q)||isNaN(V))throw Jt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(x,C),this.lineTo(x+q,C),this.lineTo(x+q,C+V),this.lineTo(x,C+V),this.lineTo(x,C),this.lineTo(x+q,C),this.lineTo(x,C)},v.prototype.fillRect=function(x,C,q,V){if(isNaN(x)||isNaN(C)||isNaN(q)||isNaN(V))throw Jt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(x,C,q,V),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},v.prototype.strokeRect=function(x,C,q,V){if(isNaN(x)||isNaN(C)||isNaN(q)||isNaN(V))throw Jt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(x,C,q,V),this.stroke())},v.prototype.clearRect=function(x,C,q,V){if(isNaN(x)||isNaN(C)||isNaN(q)||isNaN(V))throw Jt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(x,C,q,V))},v.prototype.save=function(x){x=typeof x!="boolean"||x;for(var C=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(C),x){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},v.prototype.restore=function(x){x=typeof x!="boolean"||x;for(var C=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(C),x&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var j=function(x){var C,q,V,Z;if(x.isCanvasGradient===!0&&(x=x.getColor()),!x)return{r:0,g:0,b:0,a:0,style:x};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(x))C=0,q=0,V=0,Z=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(x);if(le!==null)C=parseInt(le[1]),q=parseInt(le[2]),V=parseInt(le[3]),Z=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(x))!==null)C=parseInt(le[1]),q=parseInt(le[2]),V=parseInt(le[3]),Z=parseFloat(le[4]);else{if(Z=1,typeof x=="string"&&x.charAt(0)!=="#"){var W=new Xd(x);x=W.ok?W.toHex():"#000000"}x.length===4?(C=x.substring(1,2),C+=C,q=x.substring(2,3),q+=q,V=x.substring(3,4),V+=V):(C=x.substring(1,3),q=x.substring(3,5),V=x.substring(5,7)),C=parseInt(C,16),q=parseInt(q,16),V=parseInt(V,16)}}return{r:C,g:q,b:V,a:Z,style:x}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},R=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(x,C,q,V){if(isNaN(C)||isNaN(q)||typeof x!="string")throw Jt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!h.call(this)){var Z=X(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;_.call(this,{text:x,x:C,y:q,scale:le,angle:Z,align:this.textAlign,maxWidth:V})}},v.prototype.strokeText=function(x,C,q,V){if(isNaN(C)||isNaN(q)||typeof x!="string")throw Jt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){V=isNaN(V)?void 0:V;var Z=X(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;_.call(this,{text:x,x:C,y:q,scale:le,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:V})}},v.prototype.measureText=function(x){if(typeof x!="string")throw Jt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var C=this.pdf,q=this.pdf.internal.scaleFactor,V=C.internal.getFontSize(),Z=C.getStringUnitWidth(x)*V/C.internal.scaleFactor,le=function(W){var $=(W=W||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return $}}),this};return new le({width:Z*=Math.round(96*q/72*1e4)/1e4})},v.prototype.scale=function(x,C){if(isNaN(x)||isNaN(C))throw Jt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new f(x,0,0,C,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},v.prototype.rotate=function(x){if(isNaN(x))throw Jt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var C=new f(Math.cos(x),Math.sin(x),-Math.sin(x),Math.cos(x),0,0);this.ctx.transform=this.ctx.transform.multiply(C)},v.prototype.translate=function(x,C){if(isNaN(x)||isNaN(C))throw Jt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new f(1,0,0,1,x,C);this.ctx.transform=this.ctx.transform.multiply(q)},v.prototype.transform=function(x,C,q,V,Z,le){if(isNaN(x)||isNaN(C)||isNaN(q)||isNaN(V)||isNaN(Z)||isNaN(le))throw Jt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var W=new f(x,C,q,V,Z,le);this.ctx.transform=this.ctx.transform.multiply(W)},v.prototype.setTransform=function(x,C,q,V,Z,le){x=isNaN(x)?1:x,C=isNaN(C)?0:C,q=isNaN(q)?0:q,V=isNaN(V)?1:V,Z=isNaN(Z)?0:Z,le=isNaN(le)?0:le,this.ctx.transform=new f(x,C,q,V,Z,le)};var P=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(x,C,q,V,Z,le,W,$,be){var je=this.pdf.getImageProperties(x),Ie=1,Ee=1,Ve=1,he=1;V!==void 0&&$!==void 0&&(Ve=$/V,he=be/Z,Ie=je.width/V*$/V,Ee=je.height/Z*be/Z),le===void 0&&(le=C,W=q,C=0,q=0),V!==void 0&&$===void 0&&($=V,be=Z),V===void 0&&$===void 0&&($=je.width,be=je.height);for(var U,We=this.ctx.transform.decompose(),Je=X(We.rotate.shx),Fe=new f,qe=(Fe=(Fe=(Fe=Fe.multiply(We.translate)).multiply(We.skew)).multiply(We.scale)).applyToRectangle(new u(le-C*Ve,W-q*he,V*Ie,Z*Ee)),Be=I.call(this,qe),Me=[],et=0;et<Be.length;et+=1)Me.indexOf(Be[et])===-1&&Me.push(Be[et]);if(K(Me),this.autoPaging)for(var Se=Me[0],De=Me[Me.length-1],Ze=Se;Ze<De+1;Ze++){this.pdf.setPage(Ze);var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=Ze===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Ze===1?0:rt+(Ze-2)*ct;if(this.ctx.clip_path.length!==0){var tn=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(U,this.posX+this.margin[3],-ze+vt+this.ctx.prevPageLastElemOffset),se.call(this,"fill",!0),this.path=tn}var Ft=JSON.parse(JSON.stringify(qe));Ft=E([Ft],this.posX+this.margin[3],-ze+vt+this.ctx.prevPageLastElemOffset)[0];var nn=(Ze>Se||Ze<De)&&P.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,ct,null).clip().discardPath()),this.pdf.addImage(x,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,Je),nn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(x,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Je)};var I=function(x,C,q){var V=[];C=C||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(x.type){default:case"mt":case"lt":V.push(Math.floor((x.y+Z)/q)+1);break;case"arc":V.push(Math.floor((x.y+Z-x.radius)/q)+1),V.push(Math.floor((x.y+Z+x.radius)/q)+1);break;case"qct":var le=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,x.x1,x.y1,x.x,x.y);V.push(Math.floor((le.y+Z)/q)+1),V.push(Math.floor((le.y+le.h+Z)/q)+1);break;case"bct":var W=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,x.x1,x.y1,x.x2,x.y2,x.x,x.y);V.push(Math.floor((W.y+Z)/q)+1),V.push(Math.floor((W.y+W.h+Z)/q)+1);break;case"rect":V.push(Math.floor((x.y+Z)/q)+1),V.push(Math.floor((x.y+x.h+Z)/q)+1)}for(var $=0;$<V.length;$+=1)for(;this.pdf.internal.getNumberOfPages()<V[$];)L.call(this);return V},L=function(){var x=this.fillStyle,C=this.strokeStyle,q=this.font,V=this.lineCap,Z=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=x,this.strokeStyle=C,this.font=q,this.lineCap=V,this.lineWidth=Z,this.lineJoin=le},E=function(x,C,q){for(var V=0;V<x.length;V++)switch(x[V].type){case"bct":x[V].x2+=C,x[V].y2+=q;case"qct":x[V].x1+=C,x[V].y1+=q;case"mt":case"lt":case"arc":default:x[V].x+=C,x[V].y+=q}return x},K=function(x){return x.sort(function(C,q){return C-q})},ue=function(x,C){for(var q,V,Z=this.fillStyle,le=this.strokeStyle,W=this.lineCap,$=this.lineWidth,be=Math.abs($*this.ctx.transform.scaleX),je=this.lineJoin,Ie=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),Ve=[],he=0;he<Ee.length;he++)if(Ee[he].x!==void 0)for(var U=I.call(this,Ee[he]),We=0;We<U.length;We+=1)Ve.indexOf(U[We])===-1&&Ve.push(U[We]);for(var Je=0;Je<Ve.length;Je++)for(;this.pdf.internal.getNumberOfPages()<Ve[Je];)L.call(this);if(K(Ve),this.autoPaging)for(var Fe=Ve[0],qe=Ve[Ve.length-1],Be=Fe;Be<qe+1;Be++){this.pdf.setPage(Be),this.fillStyle=Z,this.strokeStyle=le,this.lineCap=W,this.lineWidth=be,this.lineJoin=je;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=Be===1?this.posY+this.margin[0]:this.margin[0],Se=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=Be===1?0:Se+(Be-2)*De;if(this.ctx.clip_path.length!==0){var st=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(q,this.posX+this.margin[3],-Ze+et+this.ctx.prevPageLastElemOffset),se.call(this,x,!0),this.path=st}if(V=JSON.parse(JSON.stringify(Ie)),this.path=E(V,this.posX+this.margin[3],-Ze+et+this.ctx.prevPageLastElemOffset),C===!1||Be===0){var vt=(Be>Fe||Be<qe)&&P.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,De,null).clip().discardPath()),se.call(this,x,C),vt&&this.pdf.restoreGraphicsState()}this.lineWidth=$}else this.lineWidth=be,se.call(this,x,C),this.lineWidth=$;this.path=Ie},se=function(x,C){if((x!=="stroke"||C||!R.call(this))&&(x==="stroke"||C||!h.call(this))){for(var q,V,Z=[],le=this.path,W=0;W<le.length;W++){var $=le[W];switch($.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:$,deltas:[],abs:[]});break;case"lt":var be=Z.length;if(le[W-1]&&!isNaN(le[W-1].x)&&(q=[$.x-le[W-1].x,$.y-le[W-1].y],be>0)){for(;be>=0;be--)if(Z[be-1].close!==!0&&Z[be-1].begin!==!0){Z[be-1].deltas.push(q),Z[be-1].abs.push($);break}}break;case"bct":q=[$.x1-le[W-1].x,$.y1-le[W-1].y,$.x2-le[W-1].x,$.y2-le[W-1].y,$.x-le[W-1].x,$.y-le[W-1].y],Z[Z.length-1].deltas.push(q);break;case"qct":var je=le[W-1].x+2/3*($.x1-le[W-1].x),Ie=le[W-1].y+2/3*($.y1-le[W-1].y),Ee=$.x+2/3*($.x1-$.x),Ve=$.y+2/3*($.y1-$.y),he=$.x,U=$.y;q=[je-le[W-1].x,Ie-le[W-1].y,Ee-le[W-1].x,Ve-le[W-1].y,he-le[W-1].x,U-le[W-1].y],Z[Z.length-1].deltas.push(q);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push($)}}V=C?null:x==="stroke"?"stroke":"fill";for(var We=!1,Je=0;Je<Z.length;Je++)if(Z[Je].arc)for(var Fe=Z[Je].abs,qe=0;qe<Fe.length;qe++){var Be=Fe[qe];Be.type==="arc"?M.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,C,!We):D.call(this,Be.x,Be.y),We=!0}else if(Z[Je].close===!0)this.pdf.internal.out("h"),We=!1;else if(Z[Je].begin!==!0){var Me=Z[Je].start.x,et=Z[Je].start.y;O.call(this,Z[Je].deltas,Me,et),We=!0}V&&ne.call(this,V),C&&ce.call(this)}},oe=function(x){var C=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=C*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return x-q;case"top":return x+C-q;case"hanging":return x+C-2*q;case"middle":return x+C/2-q;case"ideographic":return x;case"alphabetic":default:return x}},z=function(x){return x+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var x=function(){};return x.colorStops=[],x.addColorStop=function(C,q){this.colorStops.push([C,q])},x.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},x.isCanvasGradient=!0,x},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(x,C,q,V,Z,le,W,$,be){for(var je=G.call(this,q,V,Z,le),Ie=0;Ie<je.length;Ie++){var Ee=je[Ie];Ie===0&&(be?N.call(this,Ee.x1+x,Ee.y1+C):D.call(this,Ee.x1+x,Ee.y1+C)),J.call(this,x,C,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}$?ce.call(this):ne.call(this,W)},ne=function(x){switch(x){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ce=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(x,C){this.pdf.internal.out(e(x)+" "+a(C)+" m")},_=function(x){var C;switch(x.align){case"right":case"end":C="right";break;case"center":C="center";break;case"left":case"start":default:C="left"}var q=this.pdf.getTextDimensions(x.text),V=oe.call(this,x.y),Z=z.call(this,V)-q.h,le=this.ctx.transform.applyToPoint(new c(x.x,V)),W=this.ctx.transform.decompose(),$=new f;$=($=($=$.multiply(W.translate)).multiply(W.skew)).multiply(W.scale);for(var be,je,Ie,Ee=this.ctx.transform.applyToRectangle(new u(x.x,V,q.w,q.h)),Ve=$.applyToRectangle(new u(x.x,Z,q.w,q.h)),he=I.call(this,Ve),U=[],We=0;We<he.length;We+=1)U.indexOf(he[We])===-1&&U.push(he[We]);if(K(U),this.autoPaging)for(var Je=U[0],Fe=U[U.length-1],qe=Je;qe<Fe+1;qe++){this.pdf.setPage(qe);var Be=qe===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],Se=et-this.margin[0],De=this.pdf.internal.pageSize.width-this.margin[1],Ze=De-this.margin[3],st=qe===1?0:Me+(qe-2)*Se;if(this.ctx.clip_path.length!==0){var vt=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(be,this.posX+this.margin[3],-1*st+Be),se.call(this,"fill",!0),this.path=vt}var rt=E([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-st+Be+this.ctx.prevPageLastElemOffset)[0];x.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*x.scale),Ie=this.lineWidth,this.lineWidth=Ie*x.scale);var ct=this.autoPaging!=="text";if(ct||rt.y+rt.h<=et){if(ct||rt.y>=Be&&rt.x<=De){var ze=ct?x.text:this.pdf.splitTextToSize(x.text,x.maxWidth||De-rt.x)[0],tn=E([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-st+Be+this.ctx.prevPageLastElemOffset)[0],Ft=ct&&(qe>Je||qe<Fe)&&P.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,Se,null).clip().discardPath()),this.pdf.text(ze,tn.x,tn.y,{angle:x.angle,align:C,renderingMode:x.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else rt.y<et&&(this.ctx.prevPageLastElemOffset+=et-rt.y);x.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Ie)}else x.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*x.scale),Ie=this.lineWidth,this.lineWidth=Ie*x.scale),this.pdf.text(x.text,le.x+this.posX,le.y+this.posY,{angle:x.angle,align:C,renderingMode:x.renderingMode,maxWidth:x.maxWidth}),x.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Ie)},D=function(x,C,q,V){q=q||0,V=V||0,this.pdf.internal.out(e(x+q)+" "+a(C+V)+" l")},O=function(x,C,q){return this.pdf.lines(x,C,q,null,null)},J=function(x,C,q,V,Z,le,W,$){this.pdf.internal.out([t(l(q+x)),t(s(V+C)),t(l(Z+x)),t(s(le+C)),t(l(W+x)),t(s($+C)),"c"].join(" "))},G=function(x,C,q,V){for(var Z=2*Math.PI,le=Math.PI/2;C>q;)C-=Z;var W=Math.abs(q-C);W<Z&&V&&(W=Z-W);for(var $=[],be=V?-1:1,je=C;W>1e-5;){var Ie=je+be*Math.min(W,le);$.push(pe.call(this,x,je,Ie)),W-=Math.abs(Ie-je),je=Ie}return $},pe=function(x,C,q){var V=(q-C)/2,Z=x*Math.cos(V),le=x*Math.sin(V),W=Z,$=-le,be=W*W+$*$,je=be+W*Z+$*le,Ie=4/3*(Math.sqrt(2*be*je)-je)/(W*le-$*Z),Ee=W-Ie*$,Ve=$+Ie*W,he=Ee,U=-Ve,We=V+C,Je=Math.cos(We),Fe=Math.sin(We);return{x1:x*Math.cos(C),y1:x*Math.sin(C),x2:Ee*Je-Ve*Fe,y2:Ee*Fe+Ve*Je,x3:he*Je-U*Fe,y3:he*Fe+U*Je,x4:x*Math.cos(q),y4:x*Math.sin(q)}},X=function(x){return 180*x/Math.PI},de=function(x,C,q,V,Z,le){var W=x+.5*(q-x),$=C+.5*(V-C),be=Z+.5*(q-Z),je=le+.5*(V-le),Ie=Math.min(x,Z,W,be),Ee=Math.max(x,Z,W,be),Ve=Math.min(C,le,$,je),he=Math.max(C,le,$,je);return new u(Ie,Ve,Ee-Ie,he-Ve)},ve=function(x,C,q,V,Z,le,W,$){var be,je,Ie,Ee,Ve,he,U,We,Je,Fe,qe,Be,Me,et,Se=q-x,De=V-C,Ze=Z-q,st=le-V,vt=W-Z,rt=$-le;for(je=0;je<41;je++)Je=(U=(Ie=x+(be=je/40)*Se)+be*((Ve=q+be*Ze)-Ie))+be*(Ve+be*(Z+be*vt-Ve)-U),Fe=(We=(Ee=C+be*De)+be*((he=V+be*st)-Ee))+be*(he+be*(le+be*rt-he)-We),je==0?(qe=Je,Be=Fe,Me=Je,et=Fe):(qe=Math.min(qe,Je),Be=Math.min(Be,Fe),Me=Math.max(Me,Je),et=Math.max(et,Fe));return new u(Math.round(qe),Math.round(Be),Math.round(Me-qe),Math.round(et-Be))},Oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var x,C,q=(x=this.ctx.lineDash,C=this.ctx.lineDashOffset,JSON.stringify({lineDash:x,lineDashOffset:C}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(ht.API),function(n){var t=function(s){var c,u,f,g,y,v,j,h,R,P;for(u=[],f=0,g=(s+=c="\0\0\0\0".slice(s.length%4||4)).length;g>f;f+=4)(y=(s.charCodeAt(f)<<24)+(s.charCodeAt(f+1)<<16)+(s.charCodeAt(f+2)<<8)+s.charCodeAt(f+3))!==0?(v=(y=((y=((y=((y=(y-(P=y%85))/85)-(R=y%85))/85)-(h=y%85))/85)-(j=y%85))/85)%85,u.push(v+33,j+33,h+33,R+33,P+33)):u.push(122);return function(I,L){for(var E=L;E>0;E--)I.pop()}(u,c.length),String.fromCharCode.apply(String,u)+"~>"},e=function(s){var c,u,f,g,y,v=String,j="length",h=255,R="charCodeAt",P="slice",I="replace";for(s[P](-2),s=s[P](0,-2)[I](/\s/g,"")[I]("z","!!!!!"),f=[],g=0,y=(s+=c="uuuuu"[P](s[j]%5||5))[j];y>g;g+=5)u=52200625*(s[R](g)-33)+614125*(s[R](g+1)-33)+7225*(s[R](g+2)-33)+85*(s[R](g+3)-33)+(s[R](g+4)-33),f.push(h&u>>24,h&u>>16,h&u>>8,h&u);return function(L,E){for(var K=E;K>0;K--)L.pop()}(f,c[j]),v.fromCharCode.apply(v,f)},a=function(s){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),c.test(s)===!1)return"";for(var u="",f=0;f<s.length;f+=2)u+=String.fromCharCode("0x"+(s[f]+s[f+1]));return u},l=function(s){for(var c=new Uint8Array(s.length),u=s.length;u--;)c[u]=s.charCodeAt(u);return s=(c=Bl(c)).reduce(function(f,g){return f+String.fromCharCode(g)},"")};n.processDataByFilters=function(s,c){var u=0,f=s||"",g=[];for(typeof(c=c||[])=="string"&&(c=[c]),u=0;u<c.length;u+=1)switch(c[u]){case"ASCII85Decode":case"/ASCII85Decode":f=e(f),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=f.split("").map(function(y){return("0"+y.charCodeAt().toString(16)).slice(-2)}).join("")+">",g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=l(f),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[u]+'" is not implemented')}return{data:f,reverseChain:g.reverse().join(" ")}}}(ht.API),function(n){n.loadFile=function(t,e,a){return function(l,s,c){s=s!==!1,c=typeof c=="function"?c:function(){};var u=void 0;try{u=function(f,g,y){var v=new XMLHttpRequest,j=0,h=function(R){var P=R.length,I=[],L=String.fromCharCode;for(j=0;j<P;j+=1)I.push(L(255&R.charCodeAt(j)));return I.join("")};if(v.open("GET",f,!g),v.overrideMimeType("text/plain; charset=x-user-defined"),g===!1&&(v.onload=function(){v.status===200?y(h(this.responseText)):y(void 0)}),v.send(null),g&&v.status===200)return h(v.responseText)}(l,s,c)}catch{}return u}(t,e,a)},n.loadImageFile=n.loadFile}(ht.API),function(n){function t(){return(gt.html2canvas?Promise.resolve(gt.html2canvas):Il(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function e(){return(gt.DOMPurify?Promise.resolve(gt.DOMPurify):Il(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var a=function(c){var u=Vt(c);return u==="undefined"?"undefined":u==="string"||c instanceof String?"string":u==="number"||c instanceof Number?"number":u==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":u==="object"?"object":"unknown"},l=function(c,u){var f=document.createElement(c);for(var g in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[g]=u.style[g];return f},s=function c(u){var f=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),g=c.convert(Promise.resolve(),f);return g=(g=g.setProgress(1,c,1,[c])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(c,u){return c.__proto__=u||s.prototype,c},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(c,u){return this.then(function(){switch(u=u||function(f){switch(a(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(c)){case"string":return this.then(e).then(function(f){return this.set({src:l("div",{innerHTML:c,dompurify:f})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},s.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function f(g,y){for(var v=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),j=g.firstChild;j;j=j.nextSibling)y!==!0&&j.nodeType===1&&j.nodeName==="SCRIPT"||v.appendChild(f(j,y));return g.nodeType===1&&(g.nodeName==="CANVAS"?(v.width=g.width,v.height=g.height,v.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(v.value=g.value),v.addEventListener("load",function(){v.scrollTop=g.scrollTop,v.scrollLeft=g.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=l("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=l("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(l("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(u){var f=this.opt.jsPDF,g=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=g,g)for(var j=0;j<g.length;++j){var h=g[j],R=h.src.find(function(P){return P.format==="truetype"});R&&f.addFont(R.url,h.ref.name,h.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,f.context2d.save(!0),u(this.prop.container,v)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(c,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(c,u):this.outputPdf(c,u)},s.prototype.outputPdf=function(c,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,u)})},s.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},s.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(c){if(a(c)!=="object")return this;var u=Object.keys(c||{}).map(function(f){if(f in s.template.prop)return function(){this.prop[f]=c[f]};switch(f){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[f]=c[f]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(c,u){return this.then(function(){var f=c in s.template.prop?this.prop[c]:this.opt[c];return u?u(f):f})},s.prototype.setMargin=function(c){return this.then(function(){switch(a(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},s.prototype.setPageSize=function(c){function u(f,g){return Math.floor(f*g/72*96)}return this.then(function(){(c=c||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:u(c.inner.width,c.k),height:u(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},s.prototype.setProgress=function(c,u,f,g){return c!=null&&(this.progress.val=c),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(c,u,f,g){return this.setProgress(c?this.progress.val+c:null,u||null,f?this.progress.n+f:null,g?this.progress.stack.concat(g):null)},s.prototype.then=function(c,u){var f=this;return this.thenCore(c,u,function(g,y){return f.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(v){return f.updateProgress(null,g),v}).then(g,y).then(function(v){return f.updateProgress(1),v})})},s.prototype.thenCore=function(c,u,f){f=f||Promise.prototype.then,c&&(c=c.bind(this)),u&&(u=u.bind(this));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),y=f.call(g,c,u);return s.convert(y,this.__proto__)},s.prototype.thenExternal=function(c,u){return Promise.prototype.then.call(this,c,u)},s.prototype.thenList=function(c){var u=this;return c.forEach(function(f){u=u.thenCore(f)}),u},s.prototype.catch=function(c){c&&(c=c.bind(this));var u=Promise.prototype.catch.call(this,c);return s.convert(u,this)},s.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},s.prototype.error=function(c){return this.then(function(){throw new Error(c)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ht.getPageSize=function(c,u,f){if(Vt(c)==="object"){var g=c;c=g.orientation,u=g.unit||u,f=g.format||f}u=u||"mm",f=f||"a4",c=(""+(c||"P")).toLowerCase();var y,v=(""+f).toLowerCase(),j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+u}var h,R=0,P=0;if(j.hasOwnProperty(v))R=j[v][1]/y,P=j[v][0]/y;else try{R=f[1],P=f[0]}catch{throw new Error("Invalid format: "+f)}if(c==="p"||c==="portrait")c="p",P>R&&(h=P,P=R,R=h);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",R>P&&(h=P,P=R,R=h)}return{width:P,height:R,unit:u,k:y,orientation:c}},n.html=function(c,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Gl):null;var f=new s(u);return u.worker?f:f.from(c).doCallback()}}(ht.API),ht.API.addJS=function(n){return pd=n,this.internal.events.subscribe("postPutResources",function(){yo=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(yo+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ud=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+pd+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){yo!==void 0&&ud!==void 0&&this.internal.out("/Names <</JavaScript "+yo+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var l=e.outline.render().split(/\r\n/),s=0;s<l.length;s++){var c=l[s],u=a.exec(c);if(u!=null){var f=u[1];e.internal.newObjectDeferredBegin(f,!1)}e.internal.write(c)}if(this.outline.createNamedDestinations){var g=this.internal.pages.length,y=[];for(s=0;s<g;s++){var v=e.internal.newObject();y.push(v);var j=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+j.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<y.length;s++)e.internal.write("(page_"+(s+1)+")"+y[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(a,l,s){var c={title:l,options:s,children:[]};return a==null&&(a=this.root),a.children.push(c),c},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(a){a.id=e.internal.newObjectDeferred();for(var l=0;l<a.children.length;l++)this.genIds_r(a.children[l])},e.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},e.outline.renderItems=function(a){for(var l=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<a.children.length;s++){var c=a.children[s];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(a)),s>0&&this.line("/Prev "+this.makeRef(a.children[s-1])),s<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[s+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var u=this.count=this.count_r({count:0},c);if(u>0&&this.line("/Count "+u),c.options&&c.options.pageNumber){var f=e.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+l(0)+" 0]")}this.objEnd()}for(var g=0;g<a.children.length;g++)this.renderItems(a.children[g])},e.outline.line=function(a){this.ctx.val+=a+`\r
`},e.outline.makeRef=function(a){return a.id+" 0 R"},e.outline.makeString=function(a){return"("+e.internal.pdfEscape(a)+")"},e.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(a,l){for(var s=0;s<l.children.length;s++)a.count++,this.count_r(a,l.children[s]);return a.count}}])}(ht.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,a,l,s,c,u){var f,g=this.decode.DCT_DECODE,y=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=c||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(f=function(v){for(var j,h=256*v.charCodeAt(4)+v.charCodeAt(5),R=v.length,P={width:0,height:0,numcomponents:1},I=4;I<R;I+=2){if(I+=h,t.indexOf(v.charCodeAt(I+1))!==-1){j=256*v.charCodeAt(I+5)+v.charCodeAt(I+6),P={width:256*v.charCodeAt(I+7)+v.charCodeAt(I+8),height:j,numcomponents:v.charCodeAt(I+9)};break}h=256*v.charCodeAt(I+2)+v.charCodeAt(I+3)}return P}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}y={data:e,width:f.width,height:f.height,colorSpace:u,bitsPerComponent:8,filter:g,index:a,alias:l}}return y}}(ht.API);var Ei,wo,fd,hd,md,Of=function(){var n,t,e;function a(s){var c,u,f,g,y,v,j,h,R,P,I,L,E,K;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(c=this.readUInt32(),R=(function(){var ue,se;for(se=[],ue=0;ue<4;++ue)se.push(String.fromCharCode(this.data[this.pos++]));return se}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},y=this.readUInt16(),g=this.readUInt16()||100,v.delay=1e3*y/g,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(R==="fdAT"&&(this.pos+=4,c-=4),s=(v!=null?v.data:void 0)||this.imgData,L=0;0<=c?L<c:L>c;0<=c?++L:--L)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(f=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>f)throw new Error("More transparent colors than palette size");if((P=f-this.transparency.indexed.length)>0)for(E=0;0<=P?E<P:E>P;0<=P?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":j=(I=this.read(c)).indexOf(0),h=String.fromCharCode.apply(String,I.slice(0,j)),this.text[h]=String.fromCharCode.apply(String,I.slice(j+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(K=this.colorType)===4||K===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}a.prototype.read=function(s){var c,u;for(u=[],c=0;0<=s?c<s:c>s;0<=s?++c:--c)u.push(this.data[this.pos++]);return u},a.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},a.prototype.decodePixels=function(s){var c=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*c),f=0,g=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function y(v,j,h,R){var P,I,L,E,K,ue,se,oe,z,M,ne,ce,N,_,D,O,J,G,pe,X,de,ve=Math.ceil((g.width-v)/h),Oe=Math.ceil((g.height-j)/R),x=g.width==ve&&g.height==Oe;for(_=c*ve,ce=x?u:new Uint8Array(_*Oe),ue=s.length,N=0,I=0;N<Oe&&f<ue;){switch(s[f++]){case 0:for(E=J=0;J<_;E=J+=1)ce[I++]=s[f++];break;case 1:for(E=G=0;G<_;E=G+=1)P=s[f++],K=E<c?0:ce[I-c],ce[I++]=(P+K)%256;break;case 2:for(E=pe=0;pe<_;E=pe+=1)P=s[f++],L=(E-E%c)/c,D=N&&ce[(N-1)*_+L*c+E%c],ce[I++]=(D+P)%256;break;case 3:for(E=X=0;X<_;E=X+=1)P=s[f++],L=(E-E%c)/c,K=E<c?0:ce[I-c],D=N&&ce[(N-1)*_+L*c+E%c],ce[I++]=(P+Math.floor((K+D)/2))%256;break;case 4:for(E=de=0;de<_;E=de+=1)P=s[f++],L=(E-E%c)/c,K=E<c?0:ce[I-c],N===0?D=O=0:(D=ce[(N-1)*_+L*c+E%c],O=L&&ce[(N-1)*_+(L-1)*c+E%c]),se=K+D-O,oe=Math.abs(se-K),M=Math.abs(se-D),ne=Math.abs(se-O),z=oe<=M&&oe<=ne?K:M<=ne?D:O,ce[I++]=(P+z)%256;break;default:throw new Error("Invalid filter algorithm: "+s[f-1])}if(!x){var C=((j+N*R)*g.width+v)*c,q=N*_;for(E=0;E<ve;E+=1){for(var V=0;V<c;V+=1)u[C++]=ce[q++];C+=(h-1)*c}}N++}}return s=ff(s),g.interlaceMethod==1?(y(0,0,8,8),y(4,0,8,8),y(0,4,4,8),y(2,0,4,4),y(0,2,2,4),y(1,0,2,2),y(0,1,1,2)):y(0,0,1,1),u},a.prototype.decodePalette=function(){var s,c,u,f,g,y,v,j,h;for(u=this.palette,y=this.transparency.indexed||[],g=new Uint8Array((y.length||0)+u.length),f=0,s=0,c=v=0,j=u.length;v<j;c=v+=3)g[f++]=u[c],g[f++]=u[c+1],g[f++]=u[c+2],g[f++]=(h=y[s++])!=null?h:255;return g},a.prototype.copyToImageData=function(s,c){var u,f,g,y,v,j,h,R,P,I,L;if(f=this.colors,P=null,u=this.hasAlphaChannel,this.palette.length&&(P=(L=this._decodedPalette)!=null?L:this._decodedPalette=this.decodePalette(),f=4,u=!0),R=(g=s.data||s).length,v=P||c,y=j=0,f===1)for(;y<R;)h=P?4*c[y/4]:j,I=v[h++],g[y++]=I,g[y++]=I,g[y++]=I,g[y++]=u?v[h++]:255,j=h;else for(;y<R;)h=P?4*c[y/4]:j,g[y++]=v[h++],g[y++]=v[h++],g[y++]=v[h++],g[y++]=u?v[h++]:255,j=h},a.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var l=function(){if(Object.prototype.toString.call(gt)==="[object Window]"){try{t=gt.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return l(),n=function(s){var c;if(l()===!0)return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(c=new Image).src=t.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},a.prototype.decodeFrames=function(s){var c,u,f,g,y,v,j,h;if(this.animation){for(h=[],u=y=0,v=(j=this.animation.frames).length;y<v;u=++y)c=j[u],f=s.createImageData(c.width,c.height),g=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(f,g),c.imageData=f,h.push(c.image=n(f));return h}},a.prototype.renderFrame=function(s,c){var u,f,g;return u=(f=this.animation.frames)[c],g=f[c-1],c===0&&s.clearRect(0,0,this.width,this.height),(g!=null?g.disposeOp:void 0)===1?s.clearRect(g.xOffset,g.yOffset,g.width,g.height):(g!=null?g.disposeOp:void 0)===2&&s.putImageData(g.imageData,g.xOffset,g.yOffset),u.blendOp===0&&s.clearRect(u.xOffset,u.yOffset,u.width,u.height),s.drawImage(u.image,u.xOffset,u.yOffset)},a.prototype.animate=function(s){var c,u,f,g,y,v,j=this;return u=0,v=this.animation,g=v.numFrames,f=v.frames,y=v.numPlays,(c=function(){var h,R;if(h=u++%g,R=f[h],j.renderFrame(s,h),g>1&&u/g<y)return j.animation._timeout=setTimeout(c,R.delay)})()},a.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},a.prototype.render=function(s){var c,u;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,c=s.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(u=c.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),c.putImageData(u,0,0))},a}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Rf(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,a=n[t++]|n[t++]<<8,l=n[t++],s=l>>7,c=1<<(7&l)+1;n[t++],n[t++];var u=null,f=null;s&&(u=t,f=c,t+=3*c);var g=!0,y=[],v=0,j=null,h=0,R=null;for(this.width=e,this.height=a;g&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,R=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((N=n[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var P=n[t++];v=n[t++]|n[t++]<<8,j=n[t++],(1&P)==0&&(j=null),h=P>>2&7,t++;break;case 254:for(;;){if(!((N=n[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var I=n[t++]|n[t++]<<8,L=n[t++]|n[t++]<<8,E=n[t++]|n[t++]<<8,K=n[t++]|n[t++]<<8,ue=n[t++],se=ue>>6&1,oe=1<<(7&ue)+1,z=u,M=f,ne=!1;ue>>7&&(ne=!0,z=t,M=oe,t+=3*oe);var ce=t;for(t++;;){var N;if(!((N=n[t++])>=0))throw Error("Invalid block size");if(N===0)break;t+=N}y.push({x:I,y:L,width:E,height:K,has_local_palette:ne,palette_offset:z,palette_size:M,data_offset:ce,data_length:t-ce,transparent_index:j,interlaced:!!se,delay:v,disposal:h});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return R},this.frameInfo=function(_){if(_<0||_>=y.length)throw new Error("Frame index out of range.");return y[_]},this.decodeAndBlitFrameBGRA=function(_,D){var O=this.frameInfo(_),J=O.width*O.height,G=new Uint8Array(J);gd(n,O.data_offset,G,J);var pe=O.palette_offset,X=O.transparent_index;X===null&&(X=256);var de=O.width,ve=e-de,Oe=de,x=4*(O.y*e+O.x),C=4*((O.y+O.height)*e+O.x),q=x,V=4*ve;O.interlaced===!0&&(V+=4*e*7);for(var Z=8,le=0,W=G.length;le<W;++le){var $=G[le];if(Oe===0&&(Oe=de,(q+=V)>=C&&(V=4*ve+4*e*(Z-1),q=x+(de+ve)*(Z<<1),Z>>=1)),$===X)q+=4;else{var be=n[pe+3*$],je=n[pe+3*$+1],Ie=n[pe+3*$+2];D[q++]=Ie,D[q++]=je,D[q++]=be,D[q++]=255}--Oe}},this.decodeAndBlitFrameRGBA=function(_,D){var O=this.frameInfo(_),J=O.width*O.height,G=new Uint8Array(J);gd(n,O.data_offset,G,J);var pe=O.palette_offset,X=O.transparent_index;X===null&&(X=256);var de=O.width,ve=e-de,Oe=de,x=4*(O.y*e+O.x),C=4*((O.y+O.height)*e+O.x),q=x,V=4*ve;O.interlaced===!0&&(V+=4*e*7);for(var Z=8,le=0,W=G.length;le<W;++le){var $=G[le];if(Oe===0&&(Oe=de,(q+=V)>=C&&(V=4*ve+4*e*(Z-1),q=x+(de+ve)*(Z<<1),Z>>=1)),$===X)q+=4;else{var be=n[pe+3*$],je=n[pe+3*$+1],Ie=n[pe+3*$+2];D[q++]=be,D[q++]=je,D[q++]=Ie,D[q++]=255}--Oe}}}function gd(n,t,e,a){for(var l=n[t++],s=1<<l,c=s+1,u=c+1,f=l+1,g=(1<<f)-1,y=0,v=0,j=0,h=n[t++],R=new Int32Array(4096),P=null;;){for(;y<16&&h!==0;)v|=n[t++]<<y,y+=8,h===1?h=n[t++]:--h;if(y<f)break;var I=v&g;if(v>>=f,y-=f,I!==s){if(I===c)break;for(var L=I<u?I:P,E=0,K=L;K>s;)K=R[K]>>8,++E;var ue=K;if(j+E+(L!==I?1:0)>a)return void Jt.log("Warning, gif stream longer than expected.");e[j++]=ue;var se=j+=E;for(L!==I&&(e[j++]=ue),K=L;E--;)K=R[K],e[--se]=255&K,K>>=8;P!==null&&u<4096&&(R[u++]=P<<8|ue,u>=g+1&&f<12&&(++f,g=g<<1|1)),P=I}else u=c+1,g=(1<<(f=l+1))-1,P=null}return j!==a&&Jt.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Fl(n){var t,e,a,l,s,c=Math.floor,u=new Array(64),f=new Array(64),g=new Array(64),y=new Array(64),v=new Array(65535),j=new Array(65535),h=new Array(64),R=new Array(64),P=[],I=0,L=7,E=new Array(64),K=new Array(64),ue=new Array(64),se=new Array(256),oe=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ne=[0,1,2,3,4,5,6,7,8,9,10,11],ce=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function G(x,C){for(var q=0,V=0,Z=new Array,le=1;le<=16;le++){for(var W=1;W<=x[le];W++)Z[C[V]]=[],Z[C[V]][0]=q,Z[C[V]][1]=le,V++,q++;q*=2}return Z}function pe(x){for(var C=x[0],q=x[1]-1;q>=0;)C&1<<q&&(I|=1<<L),q--,--L<0&&(I==255?(X(255),X(0)):X(I),L=7,I=0)}function X(x){P.push(x)}function de(x){X(x>>8&255),X(255&x)}function ve(x,C,q,V,Z){for(var le,W=Z[0],$=Z[240],be=function(Fe,qe){var Be,Me,et,Se,De,Ze,st,vt,rt,ct,ze=0;for(rt=0;rt<8;++rt){Be=Fe[ze],Me=Fe[ze+1],et=Fe[ze+2],Se=Fe[ze+3],De=Fe[ze+4],Ze=Fe[ze+5],st=Fe[ze+6];var tn=Be+(vt=Fe[ze+7]),Ft=Be-vt,nn=Me+st,Nt=Me-st,Tt=et+Ze,jn=et-Ze,ut=Se+De,ln=Se-De,Xt=tn+ut,Rn=tn-ut,Mn=nn+Tt,Rt=nn-Tt;Fe[ze]=Xt+Mn,Fe[ze+4]=Xt-Mn;var xt=.707106781*(Rt+Rn);Fe[ze+2]=Rn+xt,Fe[ze+6]=Rn-xt;var qt=.382683433*((Xt=ln+jn)-(Rt=Nt+Ft)),yr=.5411961*Xt+qt,pn=1.306562965*Rt+qt,Tn=.707106781*(Mn=jn+Nt),fn=Ft+Tn,xe=Ft-Tn;Fe[ze+5]=xe+yr,Fe[ze+3]=xe-yr,Fe[ze+1]=fn+pn,Fe[ze+7]=fn-pn,ze+=8}for(ze=0,rt=0;rt<8;++rt){Be=Fe[ze],Me=Fe[ze+8],et=Fe[ze+16],Se=Fe[ze+24],De=Fe[ze+32],Ze=Fe[ze+40],st=Fe[ze+48];var at=Be+(vt=Fe[ze+56]),Xe=Be-vt,bt=Me+st,yt=Me-st,It=et+Ze,Ct=et-Ze,Qn=Se+De,Wn=Se-De,Hn=at+Qn,qn=at-Qn,Pn=bt+It,er=bt-It;Fe[ze]=Hn+Pn,Fe[ze+32]=Hn-Pn;var kn=.707106781*(er+qn);Fe[ze+16]=qn+kn,Fe[ze+48]=qn-kn;var tr=.382683433*((Hn=Wn+Ct)-(er=yt+Xe)),wr=.5411961*Hn+tr,Er=1.306562965*er+tr,Nr=.707106781*(Pn=Ct+yt),sn=Xe+Nr,Dr=Xe-Nr;Fe[ze+40]=Dr+wr,Fe[ze+24]=Dr-wr,Fe[ze+8]=sn+Er,Fe[ze+56]=sn-Er,ze++}for(rt=0;rt<64;++rt)ct=Fe[rt]*qe[rt],h[rt]=ct>0?ct+.5|0:ct-.5|0;return h}(x,C),je=0;je<64;++je)R[z[je]]=be[je];var Ie=R[0]-q;q=R[0],Ie==0?pe(V[0]):(pe(V[j[le=32767+Ie]]),pe(v[le]));for(var Ee=63;Ee>0&&R[Ee]==0;)Ee--;if(Ee==0)return pe(W),q;for(var Ve,he=1;he<=Ee;){for(var U=he;R[he]==0&&he<=Ee;)++he;var We=he-U;if(We>=16){Ve=We>>4;for(var Je=1;Je<=Ve;++Je)pe($);We&=15}le=32767+R[he],pe(Z[(We<<4)+j[le]]),pe(v[le]),he++}return Ee!=63&&pe(W),q}function Oe(x){x=Math.min(Math.max(x,1),100),s!=x&&(function(C){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var Z=c((q[V]*C+50)/100);Z=Math.min(Math.max(Z,1),255),u[z[V]]=Z}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],W=0;W<64;W++){var $=c((le[W]*C+50)/100);$=Math.min(Math.max($,1),255),f[z[W]]=$}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,Ie=0;Ie<8;Ie++)for(var Ee=0;Ee<8;Ee++)g[je]=1/(u[z[je]]*be[Ie]*be[Ee]*8),y[je]=1/(f[z[je]]*be[Ie]*be[Ee]*8),je++}(x<50?Math.floor(5e3/x):Math.floor(200-2*x)),s=x)}this.encode=function(x,C){C&&Oe(C),P=new Array,I=0,L=7,de(65496),de(65504),de(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),de(1),de(1),X(0),X(0),function(){de(65499),de(132),X(0);for(var Me=0;Me<64;Me++)X(u[Me]);X(1);for(var et=0;et<64;et++)X(f[et])}(),function(Me,et){de(65472),de(17),X(8),de(et),de(Me),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(x.width,x.height),function(){de(65476),de(418),X(0);for(var Me=0;Me<16;Me++)X(M[Me+1]);for(var et=0;et<=11;et++)X(ne[et]);X(16);for(var Se=0;Se<16;Se++)X(ce[Se+1]);for(var De=0;De<=161;De++)X(N[De]);X(1);for(var Ze=0;Ze<16;Ze++)X(_[Ze+1]);for(var st=0;st<=11;st++)X(D[st]);X(17);for(var vt=0;vt<16;vt++)X(O[vt+1]);for(var rt=0;rt<=161;rt++)X(J[rt])}(),de(65498),de(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var q=0,V=0,Z=0;I=0,L=7,this.encode.displayName="_encode_";for(var le,W,$,be,je,Ie,Ee,Ve,he,U=x.data,We=x.width,Je=x.height,Fe=4*We,qe=0;qe<Je;){for(le=0;le<Fe;){for(je=Fe*qe+le,Ee=-1,Ve=0,he=0;he<64;he++)Ie=je+(Ve=he>>3)*Fe+(Ee=4*(7&he)),qe+Ve>=Je&&(Ie-=Fe*(qe+1+Ve-Je)),le+Ee>=Fe&&(Ie-=le+Ee-Fe+4),W=U[Ie++],$=U[Ie++],be=U[Ie++],E[he]=(oe[W]+oe[$+256>>0]+oe[be+512>>0]>>16)-128,K[he]=(oe[W+768>>0]+oe[$+1024>>0]+oe[be+1280>>0]>>16)-128,ue[he]=(oe[W+1280>>0]+oe[$+1536>>0]+oe[be+1792>>0]>>16)-128;q=ve(E,g,q,t,a),V=ve(K,y,V,e,l),Z=ve(ue,y,Z,e,l),le+=32}qe+=8}if(L>=0){var Be=[];Be[1]=L+1,Be[0]=(1<<L+1)-1,pe(Be)}return de(65497),new Uint8Array(P)},n=n||50,function(){for(var x=String.fromCharCode,C=0;C<256;C++)se[C]=x(C)}(),t=G(M,ne),e=G(_,D),a=G(ce,N),l=G(O,J),function(){for(var x=1,C=2,q=1;q<=15;q++){for(var V=x;V<C;V++)j[32767+V]=q,v[32767+V]=[],v[32767+V][1]=q,v[32767+V][0]=V;for(var Z=-(C-1);Z<=-x;Z++)j[32767+Z]=q,v[32767+Z]=[],v[32767+Z][1]=q,v[32767+Z][0]=C-1+Z;x<<=1,C<<=1}}(),function(){for(var x=0;x<256;x++)oe[x]=19595*x,oe[x+256>>0]=38470*x,oe[x+512>>0]=7471*x+32768,oe[x+768>>0]=-11059*x,oe[x+1024>>0]=-21709*x,oe[x+1280>>0]=32768*x+8421375,oe[x+1536>>0]=-27439*x,oe[x+1792>>0]=-5329*x}(),Oe(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Br(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vd(n){function t(M){if(!M)throw Error("assert :P")}function e(M,ne,ce){for(var N=0;4>N;N++)if(M[ne+N]!=ce.charCodeAt(N))return!0;return!1}function a(M,ne,ce,N,_){for(var D=0;D<_;D++)M[ne+D]=ce[N+D]}function l(M,ne,ce,N){for(var _=0;_<N;_++)M[ne+_]=ce}function s(M){return new Int32Array(M)}function c(M,ne){for(var ce=[],N=0;N<M;N++)ce.push(new ne);return ce}function u(M,ne){var ce=[];return function N(_,D,O){for(var J=O[D],G=0;G<J&&(_.push(O.length>D+1?[]:new ne),!(O.length<D+1));G++)N(_[G],D+1,O)}(ce,0,M),ce}var f=function(){var M=this;function ne(r,o){for(var p=1<<o-1>>>0;r&p;)p>>>=1;return p?(r&p-1)+p:r}function ce(r,o,p,m,b){t(!(m%p));do r[o+(m-=p)]=b;while(0<m)}function N(r,o,p,m,b){if(t(2328>=b),512>=b)var S=s(512);else if((S=s(b))==null)return 0;return function(A,k,F,T,ee,me){var ge,ie,Le=k,ye=1<<F,te=s(16),ae=s(16);for(t(ee!=0),t(T!=null),t(A!=null),t(0<F),ie=0;ie<ee;++ie){if(15<T[ie])return 0;++te[T[ie]]}if(te[0]==ee)return 0;for(ae[1]=0,ge=1;15>ge;++ge){if(te[ge]>1<<ge)return 0;ae[ge+1]=ae[ge]+te[ge]}for(ie=0;ie<ee;++ie)ge=T[ie],0<T[ie]&&(me[ae[ge]++]=ie);if(ae[15]==1)return(T=new _).g=0,T.value=me[0],ce(A,Le,1,ye,T),ye;var Ae,ke=-1,_e=ye-1,Ke=0,Ue=1,dt=1,He=1<<F;for(ie=0,ge=1,ee=2;ge<=F;++ge,ee<<=1){if(Ue+=dt<<=1,0>(dt-=te[ge]))return 0;for(;0<te[ge];--te[ge])(T=new _).g=ge,T.value=me[ie++],ce(A,Le+Ke,ee,He,T),Ke=ne(Ke,ge)}for(ge=F+1,ee=2;15>=ge;++ge,ee<<=1){if(Ue+=dt<<=1,0>(dt-=te[ge]))return 0;for(;0<te[ge];--te[ge]){if(T=new _,(Ke&_e)!=ke){for(Le+=He,Ae=1<<(ke=ge)-F;15>ke&&!(0>=(Ae-=te[ke]));)++ke,Ae<<=1;ye+=He=1<<(Ae=ke-F),A[k+(ke=Ke&_e)].g=Ae+F,A[k+ke].value=Le-k-ke}T.g=ge-F,T.value=me[ie++],ce(A,Le+(Ke>>F),ee,He,T),Ke=ne(Ke,ge)}}return Ue!=2*ae[15]-1?0:ye}(r,o,p,m,b,S)}function _(){this.value=this.g=0}function D(){this.value=this.g=0}function O(){this.G=c(5,_),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(zn,D)}function J(r,o,p,m){t(r!=null),t(o!=null),t(2147483648>m),r.Ca=254,r.I=0,r.b=-8,r.Ka=0,r.oa=o,r.pa=p,r.Jd=o,r.Yc=p+m,r.Zc=4<=m?p+m-4+1:p,le(r)}function G(r,o){for(var p=0;0<o--;)p|=$(r,128)<<o;return p}function pe(r,o){var p=G(r,o);return W(r)?-p:p}function X(r,o,p,m){var b,S=0;for(t(r!=null),t(o!=null),t(4294967288>m),r.Sb=m,r.Ra=0,r.u=0,r.h=0,4<m&&(m=4),b=0;b<m;++b)S+=o[p+b]<<8*b;r.Ra=S,r.bb=m,r.oa=o,r.pa=p}function de(r){for(;8<=r.u&&r.bb<r.Sb;)r.Ra>>>=8,r.Ra+=r.oa[r.pa+r.bb]<<Ni-8>>>0,++r.bb,r.u-=8;q(r)&&(r.h=1,r.u=0)}function ve(r,o){if(t(0<=o),!r.h&&o<=wi){var p=C(r)&yi[o];return r.u+=o,de(r),p}return r.h=1,r.u=0}function Oe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function x(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function C(r){return r.Ra>>>(r.u&Ni-1)>>>0}function q(r){return t(r.bb<=r.Sb),r.h||r.bb==r.Sb&&r.u>Ni}function V(r,o){r.u=o,r.h=q(r)}function Z(r){r.u>=cs&&(t(r.u>=cs),de(r))}function le(r){t(r!=null&&r.oa!=null),r.pa<r.Zc?(r.I=(r.oa[r.pa++]|r.I<<8)>>>0,r.b+=8):(t(r!=null&&r.oa!=null),r.pa<r.Yc?(r.b+=8,r.I=r.oa[r.pa++]|r.I<<8):r.Ka?r.b=0:(r.I<<=8,r.b+=8,r.Ka=1))}function W(r){return G(r,1)}function $(r,o){var p=r.Ca;0>r.b&&le(r);var m=r.b,b=p*o>>>8,S=(r.I>>>m>b)+0;for(S?(p-=b,r.I-=b+1<<m>>>0):p=b+1,m=p,b=0;256<=m;)b+=8,m>>=8;return m=7^b+or[m],r.b-=m,r.Ca=(p<<m)-1,S}function be(r,o,p){r[o+0]=p>>24&255,r[o+1]=p>>16&255,r[o+2]=p>>8&255,r[o+3]=p>>0&255}function je(r,o){return r[o+0]<<0|r[o+1]<<8}function Ie(r,o){return je(r,o)|r[o+2]<<16}function Ee(r,o){return je(r,o)|je(r,o+2)<<16}function Ve(r,o){var p=1<<o;return t(r!=null),t(0<o),r.X=s(p),r.X==null?0:(r.Mb=32-o,r.Xa=o,1)}function he(r,o){t(r!=null),t(o!=null),t(r.Xa==o.Xa),a(o.X,0,r.X,0,1<<o.Xa)}function U(){this.X=[],this.Xa=this.Mb=0}function We(r,o,p,m){t(p!=null),t(m!=null);var b=p[0],S=m[0];return b==0&&(b=(r*S+o/2)/o),S==0&&(S=(o*b+r/2)/r),0>=b||0>=S?0:(p[0]=b,m[0]=S,1)}function Je(r,o){return r+(1<<o)-1>>>o}function Fe(r,o){return((4278255360&r)+(4278255360&o)>>>0&4278255360)+((16711935&r)+(16711935&o)>>>0&16711935)>>>0}function qe(r,o){M[o]=function(p,m,b,S,A,k,F){var T;for(T=0;T<A;++T){var ee=M[r](k[F+T-1],b,S+T);k[F+T]=Fe(p[m+T],ee)}}}function Be(){this.ud=this.hd=this.jd=0}function Me(r,o){return((4278124286&(r^o))>>>1)+(r&o)>>>0}function et(r){return 0<=r&&256>r?r:0>r?0:255<r?255:void 0}function Se(r,o){return et(r+(r-o+.5>>1))}function De(r,o,p){return Math.abs(o-p)-Math.abs(r-p)}function Ze(r,o,p,m,b,S,A){for(m=S[A-1],p=0;p<b;++p)S[A+p]=m=Fe(r[o+p],m)}function st(r,o,p,m,b){var S;for(S=0;S<p;++S){var A=r[o+S],k=A>>8&255,F=16711935&(F=(F=16711935&A)+((k<<16)+k));m[b+S]=(4278255360&A)+F>>>0}}function vt(r,o){o.jd=r>>0&255,o.hd=r>>8&255,o.ud=r>>16&255}function rt(r,o,p,m,b,S){var A;for(A=0;A<m;++A){var k=o[p+A],F=k>>>8,T=k,ee=255&(ee=(ee=k>>>16)+((r.jd<<24>>24)*(F<<24>>24)>>>5));T=255&(T=(T=T+((r.hd<<24>>24)*(F<<24>>24)>>>5))+((r.ud<<24>>24)*(ee<<24>>24)>>>5)),b[S+A]=(4278255360&k)+(ee<<16)+T}}function ct(r,o,p,m,b){M[o]=function(S,A,k,F,T,ee,me,ge,ie){for(F=me;F<ge;++F)for(me=0;me<ie;++me)T[ee++]=b(k[m(S[A++])])},M[r]=function(S,A,k,F,T,ee,me){var ge=8>>S.b,ie=S.Ea,Le=S.K[0],ye=S.w;if(8>ge)for(S=(1<<S.b)-1,ye=(1<<ge)-1;A<k;++A){var te,ae=0;for(te=0;te<ie;++te)te&S||(ae=m(F[T++])),ee[me++]=b(Le[ae&ye]),ae>>=ge}else M["VP8LMapColor"+p](F,T,Le,ye,ee,me,A,k,ie)}}function ze(r,o,p,m,b){for(p=o+p;o<p;){var S=r[o++];m[b++]=S>>16&255,m[b++]=S>>8&255,m[b++]=S>>0&255}}function tn(r,o,p,m,b){for(p=o+p;o<p;){var S=r[o++];m[b++]=S>>16&255,m[b++]=S>>8&255,m[b++]=S>>0&255,m[b++]=S>>24&255}}function Ft(r,o,p,m,b){for(p=o+p;o<p;){var S=(A=r[o++])>>16&240|A>>12&15,A=A>>0&240|A>>28&15;m[b++]=S,m[b++]=A}}function nn(r,o,p,m,b){for(p=o+p;o<p;){var S=(A=r[o++])>>16&248|A>>13&7,A=A>>5&224|A>>3&31;m[b++]=S,m[b++]=A}}function Nt(r,o,p,m,b){for(p=o+p;o<p;){var S=r[o++];m[b++]=S>>0&255,m[b++]=S>>8&255,m[b++]=S>>16&255}}function Tt(r,o,p,m,b,S){if(S==0)for(p=o+p;o<p;)be(m,((S=r[o++])[0]>>24|S[1]>>8&65280|S[2]<<8&16711680|S[3]<<24)>>>0),b+=32;else a(m,b,r,o,p)}function jn(r,o){M[o][0]=M[r+"0"],M[o][1]=M[r+"1"],M[o][2]=M[r+"2"],M[o][3]=M[r+"3"],M[o][4]=M[r+"4"],M[o][5]=M[r+"5"],M[o][6]=M[r+"6"],M[o][7]=M[r+"7"],M[o][8]=M[r+"8"],M[o][9]=M[r+"9"],M[o][10]=M[r+"10"],M[o][11]=M[r+"11"],M[o][12]=M[r+"12"],M[o][13]=M[r+"13"],M[o][14]=M[r+"0"],M[o][15]=M[r+"0"]}function ut(r){return r==nl||r==rl||r==eo||r==al}function ln(){this.eb=[],this.size=this.A=this.fb=0}function Xt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ln,this.f.kb=new Xt,this.sd=null}function Mn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Rt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xt(r){return alert("todo:WebPSamplerProcessPlane"),r.T}function qt(r,o){var p=r.T,m=o.ba.f.RGBA,b=m.eb,S=m.fb+r.ka*m.A,A=Pr[o.ba.S],k=r.y,F=r.O,T=r.f,ee=r.N,me=r.ea,ge=r.W,ie=o.cc,Le=o.dc,ye=o.Mc,te=o.Nc,ae=r.ka,Ae=r.ka+r.T,ke=r.U,_e=ke+1>>1;for(ae==0?A(k,F,null,null,T,ee,me,ge,T,ee,me,ge,b,S,null,null,ke):(A(o.ec,o.fc,k,F,ie,Le,ye,te,T,ee,me,ge,b,S-m.A,b,S,ke),++p);ae+2<Ae;ae+=2)ie=T,Le=ee,ye=me,te=ge,ee+=r.Rc,ge+=r.Rc,S+=2*m.A,A(k,(F+=2*r.fa)-r.fa,k,F,ie,Le,ye,te,T,ee,me,ge,b,S-m.A,b,S,ke);return F+=r.fa,r.j+Ae<r.o?(a(o.ec,o.fc,k,F,ke),a(o.cc,o.dc,T,ee,_e),a(o.Mc,o.Nc,me,ge,_e),p--):1&Ae||A(k,F,null,null,T,ee,me,ge,T,ee,me,ge,b,S+m.A,null,null,ke),p}function yr(r,o,p){var m=r.F,b=[r.J];if(m!=null){var S=r.U,A=o.ba.S,k=A==Qs||A==eo;o=o.ba.f.RGBA;var F=[0],T=r.ka;F[0]=r.T,r.Kb&&(T==0?--F[0]:(--T,b[0]-=r.width),r.j+r.ka+r.T==r.o&&(F[0]=r.o-r.j-T));var ee=o.eb;T=o.fb+T*o.A,r=en(m,b[0],r.width,S,F,ee,T+(k?0:3),o.A),t(p==F),r&&ut(A)&&kr(ee,T,k,S,F,o.A)}return 0}function pn(r){var o=r.ma,p=o.ba.S,m=11>p,b=p==Xs||p==Zs||p==Qs||p==tl||p==12||ut(p);if(o.memory=null,o.Ib=null,o.Jb=null,o.Nd=null,!os(o.Oa,r,b?11:12))return 0;if(b&&ut(p)&&Ce(),r.da)alert("todo:use_scaling");else{if(m){if(o.Ib=xt,r.Kb){if(p=r.U+1>>1,o.memory=s(r.U+2*p),o.memory==null)return 0;o.ec=o.memory,o.fc=0,o.cc=o.ec,o.dc=o.fc+r.U,o.Mc=o.cc,o.Nc=o.dc+p,o.Ib=qt,Ce()}}else alert("todo:EmitYUV");b&&(o.Jb=yr,m&&fe())}if(m&&!gc){for(r=0;256>r;++r)qu[r]=89858*(r-128)+no>>to,Uu[r]=-22014*(r-128)+no,Bu[r]=-45773*(r-128),zu[r]=113618*(r-128)+no>>to;for(r=gs;r<ol;++r)o=76283*(r-16)+no>>to,Wu[r-gs]=fr(o,255),Hu[r-gs]=fr(o+8>>4,15);gc=1}return 1}function Tn(r){var o=r.ma,p=r.U,m=r.T;return t(!(1&r.ka)),0>=p||0>=m?0:(p=o.Ib(r,o),o.Jb!=null&&o.Jb(r,o,p),o.Dc+=p,1)}function fn(r){r.ma.memory=null}function xe(r,o,p,m){return ve(r,8)!=47?0:(o[0]=ve(r,14)+1,p[0]=ve(r,14)+1,m[0]=ve(r,1),ve(r,3)!=0?0:!r.h)}function at(r,o){if(4>r)return r+1;var p=r-2>>1;return(2+(1&r)<<p)+ve(o,p)+1}function Xe(r,o){return 120<o?o-120:1<=(p=((p=Au[o-1])>>4)*r+(8-(15&p)))?p:1;var p}function bt(r,o,p){var m=C(p),b=r[o+=255&m].g-8;return 0<b&&(V(p,p.u+8),m=C(p),o+=r[o].value,o+=m&(1<<b)-1),V(p,p.u+r[o].g),r[o].value}function yt(r,o,p){return p.g+=r.g,p.value+=r.value<<o>>>0,t(8>=p.g),r.g}function It(r,o,p){var m=r.xc;return t((o=m==0?0:r.vc[r.md*(p>>m)+(o>>m)])<r.Wb),r.Ya[o]}function Ct(r,o,p,m){var b=r.ab,S=r.c*o,A=r.C;o=A+o;var k=p,F=m;for(m=r.Ta,p=r.Ua;0<b--;){var T=r.gc[b],ee=A,me=o,ge=k,ie=F,Le=(F=m,k=p,T.Ea);switch(t(ee<me),t(me<=T.nc),T.hc){case 2:Hs(ge,ie,(me-ee)*Le,F,k);break;case 0:var ye=ee,te=me,ae=F,Ae=k,ke=(He=T).Ea;ye==0&&(Qo(ge,ie,null,null,1,ae,Ae),Ze(ge,ie+1,0,0,ke-1,ae,Ae+1),ie+=ke,Ae+=ke,++ye);for(var _e=1<<He.b,Ke=_e-1,Ue=Je(ke,He.b),dt=He.K,He=He.w+(ye>>He.b)*Ue;ye<te;){var Ut=dt,Wt=He,Bt=1;for(ds(ge,ie,ae,Ae-ke,1,ae,Ae);Bt<ke;){var Ot=(Bt&~Ke)+_e;Ot>ke&&(Ot=ke),(0,Sa[Ut[Wt++]>>8&15])(ge,ie+ +Bt,ae,Ae+Bt-ke,Ot-Bt,ae,Ae+Bt),Bt=Ot}ie+=ke,Ae+=ke,++ye&Ke||(He+=Ue)}me!=T.nc&&a(F,k-Le,F,k+(me-ee-1)*Le,Le);break;case 1:for(Le=ge,te=ie,ke=(ge=T.Ea)-(Ae=ge&~(ae=(ie=1<<T.b)-1)),ye=Je(ge,T.b),_e=T.K,T=T.w+(ee>>T.b)*ye;ee<me;){for(Ke=_e,Ue=T,dt=new Be,He=te+Ae,Ut=te+ge;te<He;)vt(Ke[Ue++],dt),Ya(dt,Le,te,ie,F,k),te+=ie,k+=ie;te<Ut&&(vt(Ke[Ue++],dt),Ya(dt,Le,te,ke,F,k),te+=ke,k+=ke),++ee&ae||(T+=ye)}break;case 3:if(ge==F&&ie==k&&0<T.b){for(te=F,ge=Le=k+(me-ee)*Le-(Ae=(me-ee)*Je(T.Ea,T.b)),ie=F,ae=k,ye=[],Ae=(ke=Ae)-1;0<=Ae;--Ae)ye[Ae]=ie[ae+Ae];for(Ae=ke-1;0<=Ae;--Ae)te[ge+Ae]=ye[Ae];Ar(T,ee,me,F,Le,F,k)}else Ar(T,ee,me,ge,ie,F,k)}k=m,F=p}F!=p&&a(m,p,k,F,S)}function Qn(r,o){var p=r.V,m=r.Ba+r.c*r.C,b=o-r.C;if(t(o<=r.l.o),t(16>=b),0<b){var S=r.l,A=r.Ta,k=r.Ua,F=S.width;if(Ct(r,b,p,m),b=k=[k],t((p=r.C)<(m=o)),t(S.v<S.va),m>S.o&&(m=S.o),p<S.j){var T=S.j-p;p=S.j,b[0]+=T*F}if(p>=m?p=0:(b[0]+=4*S.v,S.ka=p-S.j,S.U=S.va-S.v,S.T=m-p,p=1),p){if(k=k[0],11>(p=r.ca).S){var ee=p.f.RGBA,me=(m=p.S,b=S.U,S=S.T,T=ee.eb,ee.A),ge=S;for(ee=ee.fb+r.Ma*ee.A;0<ge--;){var ie=A,Le=k,ye=b,te=T,ae=ee;switch(m){case Js:lr(ie,Le,ye,te,ae);break;case Xs:nr(ie,Le,ye,te,ae);break;case nl:nr(ie,Le,ye,te,ae),kr(te,ae,0,ye,1,0);break;case oc:oa(ie,Le,ye,te,ae);break;case Zs:Tt(ie,Le,ye,te,ae,1);break;case rl:Tt(ie,Le,ye,te,ae,1),kr(te,ae,0,ye,1,0);break;case Qs:Tt(ie,Le,ye,te,ae,0);break;case eo:Tt(ie,Le,ye,te,ae,0),kr(te,ae,1,ye,1,0);break;case tl:Aa(ie,Le,ye,te,ae);break;case al:Aa(ie,Le,ye,te,ae),Qt(te,ae,ye,1,0);break;case lc:sa(ie,Le,ye,te,ae);break;default:t(0)}k+=F,ee+=me}r.Ma+=S}else alert("todo:EmitRescaledRowsYUVA");t(r.Ma<=p.height)}}r.C=o,t(r.C<=r.i)}function Wn(r){var o;if(0<r.ua)return 0;for(o=0;o<r.Wb;++o){var p=r.Ya[o].G,m=r.Ya[o].H;if(0<p[1][m[1]+0].g||0<p[2][m[2]+0].g||0<p[3][m[3]+0].g)return 0}return 1}function Hn(r,o,p,m,b,S){if(r.Z!=0){var A=r.qd,k=r.rd;for(t(Fa[r.Z]!=null);o<p;++o)Fa[r.Z](A,k,m,b,m,b,S),A=m,k=b,b+=S;r.qd=A,r.rd=k}}function qn(r,o){var p=r.l.ma,m=p.Z==0||p.Z==1?r.l.j:r.C;if(m=r.C<m?m:r.C,t(o<=r.l.o),o>m){var b=r.l.width,S=p.ca,A=p.tb+b*m,k=r.V,F=r.Ba+r.c*m,T=r.gc;t(r.ab==1),t(T[0].hc==3),Vs(T[0],m,o,k,F,S,A),Hn(p,m,o,S,A,b)}r.C=r.Ma=o}function Pn(r,o,p,m,b,S,A){var k=r.$/m,F=r.$%m,T=r.m,ee=r.s,me=p+r.$,ge=me;b=p+m*b;var ie=p+m*S,Le=280+ee.ua,ye=r.Pb?k:16777216,te=0<ee.ua?ee.Wa:null,ae=ee.wc,Ae=me<ie?It(ee,F,k):null;t(r.C<S),t(ie<=b);var ke=!1;e:for(;;){for(;ke||me<ie;){var _e=0;if(k>=ye){var Ke=me-p;t((ye=r).Pb),ye.wd=ye.m,ye.xd=Ke,0<ye.s.ua&&he(ye.s.Wa,ye.s.vb),ye=k+Lu}if(F&ae||(Ae=It(ee,F,k)),t(Ae!=null),Ae.Qb&&(o[me]=Ae.qb,ke=!0),!ke)if(Z(T),Ae.jc){_e=T,Ke=o;var Ue=me,dt=Ae.pd[C(_e)&zn-1];t(Ae.jc),256>dt.g?(V(_e,_e.u+dt.g),Ke[Ue]=dt.value,_e=0):(V(_e,_e.u+dt.g-256),t(256<=dt.value),_e=dt.value),_e==0&&(ke=!0)}else _e=bt(Ae.G[0],Ae.H[0],T);if(T.h)break;if(ke||256>_e){if(!ke)if(Ae.nd)o[me]=(Ae.qb|_e<<8)>>>0;else{if(Z(T),ke=bt(Ae.G[1],Ae.H[1],T),Z(T),Ke=bt(Ae.G[2],Ae.H[2],T),Ue=bt(Ae.G[3],Ae.H[3],T),T.h)break;o[me]=(Ue<<24|ke<<16|_e<<8|Ke)>>>0}if(ke=!1,++me,++F>=m&&(F=0,++k,A!=null&&k<=S&&!(k%16)&&A(r,k),te!=null))for(;ge<me;)_e=o[ge++],te.X[(506832829*_e&4294967295)>>>te.Mb]=_e}else if(280>_e){if(_e=at(_e-256,T),Ke=bt(Ae.G[4],Ae.H[4],T),Z(T),Ke=Xe(m,Ke=at(Ke,T)),T.h)break;if(me-p<Ke||b-me<_e)break e;for(Ue=0;Ue<_e;++Ue)o[me+Ue]=o[me+Ue-Ke];for(me+=_e,F+=_e;F>=m;)F-=m,++k,A!=null&&k<=S&&!(k%16)&&A(r,k);if(t(me<=b),F&ae&&(Ae=It(ee,F,k)),te!=null)for(;ge<me;)_e=o[ge++],te.X[(506832829*_e&4294967295)>>>te.Mb]=_e}else{if(!(_e<Le))break e;for(ke=_e-280,t(te!=null);ge<me;)_e=o[ge++],te.X[(506832829*_e&4294967295)>>>te.Mb]=_e;_e=me,t(!(ke>>>(Ke=te).Xa)),o[_e]=Ke.X[ke],ke=!0}ke||t(T.h==q(T))}if(r.Pb&&T.h&&me<b)t(r.m.h),r.a=5,r.m=r.wd,r.$=r.xd,0<r.s.ua&&he(r.s.vb,r.s.Wa);else{if(T.h)break e;A!=null&&A(r,k>S?S:k),r.a=0,r.$=me-p}return 1}return r.a=3,0}function er(r){t(r!=null),r.vc=null,r.yc=null,r.Ya=null;var o=r.Wa;o!=null&&(o.X=null),r.vb=null,t(r!=null)}function kn(){var r=new Zo;return r==null?null:(r.a=0,r.xb=uc,jn("Predictor","VP8LPredictors"),jn("Predictor","VP8LPredictors_C"),jn("PredictorAdd","VP8LPredictorsAdd"),jn("PredictorAdd","VP8LPredictorsAdd_C"),Hs=st,Ya=rt,lr=ze,nr=tn,Aa=Ft,sa=nn,oa=Nt,M.VP8LMapColor32b=ji,M.VP8LMapColor8b=$s,r)}function tr(r,o,p,m,b){var S=1,A=[r],k=[o],F=m.m,T=m.s,ee=null,me=0;e:for(;;){if(p)for(;S&&ve(F,1);){var ge=A,ie=k,Le=m,ye=1,te=Le.m,ae=Le.gc[Le.ab],Ae=ve(te,2);if(Le.Oc&1<<Ae)S=0;else{switch(Le.Oc|=1<<Ae,ae.hc=Ae,ae.Ea=ge[0],ae.nc=ie[0],ae.K=[null],++Le.ab,t(4>=Le.ab),Ae){case 0:case 1:ae.b=ve(te,3)+2,ye=tr(Je(ae.Ea,ae.b),Je(ae.nc,ae.b),0,Le,ae.K),ae.K=ae.K[0];break;case 3:var ke,_e=ve(te,8)+1,Ke=16<_e?0:4<_e?1:2<_e?2:3;if(ge[0]=Je(ae.Ea,Ke),ae.b=Ke,ke=ye=tr(_e,1,0,Le,ae.K)){var Ue,dt=_e,He=ae,Ut=1<<(8>>He.b),Wt=s(Ut);if(Wt==null)ke=0;else{var Bt=He.K[0],Ot=He.w;for(Wt[0]=He.K[0][0],Ue=1;Ue<1*dt;++Ue)Wt[Ue]=Fe(Bt[Ot+Ue],Wt[Ue-1]);for(;Ue<4*Ut;++Ue)Wt[Ue]=0;He.K[0]=null,He.K[0]=Wt,ke=1}}ye=ke;break;case 2:break;default:t(0)}S=ye}}if(A=A[0],k=k[0],S&&ve(F,1)&&!(S=1<=(me=ve(F,4))&&11>=me)){m.a=3;break e}var Yt;if(Yt=S)t:{var Gt,kt,An,cr=m,_n=A,dr=k,Ht=me,mr=p,gr=cr.m,In=cr.s,Bn=[null],ar=1,Cr=0,Zr=_u[Ht];n:for(;;){if(mr&&ve(gr,1)){var En=ve(gr,3)+2,ua=Je(_n,En),Qa=Je(dr,En),ki=ua*Qa;if(!tr(ua,Qa,0,cr,Bn))break n;for(Bn=Bn[0],In.xc=En,Gt=0;Gt<ki;++Gt){var Pa=Bn[Gt]>>8&65535;Bn[Gt]=Pa,Pa>=ar&&(ar=Pa+1)}}if(gr.h)break n;for(kt=0;5>kt;++kt){var mn=cc[kt];!kt&&0<Ht&&(mn+=1<<Ht),Cr<mn&&(Cr=mn)}var ll=c(ar*Zr,_),bc=ar,yc=c(bc,O);if(yc==null)var ao=null;else t(65536>=bc),ao=yc;var vs=s(Cr);if(ao==null||vs==null||ll==null){cr.a=1;break n}var io=ll;for(Gt=An=0;Gt<ar;++Gt){var qr=ao[Gt],Fi=qr.G,Pi=qr.H,wc=0,so=1,Nc=0;for(kt=0;5>kt;++kt){mn=cc[kt],Fi[kt]=io,Pi[kt]=An,!kt&&0<Ht&&(mn+=1<<Ht);a:{var oo,cl=mn,lo=cr,xs=vs,Gu=io,Yu=An,dl=0,Ca=lo.m,Ku=ve(Ca,1);if(l(xs,0,0,cl),Ku){var Ju=ve(Ca,1)+1,Xu=ve(Ca,1),jc=ve(Ca,Xu==0?1:8);xs[jc]=1,Ju==2&&(xs[jc=ve(Ca,8)]=1);var co=1}else{var Sc=s(19),Ac=ve(Ca,4)+4;if(19<Ac){lo.a=3;var uo=0;break a}for(oo=0;oo<Ac;++oo)Sc[Su[oo]]=ve(Ca,3);var ul=void 0,bs=void 0,_c=lo,Zu=Sc,po=cl,Lc=xs,pl=0,Ia=_c.m,kc=8,Fc=c(128,_);r:for(;N(Fc,0,7,Zu,19);){if(ve(Ia,1)){var Qu=2+2*ve(Ia,3);if((ul=2+ve(Ia,Qu))>po)break r}else ul=po;for(bs=0;bs<po&&ul--;){Z(Ia);var Pc=Fc[0+(127&C(Ia))];V(Ia,Ia.u+Pc.g);var Ci=Pc.value;if(16>Ci)Lc[bs++]=Ci,Ci!=0&&(kc=Ci);else{var ep=Ci==16,Cc=Ci-16,tp=Nu[Cc],Ic=ve(Ia,wu[Cc])+tp;if(bs+Ic>po)break r;for(var np=ep?kc:0;0<Ic--;)Lc[bs++]=np}}pl=1;break r}pl||(_c.a=3),co=pl}(co=co&&!Ca.h)&&(dl=N(Gu,Yu,8,xs,cl)),co&&dl!=0?uo=dl:(lo.a=3,uo=0)}if(uo==0)break n;if(so&&ju[kt]==1&&(so=io[An].g==0),wc+=io[An].g,An+=uo,3>=kt){var ys,fl=vs[0];for(ys=1;ys<mn;++ys)vs[ys]>fl&&(fl=vs[ys]);Nc+=fl}}if(qr.nd=so,qr.Qb=0,so&&(qr.qb=(Fi[3][Pi[3]+0].value<<24|Fi[1][Pi[1]+0].value<<16|Fi[2][Pi[2]+0].value)>>>0,wc==0&&256>Fi[0][Pi[0]+0].value&&(qr.Qb=1,qr.qb+=Fi[0][Pi[0]+0].value<<8)),qr.jc=!qr.Qb&&6>Nc,qr.jc){var fo,pa=qr;for(fo=0;fo<zn;++fo){var Ea=fo,Da=pa.pd[Ea],ho=pa.G[0][pa.H[0]+Ea];256<=ho.value?(Da.g=ho.g+256,Da.value=ho.value):(Da.g=0,Da.value=0,Ea>>=yt(ho,8,Da),Ea>>=yt(pa.G[1][pa.H[1]+Ea],16,Da),Ea>>=yt(pa.G[2][pa.H[2]+Ea],0,Da),yt(pa.G[3][pa.H[3]+Ea],24,Da))}}}In.vc=Bn,In.Wb=ar,In.Ya=ao,In.yc=ll,Yt=1;break t}Yt=0}if(!(S=Yt)){m.a=3;break e}if(0<me){if(T.ua=1<<me,!Ve(T.Wa,me)){m.a=1,S=0;break e}}else T.ua=0;var hl=m,Ec=A,rp=k,ml=hl.s,gl=ml.xc;if(hl.c=Ec,hl.i=rp,ml.md=Je(Ec,gl),ml.wc=gl==0?-1:(1<<gl)-1,p){m.xb=Du;break e}if((ee=s(A*k))==null){m.a=1,S=0;break e}S=(S=Pn(m,ee,0,A,k,k,null))&&!F.h;break e}return S?(b!=null?b[0]=ee:(t(ee==null),t(p)),m.$=0,p||er(T)):er(T),S}function wr(r,o){var p=r.c*r.i,m=p+o+16*o;return t(r.c<=o),r.V=s(m),r.V==null?(r.Ta=null,r.Ua=0,r.a=1,0):(r.Ta=r.V,r.Ua=r.Ba+p+o,1)}function Er(r,o){var p=r.C,m=o-p,b=r.V,S=r.Ba+r.c*p;for(t(o<=r.l.o);0<m;){var A=16<m?16:m,k=r.l.ma,F=r.l.width,T=F*A,ee=k.ca,me=k.tb+F*p,ge=r.Ta,ie=r.Ua;Ct(r,A,b,S),bn(ge,ie,ee,me,T),Hn(k,p,p+A,ee,me,F),m-=A,b+=A*r.c,p+=A}t(p==o),r.C=r.Ma=o}function Nr(){this.ub=this.yd=this.td=this.Rb=0}function sn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Dr(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function jr(){this.Yb=function(){var r=[];return function o(p,m,b){for(var S=b[m],A=0;A<S&&(p.push(b.length>m+1?[]:0),!(b.length<m+1));A++)o(p[A],m+1,b)}(r,0,[3,11]),r}()}function Yr(){this.jb=s(3),this.Wc=u([4,8],jr),this.Xc=u([4,17],jr)}function H(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Te(){this.ld=this.La=this.dd=this.tc=0}function we(){this.Na=this.la=0}function Pe(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function tt(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Re(){this.uc=this.M=this.Nb=0,this.wa=Array(new Te),this.Y=0,this.ya=Array(new tt),this.aa=0,this.l=new it}function pt(){this.y=s(16),this.f=s(8),this.ea=s(8)}function wt(){this.cb=this.a=0,this.sc="",this.m=new Oe,this.Od=new Nr,this.Kc=new sn,this.ed=new H,this.Qa=new Dr,this.Ic=this.$c=this.Aa=0,this.D=new Re,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,Oe),this.ia=0,this.pb=c(4,Pe),this.Pa=new Yr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new pt),this.Hd=0,this.rb=Array(new we),this.sb=0,this.wa=Array(new Te),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new tt),this.L=this.aa=0,this.gd=u([4,2],Te),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function it(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Pt(){var r=new wt;return r!=null&&(r.a=0,r.sc="OK",r.cb=0,r.Xb=0,ms||(ms=Et)),r}function re(r,o,p){return r.a==0&&(r.a=o,r.sc=p,r.cb=0),0}function Ye(r,o,p){return 3<=p&&r[o+0]==157&&r[o+1]==1&&r[o+2]==42}function $e(r,o){if(r==null)return 0;if(r.a=0,r.sc="OK",o==null)return re(r,2,"null VP8Io passed to VP8GetHeaders()");var p=o.data,m=o.w,b=o.ha;if(4>b)return re(r,7,"Truncated header.");var S=p[m+0]|p[m+1]<<8|p[m+2]<<16,A=r.Od;if(A.Rb=!(1&S),A.td=S>>1&7,A.yd=S>>4&1,A.ub=S>>5,3<A.td)return re(r,3,"Incorrect keyframe parameters.");if(!A.yd)return re(r,4,"Frame not displayable.");m+=3,b-=3;var k=r.Kc;if(A.Rb){if(7>b)return re(r,7,"cannot parse picture header");if(!Ye(p,m,b))return re(r,3,"Bad code word");k.c=16383&(p[m+4]<<8|p[m+3]),k.Td=p[m+4]>>6,k.i=16383&(p[m+6]<<8|p[m+5]),k.Ud=p[m+6]>>6,m+=7,b-=7,r.za=k.c+15>>4,r.Ub=k.i+15>>4,o.width=k.c,o.height=k.i,o.Da=0,o.j=0,o.v=0,o.va=o.width,o.o=o.height,o.da=0,o.ib=o.width,o.hb=o.height,o.U=o.width,o.T=o.height,l((S=r.Pa).jb,0,255,S.jb.length),t((S=r.Qa)!=null),S.Cb=0,S.Bb=0,S.Fb=1,l(S.Zb,0,0,S.Zb.length),l(S.Lb,0,0,S.Lb)}if(A.ub>b)return re(r,7,"bad partition length");J(S=r.m,p,m,A.ub),m+=A.ub,b-=A.ub,A.Rb&&(k.Ld=W(S),k.Kd=W(S)),k=r.Qa;var F,T=r.Pa;if(t(S!=null),t(k!=null),k.Cb=W(S),k.Cb){if(k.Bb=W(S),W(S)){for(k.Fb=W(S),F=0;4>F;++F)k.Zb[F]=W(S)?pe(S,7):0;for(F=0;4>F;++F)k.Lb[F]=W(S)?pe(S,6):0}if(k.Bb)for(F=0;3>F;++F)T.jb[F]=W(S)?G(S,8):255}else k.Bb=0;if(S.Ka)return re(r,3,"cannot parse segment header");if((k=r.ed).zd=W(S),k.Tb=G(S,6),k.wb=G(S,3),k.Pc=W(S),k.Pc&&W(S)){for(T=0;4>T;++T)W(S)&&(k.vd[T]=pe(S,6));for(T=0;4>T;++T)W(S)&&(k.od[T]=pe(S,6))}if(r.L=k.Tb==0?0:k.zd?1:2,S.Ka)return re(r,3,"cannot parse filter header");var ee=b;if(b=F=m,m=F+ee,k=ee,r.Xb=(1<<G(r.m,2))-1,ee<3*(T=r.Xb))p=7;else{for(F+=3*T,k-=3*T,ee=0;ee<T;++ee){var me=p[b+0]|p[b+1]<<8|p[b+2]<<16;me>k&&(me=k),J(r.Jc[+ee],p,F,me),F+=me,k-=me,b+=3}J(r.Jc[+T],p,F,k),p=F<m?0:5}if(p!=0)return re(r,p,"cannot parse partitions");for(p=G(F=r.m,7),b=W(F)?pe(F,4):0,m=W(F)?pe(F,4):0,k=W(F)?pe(F,4):0,T=W(F)?pe(F,4):0,F=W(F)?pe(F,4):0,ee=r.Qa,me=0;4>me;++me){if(ee.Cb){var ge=ee.Zb[me];ee.Fb||(ge+=p)}else{if(0<me){r.pb[me]=r.pb[0];continue}ge=p}var ie=r.pb[me];ie.Sc[0]=il[fr(ge+b,127)],ie.Sc[1]=sl[fr(ge+0,127)],ie.Eb[0]=2*il[fr(ge+m,127)],ie.Eb[1]=101581*sl[fr(ge+k,127)]>>16,8>ie.Eb[1]&&(ie.Eb[1]=8),ie.Qc[0]=il[fr(ge+T,117)],ie.Qc[1]=sl[fr(ge+F,127)],ie.lc=ge+F}if(!A.Rb)return re(r,4,"Not a key frame.");for(W(S),A=r.Pa,p=0;4>p;++p){for(b=0;8>b;++b)for(m=0;3>m;++m)for(k=0;11>k;++k)T=$(S,Iu[p][b][m][k])?G(S,8):Pu[p][b][m][k],A.Wc[p][b].Yb[m][k]=T;for(b=0;17>b;++b)A.Xc[p][b]=A.Wc[p][Eu[b]]}return r.kc=W(S),r.kc&&(r.Bd=G(S,8)),r.cb=1}function Et(r,o,p,m,b,S,A){var k=o[b].Yb[p];for(p=0;16>b;++b){if(!$(r,k[p+0]))return b;for(;!$(r,k[p+1]);)if(k=o[++b].Yb[0],p=0,b==16)return 16;var F=o[b+1].Yb;if($(r,k[p+2])){var T=r,ee=0;if($(T,(ge=k)[(me=p)+3]))if($(T,ge[me+6])){for(k=0,me=2*(ee=$(T,ge[me+8]))+(ge=$(T,ge[me+9+ee])),ee=0,ge=ku[me];ge[k];++k)ee+=ee+$(T,ge[k]);ee+=3+(8<<me)}else $(T,ge[me+7])?(ee=7+2*$(T,165),ee+=$(T,145)):ee=5+$(T,159);else ee=$(T,ge[me+4])?3+$(T,ge[me+5]):2;k=F[2]}else ee=1,k=F[1];F=A+Fu[b],0>(T=r).b&&le(T);var me,ge=T.b,ie=(me=T.Ca>>1)-(T.I>>ge)>>31;--T.b,T.Ca+=ie,T.Ca|=1,T.I-=(me+1&ie)<<ge,S[F]=((ee^ie)-ie)*m[(0<b)+0]}return 16}function nt(r){var o=r.rb[r.sb-1];o.la=0,o.Na=0,l(r.zc,0,0,r.zc.length),r.ja=0}function Dt(r,o){if(r==null)return 0;if(o==null)return re(r,2,"NULL VP8Io parameter in VP8Decode().");if(!r.cb&&!$e(r,o))return 0;if(t(r.cb),o.ac==null||o.ac(o)){o.ob&&(r.L=0);var p=ro[r.L];if(r.L==2?(r.yb=0,r.zb=0):(r.yb=o.v-p>>4,r.zb=o.j-p>>4,0>r.yb&&(r.yb=0),0>r.zb&&(r.zb=0)),r.Va=o.o+15+p>>4,r.Hb=o.va+15+p>>4,r.Hb>r.za&&(r.Hb=r.za),r.Va>r.Ub&&(r.Va=r.Ub),0<r.L){var m=r.ed;for(p=0;4>p;++p){var b;if(r.Qa.Cb){var S=r.Qa.Lb[p];r.Qa.Fb||(S+=m.Tb)}else S=m.Tb;for(b=0;1>=b;++b){var A=r.gd[p][b],k=S;if(m.Pc&&(k+=m.vd[0],b&&(k+=m.od[0])),0<(k=0>k?0:63<k?63:k)){var F=k;0<m.wb&&(F=4<m.wb?F>>2:F>>1)>9-m.wb&&(F=9-m.wb),1>F&&(F=1),A.dd=F,A.tc=2*k+F,A.ld=40<=k?2:15<=k?1:0}else A.tc=0;A.La=b}}}p=0}else re(r,6,"Frame setup failed"),p=r.a;if(p=p==0){if(p){r.$c=0,0<r.Aa||(r.Ic=$u);e:{p=r.Ic,m=4*(F=r.za);var T=32*F,ee=F+1,me=0<r.L?F*(0<r.Aa?2:1):0,ge=(r.Aa==2?2:1)*F;if((A=m+832+(b=3*(16*p+ro[r.L])/2*T)+(S=r.Fa!=null&&0<r.Fa.length?r.Kc.c*r.Kc.i:0))!=A)p=0;else{if(A>r.Vb){if(r.Vb=0,r.Ec=s(A),r.Fc=0,r.Ec==null){p=re(r,1,"no memory during frame initialization.");break e}r.Vb=A}A=r.Ec,k=r.Fc,r.Ac=A,r.Bc=k,k+=m,r.Gd=c(T,pt),r.Hd=0,r.rb=c(ee+1,we),r.sb=1,r.wa=me?c(me,Te):null,r.Y=0,r.D.Nb=0,r.D.wa=r.wa,r.D.Y=r.Y,0<r.Aa&&(r.D.Y+=F),t(!0),r.oc=A,r.pc=k,k+=832,r.ya=c(ge,tt),r.aa=0,r.D.ya=r.ya,r.D.aa=r.aa,r.Aa==2&&(r.D.aa+=F),r.R=16*F,r.B=8*F,F=(T=ro[r.L])*r.R,T=T/2*r.B,r.sa=A,r.ta=k+F,r.qa=r.sa,r.ra=r.ta+16*p*r.R+T,r.Ha=r.qa,r.Ia=r.ra+8*p*r.B+T,r.$c=0,k+=b,r.mb=S?A:null,r.nb=S?k:null,t(k+S<=r.Fc+r.Vb),nt(r),l(r.Ac,r.Bc,0,m),p=1}}if(p){if(o.ka=0,o.y=r.sa,o.O=r.ta,o.f=r.qa,o.N=r.ra,o.ea=r.Ha,o.Vd=r.Ia,o.fa=r.R,o.Rc=r.B,o.F=null,o.J=0,!Ys){for(p=-255;255>=p;++p)Fn[255+p]=0>p?-p:p;for(p=-1020;1020>=p;++p)ca[1020+p]=-128>p?-128:127<p?127:p;for(p=-112;112>=p;++p)hs[112+p]=-16>p?-16:15<p?15:p;for(p=-255;510>=p;++p)Li[255+p]=0>p?0:255<p?255:p;Ys=1}Si=rn,la=Gi,us=ci,rr=Or,_r=Lt,xn=Sr,Ai=Zi,Gs=$a,ps=Xo,Ka=Qi,Ja=Jo,_a=mi,Xa=es,_i=Bs,Za=zs,La=Jr,fs=ia,Lr=Ko,Tr[0]=Kr,Tr[1]=Yi,Tr[2]=Wo,Tr[3]=Ho,Tr[4]=Os,Tr[5]=fi,Tr[6]=Rs,Tr[7]=Ki,Tr[8]=$o,Tr[9]=Vo,ka[0]=Es,ka[1]=Bo,ka[2]=aa,ka[3]=ui,ka[4]=Vn,ka[5]=Uo,ka[6]=Ds,da[0]=wa,da[1]=di,da[2]=Go,da[3]=Ji,da[4]=Va,da[5]=Yo,da[6]=Xi,p=1}else p=0}p&&(p=function(ie,Le){for(ie.M=0;ie.M<ie.Va;++ie.M){var ye,te=ie.Jc[ie.M&ie.Xb],ae=ie.m,Ae=ie;for(ye=0;ye<Ae.za;++ye){var ke=ae,_e=Ae,Ke=_e.Ac,Ue=_e.Bc+4*ye,dt=_e.zc,He=_e.ya[_e.aa+ye];if(_e.Qa.Bb?He.$b=$(ke,_e.Pa.jb[0])?2+$(ke,_e.Pa.jb[2]):$(ke,_e.Pa.jb[1]):He.$b=0,_e.kc&&(He.Ad=$(ke,_e.Bd)),He.Za=!$(ke,145)+0,He.Za){var Ut=He.Ob,Wt=0;for(_e=0;4>_e;++_e){var Bt,Ot=dt[0+_e];for(Bt=0;4>Bt;++Bt){Ot=Cu[Ke[Ue+Bt]][Ot];for(var Yt=dc[$(ke,Ot[0])];0<Yt;)Yt=dc[2*Yt+$(ke,Ot[Yt])];Ot=-Yt,Ke[Ue+Bt]=Ot}a(Ut,Wt,Ke,Ue,4),Wt+=4,dt[0+_e]=Ot}}else Ot=$(ke,156)?$(ke,128)?1:3:$(ke,163)?2:0,He.Ob[0]=Ot,l(Ke,Ue,Ot,4),l(dt,0,Ot,4);He.Dd=$(ke,142)?$(ke,114)?$(ke,183)?1:3:2:0}if(Ae.m.Ka)return re(ie,7,"Premature end-of-partition0 encountered.");for(;ie.ja<ie.za;++ie.ja){if(Ae=te,ke=(ae=ie).rb[ae.sb-1],Ke=ae.rb[ae.sb+ae.ja],ye=ae.ya[ae.aa+ae.ja],Ue=ae.kc?ye.Ad:0)ke.la=Ke.la=0,ye.Za||(ke.Na=Ke.Na=0),ye.Hc=0,ye.Gc=0,ye.ia=0;else{var Gt,kt;if(ke=Ke,Ke=Ae,Ue=ae.Pa.Xc,dt=ae.ya[ae.aa+ae.ja],He=ae.pb[dt.$b],_e=dt.ad,Ut=0,Wt=ae.rb[ae.sb-1],Ot=Bt=0,l(_e,Ut,0,384),dt.Za)var An=0,cr=Ue[3];else{Yt=s(16);var _n=ke.Na+Wt.Na;if(_n=ms(Ke,Ue[1],_n,He.Eb,0,Yt,0),ke.Na=Wt.Na=(0<_n)+0,1<_n)Si(Yt,0,_e,Ut);else{var dr=Yt[0]+3>>3;for(Yt=0;256>Yt;Yt+=16)_e[Ut+Yt]=dr}An=1,cr=Ue[0]}var Ht=15&ke.la,mr=15&Wt.la;for(Yt=0;4>Yt;++Yt){var gr=1&mr;for(dr=kt=0;4>dr;++dr)Ht=Ht>>1|(gr=(_n=ms(Ke,cr,_n=gr+(1&Ht),He.Sc,An,_e,Ut))>An)<<7,kt=kt<<2|(3<_n?3:1<_n?2:_e[Ut+0]!=0),Ut+=16;Ht>>=4,mr=mr>>1|gr<<7,Bt=(Bt<<8|kt)>>>0}for(cr=Ht,An=mr>>4,Gt=0;4>Gt;Gt+=2){for(kt=0,Ht=ke.la>>4+Gt,mr=Wt.la>>4+Gt,Yt=0;2>Yt;++Yt){for(gr=1&mr,dr=0;2>dr;++dr)_n=gr+(1&Ht),Ht=Ht>>1|(gr=0<(_n=ms(Ke,Ue[2],_n,He.Qc,0,_e,Ut)))<<3,kt=kt<<2|(3<_n?3:1<_n?2:_e[Ut+0]!=0),Ut+=16;Ht>>=2,mr=mr>>1|gr<<5}Ot|=kt<<4*Gt,cr|=Ht<<4<<Gt,An|=(240&mr)<<Gt}ke.la=cr,Wt.la=An,dt.Hc=Bt,dt.Gc=Ot,dt.ia=43690&Ot?0:He.ia,Ue=!(Bt|Ot)}if(0<ae.L&&(ae.wa[ae.Y+ae.ja]=ae.gd[ye.$b][ye.Za],ae.wa[ae.Y+ae.ja].La|=!Ue),Ae.Ka)return re(ie,7,"Premature end-of-file encountered.")}if(nt(ie),ae=Le,Ae=1,ye=(te=ie).D,ke=0<te.L&&te.M>=te.zb&&te.M<=te.Va,te.Aa==0)e:{if(ye.M=te.M,ye.uc=ke,ss(te,ye),Ae=1,ye=(kt=te.D).Nb,ke=(Ot=ro[te.L])*te.R,Ke=Ot/2*te.B,Yt=16*ye*te.R,dr=8*ye*te.B,Ue=te.sa,dt=te.ta-ke+Yt,He=te.qa,_e=te.ra-Ke+dr,Ut=te.Ha,Wt=te.Ia-Ke+dr,mr=(Ht=kt.M)==0,Bt=Ht>=te.Va-1,te.Aa==2&&ss(te,kt),kt.uc)for(gr=(_n=te).D.M,t(_n.D.uc),kt=_n.yb;kt<_n.Hb;++kt){An=kt,cr=gr;var In=(Bn=(mn=_n).D).Nb;Gt=mn.R;var Bn=Bn.wa[Bn.Y+An],ar=mn.sa,Cr=mn.ta+16*In*Gt+16*An,Zr=Bn.dd,En=Bn.tc;if(En!=0)if(t(3<=En),mn.L==1)0<An&&La(ar,Cr,Gt,En+4),Bn.La&&Lr(ar,Cr,Gt,En),0<cr&&Za(ar,Cr,Gt,En+4),Bn.La&&fs(ar,Cr,Gt,En);else{var ua=mn.B,Qa=mn.qa,ki=mn.ra+8*In*ua+8*An,Pa=mn.Ha,mn=mn.Ia+8*In*ua+8*An;In=Bn.ld,0<An&&(Gs(ar,Cr,Gt,En+4,Zr,In),Ka(Qa,ki,Pa,mn,ua,En+4,Zr,In)),Bn.La&&(_a(ar,Cr,Gt,En,Zr,In),_i(Qa,ki,Pa,mn,ua,En,Zr,In)),0<cr&&(Ai(ar,Cr,Gt,En+4,Zr,In),ps(Qa,ki,Pa,mn,ua,En+4,Zr,In)),Bn.La&&(Ja(ar,Cr,Gt,En,Zr,In),Xa(Qa,ki,Pa,mn,ua,En,Zr,In))}}if(te.ia&&alert("todo:DitherRow"),ae.put!=null){if(kt=16*Ht,Ht=16*(Ht+1),mr?(ae.y=te.sa,ae.O=te.ta+Yt,ae.f=te.qa,ae.N=te.ra+dr,ae.ea=te.Ha,ae.W=te.Ia+dr):(kt-=Ot,ae.y=Ue,ae.O=dt,ae.f=He,ae.N=_e,ae.ea=Ut,ae.W=Wt),Bt||(Ht-=Ot),Ht>ae.o&&(Ht=ae.o),ae.F=null,ae.J=null,te.Fa!=null&&0<te.Fa.length&&kt<Ht&&(ae.J=as(te,ae,kt,Ht-kt),ae.F=te.mb,ae.F==null&&ae.F.length==0)){Ae=re(te,3,"Could not decode alpha data.");break e}kt<ae.j&&(Ot=ae.j-kt,kt=ae.j,t(!(1&Ot)),ae.O+=te.R*Ot,ae.N+=te.B*(Ot>>1),ae.W+=te.B*(Ot>>1),ae.F!=null&&(ae.J+=ae.width*Ot)),kt<Ht&&(ae.O+=ae.v,ae.N+=ae.v>>1,ae.W+=ae.v>>1,ae.F!=null&&(ae.J+=ae.v),ae.ka=kt-ae.j,ae.U=ae.va-ae.v,ae.T=Ht-kt,Ae=ae.put(ae))}ye+1!=te.Ic||Bt||(a(te.sa,te.ta-ke,Ue,dt+16*te.R,ke),a(te.qa,te.ra-Ke,He,_e+8*te.B,Ke),a(te.Ha,te.Ia-Ke,Ut,Wt+8*te.B,Ke))}if(!Ae)return re(ie,6,"Output aborted.")}return 1}(r,o)),o.bc!=null&&o.bc(o),p&=1}return p?(r.cb=0,p):0}function $t(r,o,p,m,b){b=r[o+p+32*m]+(b>>3),r[o+p+32*m]=-256&b?0>b?0:255:b}function cn(r,o,p,m,b,S){$t(r,o,0,p,m+b),$t(r,o,1,p,m+S),$t(r,o,2,p,m-S),$t(r,o,3,p,m-b)}function Zt(r){return(20091*r>>16)+r}function pr(r,o,p,m){var b,S=0,A=s(16);for(b=0;4>b;++b){var k=r[o+0]+r[o+8],F=r[o+0]-r[o+8],T=(35468*r[o+4]>>16)-Zt(r[o+12]),ee=Zt(r[o+4])+(35468*r[o+12]>>16);A[S+0]=k+ee,A[S+1]=F+T,A[S+2]=F-T,A[S+3]=k-ee,S+=4,o++}for(b=S=0;4>b;++b)k=(r=A[S+0]+4)+A[S+8],F=r-A[S+8],T=(35468*A[S+4]>>16)-Zt(A[S+12]),$t(p,m,0,0,k+(ee=Zt(A[S+4])+(35468*A[S+12]>>16))),$t(p,m,1,0,F+T),$t(p,m,2,0,F-T),$t(p,m,3,0,k-ee),S++,m+=32}function Sr(r,o,p,m){var b=r[o+0]+4,S=35468*r[o+4]>>16,A=Zt(r[o+4]),k=35468*r[o+1]>>16;cn(p,m,0,b+A,r=Zt(r[o+1]),k),cn(p,m,1,b+S,r,k),cn(p,m,2,b-S,r,k),cn(p,m,3,b-A,r,k)}function Gi(r,o,p,m,b){pr(r,o,p,m),b&&pr(r,o+16,p,m+4)}function ci(r,o,p,m){la(r,o+0,p,m,1),la(r,o+32,p,m+128,1)}function Or(r,o,p,m){var b;for(r=r[o+0]+4,b=0;4>b;++b)for(o=0;4>o;++o)$t(p,m,o,b,r)}function Lt(r,o,p,m){r[o+0]&&rr(r,o+0,p,m),r[o+16]&&rr(r,o+16,p,m+4),r[o+32]&&rr(r,o+32,p,m+128),r[o+48]&&rr(r,o+48,p,m+128+4)}function rn(r,o,p,m){var b,S=s(16);for(b=0;4>b;++b){var A=r[o+0+b]+r[o+12+b],k=r[o+4+b]+r[o+8+b],F=r[o+4+b]-r[o+8+b],T=r[o+0+b]-r[o+12+b];S[0+b]=A+k,S[8+b]=A-k,S[4+b]=T+F,S[12+b]=T-F}for(b=0;4>b;++b)A=(r=S[0+4*b]+3)+S[3+4*b],k=S[1+4*b]+S[2+4*b],F=S[1+4*b]-S[2+4*b],T=r-S[3+4*b],p[m+0]=A+k>>3,p[m+16]=T+F>>3,p[m+32]=A-k>>3,p[m+48]=T-F>>3,m+=64}function Wa(r,o,p){var m,b=o-32,S=hr,A=255-r[b-1];for(m=0;m<p;++m){var k,F=S,T=A+r[o-1];for(k=0;k<p;++k)r[o+k]=F[T+r[b+k]];o+=32}}function Yi(r,o){Wa(r,o,4)}function di(r,o){Wa(r,o,8)}function Bo(r,o){Wa(r,o,16)}function aa(r,o){var p;for(p=0;16>p;++p)a(r,o+32*p,r,o-32,16)}function ui(r,o){var p;for(p=16;0<p;--p)l(r,o,r[o-1],16),o+=32}function pi(r,o,p){var m;for(m=0;16>m;++m)l(o,p+32*m,r,16)}function Es(r,o){var p,m=16;for(p=0;16>p;++p)m+=r[o-1+32*p]+r[o+p-32];pi(m>>5,r,o)}function Vn(r,o){var p,m=8;for(p=0;16>p;++p)m+=r[o-1+32*p];pi(m>>4,r,o)}function Uo(r,o){var p,m=8;for(p=0;16>p;++p)m+=r[o+p-32];pi(m>>4,r,o)}function Ds(r,o){pi(128,r,o)}function jt(r,o,p){return r+2*o+p+2>>2}function Wo(r,o){var p,m=o-32;for(m=new Uint8Array([jt(r[m-1],r[m+0],r[m+1]),jt(r[m+0],r[m+1],r[m+2]),jt(r[m+1],r[m+2],r[m+3]),jt(r[m+2],r[m+3],r[m+4])]),p=0;4>p;++p)a(r,o+32*p,m,0,m.length)}function Ho(r,o){var p=r[o-1],m=r[o-1+32],b=r[o-1+64],S=r[o-1+96];be(r,o+0,16843009*jt(r[o-1-32],p,m)),be(r,o+32,16843009*jt(p,m,b)),be(r,o+64,16843009*jt(m,b,S)),be(r,o+96,16843009*jt(b,S,S))}function Kr(r,o){var p,m=4;for(p=0;4>p;++p)m+=r[o+p-32]+r[o-1+32*p];for(m>>=3,p=0;4>p;++p)l(r,o+32*p,m,4)}function Os(r,o){var p=r[o-1+0],m=r[o-1+32],b=r[o-1+64],S=r[o-1-32],A=r[o+0-32],k=r[o+1-32],F=r[o+2-32],T=r[o+3-32];r[o+0+96]=jt(m,b,r[o-1+96]),r[o+1+96]=r[o+0+64]=jt(p,m,b),r[o+2+96]=r[o+1+64]=r[o+0+32]=jt(S,p,m),r[o+3+96]=r[o+2+64]=r[o+1+32]=r[o+0+0]=jt(A,S,p),r[o+3+64]=r[o+2+32]=r[o+1+0]=jt(k,A,S),r[o+3+32]=r[o+2+0]=jt(F,k,A),r[o+3+0]=jt(T,F,k)}function Rs(r,o){var p=r[o+1-32],m=r[o+2-32],b=r[o+3-32],S=r[o+4-32],A=r[o+5-32],k=r[o+6-32],F=r[o+7-32];r[o+0+0]=jt(r[o+0-32],p,m),r[o+1+0]=r[o+0+32]=jt(p,m,b),r[o+2+0]=r[o+1+32]=r[o+0+64]=jt(m,b,S),r[o+3+0]=r[o+2+32]=r[o+1+64]=r[o+0+96]=jt(b,S,A),r[o+3+32]=r[o+2+64]=r[o+1+96]=jt(S,A,k),r[o+3+64]=r[o+2+96]=jt(A,k,F),r[o+3+96]=jt(k,F,F)}function fi(r,o){var p=r[o-1+0],m=r[o-1+32],b=r[o-1+64],S=r[o-1-32],A=r[o+0-32],k=r[o+1-32],F=r[o+2-32],T=r[o+3-32];r[o+0+0]=r[o+1+64]=S+A+1>>1,r[o+1+0]=r[o+2+64]=A+k+1>>1,r[o+2+0]=r[o+3+64]=k+F+1>>1,r[o+3+0]=F+T+1>>1,r[o+0+96]=jt(b,m,p),r[o+0+64]=jt(m,p,S),r[o+0+32]=r[o+1+96]=jt(p,S,A),r[o+1+32]=r[o+2+96]=jt(S,A,k),r[o+2+32]=r[o+3+96]=jt(A,k,F),r[o+3+32]=jt(k,F,T)}function Ki(r,o){var p=r[o+0-32],m=r[o+1-32],b=r[o+2-32],S=r[o+3-32],A=r[o+4-32],k=r[o+5-32],F=r[o+6-32],T=r[o+7-32];r[o+0+0]=p+m+1>>1,r[o+1+0]=r[o+0+64]=m+b+1>>1,r[o+2+0]=r[o+1+64]=b+S+1>>1,r[o+3+0]=r[o+2+64]=S+A+1>>1,r[o+0+32]=jt(p,m,b),r[o+1+32]=r[o+0+96]=jt(m,b,S),r[o+2+32]=r[o+1+96]=jt(b,S,A),r[o+3+32]=r[o+2+96]=jt(S,A,k),r[o+3+64]=jt(A,k,F),r[o+3+96]=jt(k,F,T)}function Vo(r,o){var p=r[o-1+0],m=r[o-1+32],b=r[o-1+64],S=r[o-1+96];r[o+0+0]=p+m+1>>1,r[o+2+0]=r[o+0+32]=m+b+1>>1,r[o+2+32]=r[o+0+64]=b+S+1>>1,r[o+1+0]=jt(p,m,b),r[o+3+0]=r[o+1+32]=jt(m,b,S),r[o+3+32]=r[o+1+64]=jt(b,S,S),r[o+3+64]=r[o+2+64]=r[o+0+96]=r[o+1+96]=r[o+2+96]=r[o+3+96]=S}function $o(r,o){var p=r[o-1+0],m=r[o-1+32],b=r[o-1+64],S=r[o-1+96],A=r[o-1-32],k=r[o+0-32],F=r[o+1-32],T=r[o+2-32];r[o+0+0]=r[o+2+32]=p+A+1>>1,r[o+0+32]=r[o+2+64]=m+p+1>>1,r[o+0+64]=r[o+2+96]=b+m+1>>1,r[o+0+96]=S+b+1>>1,r[o+3+0]=jt(k,F,T),r[o+2+0]=jt(A,k,F),r[o+1+0]=r[o+3+32]=jt(p,A,k),r[o+1+32]=r[o+3+64]=jt(m,p,A),r[o+1+64]=r[o+3+96]=jt(b,m,p),r[o+1+96]=jt(S,b,m)}function Go(r,o){var p;for(p=0;8>p;++p)a(r,o+32*p,r,o-32,8)}function Ji(r,o){var p;for(p=0;8>p;++p)l(r,o,r[o-1],8),o+=32}function Ha(r,o,p){var m;for(m=0;8>m;++m)l(o,p+32*m,r,8)}function wa(r,o){var p,m=8;for(p=0;8>p;++p)m+=r[o+p-32]+r[o-1+32*p];Ha(m>>4,r,o)}function Yo(r,o){var p,m=4;for(p=0;8>p;++p)m+=r[o+p-32];Ha(m>>3,r,o)}function Va(r,o){var p,m=4;for(p=0;8>p;++p)m+=r[o-1+32*p];Ha(m>>3,r,o)}function Xi(r,o){Ha(128,r,o)}function hi(r,o,p){var m=r[o-p],b=r[o+0],S=3*(b-m)+el[1020+r[o-2*p]-r[o+p]],A=Ks[112+(S+4>>3)];r[o-p]=hr[255+m+Ks[112+(S+3>>3)]],r[o+0]=hr[255+b-A]}function Ms(r,o,p,m){var b=r[o+0],S=r[o+p];return Fr[255+r[o-2*p]-r[o-p]]>m||Fr[255+S-b]>m}function Ts(r,o,p,m){return 4*Fr[255+r[o-p]-r[o+0]]+Fr[255+r[o-2*p]-r[o+p]]<=m}function qs(r,o,p,m,b){var S=r[o-3*p],A=r[o-2*p],k=r[o-p],F=r[o+0],T=r[o+p],ee=r[o+2*p],me=r[o+3*p];return 4*Fr[255+k-F]+Fr[255+A-T]>m?0:Fr[255+r[o-4*p]-S]<=b&&Fr[255+S-A]<=b&&Fr[255+A-k]<=b&&Fr[255+me-ee]<=b&&Fr[255+ee-T]<=b&&Fr[255+T-F]<=b}function zs(r,o,p,m){var b=2*m+1;for(m=0;16>m;++m)Ts(r,o+m,p,b)&&hi(r,o+m,p)}function Jr(r,o,p,m){var b=2*m+1;for(m=0;16>m;++m)Ts(r,o+m*p,1,b)&&hi(r,o+m*p,1)}function ia(r,o,p,m){var b;for(b=3;0<b;--b)zs(r,o+=4*p,p,m)}function Ko(r,o,p,m){var b;for(b=3;0<b;--b)Jr(r,o+=4,p,m)}function Na(r,o,p,m,b,S,A,k){for(S=2*S+1;0<b--;){if(qs(r,o,p,S,A))if(Ms(r,o,p,k))hi(r,o,p);else{var F=r,T=o,ee=p,me=F[T-2*ee],ge=F[T-ee],ie=F[T+0],Le=F[T+ee],ye=F[T+2*ee],te=27*(Ae=el[1020+3*(ie-ge)+el[1020+me-Le]])+63>>7,ae=18*Ae+63>>7,Ae=9*Ae+63>>7;F[T-3*ee]=hr[255+F[T-3*ee]+Ae],F[T-2*ee]=hr[255+me+ae],F[T-ee]=hr[255+ge+te],F[T+0]=hr[255+ie-te],F[T+ee]=hr[255+Le-ae],F[T+2*ee]=hr[255+ye-Ae]}o+=m}}function Rr(r,o,p,m,b,S,A,k){for(S=2*S+1;0<b--;){if(qs(r,o,p,S,A))if(Ms(r,o,p,k))hi(r,o,p);else{var F=r,T=o,ee=p,me=F[T-ee],ge=F[T+0],ie=F[T+ee],Le=Ks[112+((ye=3*(ge-me))+4>>3)],ye=Ks[112+(ye+3>>3)],te=Le+1>>1;F[T-2*ee]=hr[255+F[T-2*ee]+te],F[T-ee]=hr[255+me+ye],F[T+0]=hr[255+ge-Le],F[T+ee]=hr[255+ie-te]}o+=m}}function Zi(r,o,p,m,b,S){Na(r,o,p,1,16,m,b,S)}function $a(r,o,p,m,b,S){Na(r,o,1,p,16,m,b,S)}function Jo(r,o,p,m,b,S){var A;for(A=3;0<A;--A)Rr(r,o+=4*p,p,1,16,m,b,S)}function mi(r,o,p,m,b,S){var A;for(A=3;0<A;--A)Rr(r,o+=4,1,p,16,m,b,S)}function Xo(r,o,p,m,b,S,A,k){Na(r,o,b,1,8,S,A,k),Na(p,m,b,1,8,S,A,k)}function Qi(r,o,p,m,b,S,A,k){Na(r,o,1,b,8,S,A,k),Na(p,m,1,b,8,S,A,k)}function es(r,o,p,m,b,S,A,k){Rr(r,o+4*b,b,1,8,S,A,k),Rr(p,m+4*b,b,1,8,S,A,k)}function Bs(r,o,p,m,b,S,A,k){Rr(r,o+4,1,b,8,S,A,k),Rr(p,m+4,1,b,8,S,A,k)}function gi(){this.ba=new Rn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Rt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ts(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ns(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Us(){this.ua=0,this.Wa=new U,this.vb=new U,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new O,this.yc=new _}function Zo(){this.xb=this.a=0,this.l=new it,this.ca=new Rn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new x,this.Pb=0,this.wd=new x,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Us,this.ab=0,this.gc=c(4,ns),this.Oc=0}function vi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new it,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ga(r,o,p,m,b,S,A){for(r=r==null?0:r[o+0],o=0;o<A;++o)b[S+o]=r+p[m+o]&255,r=b[S+o]}function rs(r,o,p,m,b,S,A){var k;if(r==null)Ga(null,null,p,m,b,S,A);else for(k=0;k<A;++k)b[S+k]=r[o+k]+p[m+k]&255}function ja(r,o,p,m,b,S,A){if(r==null)Ga(null,null,p,m,b,S,A);else{var k,F=r[o+0],T=F,ee=F;for(k=0;k<A;++k)T=ee+(F=r[o+k])-T,ee=p[m+k]+(-256&T?0>T?0:255:T)&255,T=F,b[S+k]=ee}}function as(r,o,p,m){var b=o.width,S=o.o;if(t(r!=null&&o!=null),0>p||0>=m||p+m>S)return null;if(!r.Cc){if(r.ga==null){var A;if(r.ga=new vi,(A=r.ga==null)||(A=o.width*o.o,t(r.Gb.length==0),r.Gb=s(A),r.Uc=0,r.Gb==null?A=0:(r.mb=r.Gb,r.nb=r.Uc,r.rc=null,A=1),A=!A),!A){A=r.ga;var k=r.Fa,F=r.P,T=r.qc,ee=r.mb,me=r.nb,ge=F+1,ie=T-1,Le=A.l;if(t(k!=null&&ee!=null&&o!=null),Fa[0]=null,Fa[1]=Ga,Fa[2]=rs,Fa[3]=ja,A.ca=ee,A.tb=me,A.c=o.width,A.i=o.height,t(0<A.c&&0<A.i),1>=T)o=0;else if(A.$a=k[F+0]>>0&3,A.Z=k[F+0]>>2&3,A.Lc=k[F+0]>>4&3,F=k[F+0]>>6&3,0>A.$a||1<A.$a||4<=A.Z||1<A.Lc||F)o=0;else if(Le.put=Tn,Le.ac=pn,Le.bc=fn,Le.ma=A,Le.width=o.width,Le.height=o.height,Le.Da=o.Da,Le.v=o.v,Le.va=o.va,Le.j=o.j,Le.o=o.o,A.$a)e:{t(A.$a==1),o=kn();t:for(;;){if(o==null){o=0;break e}if(t(A!=null),A.mc=o,o.c=A.c,o.i=A.i,o.l=A.l,o.l.ma=A,o.l.width=A.c,o.l.height=A.i,o.a=0,X(o.m,k,ge,ie),!tr(A.c,A.i,1,o,null)||(o.ab==1&&o.gc[0].hc==3&&Wn(o.s)?(A.ic=1,k=o.c*o.i,o.Ta=null,o.Ua=0,o.V=s(k),o.Ba=0,o.V==null?(o.a=1,o=0):o=1):(A.ic=0,o=wr(o,A.c)),!o))break t;o=1;break e}A.mc=null,o=0}else o=ie>=A.c*A.i;A=!o}if(A)return null;r.ga.Lc!=1?r.Ga=0:m=S-p}t(r.ga!=null),t(p+m<=S);e:{if(o=(k=r.ga).c,S=k.l.o,k.$a==0){if(ge=r.rc,ie=r.Vc,Le=r.Fa,F=r.P+1+p*o,T=r.mb,ee=r.nb+p*o,t(F<=r.P+r.qc),k.Z!=0)for(t(Fa[k.Z]!=null),A=0;A<m;++A)Fa[k.Z](ge,ie,Le,F,T,ee,o),ge=T,ie=ee,ee+=o,F+=o;else for(A=0;A<m;++A)a(T,ee,Le,F,o),ge=T,ie=ee,ee+=o,F+=o;r.rc=ge,r.Vc=ie}else{if(t(k.mc!=null),o=p+m,t((A=k.mc)!=null),t(o<=A.i),A.C>=o)o=1;else if(k.ic||fe(),k.ic){k=A.V,ge=A.Ba,ie=A.c;var ye=A.i,te=(Le=1,F=A.$/ie,T=A.$%ie,ee=A.m,me=A.s,A.$),ae=ie*ye,Ae=ie*o,ke=me.wc,_e=te<Ae?It(me,T,F):null;t(te<=ae),t(o<=ye),t(Wn(me));t:for(;;){for(;!ee.h&&te<Ae;){if(T&ke||(_e=It(me,T,F)),t(_e!=null),Z(ee),256>(ye=bt(_e.G[0],_e.H[0],ee)))k[ge+te]=ye,++te,++T>=ie&&(T=0,++F<=o&&!(F%16)&&qn(A,F));else{if(!(280>ye)){Le=0;break t}ye=at(ye-256,ee);var Ke,Ue=bt(_e.G[4],_e.H[4],ee);if(Z(ee),!(te>=(Ue=Xe(ie,Ue=at(Ue,ee)))&&ae-te>=ye)){Le=0;break t}for(Ke=0;Ke<ye;++Ke)k[ge+te+Ke]=k[ge+te+Ke-Ue];for(te+=ye,T+=ye;T>=ie;)T-=ie,++F<=o&&!(F%16)&&qn(A,F);te<Ae&&T&ke&&(_e=It(me,T,F))}t(ee.h==q(ee))}qn(A,F>o?o:F);break t}!Le||ee.h&&te<ae?(Le=0,A.a=ee.h?5:3):A.$=te,o=Le}else o=Pn(A,A.V,A.Ba,A.c,A.i,o,Er);if(!o){m=0;break e}}p+m>=S&&(r.Cc=1),m=1}if(!m)return null;if(r.Cc&&((m=r.ga)!=null&&(m.mc=null),r.ga=null,0<r.Ga))return alert("todo:WebPDequantizeLevels"),null}return r.nb+p*b}function d(r,o,p,m,b,S){for(;0<b--;){var A,k=r,F=o+(p?1:0),T=r,ee=o+(p?0:3);for(A=0;A<m;++A){var me=T[ee+4*A];me!=255&&(me*=32897,k[F+4*A+0]=k[F+4*A+0]*me>>23,k[F+4*A+1]=k[F+4*A+1]*me>>23,k[F+4*A+2]=k[F+4*A+2]*me>>23)}o+=S}}function w(r,o,p,m,b){for(;0<m--;){var S;for(S=0;S<p;++S){var A=r[o+2*S+0],k=15&(T=r[o+2*S+1]),F=4369*k,T=(240&T|T>>4)*F>>16;r[o+2*S+0]=(240&A|A>>4)*F>>16&240|(15&A|A<<4)*F>>16>>4&15,r[o+2*S+1]=240&T|k}o+=b}}function B(r,o,p,m,b,S,A,k){var F,T,ee=255;for(T=0;T<b;++T){for(F=0;F<m;++F){var me=r[o+F];S[A+4*F]=me,ee&=me}o+=p,A+=k}return ee!=255}function Y(r,o,p,m,b){var S;for(S=0;S<b;++S)p[m+S]=r[o+S]>>8}function fe(){kr=d,Qt=w,en=B,bn=Y}function Ne(r,o,p){M[r]=function(m,b,S,A,k,F,T,ee,me,ge,ie,Le,ye,te,ae,Ae,ke){var _e,Ke=ke-1>>1,Ue=k[F+0]|T[ee+0]<<16,dt=me[ge+0]|ie[Le+0]<<16;t(m!=null);var He=3*Ue+dt+131074>>2;for(o(m[b+0],255&He,He>>16,ye,te),S!=null&&(He=3*dt+Ue+131074>>2,o(S[A+0],255&He,He>>16,ae,Ae)),_e=1;_e<=Ke;++_e){var Ut=k[F+_e]|T[ee+_e]<<16,Wt=me[ge+_e]|ie[Le+_e]<<16,Bt=Ue+Ut+dt+Wt+524296,Ot=Bt+2*(Ut+dt)>>3;He=Ot+Ue>>1,Ue=(Bt=Bt+2*(Ue+Wt)>>3)+Ut>>1,o(m[b+2*_e-1],255&He,He>>16,ye,te+(2*_e-1)*p),o(m[b+2*_e-0],255&Ue,Ue>>16,ye,te+(2*_e-0)*p),S!=null&&(He=Bt+dt>>1,Ue=Ot+Wt>>1,o(S[A+2*_e-1],255&He,He>>16,ae,Ae+(2*_e-1)*p),o(S[A+2*_e+0],255&Ue,Ue>>16,ae,Ae+(2*_e+0)*p)),Ue=Ut,dt=Wt}1&ke||(He=3*Ue+dt+131074>>2,o(m[b+ke-1],255&He,He>>16,ye,te+(ke-1)*p),S!=null&&(He=3*dt+Ue+131074>>2,o(S[A+ke-1],255&He,He>>16,ae,Ae+(ke-1)*p)))}}function Ce(){Pr[Js]=Ou,Pr[Xs]=pc,Pr[oc]=Ru,Pr[Zs]=fc,Pr[Qs]=hc,Pr[tl]=mc,Pr[lc]=Mu,Pr[nl]=pc,Pr[rl]=fc,Pr[eo]=hc,Pr[al]=mc}function Ge(r){return r&-16384?0>r?0:255:r>>Tu}function ot(r,o){return Ge((19077*r>>8)+(26149*o>>8)-14234)}function _t(r,o,p){return Ge((19077*r>>8)-(6419*o>>8)-(13320*p>>8)+8708)}function St(r,o){return Ge((19077*r>>8)+(33050*o>>8)-17685)}function zt(r,o,p,m,b){m[b+0]=ot(r,p),m[b+1]=_t(r,o,p),m[b+2]=St(r,o)}function dn(r,o,p,m,b){m[b+0]=St(r,o),m[b+1]=_t(r,o,p),m[b+2]=ot(r,p)}function hn(r,o,p,m,b){var S=_t(r,o,p);o=S<<3&224|St(r,o)>>3,m[b+0]=248&ot(r,p)|S>>5,m[b+1]=o}function Sn(r,o,p,m,b){var S=240&St(r,o)|15;m[b+0]=240&ot(r,p)|_t(r,o,p)>>4,m[b+1]=S}function $n(r,o,p,m,b){m[b+0]=255,zt(r,o,p,m,b+1)}function Cn(r,o,p,m,b){dn(r,o,p,m,b),m[b+3]=255}function Mr(r,o,p,m,b){zt(r,o,p,m,b),m[b+3]=255}function fr(r,o){return 0>r?0:r>o?o:r}function Xr(r,o,p){M[r]=function(m,b,S,A,k,F,T,ee,me){for(var ge=ee+(-2&me)*p;ee!=ge;)o(m[b+0],S[A+0],k[F+0],T,ee),o(m[b+1],S[A+0],k[F+0],T,ee+p),b+=2,++A,++F,ee+=2*p;1&me&&o(m[b+0],S[A+0],k[F+0],T,ee)}}function Ws(r,o,p){return p==0?r==0?o==0?6:5:o==0?4:0:p}function is(r,o,p,m,b){switch(r>>>30){case 3:la(o,p,m,b,0);break;case 2:xn(o,p,m,b);break;case 1:rr(o,p,m,b)}}function ss(r,o){var p,m,b=o.M,S=o.Nb,A=r.oc,k=r.pc+40,F=r.oc,T=r.pc+584,ee=r.oc,me=r.pc+600;for(p=0;16>p;++p)A[k+32*p-1]=129;for(p=0;8>p;++p)F[T+32*p-1]=129,ee[me+32*p-1]=129;for(0<b?A[k-1-32]=F[T-1-32]=ee[me-1-32]=129:(l(A,k-32-1,127,21),l(F,T-32-1,127,9),l(ee,me-32-1,127,9)),m=0;m<r.za;++m){var ge=o.ya[o.aa+m];if(0<m){for(p=-1;16>p;++p)a(A,k+32*p-4,A,k+32*p+12,4);for(p=-1;8>p;++p)a(F,T+32*p-4,F,T+32*p+4,4),a(ee,me+32*p-4,ee,me+32*p+4,4)}var ie=r.Gd,Le=r.Hd+m,ye=ge.ad,te=ge.Hc;if(0<b&&(a(A,k-32,ie[Le].y,0,16),a(F,T-32,ie[Le].f,0,8),a(ee,me-32,ie[Le].ea,0,8)),ge.Za){var ae=A,Ae=k-32+16;for(0<b&&(m>=r.za-1?l(ae,Ae,ie[Le].y[15],4):a(ae,Ae,ie[Le+1].y,0,4)),p=0;4>p;p++)ae[Ae+128+p]=ae[Ae+256+p]=ae[Ae+384+p]=ae[Ae+0+p];for(p=0;16>p;++p,te<<=2)ae=A,Ae=k+vc[p],Tr[ge.Ob[p]](ae,Ae),is(te,ye,16*+p,ae,Ae)}else if(ae=Ws(m,b,ge.Ob[0]),ka[ae](A,k),te!=0)for(p=0;16>p;++p,te<<=2)is(te,ye,16*+p,A,k+vc[p]);for(p=ge.Gc,ae=Ws(m,b,ge.Dd),da[ae](F,T),da[ae](ee,me),te=ye,ae=F,Ae=T,255&(ge=p>>0)&&(170&ge?us(te,256,ae,Ae):_r(te,256,ae,Ae)),ge=ee,te=me,255&(p>>=8)&&(170&p?us(ye,320,ge,te):_r(ye,320,ge,te)),b<r.Ub-1&&(a(ie[Le].y,0,A,k+480,16),a(ie[Le].f,0,F,T+224,8),a(ie[Le].ea,0,ee,me+224,8)),p=8*S*r.B,ie=r.sa,Le=r.ta+16*m+16*S*r.R,ye=r.qa,ge=r.ra+8*m+p,te=r.Ha,ae=r.Ia+8*m+p,p=0;16>p;++p)a(ie,Le+p*r.R,A,k+32*p,16);for(p=0;8>p;++p)a(ye,ge+p*r.B,F,T+32*p,8),a(te,ae+p*r.B,ee,me+32*p,8)}}function xi(r,o,p,m,b,S,A,k,F){var T=[0],ee=[0],me=0,ge=F!=null?F.kd:0,ie=F??new ts;if(r==null||12>p)return 7;ie.data=r,ie.w=o,ie.ha=p,o=[o],p=[p],ie.gb=[ie.gb];e:{var Le=o,ye=p,te=ie.gb;if(t(r!=null),t(ye!=null),t(te!=null),te[0]=0,12<=ye[0]&&!e(r,Le[0],"RIFF")){if(e(r,Le[0]+8,"WEBP")){te=3;break e}var ae=Ee(r,Le[0]+4);if(12>ae||4294967286<ae){te=3;break e}if(ge&&ae>ye[0]-8){te=7;break e}te[0]=ae,Le[0]+=12,ye[0]-=12}te=0}if(te!=0)return te;for(ae=0<ie.gb[0],p=p[0];;){e:{var Ae=r;ye=o,te=p;var ke=T,_e=ee,Ke=Le=[0];if((He=me=[me])[0]=0,8>te[0])te=7;else{if(!e(Ae,ye[0],"VP8X")){if(Ee(Ae,ye[0]+4)!=10){te=3;break e}if(18>te[0]){te=7;break e}var Ue=Ee(Ae,ye[0]+8),dt=1+Ie(Ae,ye[0]+12);if(2147483648<=dt*(Ae=1+Ie(Ae,ye[0]+15))){te=3;break e}Ke!=null&&(Ke[0]=Ue),ke!=null&&(ke[0]=dt),_e!=null&&(_e[0]=Ae),ye[0]+=18,te[0]-=18,He[0]=1}te=0}}if(me=me[0],Le=Le[0],te!=0)return te;if(ye=!!(2&Le),!ae&&me)return 3;if(S!=null&&(S[0]=!!(16&Le)),A!=null&&(A[0]=ye),k!=null&&(k[0]=0),A=T[0],Le=ee[0],me&&ye&&F==null){te=0;break}if(4>p){te=7;break}if(ae&&me||!ae&&!me&&!e(r,o[0],"ALPH")){p=[p],ie.na=[ie.na],ie.P=[ie.P],ie.Sa=[ie.Sa];e:{Ue=r,te=o,ae=p;var He=ie.gb;ke=ie.na,_e=ie.P,Ke=ie.Sa,dt=22,t(Ue!=null),t(ae!=null),Ae=te[0];var Ut=ae[0];for(t(ke!=null),t(Ke!=null),ke[0]=null,_e[0]=null,Ke[0]=0;;){if(te[0]=Ae,ae[0]=Ut,8>Ut){te=7;break e}var Wt=Ee(Ue,Ae+4);if(4294967286<Wt){te=3;break e}var Bt=8+Wt+1&-2;if(dt+=Bt,0<He&&dt>He){te=3;break e}if(!e(Ue,Ae,"VP8 ")||!e(Ue,Ae,"VP8L")){te=0;break e}if(Ut[0]<Bt){te=7;break e}e(Ue,Ae,"ALPH")||(ke[0]=Ue,_e[0]=Ae+8,Ke[0]=Wt),Ae+=Bt,Ut-=Bt}}if(p=p[0],ie.na=ie.na[0],ie.P=ie.P[0],ie.Sa=ie.Sa[0],te!=0)break}p=[p],ie.Ja=[ie.Ja],ie.xa=[ie.xa];e:if(He=r,te=o,ae=p,ke=ie.gb[0],_e=ie.Ja,Ke=ie.xa,Ue=te[0],Ae=!e(He,Ue,"VP8 "),dt=!e(He,Ue,"VP8L"),t(He!=null),t(ae!=null),t(_e!=null),t(Ke!=null),8>ae[0])te=7;else{if(Ae||dt){if(He=Ee(He,Ue+4),12<=ke&&He>ke-12){te=3;break e}if(ge&&He>ae[0]-8){te=7;break e}_e[0]=He,te[0]+=8,ae[0]-=8,Ke[0]=dt}else Ke[0]=5<=ae[0]&&He[Ue+0]==47&&!(He[Ue+4]>>5),_e[0]=ae[0];te=0}if(p=p[0],ie.Ja=ie.Ja[0],ie.xa=ie.xa[0],o=o[0],te!=0)break;if(4294967286<ie.Ja)return 3;if(k==null||ye||(k[0]=ie.xa?2:1),A=[A],Le=[Le],ie.xa){if(5>p){te=7;break}k=A,ge=Le,ye=S,r==null||5>p?r=0:5<=p&&r[o+0]==47&&!(r[o+4]>>5)?(ae=[0],He=[0],ke=[0],X(_e=new x,r,o,p),xe(_e,ae,He,ke)?(k!=null&&(k[0]=ae[0]),ge!=null&&(ge[0]=He[0]),ye!=null&&(ye[0]=ke[0]),r=1):r=0):r=0}else{if(10>p){te=7;break}k=Le,r==null||10>p||!Ye(r,o+3,p-3)?r=0:(ge=r[o+0]|r[o+1]<<8|r[o+2]<<16,ye=16383&(r[o+7]<<8|r[o+6]),r=16383&(r[o+9]<<8|r[o+8]),1&ge||3<(ge>>1&7)||!(ge>>4&1)||ge>>5>=ie.Ja||!ye||!r?r=0:(A&&(A[0]=ye),k&&(k[0]=r),r=1))}if(!r||(A=A[0],Le=Le[0],me&&(T[0]!=A||ee[0]!=Le)))return 3;F!=null&&(F[0]=ie,F.offset=o-F.w,t(4294967286>o-F.w),t(F.offset==F.ha-p));break}return te==0||te==7&&me&&F==null?(S!=null&&(S[0]|=ie.na!=null&&0<ie.na.length),m!=null&&(m[0]=A),b!=null&&(b[0]=Le),0):te}function os(r,o,p){var m=o.width,b=o.height,S=0,A=0,k=m,F=b;if(o.Da=r!=null&&0<r.Da,o.Da&&(k=r.cd,F=r.bd,S=r.v,A=r.j,11>p||(S&=-2,A&=-2),0>S||0>A||0>=k||0>=F||S+k>m||A+F>b))return 0;if(o.v=S,o.j=A,o.va=S+k,o.o=A+F,o.U=k,o.T=F,o.da=r!=null&&0<r.da,o.da){if(!We(k,F,p=[r.ib],S=[r.hb]))return 0;o.ib=p[0],o.hb=S[0]}return o.ob=r!=null&&r.ob,o.Kb=r==null||!r.Sd,o.da&&(o.ob=o.ib<3*m/4&&o.hb<3*b/4,o.Kb=0),1}function ls(r){if(r==null)return 2;if(11>r.S){var o=r.f.RGBA;o.fb+=(r.height-1)*o.A,o.A=-o.A}else o=r.f.kb,r=r.height,o.O+=(r-1)*o.fa,o.fa=-o.fa,o.N+=(r-1>>1)*o.Ab,o.Ab=-o.Ab,o.W+=(r-1>>1)*o.Db,o.Db=-o.Db,o.F!=null&&(o.J+=(r-1)*o.lb,o.lb=-o.lb);return 0}function bi(r,o,p,m){if(m==null||0>=r||0>=o)return 2;if(p!=null){if(p.Da){var b=p.cd,S=p.bd,A=-2&p.v,k=-2&p.j;if(0>A||0>k||0>=b||0>=S||A+b>r||k+S>o)return 2;r=b,o=S}if(p.da){if(!We(r,o,b=[p.ib],S=[p.hb]))return 2;r=b[0],o=S[0]}}m.width=r,m.height=o;e:{var F=m.width,T=m.height;if(r=m.S,0>=F||0>=T||!(r>=Js&&13>r))r=2;else{if(0>=m.Rd&&m.sd==null){A=S=b=o=0;var ee=(k=F*xc[r])*T;if(11>r||(S=(T+1)/2*(o=(F+1)/2),r==12&&(A=(b=F)*T)),(T=s(ee+2*S+A))==null){r=1;break e}m.sd=T,11>r?((F=m.f.RGBA).eb=T,F.fb=0,F.A=k,F.size=ee):((F=m.f.kb).y=T,F.O=0,F.fa=k,F.Fd=ee,F.f=T,F.N=0+ee,F.Ab=o,F.Cd=S,F.ea=T,F.W=0+ee+S,F.Db=o,F.Ed=S,r==12&&(F.F=T,F.J=0+ee+2*S),F.Tc=A,F.lb=b)}if(o=1,b=m.S,S=m.width,A=m.height,b>=Js&&13>b)if(11>b)r=m.f.RGBA,o&=(k=Math.abs(r.A))*(A-1)+S<=r.size,o&=k>=S*xc[b],o&=r.eb!=null;else{r=m.f.kb,k=(S+1)/2,ee=(A+1)/2,F=Math.abs(r.fa),T=Math.abs(r.Ab);var me=Math.abs(r.Db),ge=Math.abs(r.lb),ie=ge*(A-1)+S;o&=F*(A-1)+S<=r.Fd,o&=T*(ee-1)+k<=r.Cd,o=(o&=me*(ee-1)+k<=r.Ed)&F>=S&T>=k&me>=k,o&=r.y!=null,o&=r.f!=null,o&=r.ea!=null,b==12&&(o&=ge>=S,o&=ie<=r.Tc,o&=r.F!=null)}else o=0;r=o?0:2}}return r!=0||p!=null&&p.fd&&(r=ls(m)),r}var zn=64,yi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],wi=24,Ni=32,cs=8,or=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(r){return r},M.Predictor2=function(r,o,p){return o[p+0]},M.Predictor3=function(r,o,p){return o[p+1]},M.Predictor4=function(r,o,p){return o[p-1]},M.Predictor5=function(r,o,p){return Me(Me(r,o[p+1]),o[p+0])},M.Predictor6=function(r,o,p){return Me(r,o[p-1])},M.Predictor7=function(r,o,p){return Me(r,o[p+0])},M.Predictor8=function(r,o,p){return Me(o[p-1],o[p+0])},M.Predictor9=function(r,o,p){return Me(o[p+0],o[p+1])},M.Predictor10=function(r,o,p){return Me(Me(r,o[p-1]),Me(o[p+0],o[p+1]))},M.Predictor11=function(r,o,p){var m=o[p+0];return 0>=De(m>>24&255,r>>24&255,(o=o[p-1])>>24&255)+De(m>>16&255,r>>16&255,o>>16&255)+De(m>>8&255,r>>8&255,o>>8&255)+De(255&m,255&r,255&o)?m:r},M.Predictor12=function(r,o,p){var m=o[p+0];return(et((r>>24&255)+(m>>24&255)-((o=o[p-1])>>24&255))<<24|et((r>>16&255)+(m>>16&255)-(o>>16&255))<<16|et((r>>8&255)+(m>>8&255)-(o>>8&255))<<8|et((255&r)+(255&m)-(255&o)))>>>0},M.Predictor13=function(r,o,p){var m=o[p-1];return(Se((r=Me(r,o[p+0]))>>24&255,m>>24&255)<<24|Se(r>>16&255,m>>16&255)<<16|Se(r>>8&255,m>>8&255)<<8|Se(r>>0&255,m>>0&255))>>>0};var Qo=M.PredictorAdd0;M.PredictorAdd1=Ze,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var ds=M.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(r){return r>>8&255},function(r){return r}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(r){return r},function(r){return r>>8&255});var Hs,Ar=M.ColorIndexInverseTransform,ji=M.MapARGB,Vs=M.VP8LColorIndexInverseTransformAlpha,$s=M.MapAlpha,Sa=M.VP8LPredictorsAdd=[];Sa.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var Ya,lr,nr,Aa,sa,oa,Si,la,xn,us,rr,_r,Ai,Gs,ps,Ka,Ja,_a,Xa,_i,Za,La,fs,Lr,kr,Qt,en,bn,Fn=s(511),ca=s(2041),hs=s(225),Li=s(767),Ys=0,el=ca,Ks=hs,hr=Li,Fr=Fn,Js=0,Xs=1,oc=2,Zs=3,Qs=4,tl=5,lc=6,nl=7,rl=8,eo=9,al=10,wu=[2,3,7],Nu=[3,3,11],cc=[280,256,256,256,40],ju=[0,1,1,1,0],Su=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Au=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],_u=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Lu=8,il=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],sl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ms=null,ku=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Fu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],dc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Pu=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Cu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Iu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Eu=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ka=[],Tr=[],da=[],Du=1,uc=2,Fa=[],Pr=[];Ne("UpsampleRgbLinePair",zt,3),Ne("UpsampleBgrLinePair",dn,3),Ne("UpsampleRgbaLinePair",Mr,4),Ne("UpsampleBgraLinePair",Cn,4),Ne("UpsampleArgbLinePair",$n,4),Ne("UpsampleRgba4444LinePair",Sn,2),Ne("UpsampleRgb565LinePair",hn,2);var Ou=M.UpsampleRgbLinePair,Ru=M.UpsampleBgrLinePair,pc=M.UpsampleRgbaLinePair,fc=M.UpsampleBgraLinePair,hc=M.UpsampleArgbLinePair,mc=M.UpsampleRgba4444LinePair,Mu=M.UpsampleRgb565LinePair,to=16,no=1<<to-1,gs=-227,ol=482,Tu=6,gc=0,qu=s(256),zu=s(256),Bu=s(256),Uu=s(256),Wu=s(ol-gs),Hu=s(ol-gs);Xr("YuvToRgbRow",zt,3),Xr("YuvToBgrRow",dn,3),Xr("YuvToRgbaRow",Mr,4),Xr("YuvToBgraRow",Cn,4),Xr("YuvToArgbRow",$n,4),Xr("YuvToRgba4444Row",Sn,2),Xr("YuvToRgb565Row",hn,2);var vc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ro=[0,2,8],Vu=[8,7,6,4,4,2,2,2,1,1,1,1],$u=1;this.WebPDecodeRGBA=function(r,o,p,m,b){var S=Xs,A=new gi,k=new Rn;A.ba=k,k.S=S,k.width=[k.width],k.height=[k.height];var F=k.width,T=k.height,ee=new Mn;if(ee==null||r==null)var me=2;else t(ee!=null),me=xi(r,o,p,ee.width,ee.height,ee.Pd,ee.Qd,ee.format,null);if(me!=0?F=0:(F!=null&&(F[0]=ee.width[0]),T!=null&&(T[0]=ee.height[0]),F=1),F){k.width=k.width[0],k.height=k.height[0],m!=null&&(m[0]=k.width),b!=null&&(b[0]=k.height);e:{if(m=new it,(b=new ts).data=r,b.w=o,b.ha=p,b.kd=1,o=[0],t(b!=null),((r=xi(b.data,b.w,b.ha,null,null,null,o,null,b))==0||r==7)&&o[0]&&(r=4),(o=r)==0){if(t(A!=null),m.data=b.data,m.w=b.w+b.offset,m.ha=b.ha-b.offset,m.put=Tn,m.ac=pn,m.bc=fn,m.ma=A,b.xa){if((r=kn())==null){A=1;break e}if(function(ge,ie){var Le=[0],ye=[0],te=[0];t:for(;;){if(ge==null)return 0;if(ie==null)return ge.a=2,0;if(ge.l=ie,ge.a=0,X(ge.m,ie.data,ie.w,ie.ha),!xe(ge.m,Le,ye,te)){ge.a=3;break t}if(ge.xb=uc,ie.width=Le[0],ie.height=ye[0],!tr(Le[0],ye[0],1,ge,null))break t;return 1}return t(ge.a!=0),0}(r,m)){if(m=(o=bi(m.width,m.height,A.Oa,A.ba))==0){t:{m=r;n:for(;;){if(m==null){m=0;break t}if(t(m.s.yc!=null),t(m.s.Ya!=null),t(0<m.s.Wb),t((p=m.l)!=null),t((b=p.ma)!=null),m.xb!=0){if(m.ca=b.ba,m.tb=b.tb,t(m.ca!=null),!os(b.Oa,p,Zs)){m.a=2;break n}if(!wr(m,p.width)||p.da)break n;if((p.da||ut(m.ca.S))&&fe(),11>m.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),m.ca.f.kb.F!=null&&fe()),m.Pb&&0<m.s.ua&&m.s.vb.X==null&&!Ve(m.s.vb,m.s.Wa.Xa)){m.a=1;break n}m.xb=0}if(!Pn(m,m.V,m.Ba,m.c,m.i,p.o,Qn))break n;b.Dc=m.Ma,m=1;break t}t(m.a!=0),m=0}m=!m}m&&(o=r.a)}else o=r.a}else{if((r=new Pt)==null){A=1;break e}if(r.Fa=b.na,r.P=b.P,r.qc=b.Sa,$e(r,m)){if((o=bi(m.width,m.height,A.Oa,A.ba))==0){if(r.Aa=0,p=A.Oa,t((b=r)!=null),p!=null){if(0<(F=0>(F=p.Md)?0:100<F?255:255*F/100)){for(T=ee=0;4>T;++T)12>(me=b.pb[T]).lc&&(me.ia=F*Vu[0>me.lc?0:me.lc]>>3),ee|=me.ia;ee&&(alert("todo:VP8InitRandom"),b.ia=1)}b.Ga=p.Id,100<b.Ga?b.Ga=100:0>b.Ga&&(b.Ga=0)}Dt(r,m)||(o=r.a)}}else o=r.a}o==0&&A.Oa!=null&&A.Oa.fd&&(o=ls(A.ba))}A=o}S=A!=0?null:11>S?k.f.RGBA.eb:k.f.kb.y}else S=null;return S};var xc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function g(M,ne){for(var ce="",N=0;N<4;N++)ce+=String.fromCharCode(M[ne++]);return ce}function y(M,ne){return(M[ne+0]<<0|M[ne+1]<<8|M[ne+2]<<16)>>>0}function v(M,ne){return(M[ne+0]<<0|M[ne+1]<<8|M[ne+2]<<16|M[ne+3]<<24)>>>0}new f;var j=[0],h=[0],R=[],P=new f,I=n,L=function(M,ne){var ce={},N=0,_=!1,D=0,O=0;if(ce.frames=[],!function(C,q,V,Z){for(var le=0;le<Z;le++)if(C[q+le]!=V.charCodeAt(le))return!0;return!1}(M,ne,"RIFF",4)){for(v(M,ne+=4),ne+=8;ne<M.length;){var J=g(M,ne),G=v(M,ne+=4);ne+=4;var pe=G+(1&G);switch(J){case"VP8 ":case"VP8L":ce.frames[N]===void 0&&(ce.frames[N]={}),(ve=ce.frames[N]).src_off=_?O:ne-8,ve.src_size=D+G+8,N++,_&&(_=!1,D=0,O=0);break;case"VP8X":(ve=ce.header={}).feature_flags=M[ne];var X=ne+4;ve.canvas_width=1+y(M,X),X+=3,ve.canvas_height=1+y(M,X),X+=3;break;case"ALPH":_=!0,D=pe+8,O=ne-8;break;case"ANIM":(ve=ce.header).bgcolor=v(M,ne),X=ne+4,ve.loop_count=(Oe=M)[(x=X)+0]<<0|Oe[x+1]<<8,X+=2;break;case"ANMF":var de,ve;(ve=ce.frames[N]={}).offset_x=2*y(M,ne),ne+=3,ve.offset_y=2*y(M,ne),ne+=3,ve.width=1+y(M,ne),ne+=3,ve.height=1+y(M,ne),ne+=3,ve.duration=y(M,ne),ne+=3,de=M[ne++],ve.dispose=1&de,ve.blend=de>>1&1}J!="ANMF"&&(ne+=pe)}var Oe,x;return ce}}(I,0);L.response=I,L.rgbaoutput=!0,L.dataurl=!1;var E=L.header?L.header:null,K=L.frames?L.frames:null;if(E){E.loop_counter=E.loop_count,j=[E.canvas_height],h=[E.canvas_width];for(var ue=0;ue<K.length&&K[ue].blend!=0;ue++);}var se=K[0],oe=P.WebPDecodeRGBA(I,se.src_off,se.src_size,h,j);se.rgba=oe,se.imgwidth=h[0],se.imgheight=j[0];for(var z=0;z<h[0]*j[0]*4;z++)R[z]=oe[z];return this.width=h,this.height=j,this.data=R,this}(function(n){var t=function(){return typeof Bl=="function"},e=function(j,h,R,P){var I=4,L=c;switch(P){case n.image_compression.FAST:I=1,L=s;break;case n.image_compression.MEDIUM:I=6,L=u;break;case n.image_compression.SLOW:I=9,L=f}j=a(j,h,R,L);var E=Bl(j,{level:I});return n.__addimage__.arrayBufferToBinaryString(E)},a=function(j,h,R,P){for(var I,L,E,K=j.length/h,ue=new Uint8Array(j.length+K),se=y(),oe=0;oe<K;oe+=1){if(E=oe*h,I=j.subarray(E,E+h),P)ue.set(P(I,R,L),E+oe);else{for(var z,M=se.length,ne=[];z<M;z+=1)ne[z]=se[z](I,R,L);var ce=v(ne.concat());ue.set(ne[ce],E+oe)}L=I}return ue},l=function(j){var h=Array.apply([],j);return h.unshift(0),h},s=function(j,h){var R,P=[],I=j.length;P[0]=1;for(var L=0;L<I;L+=1)R=j[L-h]||0,P[L+1]=j[L]-R+256&255;return P},c=function(j,h,R){var P,I=[],L=j.length;I[0]=2;for(var E=0;E<L;E+=1)P=R&&R[E]||0,I[E+1]=j[E]-P+256&255;return I},u=function(j,h,R){var P,I,L=[],E=j.length;L[0]=3;for(var K=0;K<E;K+=1)P=j[K-h]||0,I=R&&R[K]||0,L[K+1]=j[K]+256-(P+I>>>1)&255;return L},f=function(j,h,R){var P,I,L,E,K=[],ue=j.length;K[0]=4;for(var se=0;se<ue;se+=1)P=j[se-h]||0,I=R&&R[se]||0,L=R&&R[se-h]||0,E=g(P,I,L),K[se+1]=j[se]-E+256&255;return K},g=function(j,h,R){if(j===h&&h===R)return j;var P=Math.abs(h-R),I=Math.abs(j-R),L=Math.abs(j+h-R-R);return P<=I&&P<=L?j:I<=L?h:R},y=function(){return[l,s,c,u,f]},v=function(j){var h=j.map(function(R){return R.reduce(function(P,I){return P+Math.abs(I)},0)});return h.indexOf(Math.min.apply(null,h))};n.processPNG=function(j,h,R,P){var I,L,E,K,ue,se,oe,z,M,ne,ce,N,_,D,O,J=this.decode.FLATE_DECODE,G="";if(this.__addimage__.isArrayBuffer(j)&&(j=new Uint8Array(j)),this.__addimage__.isArrayBufferView(j)){if(j=(E=new Of(j)).imgData,L=E.bits,I=E.colorSpace,ue=E.colors,[4,6].indexOf(E.colorType)!==-1){if(E.bits===8){M=(z=E.pixelBitlength==32?new Uint32Array(E.decodePixels().buffer):E.pixelBitlength==16?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,ce=new Uint8Array(M*E.colors),ne=new Uint8Array(M);var pe,X=E.pixelBitlength-E.bits;for(D=0,O=0;D<M;D++){for(_=z[D],pe=0;pe<X;)ce[O++]=_>>>pe&255,pe+=E.bits;ne[D]=_>>>pe&255}}if(E.bits===16){M=(z=new Uint32Array(E.decodePixels().buffer)).length,ce=new Uint8Array(M*(32/E.pixelBitlength)*E.colors),ne=new Uint8Array(M*(32/E.pixelBitlength)),N=E.colors>1,D=0,O=0;for(var de=0;D<M;)_=z[D++],ce[O++]=_>>>0&255,N&&(ce[O++]=_>>>16&255,_=z[D++],ce[O++]=_>>>0&255),ne[de++]=_>>>16&255;L=8}P!==n.image_compression.NONE&&t()?(j=e(ce,E.width*E.colors,E.colors,P),oe=e(ne,E.width,1,P)):(j=ce,oe=ne,J=void 0)}if(E.colorType===3&&(I=this.color_spaces.INDEXED,se=E.palette,E.transparency.indexed)){var ve=E.transparency.indexed,Oe=0;for(D=0,M=ve.length;D<M;++D)Oe+=ve[D];if((Oe/=255)===M-1&&ve.indexOf(0)!==-1)K=[ve.indexOf(0)];else if(Oe!==M){for(z=E.decodePixels(),ne=new Uint8Array(z.length),D=0,M=z.length;D<M;D++)ne[D]=ve[z[D]];oe=e(ne,E.width,1)}}var x=function(C){var q;switch(C){case n.image_compression.FAST:q=11;break;case n.image_compression.MEDIUM:q=13;break;case n.image_compression.SLOW:q=14;break;default:q=12}return q}(P);return J===this.decode.FLATE_DECODE&&(G="/Predictor "+x+" "),G+="/Colors "+ue+" /BitsPerComponent "+L+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(j)||this.__addimage__.isArrayBufferView(j))&&(j=this.__addimage__.arrayBufferToBinaryString(j)),(oe&&this.__addimage__.isArrayBuffer(oe)||this.__addimage__.isArrayBufferView(oe))&&(oe=this.__addimage__.arrayBufferToBinaryString(oe)),{alias:R,data:j,index:h,filter:J,decodeParameters:G,transparency:K,palette:se,sMask:oe,predictor:x,width:E.width,height:E.height,bitsPerComponent:L,colorSpace:I}}}})(ht.API),function(n){n.processGIF89A=function(t,e,a,l){var s=new Rf(t),c=s.width,u=s.height,f=[];s.decodeAndBlitFrameRGBA(0,f);var g={data:f,width:c,height:u},y=new Fl(100).encode(g,100);return n.processJPEG.call(this,y,e,a,l)},n.processGIF87A=n.processGIF89A}(ht.API),Br.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:l,green:a,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Br.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){Jt.log("bit decode error:"+e)}},Br.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,l=0;l<t;l++)for(var s=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+8*l*4,u=0;u<8&&8*l+u<this.width;u++){var f=this.palette[s>>7-u&1];this.data[c+4*u]=f.blue,this.data[c+4*u+1]=f.green,this.data[c+4*u+2]=f.red,this.data[c+4*u+3]=255}e!==0&&(this.pos+=4-e)}},Br.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,l=0;l<n;l++){var s=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+2*l*4,u=s>>4,f=15&s,g=this.palette[u];if(this.data[c]=g.blue,this.data[c+1]=g.green,this.data[c+2]=g.red,this.data[c+3]=255,2*l+1>=this.width)break;g=this.palette[f],this.data[c+4]=g.blue,this.data[c+4+1]=g.green,this.data[c+4+2]=g.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},Br.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var l=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*a;if(l<this.palette.length){var c=this.palette[l];this.data[s]=c.red,this.data[s+1]=c.green,this.data[s+2]=c.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Br.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,l=0;l<this.width;l++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(s&t)/t*255|0,u=(s>>5&t)/t*255|0,f=(s>>10&t)/t*255|0,g=s>>15?255:0,y=a*this.width*4+4*l;this.data[y]=f,this.data[y+1]=u,this.data[y+2]=c,this.data[y+3]=g}this.pos+=n}},Br.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var l=this.bottom_up?a:this.height-1-a,s=0;s<this.width;s++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(c&t)/t*255|0,f=(c>>5&e)/e*255|0,g=(c>>11)/t*255|0,y=l*this.width*4+4*s;this.data[y]=g,this.data[y+1]=f,this.data[y+2]=u,this.data[y+3]=255}this.pos+=n}},Br.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=s,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=this.width%4}},Br.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=s,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=c}},Br.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,a,l){var s=new Br(t,!1),c=s.width,u=s.height,f={data:s.getData(),width:c,height:u},g=new Fl(100).encode(f,100);return n.processJPEG.call(this,g,e,a,l)}}(ht.API),vd.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,a,l){var s=new vd(t),c=s.width,u=s.height,f={data:s.getData(),width:c,height:u},g=new Fl(100).encode(f,100);return n.processJPEG.call(this,g,e,a,l)}}(ht.API),ht.API.processRGBA=function(n,t,e){for(var a=n.data,l=a.length,s=new Uint8Array(l/4*3),c=new Uint8Array(l/4),u=0,f=0,g=0;g<l;g+=4){var y=a[g],v=a[g+1],j=a[g+2],h=a[g+3];s[u++]=y,s[u++]=v,s[u++]=j,c[f++]=h}var R=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:R,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},ht.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ei=ht.API,wo=Ei.getCharWidthsArray=function(n,t){var e,a,l=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:l.metadata.Unicode.widths,f=u.fof?u.fof:1,g=t.kerning?t.kerning:l.metadata.Unicode.kerning,y=g.fof?g.fof:1,v=t.doKerning!==!1,j=0,h=n.length,R=0,P=u[0]||f,I=[];for(e=0;e<h;e++)a=n.charCodeAt(e),typeof l.metadata.widthOfString=="function"?I.push((l.metadata.widthOfGlyph(l.metadata.characterToGlyph(a))+c*(1e3/s)||0)/1e3):(j=v&&Vt(g[a])==="object"&&!isNaN(parseInt(g[a][R],10))?g[a][R]/y:0,I.push((u[a]||P)/f+j)),R=a;return I},fd=Ei.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),l=t.charSpace||this.internal.getCharSpace();return Ei.processArabic&&(n=Ei.processArabic(n)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(n,e,l)/e:wo.apply(this,arguments).reduce(function(s,c){return s+c},0)},hd=function(n,t,e,a){for(var l=[],s=0,c=n.length,u=0;s!==c&&u+t[s]<e;)u+=t[s],s++;l.push(n.slice(0,s));var f=s;for(u=0;s!==c;)u+t[s]>a&&(l.push(n.slice(f,s)),u=0,f=s),u+=t[s],s++;return f!==s&&l.push(n.slice(f,s)),l},md=function(n,t,e){e||(e={});var a,l,s,c,u,f,g,y=[],v=[y],j=e.textIndent||0,h=0,R=0,P=n.split(" "),I=wo.apply(this,[" ",e])[0];if(f=e.lineIndent===-1?P[0].length+2:e.lineIndent||0){var L=Array(f).join(" "),E=[];P.map(function(ue){(ue=ue.split(/\s*\n/)).length>1?E=E.concat(ue.map(function(se,oe){return(oe&&se.length?`
`:"")+se})):E.push(ue[0])}),P=E,f=fd.apply(this,[L,e])}for(s=0,c=P.length;s<c;s++){var K=0;if(a=P[s],f&&a[0]==`
`&&(a=a.substr(1),K=1),j+h+(R=(l=wo.apply(this,[a,e])).reduce(function(ue,se){return ue+se},0))>t||K){if(R>t){for(u=hd.apply(this,[a,l,t-(j+h),t]),y.push(u.shift()),y=[u.pop()];u.length;)v.push([u.shift()]);R=l.slice(a.length-(y[0]?y[0].length:0)).reduce(function(ue,se){return ue+se},0)}else y=[a];v.push(y),j=R+f,h=I}else y.push(a),j+=h+R,h=I}return g=f?function(ue,se){return(se?L:"")+ue.join(" ")}:function(ue){return ue.join(" ")},v.map(g)},Ei.splitTextToSize=function(n,t,e){var a,l=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var v=this.internal.getFont(y.fontName,y.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);a=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/l;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/l:0,s.lineIndent=e.lineIndent;var u,f,g=[];for(u=0,f=a.length;u<f;u++)g=g.concat(md.apply(this,[a[u],c,s]));return g},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},a={},l=0;l<t.length;l++)e[t[l]]="0123456789abcdef"[l],a["0123456789abcdef"[l]]=t[l];var s=function(v){return"0x"+parseInt(v,10).toString(16)},c=n.__fontmetrics__.compress=function(v){var j,h,R,P,I=["{"];for(var L in v){if(j=v[L],isNaN(parseInt(L,10))?h="'"+L+"'":(L=parseInt(L,10),h=(h=s(L).slice(2)).slice(0,-1)+a[h.slice(-1)]),typeof j=="number")j<0?(R=s(j).slice(3),P="-"):(R=s(j).slice(2),P=""),R=P+R.slice(0,-1)+a[R.slice(-1)];else{if(Vt(j)!=="object")throw new Error("Don't know what to do with value type "+Vt(j)+".");R=c(j)}I.push(h+R)}return I.push("}"),I.join("")},u=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var j,h,R,P,I={},L=1,E=I,K=[],ue="",se="",oe=v.length-1,z=1;z<oe;z+=1)(P=v[z])=="'"?j?(R=j.join(""),j=void 0):j=[]:j?j.push(P):P=="{"?(K.push([E,R]),E={},R=void 0):P=="}"?((h=K.pop())[0][h[1]]=E,R=void 0,E=h[0]):P=="-"?L=-1:R===void 0?e.hasOwnProperty(P)?(ue+=e[P],R=parseInt(ue,16)*L,L=1,ue=""):ue+=P:e.hasOwnProperty(P)?(se+=e[P],E[R]=parseInt(se,16)*L,L=1,R=void 0,se=""):se+=P;return I},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},y={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var j=v.font,h=y.Unicode[j.postScriptName];h&&(j.metadata.Unicode={},j.metadata.Unicode.widths=h.widths,j.metadata.Unicode.kerning=h.kerning);var R=g.Unicode[j.postScriptName];R&&(j.metadata.Unicode.encoding=R,j.encoding=R.codePages[0])}])}(ht.API),function(n){var t=function(e){for(var a=e.length,l=new Uint8Array(a),s=0;s<a;s++)l[s]=e.charCodeAt(s);return l};n.API.events.push(["addFont",function(e){var a=void 0,l=e.font,s=e.instance;if(!l.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+l.postScriptName+"').");if(typeof(a=s.existsFileInVFS(l.postScriptName)===!1?s.loadFile(l.postScriptName):s.getFileFromVFS(l.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+l.postScriptName+"').");(function(c,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(Ps(u)),c.metadata=n.API.TTFFont.open(u),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(l,a)}}])}(ht),function(n){function t(){return(gt.canvg?Promise.resolve(gt.canvg):Il(()=>import("./index.es-DpaJ18KS.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}ht.API.addSvgAsImage=function(e,a,l,s,c,u,f,g){if(isNaN(a)||isNaN(l))throw Jt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(c))throw Jt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var y=document.createElement("canvas");y.width=s,y.height=c;var v=y.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,y.width,y.height);var j={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(R){return R.fromString(v,e,j)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(R){return R.render(j)}).then(function(){h.addImage(y.toDataURL("image/jpeg",1),a,l,s,c,f,g)})}}(),ht.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var l=0;l<this.internal.pages[a].length;l++)this.internal.pages[a][l]=this.internal.pages[a][l].replace(t,e);return this},ht.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var a,l,s,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(c),f=[],g=0,y=0,v=0;function j(R,P){var I,L=!1;for(I=0;I<R.length;I+=1)R[I]===P&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var h=u.length;for(v=0;v<h;v+=1)e[u[v]].value=e[u[v]].defaultValue,e[u[v]].explicitSet=!1}if(Vt(n)==="object"){for(l in n)if(s=n[l],j(u,l)&&s!==void 0){if(e[l].type==="boolean"&&typeof s=="boolean")e[l].value=s;else if(e[l].type==="name"&&j(e[l].valueSet,s))e[l].value=s;else if(e[l].type==="integer"&&Number.isInteger(s))e[l].value=s;else if(e[l].type==="array"){for(g=0;g<s.length;g+=1)if(a=!0,s[g].length===1&&typeof s[g][0]=="number")f.push(String(s[g]-1));else if(s[g].length>1){for(y=0;y<s[g].length;y+=1)typeof s[g][y]!="number"&&(a=!1);a===!0&&f.push([s[g][0]-1,s[g][1]-1].join(" "))}e[l].value="["+f.join(" ")+"]"}else e[l].value=e[l].defaultValue;e[l].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var R,P=[];for(R in e)e[R].explicitSet===!0&&(e[R].type==="name"?P.push("/"+R+" /"+e[R].value):P.push("/"+R+" "+e[R].value));P.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+P.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',l=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(a)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),g=s.length+c.length+u.length+l.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+g+" >>"),this.internal.write("stream"),this.internal.write(l+s+c+u+f),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(a,l){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:l||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(ht.API),function(n){var t=n.API,e=t.pdfEscape16=function(s,c){for(var u,f=c.metadata.Unicode.widths,g=["","0","00","000","0000"],y=[""],v=0,j=s.length;v<j;++v){if(u=c.metadata.characterToGlyph(s.charCodeAt(v)),c.metadata.glyIdsUsed.push(u),c.metadata.toUnicode[u]=s.charCodeAt(v),f.indexOf(u)==-1&&(f.push(u),f.push([parseInt(c.metadata.widthOfGlyph(u),10)])),u=="0")return y.join("");u=u.toString(16),y.push(g[4-u.length],u)}return y.join("")},a=function(s){var c,u,f,g,y,v,j;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],v=0,j=(u=Object.keys(s).sort(function(h,R){return h-R})).length;v<j;v++)c=u[v],f.length>=100&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),s[c]!==void 0&&s[c]!==null&&typeof s[c].toString=="function"&&(g=("0000"+s[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),f.push("<"+c+"><"+g+">"));return f.length&&(y+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),y+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(c){var u=c.font,f=c.out,g=c.newObject,y=c.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var v=u.metadata.Unicode.widths,j=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),h="",R=0;R<j.length;R++)h+=String.fromCharCode(j[R]);var P=g();y({data:h,addLength1:!0,objectId:P}),f("endobj");var I=g();y({data:a(u.metadata.toUnicode),addLength1:!0,objectId:I}),f("endobj");var L=g();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Mi(u.fontName)),f("/FontFile2 "+P+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),f("/Flags "+u.metadata.flags),f("/StemV "+u.metadata.stemV),f("/ItalicAngle "+u.metadata.italicAngle),f("/Ascent "+u.metadata.ascender),f("/Descent "+u.metadata.decender),f("/CapHeight "+u.metadata.capHeight),f(">>"),f("endobj");var E=g();f("<<"),f("/Type /Font"),f("/BaseFont /"+Mi(u.fontName)),f("/FontDescriptor "+L+" 0 R"),f("/W "+n.API.PDFObject.convert(v)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+u.encoding+")"),f(">>"),f(">>"),f("endobj"),u.objectNumber=g(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+I+" 0 R"),f("/BaseFont /"+Mi(u.fontName)),f("/Encoding /"+u.encoding),f("/DescendantFonts ["+E+" 0 R]"),f(">>"),f("endobj"),u.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(c){var u=c.font,f=c.out,g=c.newObject,y=c.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var v=u.metadata.rawData,j="",h=0;h<v.length;h++)j+=String.fromCharCode(v[h]);var R=g();y({data:j,addLength1:!0,objectId:R}),f("endobj");var P=g();y({data:a(u.metadata.toUnicode),addLength1:!0,objectId:P}),f("endobj");var I=g();f("<<"),f("/Descent "+u.metadata.decender),f("/CapHeight "+u.metadata.capHeight),f("/StemV "+u.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+R+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),f("/FontName /"+Mi(u.fontName)),f("/ItalicAngle "+u.metadata.italicAngle),f("/Ascent "+u.metadata.ascender),f(">>"),f("endobj"),u.objectNumber=g();for(var L=0;L<u.metadata.hmtx.widths.length;L++)u.metadata.hmtx.widths[L]=parseInt(u.metadata.hmtx.widths[L]*(1e3/u.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+P+" 0 R/BaseFont/"+Mi(u.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),f("endobj"),u.isAlreadyPutted=!0}})(s)}]);var l=function(s){var c,u=s.text||"",f=s.x,g=s.y,y=s.options||{},v=s.mutex||{},j=v.pdfEscape,h=v.activeFontKey,R=v.fonts,P=h,I="",L=0,E="",K=R[P].encoding;if(R[P].encoding!=="Identity-H")return{text:u,x:f,y:g,options:y,mutex:v};for(E=u,P=h,Array.isArray(u)&&(E=u[0]),L=0;L<E.length;L+=1)R[P].metadata.hasOwnProperty("cmap")&&(c=R[P].metadata.cmap.unicode.codeMap[E[L].charCodeAt(0)]),c||E[L].charCodeAt(0)<256&&R[P].metadata.hasOwnProperty("Unicode")?I+=E[L]:I+="";var ue="";return parseInt(P.slice(1))<14||K==="WinAnsiEncoding"?ue=j(I,P).split("").map(function(se){return se.charCodeAt(0).toString(16)}).join(""):K==="Identity-H"&&(ue=e(I,R[P])),v.isHex=!0,{text:ue,x:f,y:g,options:y,mutex:v}};t.events.push(["postProcessText",function(s){var c=s.text||"",u=[],f={text:c,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(c)){var g=0;for(g=0;g<c.length;g+=1)Array.isArray(c[g])&&c[g].length===3?u.push([l(Object.assign({},f,{text:c[g][0]})).text,c[g][1],c[g][2]]):u.push(l(Object.assign({},f,{text:c[g]})).text);s.text=u}else s.text=l(Object.assign({},f,{text:c})).text}])}(ht),function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,a){return t.call(this),this.internal.vFS[e]=a,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(ht.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(a){var l,s,c,u,f,g,y,v=t,j=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},P={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,K=0;this.__bidiEngine__={};var ue=function(N){var _=N.charCodeAt(),D=_>>8,O=P[D];return O!==void 0?v[256*O+(255&_)]:D===252||D===253?"AL":L.test(D)?"L":D===8?"R":"N"},se=function(N){for(var _,D=0;D<N.length;D++){if((_=ue(N.charAt(D)))==="L")return!1;if(_==="R")return!0}return!1},oe=function(N,_,D,O){var J,G,pe,X,de=_[O];switch(de){case"L":case"R":E=!1;break;case"N":case"AN":break;case"EN":E&&(de="AN");break;case"AL":E=!0,de="R";break;case"WS":de="N";break;case"CS":O<1||O+1>=_.length||(J=D[O-1])!=="EN"&&J!=="AN"||(G=_[O+1])!=="EN"&&G!=="AN"?de="N":E&&(G="AN"),de=G===J?G:"N";break;case"ES":de=(J=O>0?D[O-1]:"B")==="EN"&&O+1<_.length&&_[O+1]==="EN"?"EN":"N";break;case"ET":if(O>0&&D[O-1]==="EN"){de="EN";break}if(E){de="N";break}for(pe=O+1,X=_.length;pe<X&&_[pe]==="ET";)pe++;de=pe<X&&_[pe]==="EN"?"EN":"N";break;case"NSM":if(c&&!u){for(X=_.length,pe=O+1;pe<X&&_[pe]==="NSM";)pe++;if(pe<X){var ve=N[O],Oe=ve>=1425&&ve<=2303||ve===64286;if(J=_[pe],Oe&&(J==="R"||J==="AL")){de="R";break}}}de=O<1||(J=_[O-1])==="B"?"N":D[O-1];break;case"B":E=!1,l=!0,de=K;break;case"S":s=!0,de="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"BN":de="N"}return de},z=function(N,_,D){var O=N.split("");return D&&M(O,D,{hiLevel:K}),O.reverse(),_&&_.reverse(),O.join("")},M=function(N,_,D){var O,J,G,pe,X,de=-1,ve=N.length,Oe=0,x=[],C=K?h:j,q=[];for(E=!1,l=!1,s=!1,J=0;J<ve;J++)q[J]=ue(N[J]);for(G=0;G<ve;G++){if(X=Oe,x[G]=oe(N,q,x,G),O=240&(Oe=C[X][R[x[G]]]),Oe&=15,_[G]=pe=C[Oe][5],O>0)if(O===16){for(J=de;J<G;J++)_[J]=1;de=-1}else de=-1;if(C[Oe][6])de===-1&&(de=G);else if(de>-1){for(J=de;J<G;J++)_[J]=pe;de=-1}q[G]==="B"&&(_[G]=0),D.hiLevel|=pe}s&&function(V,Z,le){for(var W=0;W<le;W++)if(V[W]==="S"){Z[W]=K;for(var $=W-1;$>=0&&V[$]==="WS";$--)Z[$]=K}}(q,_,ve)},ne=function(N,_,D,O,J){if(!(J.hiLevel<N)){if(N===1&&K===1&&!l)return _.reverse(),void(D&&D.reverse());for(var G,pe,X,de,ve=_.length,Oe=0;Oe<ve;){if(O[Oe]>=N){for(X=Oe+1;X<ve&&O[X]>=N;)X++;for(de=Oe,pe=X-1;de<pe;de++,pe--)G=_[de],_[de]=_[pe],_[pe]=G,D&&(G=D[de],D[de]=D[pe],D[pe]=G);Oe=X}Oe++}}},ce=function(N,_,D){var O=N.split(""),J={hiLevel:K};return D||(D=[]),M(O,D,J),function(G,pe,X){if(X.hiLevel!==0&&y)for(var de,ve=0;ve<G.length;ve++)pe[ve]===1&&(de=I.indexOf(G[ve]))>=0&&(G[ve]=I[de+1])}(O,D,J),ne(2,O,_,D,J),ne(1,O,_,D,J),O.join("")};return this.__bidiEngine__.doBidiReorder=function(N,_,D){if(function(J,G){if(G)for(var pe=0;pe<J.length;pe++)G[pe]=pe;u===void 0&&(u=se(J)),g===void 0&&(g=se(J))}(N,_),c||!f||g)if(c&&f&&u^g)K=u?1:0,N=z(N,_,D);else if(!c&&f&&g)K=u?1:0,N=ce(N,_,D),N=z(N,_);else if(!c||u||f||g){if(c&&!f&&u^g)N=z(N,_),u?(K=0,N=ce(N,_,D)):(K=1,N=ce(N,_,D),N=z(N,_));else if(c&&u&&!f&&g)K=1,N=ce(N,_,D),N=z(N,_);else if(!c&&!f&&u^g){var O=y;u?(K=1,N=ce(N,_,D),K=0,y=!1,N=ce(N,_,D),y=O):(K=0,N=ce(N,_,D),N=z(N,_),K=1,y=!1,N=ce(N,_,D),y=O,N=z(N,_))}}else K=0,N=ce(N,_,D);else K=u?1:0,N=ce(N,_,D);return N},this.__bidiEngine__.setOptions=function(N){N&&(c=N.isInputVisual,f=N.isOutputVisual,u=N.isInputRtl,g=N.isOutputRtl,y=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(a){var l=a.text;a.x,a.y;var s=a.options||{};a.mutex,s.lang;var c=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(l)==="[object Array]"){var u=0;for(c=[],u=0;u<l.length;u+=1)Object.prototype.toString.call(l[u])==="[object Array]"?c.push([e.doBidiReorder(l[u][0]),l[u][1],l[u][2]]):c.push([e.doBidiReorder(l[u])]);a.text=c}else a.text=e.doBidiReorder(l);e.setOptions({isInputVisual:!0})}])}(ht),ht.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new za(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new Xf(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new Mf(this.contents),this.head=new qf(this),this.name=new Hf(this),this.cmap=new ou(this),this.toUnicode={},this.hhea=new zf(this),this.maxp=new Vf(this),this.hmtx=new $f(this),this.post=new Uf(this),this.os2=new Bf(this),this.loca=new Jf(this),this.glyf=new Gf(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,a,l,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,u,f,g;for(g=[],c=0,u=(f=this.bbox).length;c<u;c++)t=f[c],g.push(Math.round(t*this.scaleFactor));return g}).call(this),this.stemV=0,this.post.exists?(a=255&(l=this.post.italic_angle),(32768&(e=l>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,a){var l,s,c,u;for(c=0,s=0,u=(t=""+t).length;0<=u?s<u:s>u;s=0<=u?++s:--s)l=t.charCodeAt(s),c+=this.widthOfGlyph(this.characterToGlyph(l))+a*(1e3/e)||0;return c*(e/1e3)},n.prototype.lineHeight=function(t,e){var a;return e==null&&(e=!1),a=e?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},n}();var Gr,za=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,a;for(a=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)a[e]=String.fromCharCode(this.readByte());return a.join("")},n.prototype.writeString=function(t){var e,a,l;for(l=[],e=0,a=t.length;0<=a?e<a:e>a;e=0<=a?++e:--e)l.push(this.writeByte(t.charCodeAt(e)));return l},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,a,l,s,c,u,f;return t=this.readByte(),e=this.readByte(),a=this.readByte(),l=this.readByte(),s=this.readByte(),c=this.readByte(),u=this.readByte(),f=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^a)+4294967296*(255^l)+16777216*(255^s)+65536*(255^c)+256*(255^u)+(255^f)+1):72057594037927940*t+281474976710656*e+1099511627776*a+4294967296*l+16777216*s+65536*c+256*u+f},n.prototype.writeLongLong=function(t){var e,a;return e=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,a;for(e=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)e.push(this.readByte());return e},n.prototype.write=function(t){var e,a,l,s;for(s=[],a=0,l=t.length;a<l;a++)e=t[a],s.push(this.writeByte(e));return s},n}(),Mf=function(){var n;function t(e){var a,l,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},l=0,s=this.tableCount;0<=s?l<s:l>s;l=0<=s?++l:--l)a={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(e){var a,l,s,c,u,f,g,y,v,j,h,R,P;for(P in h=Object.keys(e).length,f=Math.log(2),v=16*Math.floor(Math.log(h)/f),c=Math.floor(v/f),y=16*h-v,(l=new za).writeInt(this.scalarType),l.writeShort(h),l.writeShort(v),l.writeShort(c),l.writeShort(y),s=16*h,g=l.pos+s,u=null,R=[],e)for(j=e[P],l.writeString(P),l.writeInt(n(j)),l.writeInt(g),l.writeInt(j.length),R=R.concat(j),P==="head"&&(u=g),g+=j.length;g%4;)R.push(0),g++;return l.write(R),a=2981146554-n(l.data),l.pos=u+8,l.writeUInt32(a),l.data},n=function(e){var a,l,s,c;for(e=lu.call(e);e.length%4;)e.push(0);for(s=new za(e),l=0,a=0,c=e.length;a<c;a=a+=4)l+=s.readUInt32();return 4294967295&l},t}(),Tf={}.hasOwnProperty,ra=function(n,t){for(var e in t)Tf.call(t,e)&&(n[e]=t[e]);function a(){this.constructor=n}return a.prototype=t.prototype,n.prototype=new a,n.__super__=t.prototype,n};Gr=function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var qf=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ra(t,Gr),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var a;return(a=new za).writeInt(this.version),a.writeInt(this.revision),a.writeInt(this.checkSumAdjustment),a.writeInt(this.magicNumber),a.writeShort(this.flags),a.writeShort(this.unitsPerEm),a.writeLongLong(this.created),a.writeLongLong(this.modified),a.writeShort(this.xMin),a.writeShort(this.yMin),a.writeShort(this.xMax),a.writeShort(this.yMax),a.writeShort(this.macStyle),a.writeShort(this.lowestRecPPEM),a.writeShort(this.fontDirectionHint),a.writeShort(e),a.writeShort(this.glyphDataFormat),a.data},t}(),xd=function(){function n(t,e){var a,l,s,c,u,f,g,y,v,j,h,R,P,I,L,E,K;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),v=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=t.readByte();break;case 4:for(h=t.readUInt16(),j=h/2,t.pos+=6,s=function(){var ue,se;for(se=[],f=ue=0;0<=j?ue<j:ue>j;f=0<=j?++ue:--ue)se.push(t.readUInt16());return se}(),t.pos+=2,P=function(){var ue,se;for(se=[],f=ue=0;0<=j?ue<j:ue>j;f=0<=j?++ue:--ue)se.push(t.readUInt16());return se}(),g=function(){var ue,se;for(se=[],f=ue=0;0<=j?ue<j:ue>j;f=0<=j?++ue:--ue)se.push(t.readUInt16());return se}(),y=function(){var ue,se;for(se=[],f=ue=0;0<=j?ue<j:ue>j;f=0<=j?++ue:--ue)se.push(t.readUInt16());return se}(),l=(this.length-t.pos+this.offset)/2,u=function(){var ue,se;for(se=[],f=ue=0;0<=l?ue<l:ue>l;f=0<=l?++ue:--ue)se.push(t.readUInt16());return se}(),f=L=0,K=s.length;L<K;f=++L)for(I=s[f],a=E=R=P[f];R<=I?E<=I:E>=I;a=R<=I?++E:--E)y[f]===0?c=a+g[f]:(c=u[y[f]/2+(a-R)-(j-f)]||0)!==0&&(c+=g[f]),this.codeMap[a]=65535&c}t.pos=v}return n.encode=function(t,e){var a,l,s,c,u,f,g,y,v,j,h,R,P,I,L,E,K,ue,se,oe,z,M,ne,ce,N,_,D,O,J,G,pe,X,de,ve,Oe,x,C,q,V,Z,le,W,$,be,je,Ie;switch(O=new za,c=Object.keys(t).sort(function(Ee,Ve){return Ee-Ve}),e){case"macroman":for(P=0,I=function(){var Ee=[];for(R=0;R<256;++R)Ee.push(0);return Ee}(),E={0:0},s={},J=0,de=c.length;J<de;J++)E[$=t[l=c[J]]]==null&&(E[$]=++P),s[l]={old:t[l],new:E[t[l]]},I[l]=E[t[l]];return O.writeUInt16(1),O.writeUInt16(0),O.writeUInt32(12),O.writeUInt16(0),O.writeUInt16(262),O.writeUInt16(0),O.write(I),{charMap:s,subtable:O.data,maxGlyphID:P+1};case"unicode":for(_=[],v=[],K=0,E={},a={},L=g=null,G=0,ve=c.length;G<ve;G++)E[se=t[l=c[G]]]==null&&(E[se]=++K),a[l]={old:se,new:E[se]},u=E[se]-l,L!=null&&u===g||(L&&v.push(L),_.push(l),g=u),L=l;for(L&&v.push(L),v.push(65535),_.push(65535),ce=2*(ne=_.length),M=2*Math.pow(Math.log(ne)/Math.LN2,2),j=Math.log(M/2)/Math.LN2,z=2*ne-M,f=[],oe=[],h=[],R=pe=0,Oe=_.length;pe<Oe;R=++pe){if(N=_[R],y=v[R],N===65535){f.push(0),oe.push(0);break}if(N-(D=a[N].new)>=32768)for(f.push(0),oe.push(2*(h.length+ne-R)),l=X=N;N<=y?X<=y:X>=y;l=N<=y?++X:--X)h.push(a[l].new);else f.push(D-N),oe.push(0)}for(O.writeUInt16(3),O.writeUInt16(1),O.writeUInt32(12),O.writeUInt16(4),O.writeUInt16(16+8*ne+2*h.length),O.writeUInt16(0),O.writeUInt16(ce),O.writeUInt16(M),O.writeUInt16(j),O.writeUInt16(z),le=0,x=v.length;le<x;le++)l=v[le],O.writeUInt16(l);for(O.writeUInt16(0),W=0,C=_.length;W<C;W++)l=_[W],O.writeUInt16(l);for(be=0,q=f.length;be<q;be++)u=f[be],O.writeUInt16(u);for(je=0,V=oe.length;je<V;je++)ue=oe[je],O.writeUInt16(ue);for(Ie=0,Z=h.length;Ie<Z;Ie++)P=h[Ie],O.writeUInt16(P);return{charMap:a,subtable:O.data,maxGlyphID:K+1}}},n}(),ou=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ra(t,Gr),t.prototype.tag="cmap",t.prototype.parse=function(e){var a,l,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,l=0;0<=s?l<s:l>s;l=0<=s?++l:--l)a=new xd(e,this.offset),this.tables.push(a),a.isUnicode&&this.unicode==null&&(this.unicode=a);return!0},t.encode=function(e,a){var l,s;return a==null&&(a="macroman"),l=xd.encode(e,a),(s=new za).writeUInt16(0),s.writeUInt16(1),l.table=s.data.concat(l.subtable),l},t}(),zf=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ra(t,Gr),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Bf=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ra(t,Gr),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var a,l;for(l=[],a=0;a<10;++a)l.push(e.readByte());return l}(),this.charRange=function(){var a,l;for(l=[],a=0;a<4;++a)l.push(e.readInt());return l}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var a,l;for(l=[],a=0;a<2;a=++a)l.push(e.readInt());return l}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Uf=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ra(t,Gr),t.prototype.tag="post",t.prototype.parse=function(e){var a,l,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var c;for(l=e.readUInt16(),this.glyphNameIndex=[],c=0;0<=l?c<l:c>l;c=0<=l?++c:--c)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)a=e.readByte(),s.push(this.names.push(e.readString(a)));return s;case 151552:return l=e.readUInt16(),this.offsets=e.read(l);case 196608:break;case 262144:return this.map=(function(){var u,f,g;for(g=[],c=u=0,f=this.file.maxp.numGlyphs;0<=f?u<f:u>f;c=0<=f?++u:--u)g.push(e.readUInt32());return g}).call(this)}},t}(),Wf=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Hf=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ra(t,Gr),t.prototype.tag="name",t.prototype.parse=function(e){var a,l,s,c,u,f,g,y,v,j,h;for(e.pos=this.offset,e.readShort(),a=e.readShort(),f=e.readShort(),l=[],c=0;0<=a?c<a:c>a;c=0<=a?++c:--c)l.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+f+e.readShort()});for(g={},c=v=0,j=l.length;v<j;c=++v)s=l[c],e.pos=s.offset,y=e.readString(s.length),u=new Wf(y,s),g[h=s.nameID]==null&&(g[h]=[]),g[s.nameID].push(u);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},t}(),Vf=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ra(t,Gr),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),$f=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ra(t,Gr),t.prototype.tag="hmtx",t.prototype.parse=function(e){var a,l,s,c,u,f,g;for(e.pos=this.offset,this.metrics=[],a=0,f=this.file.hhea.numberOfMetrics;0<=f?a<f:a>f;a=0<=f?++a:--a)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var y,v;for(v=[],a=y=0;0<=s?y<s:y>s;a=0<=s?++y:--y)v.push(e.readInt16());return v}(),this.widths=(function(){var y,v,j,h;for(h=[],y=0,v=(j=this.metrics).length;y<v;y++)c=j[y],h.push(c.advance);return h}).call(this),l=this.widths[this.widths.length-1],g=[],a=u=0;0<=s?u<s:u>s;a=0<=s?++u:--u)g.push(this.widths.push(l));return g},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),lu=[].slice,Gf=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ra(t,Gr),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var a,l,s,c,u,f,g,y,v,j;return e in this.cache?this.cache[e]:(c=this.file.loca,a=this.file.contents,l=c.indexOf(e),(s=c.lengthOf(e))===0?this.cache[e]=null:(a.pos=this.offset+l,u=(f=new za(a.read(s))).readShort(),y=f.readShort(),j=f.readShort(),g=f.readShort(),v=f.readShort(),this.cache[e]=u===-1?new Kf(f,y,j,g,v):new Yf(f,u,y,j,g,v),this.cache[e]))},t.prototype.encode=function(e,a,l){var s,c,u,f,g;for(u=[],c=[],f=0,g=a.length;f<g;f++)s=e[a[f]],c.push(u.length),s&&(u=u.concat(s.encode(l)));return c.push(u.length),{table:u,offsets:c}},t}(),Yf=function(){function n(t,e,a,l,s,c){this.raw=t,this.numberOfContours=e,this.xMin=a,this.yMin=l,this.xMax=s,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Kf=function(){function n(t,e,a,l,s){var c,u;for(this.raw=t,this.xMin=e,this.yMin=a,this.xMax=l,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;u=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&u;)c.pos+=1&u?4:2,128&u?c.pos+=8:64&u?c.pos+=4:8&u&&(c.pos+=2)}return n.prototype.encode=function(){var t,e,a;for(e=new za(lu.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),Jf=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return ra(t,Gr),t.prototype.tag="loca",t.prototype.parse=function(e){var a,l;return e.pos=this.offset,a=this.file.head.indexToLocFormat,this.offsets=a===0?(function(){var s,c;for(c=[],l=0,s=this.length;l<s;l+=2)c.push(2*e.readUInt16());return c}).call(this):(function(){var s,c;for(c=[],l=0,s=this.length;l<s;l+=4)c.push(e.readUInt32());return c}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,a){for(var l=new Uint32Array(this.offsets.length),s=0,c=0,u=0;u<l.length;++u)if(l[u]=s,c<a.length&&a[c]==u){++c,l[u]=s;var f=this.offsets[u],g=this.offsets[u+1]-f;g>0&&(s+=g)}for(var y=new Array(4*l.length),v=0;v<l.length;++v)y[4*v+3]=255&l[v],y[4*v+2]=(65280&l[v])>>8,y[4*v+1]=(16711680&l[v])>>16,y[4*v]=(4278190080&l[v])>>24;return y},t}(),Xf=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,a,l,s;for(e in l=this.font.cmap.tables[0].codeMap,t={},s=this.subset)a=s[e],t[e]=l[a];return t},n.prototype.glyphsFor=function(t){var e,a,l,s,c,u,f;for(l={},c=0,u=t.length;c<u;c++)l[s=t[c]]=this.font.glyf.glyphFor(s);for(s in e=[],l)(a=l[s])!=null&&a.compound&&e.push.apply(e,a.glyphIDs);if(e.length>0)for(s in f=this.glyphsFor(e))a=f[s],l[s]=a;return l},n.prototype.encode=function(t,e){var a,l,s,c,u,f,g,y,v,j,h,R,P,I,L;for(l in a=ou.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),h={0:0},L=a.charMap)h[(f=L[l]).old]=f.new;for(R in j=a.maxGlyphID,c)R in h||(h[R]=j++);return y=function(E){var K,ue;for(K in ue={},E)ue[E[K]]=K;return ue}(h),v=Object.keys(y).sort(function(E,K){return E-K}),P=function(){var E,K,ue;for(ue=[],E=0,K=v.length;E<K;E++)u=v[E],ue.push(y[u]);return ue}(),s=this.font.glyf.encode(c,P,h),g=this.font.loca.encode(s.offsets,P),I={cmap:this.font.cmap.raw(),glyf:s.table,loca:g,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},n}();ht.API.PDFObject=function(){var n;function t(){}return n=function(e,a){return(Array(a+1).join("0")+e).slice(-a)},t.convert=function(e){var a,l,s,c;if(Array.isArray(e))return"["+function(){var u,f,g;for(g=[],u=0,f=e.length;u<f;u++)a=e[u],g.push(t.convert(a));return g}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(l in s=["<<"],e)c=e[l],s.push("/"+l+" "+t.convert(c));return s.push(">>"),s.join(`
`)}return""+e},t}();const xr=({text:n,searchTerm:t})=>{if(!t||!n)return i.jsx(i.Fragment,{children:n});const e=String(n),a=t.toLowerCase(),s=e.toLowerCase().indexOf(a);if(s===-1)return i.jsx(i.Fragment,{children:e});const c=e.slice(0,s),u=e.slice(s,s+t.length),f=e.slice(s+t.length);return i.jsxs(i.Fragment,{children:[c,i.jsx("mark",{className:"bg-warning-200 text-warning-800 dark:bg-warning-800/40 dark:text-warning-200 px-0.5 rounded",children:u}),f]})},bd=({allData:n,setData:t,loading:e,handleClickOpen:a,allInCharges:l,reports:s,juniors:c,reports_with_daily_works:u,openModal:f,setCurrentRow:g,filteredData:y,setFilteredData:v,currentPage:j,totalRows:h,lastPage:R,onPageChange:P,searchTerm:I=""})=>{var Nr,sn,Dr,jr,Yr;const{auth:L,users:E,jurisdictions:K}=hp().props;qi("(min-width: 1025px)");const ue=qi("(min-width: 641px) and (max-width: 1024px)"),se=qi("(max-width: 640px)"),oe=Q.useCallback(()=>{Tc.reload({only:["allData","reports_with_daily_works"],onSuccess:()=>{lt.success("Daily works data refreshed successfully")}})},[]),[z,M]=Q.useState(!1),[ne,ce]=Q.useState(null),[N,_]=Q.useState("structure"),D=[{key:"structure",label:"Structure",icon:"🏗️"},{key:"embankment",label:"Embankment",icon:"🏔️"},{key:"pavement",label:"Pavement",icon:"🛣️"}],[O,J]=Q.useState(new Set),[G,pe]=Q.useState(!1),[X,de]=Q.useState(null),[ve,Oe]=Q.useState(!1),[x,C]=Q.useState(null),[q,V]=Q.useState(!1),[Z,le]=Q.useState(null),[W,$]=Q.useState({isOpen:!1,dailyWork:null,newSubmissionDate:null,activeObjectionsCount:0,activeObjections:[],isLoading:!1}),be=Q.useCallback(H=>{C(H),Oe(!0)},[]),je=Q.useCallback(H=>{H&&t&&t(Te=>Te.map(we=>we.id===H.id?H:we))},[t]),Ie=Q.useCallback(H=>{de(H),pe(!0)},[]),Ee=Q.useCallback(H=>{le(H),V(!0)},[]),Ve=Q.useCallback(()=>{Tc.reload({only:["allData"],preserveScroll:!0})},[]),he=Q.useCallback(H=>{if(X&&t){const Te=n.map(we=>we.id===X.id?{...we,rfi_files_count:H}:we);t(Te)}},[X,n,t]),U=Q.useCallback(H=>{J(Te=>{const we=new Set(Te);return we.has(H)?we.delete(H):we.add(H),we})},[]);Q.useEffect(()=>{if(n&&n.length>0){const H=new Set(n.map(Te=>Te.id));J(Te=>{const we=new Set;return Te.forEach(Pe=>{H.has(Pe)&&we.add(Pe)}),we})}},[n]);const We=((Nr=L.roles)==null?void 0:Nr.includes("Administrator"))||((sn=L.roles)==null?void 0:sn.includes("Super Administrator"))||((Dr=L.roles)==null?void 0:Dr.includes("Daily Work Manager"))||!1,Je=L.designation==="Supervision Engineer"||!1;L.designation==="Quality Control Inspector"||L.designation;const Fe=H=>{var Te;return(H==null?void 0:H.incharge)&&String(H.incharge)===String((Te=L.user)==null?void 0:Te.id)},qe=H=>{var Te;return(H==null?void 0:H.assigned)&&String(H.assigned)===String((Te=L.user)==null?void 0:Te.id)},Be=H=>We||Fe(H),Me=H=>We||Je||qe(H),et=H=>We||Fe(H)||qe(H),Se=()=>We,De=Q.useMemo(()=>We?!1:(n==null?void 0:n.some(H=>Fe(H)))||!1,[We,n,(jr=L.user)==null?void 0:jr.id]);Q.useMemo(()=>We||De?!1:(n==null?void 0:n.some(H=>qe(H)))||!1,[We,De,n,(Yr=L.user)==null?void 0:Yr.id]);const Ze=Q.useMemo(()=>We,[We]),st=Q.useMemo(()=>!!(We||De),[We,De]),vt=Q.useMemo(()=>We,[We]),rt=Q.useMemo(()=>We,[We]),ct=l||E||[],ze=c||E||[],tn=K||[],Ft=[...new Set(tn.map(H=>H.incharge).filter(H=>H))],nn=ct.filter(H=>Ft.includes(H.id)),Nt=nn.length>0?nn:ct,Tt=H=>H?(E==null?void 0:E.filter(Te=>Te.report_to===parseInt(H)))||[]:[],jn=(H,Te)=>{if(!H)return"new";const we=H.toLowerCase();return we==="completed"&&Te?`completed:${Te.toLowerCase()}`:we.includes(":")||["new","in-progress","completed","rejected","resubmission","pending","emergency"].includes(we)?we:we==="completed"?"completed:pass":"new"},ut={new:{color:"primary",icon:Zp,label:"New"},"in-progress":{color:"secondary",icon:qc,label:"In Progress"},pending:{color:"default",icon:Sp,label:"Pending"},rejected:{color:"danger",icon:Bc,label:"Rejected"},resubmission:{color:"warning",icon:qc,label:"Resubmission"},emergency:{color:"danger",icon:jp,label:"Emergency"},"completed:pass":{color:"success",icon:bl,label:"Completed: Passed"},"completed:fail":{color:"danger",icon:Bc,label:"Completed: Failed"},"completed:conditional":{color:"warning",icon:bl,label:"Completed: Conditional"},"completed:pending":{color:"default",icon:bl,label:"Completed: Pending Review"}},ln=(H,Te="w-4 h-4")=>{const we=`${Te} shrink-0`;switch(H==null?void 0:H.toLowerCase()){case"embankment":return i.jsx(xl,{className:`${we} text-amber-600 dark:text-amber-400`});case"structure":return i.jsx(ma,{className:`${we} text-blue-600 dark:text-blue-400`});case"pavement":return i.jsx(Ls,{className:`${we} text-gray-600 dark:text-gray-400`});case"earthwork":return i.jsx(xl,{className:`${we} text-green-600 dark:text-green-400`});case"drainage":return i.jsx(ma,{className:`${we} text-cyan-600 dark:text-cyan-400`});case"roadwork":return i.jsx(Ls,{className:`${we} text-orange-600 dark:text-orange-400`});case"bridge":return i.jsx(xl,{className:`${we} text-purple-600 dark:text-purple-400`});case"culvert":return i.jsx(ma,{className:`${we} text-indigo-600 dark:text-indigo-400`});case"standard":default:return i.jsx(Hr,{className:`${we} text-default-500`})}},Xt=(H,Te=null)=>{if(H==="completed"&&Te){const tt=`completed:${Te}`,Re=ut[tt]||ut.new,pt=Re.icon;return i.jsx(on,{size:"sm",variant:"flat",color:Re.color,startContent:i.jsx(pt,{className:"w-3 h-3"}),classNames:{base:"h-6",content:"text-xs font-medium"},children:Re.label})}if(H&&H.includes(":")){const tt=ut[H]||ut.new,Re=tt.icon;return i.jsx(on,{size:"sm",variant:"flat",color:tt.color,startContent:i.jsx(Re,{className:"w-3 h-3"}),classNames:{base:"h-6",content:"text-xs font-medium"},children:tt.label})}const we=ut[H]||ut.new,Pe=we.icon;return i.jsx(on,{size:"sm",variant:"flat",color:we.color,startContent:i.jsx(Pe,{className:"w-3 h-3"}),classNames:{base:"h-6",content:"text-xs font-medium"},children:we.label})},Rn=H=>{if(!H)return"No date";try{return new Date(H).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})}catch{return"Invalid date"}},Mn=H=>H?(ct==null?void 0:ct.find(we=>String(we.id)===String(H)))||(ze==null?void 0:ze.find(we=>String(we.id)===String(H)))||(E==null?void 0:E.find(we=>String(we.id)===String(H)))||{name:"Unassigned",profile_image_url:null,profile_image:null}:{name:"Unassigned",profile_image_url:null,profile_image:null},Rt=H=>new Promise((Te,we)=>{const Pe=document.createElement("input");Pe.type="file",Pe.accept="image/*",Pe.multiple=!0,document.body.appendChild(Pe),Pe.onchange=async()=>{const tt=Array.from(Pe.files);if(tt.length>0)try{const Re=[];for(let it of tt){const Pt=await xt(it),re=qt(Pt,1024);Re.push(re)}const pt=await yr(Re),wt=new File([pt],`${H}_scanned_document.pdf`,{type:"application/pdf"});Te(wt),document.body.removeChild(Pe)}catch(Re){we(Re),document.body.removeChild(Pe)}else we(new Error("No files selected")),document.body.removeChild(Pe)},Pe.click()}),xt=H=>new Promise((Te,we)=>{const Pe=new Image;Pe.src=URL.createObjectURL(H),Pe.onload=()=>{Te(Pe),URL.revokeObjectURL(Pe.src)},Pe.onerror=()=>we(new Error("Failed to load image"))}),qt=(H,Te)=>{const we=H.width/H.height,Pe=Te*we,tt=document.createElement("canvas");return tt.width=Pe,tt.height=Te,tt.getContext("2d").drawImage(H,0,0,Pe,Te),tt},yr=H=>new Promise((Te,we)=>{const Pe=new ht({orientation:"portrait",unit:"px",format:[H[0].width,H[0].height]});H.forEach((tt,Re)=>{Re>0&&Pe.addPage();const pt=tt.toDataURL("image/jpeg",1);Pe.addImage(pt,"JPEG",0,0,tt.width,tt.height)});try{const tt=Pe.output("blob");Te(tt)}catch(tt){we(tt)}}),pn=async(H,Te)=>{const we=new Promise(async(Pe,tt)=>{try{const Re=new FormData;Re.append("taskId",H),Re.append("file",Te);const pt=await Mt.post(route("dailyWorks.uploadRFI"),Re,{headers:{"Content-Type":"multipart/form-data"}});pt.status===200&&(t(wt=>wt.map(it=>it.id===H?{...it,file:pt.data.url}:it)),Pe([pt.data.message||"RFI file uploaded successfully"]))}catch(Re){console.error(Re),tt(Re.response.statusText||"Failed to upload RFI file")}});lt.promise(we,{loading:"Uploading RFI file...",success:Pe=>Pe.join(", "),error:Pe=>Pe})},Tn=Q.useCallback(async(H,Te)=>{if(ne===H.id)return;ce(H.id);const we=new Promise(async(Pe,tt)=>{var Re,pt,wt,it,Pt,re,Ye,$e,Et;try{let nt=Te,Dt=null;if(Te.includes(":")){const[Zt,pr]=Te.split(":");nt=Zt,Dt=pr}const $t={id:H.id,status:nt};Dt&&($t.inspection_result=Dt);const cn=await Mt.post(route("dailyWorks.updateStatus"),$t);if(cn.status===200){t(pr=>pr.map(Sr=>Sr.id===H.id?cn.data.dailyWork:Sr));const Zt=((Re=ut[Te])==null?void 0:Re.label)||`${nt}${Dt?` - ${Dt}`:""}`;Pe(cn.data.message||`Work status updated to ${Zt}`)}}catch(nt){console.error("Error updating work status:",((pt=nt.response)==null?void 0:pt.data)||nt.message||nt);let Dt="Failed to update work status";if(((wt=nt.response)==null?void 0:wt.status)===422&&((it=nt.response.data)!=null&&it.errors)){const $t=nt.response.data.errors;Dt=Object.values($t).flat().join(", ")}else(re=(Pt=nt.response)==null?void 0:Pt.data)!=null&&re.error?Dt=nt.response.data.error:($e=(Ye=nt.response)==null?void 0:Ye.data)!=null&&$e.message?Dt=nt.response.data.message:(Et=nt.response)!=null&&Et.statusText&&(Dt=nt.response.statusText);tt(Dt)}finally{ce(null)}});lt.promise(we,{loading:"Updating work status...",success:Pe=>Pe||"Work status updated successfully!",error:Pe=>Pe||"Failed to update work status"})},[t,ne]);Q.useCallback(async(H,Te)=>{const we=new Promise(async(Pe,tt)=>{var Re,pt,wt,it,Pt;try{const re=await Mt.post(route("dailyWorks.updateCompletionTime"),{id:H.id,completion_time:Te});re.status===200&&(t(Ye=>Ye.map($e=>$e.id===H.id?re.data.dailyWork:$e)),Pe("Completion time updated successfully"))}catch(re){console.error("Error updating completion time:",((Re=re.response)==null?void 0:Re.data)||re.message||re),tt(((wt=(pt=re.response)==null?void 0:pt.data)==null?void 0:wt.error)||((Pt=(it=re.response)==null?void 0:it.data)==null?void 0:Pt.message)||"Failed to update completion time")}});lt.promise(we,{loading:"Updating completion time...",success:Pe=>Pe,error:Pe=>Pe})},[t]),Q.useCallback(async(H,Te)=>{const we=new Promise(async(Pe,tt)=>{var Re,pt,wt,it,Pt;try{const re=await Mt.post(route("dailyWorks.updateSubmissionTime"),{id:H.id,submission_time:Te});re.status===200&&(t(Ye=>Ye.map($e=>$e.id===H.id?re.data.dailyWork:$e)),Pe("Submission time updated successfully"))}catch(re){console.error("Error updating submission time:",((Re=re.response)==null?void 0:Re.data)||re.message||re),tt(((wt=(pt=re.response)==null?void 0:pt.data)==null?void 0:wt.error)||((Pt=(it=re.response)==null?void 0:it.data)==null?void 0:Pt.message)||"Failed to update submission time")}});lt.promise(we,{loading:"Updating submission time...",success:Pe=>Pe,error:Pe=>Pe})},[t]);const fn=Q.useRef(n),xe=Q.useRef(t);fn.current=n,xe.current=t;const at=Q.useMemo(()=>js.debounce(async(H,Te)=>{var tt;const we=(tt=fn.current)==null?void 0:tt.find(Re=>Re.id===H);if(!we){lt.error("Work not found");return}const Pe=new Promise(async(Re,pt)=>{var wt,it,Pt,re,Ye;try{const $e=await Mt.post(route("dailyWorks.updateIncharge"),{id:we.id,incharge:Te});$e.status===200&&(xe.current(Et=>Et.map(nt=>nt.id===we.id?$e.data.dailyWork:nt)),Re("Incharge updated successfully"))}catch($e){console.error("Error updating incharge:",((wt=$e.response)==null?void 0:wt.data)||$e.message||$e),pt(((Pt=(it=$e.response)==null?void 0:it.data)==null?void 0:Pt.error)||((Ye=(re=$e.response)==null?void 0:re.data)==null?void 0:Ye.message)||"Failed to update incharge")}});lt.promise(Pe,{loading:"Updating incharge...",success:Re=>Re,error:Re=>Re})},500),[]),Xe=Q.useMemo(()=>js.debounce(async(H,Te)=>{var tt;const we=(tt=fn.current)==null?void 0:tt.find(Re=>Re.id===H);if(!we){lt.error("Work not found");return}const Pe=new Promise(async(Re,pt)=>{var wt,it,Pt,re,Ye;try{const $e=await Mt.post(route("dailyWorks.updateAssigned"),{id:we.id,assigned:Te});$e.status===200&&(xe.current(Et=>Et.map(nt=>nt.id===we.id?$e.data.dailyWork:nt)),Re("Assigned user updated successfully"))}catch($e){console.error("Error updating assigned user:",((wt=$e.response)==null?void 0:wt.data)||$e.message||$e),pt(((Pt=(it=$e.response)==null?void 0:it.data)==null?void 0:Pt.error)||((Ye=(re=$e.response)==null?void 0:re.data)==null?void 0:Ye.message)||"Failed to update assigned user")}});lt.promise(Pe,{loading:"Updating assigned user...",success:Re=>Re,error:Re=>Re})},500),[]),bt=Q.useMemo(()=>js.debounce(async(H,Te)=>{var tt;const we=(tt=fn.current)==null?void 0:tt.find(Re=>Re.id===H);if(!we){lt.error("Work not found");return}const Pe=new Promise(async(Re,pt)=>{var wt,it,Pt,re,Ye;try{const $e=await Mt.post(route("dailyWorks.updateCompletionTime"),{id:we.id,completion_time:Te});$e.status===200&&(xe.current(Et=>Et.map(nt=>nt.id===we.id?$e.data.dailyWork:nt)),Re("Completion time updated successfully"))}catch($e){console.error("Error updating completion time:",((wt=$e.response)==null?void 0:wt.data)||$e.message||$e),pt(((Pt=(it=$e.response)==null?void 0:it.data)==null?void 0:Pt.error)||((Ye=(re=$e.response)==null?void 0:re.data)==null?void 0:Ye.message)||"Failed to update completion time")}});lt.promise(Pe,{loading:"Updating completion time...",success:Re=>Re,error:Re=>Re})},800),[]),yt=Q.useMemo(()=>js.debounce(async(H,Te)=>{var tt;const we=(tt=fn.current)==null?void 0:tt.find(Re=>Re.id===H);if(!we){lt.error("Work not found");return}const Pe=new Promise(async(Re,pt)=>{var wt,it,Pt,re,Ye;try{(await Mt.post(route("dailyWorks.updateInspectionDetails"),{id:we.id,inspection_details:Te})).status===200&&(xe.current(Et=>Et.map(nt=>nt.id===we.id?{...nt,inspection_details:Te}:nt)),Re("Inspection details updated successfully"))}catch($e){console.error("Error updating inspection details:",((wt=$e.response)==null?void 0:wt.data)||$e.message||$e),pt(((Pt=(it=$e.response)==null?void 0:it.data)==null?void 0:Pt.error)||((Ye=(re=$e.response)==null?void 0:re.data)==null?void 0:Ye.message)||"Failed to update inspection details")}});lt.promise(Pe,{loading:"Updating inspection details...",success:Re=>Re,error:Re=>Re})},800),[]),It=Q.useMemo(()=>js.debounce(async(H,Te)=>{var tt,Re,pt,wt;const we=(tt=fn.current)==null?void 0:tt.find(it=>it.id===H);if(!we){console.error("Work not found for ID:",H,"Available works:",(Re=fn.current)==null?void 0:Re.length),lt.error("Unable to find work record. Please refresh and try again.");return}if(we.active_objections_count>0){try{const it=await Mt.get(route("dailyWorks.objections.index",we.id));$({isOpen:!0,dailyWork:we,newSubmissionDate:Te,activeObjectionsCount:we.active_objections_count,activeObjections:((wt=(pt=it.data)==null?void 0:pt.objections)==null?void 0:wt.filter(Pt=>["draft","submitted","under_review"].includes(Pt.status)))||[],isLoading:!1})}catch(it){console.error("Error fetching objections:",it),$({isOpen:!0,dailyWork:we,newSubmissionDate:Te,activeObjectionsCount:we.active_objections_count,activeObjections:[],isLoading:!1})}return}const Pe=new Promise(async(it,Pt)=>{var re,Ye,$e,Et,nt;try{const Dt=await Mt.post(route("dailyWorks.updateSubmissionTime"),{id:we.id,rfi_submission_date:Te});Dt.status===200&&(xe.current($t=>$t.map(cn=>cn.id===we.id?Dt.data.dailyWork:cn)),it("RFI submission time updated successfully"))}catch(Dt){console.error("Error updating RFI submission time:",((re=Dt.response)==null?void 0:re.data)||Dt.message||Dt),Pt((($e=(Ye=Dt.response)==null?void 0:Ye.data)==null?void 0:$e.error)||((nt=(Et=Dt.response)==null?void 0:Et.data)==null?void 0:nt.message)||"Failed to update RFI submission time")}});lt.promise(Pe,{loading:"Updating RFI submission time...",success:it=>it,error:it=>it})},800),[]),Ct=Q.useCallback(async(H,Te,we)=>{var Re;const Pe=(Re=fn.current)==null?void 0:Re.find(pt=>pt.id===H);if(!Pe){lt.error("Work not found");return}$(pt=>({...pt,isLoading:!0}));const tt=new Promise(async(pt,wt)=>{var it,Pt,re,Ye,$e;try{const Et=await Mt.post(route("dailyWorks.updateSubmissionTime"),{id:Pe.id,rfi_submission_date:Te,confirm_override:!0,override_reason:we});Et.status===200&&(xe.current(nt=>nt.map(Dt=>Dt.id===Pe.id?Et.data.dailyWork:Dt)),$({isOpen:!1,dailyWork:null,newSubmissionDate:null,activeObjectionsCount:0,activeObjections:[],isLoading:!1}),pt("RFI submission time updated successfully"))}catch(Et){console.error("Error updating RFI submission time:",((it=Et.response)==null?void 0:it.data)||Et.message||Et),$(nt=>({...nt,isLoading:!1})),wt(((re=(Pt=Et.response)==null?void 0:Pt.data)==null?void 0:re.error)||(($e=(Ye=Et.response)==null?void 0:Ye.data)==null?void 0:$e.message)||"Failed to update RFI submission time")}});lt.promise(tt,{loading:"Updating RFI submission time...",success:pt=>pt,error:pt=>pt})},[]),Qn=Q.useCallback(()=>{$({isOpen:!1,dailyWork:null,newSubmissionDate:null,activeObjectionsCount:0,activeObjections:[],isLoading:!1})},[]);Q.useEffect(()=>()=>{at.cancel(),Xe.cancel(),bt.cancel(),yt.cancel(),It.cancel()},[at,Xe,bt,yt,It]);const Wn=async(H,Te,we,Pe,tt)=>{const Re=n==null?void 0:n.find(wt=>wt.id===H);if(!Re){lt.error("Work not found");return}const pt=new Promise(async(wt,it)=>{var Pt,re,Ye,$e,Et;try{const nt={id:H,[we]:Pe,date:Re.date||new Date().toISOString().split("T")[0],number:Re.number||`RFI-${Date.now()}`,planned_time:Re.planned_time||"09:00",status:we==="status"?Pe:Re.status||"new",type:Re.type||"Standard",description:Re.description||"Work description pending",location:Re.location||"Location to be determined",side:Re.side||"Both"};if(we==="status")if(Pe==="completed"){if(nt.completion_time=Re.completion_time||new Date().toISOString(),nt.submission_time=Re.submission_time||new Date().toISOString(),tt!=="Structure"){const $t=await Rt(Te);$t&&await pn(H,$t)}}else Pe==="resubmission"?nt.resubmission_count=(Re.resubmission_count||0)+1:Pe==="new"&&(nt.completion_time=null,nt.submission_time=null);const Dt=await Mt.post(route("dailyWorks.update"),nt);Dt.status===200&&(t($t=>$t.map(cn=>cn.id===H?{...cn,[we]:Pe,...we==="status"&&Pe==="completed"&&{completion_time:nt.completion_time,submission_time:nt.submission_time},...we==="status"&&Pe==="resubmission"&&{resubmission_count:nt.resubmission_count},...we==="status"&&Pe==="new"&&{completion_time:null,submission_time:null}}:cn)),wt(Dt.data.message||"Task updated successfully"))}catch(nt){console.error(nt);let Dt="An unexpected error occurred.";if(((Pt=nt.response)==null?void 0:Pt.status)===422&&((re=nt.response.data)!=null&&re.errors)){const $t=nt.response.data.errors;Dt=Object.values($t).flat().join(", ")}else($e=(Ye=nt.response)==null?void 0:Ye.data)!=null&&$e.message?Dt=nt.response.data.message:(Et=nt.response)!=null&&Et.statusText&&(Dt=nt.response.statusText);it(Dt)}});lt.promise(pt,{loading:"Updating task...",success:wt=>wt,error:wt=>wt})},Hn=({works:H,selectedTab:Te,setSelectedTab:we,expandedItems:Pe,toggleExpanded:tt,openStatusModal:Re,openRfiFilesModal:pt,openObjectionsModal:wt})=>{const it=Q.useMemo(()=>{const re={structure:[],embankment:[],pavement:[]};return H.forEach(Ye=>{var Et;const $e=((Et=Ye.type)==null?void 0:Et.toLowerCase())||"structure";re[$e]?re[$e].push(Ye):re.structure.push(Ye)}),re},[H]),Pt=({work:re,index:Ye,isExpanded:$e,onToggle:Et,openStatusModal:nt,openRfiFilesModal:Dt,openObjectionsModal:$t})=>{const cn=Mn(re.incharge),Zt=Mn(re.assigned),pr=jn(re.status,re.inspection_result),Sr=ut[pr]||ut.new,Gi=Sr.icon,ci=Lt=>{(Lt.key==="Enter"||Lt.key===" ")&&(Lt.preventDefault(),Et())},Or=({label:Lt,value:rn,chip:Wa,chipColor:Yi="default",highlight:di=!1})=>i.jsxs("div",{className:"flex items-center justify-between py-0.5 border-b border-divider/20 last:border-b-0 gap-2",children:[i.jsx("span",{className:"text-[10px] text-default-400 shrink-0",children:Lt}),Wa?i.jsx(on,{size:"sm",variant:"flat",color:Yi,className:"text-[9px] h-3.5 px-1",children:di?i.jsx(xr,{text:rn,searchTerm:I}):rn}):i.jsx("span",{className:"text-[10px] font-medium text-default-600 text-right truncate max-w-[65%]",children:di?i.jsx(xr,{text:rn,searchTerm:I}):rn})]});return i.jsxs(Un,{radius:ft(),className:`bg-content1 border shadow-sm ${re.active_objections_count>0?"border-warning/60 bg-warning-50/30":"border-divider/40"}`,style:{fontFamily:'var(--fontFamily, "Inter")'},role:"article","aria-label":`Daily work ${re.number}`,children:[i.jsx(El,{className:"p-2 cursor-pointer select-none active:scale-[0.99] transition-transform duration-100",onClick:Et,onKeyDown:ci,tabIndex:0,role:"button","aria-expanded":$e,children:i.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 w-full",children:[i.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[re.rfi_files_count>0&&i.jsx(yl,{className:"w-3 h-3 text-success shrink-0"}),re.active_objections_count>0&&i.jsx(Fs,{className:"w-3 h-3 text-warning shrink-0 animate-pulse cursor-pointer",onClick:Lt=>{Lt.stopPropagation(),$t(re)},title:`${re.active_objections_count} active objection(s)`}),i.jsx("span",{className:"font-semibold text-[11px] text-default-800 break-all",children:i.jsx(xr,{text:re.number,searchTerm:I})}),re.rfi_files_count>0&&i.jsxs("span",{className:"text-[9px] text-success shrink-0",children:["(",re.rfi_files_count,")"]}),re.active_objections_count>0&&i.jsxs("span",{className:"text-[9px] text-warning shrink-0",children:["⚠",re.active_objections_count]})]}),i.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[i.jsx(on,{size:"sm",variant:"flat",color:Sr.color,className:"h-4 text-[9px] px-1",children:Sr.label.split(":")[0]}),i.jsx("div",{className:`w-4 h-4 rounded-full bg-default-100 flex items-center justify-center transition-transform duration-200 ${$e?"rotate-180":""}`,children:i.jsx("svg",{className:"w-2.5 h-2.5 text-default-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),$e&&i.jsxs(Zn,{className:"px-2 pb-2 pt-0",onClick:Lt=>Lt.stopPropagation(),children:[i.jsx(si,{className:"mb-2"}),i.jsxs("div",{className:"bg-default-50 rounded-lg p-1.5 mb-2",children:[i.jsx(Or,{label:"Date",value:Rn(re.date),highlight:!0}),re.description&&i.jsx(Or,{label:"Description",value:re.description,highlight:!0}),i.jsx(Or,{label:"Location",value:re.location||"Not set",highlight:!0}),i.jsx(Or,{label:"Side",value:re.side||"Both",chip:!0,highlight:!0}),re.qty_layer&&i.jsx(Or,{label:"Qty/Layer",value:re.qty_layer,highlight:!0}),i.jsx(Or,{label:"Planned",value:re.planned_time||"Not set",highlight:!0}),re.resubmission_count>0&&i.jsx(Or,{label:"Resubmissions",value:re.resubmission_count,chip:!0,chipColor:"warning"})]}),i.jsxs("div",{className:"space-y-1.5",children:[Ze&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-[10px] text-default-400 w-14 shrink-0",children:"In-charge:"}),i.jsx(sr,{size:"sm",variant:"bordered",radius:ft(),placeholder:"Select","aria-label":"Select in-charge",selectedKeys:re.incharge?[String(re.incharge)]:[],onSelectionChange:Lt=>{const rn=Array.from(Lt)[0];rn&&at(re.id,rn)},classNames:{base:"flex-1",trigger:"min-h-6 h-6",value:"text-[10px]",popoverContent:"max-w-[280px]"},renderValue:()=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ei,{src:cn.profile_image_url,size:"xs",name:cn.name,className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px] truncate",children:cn.name})]}),children:Nt.map(Lt=>i.jsx(Ln,{textValue:Lt.name,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ei,{src:Lt.profile_image_url,size:"sm",name:Lt.name,className:"w-5 h-5"}),i.jsx("span",{className:"text-xs",children:Lt.name})]})},String(Lt.id)))})]}),st&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-[10px] text-default-400 w-14 shrink-0",children:"Assigned:"}),Be(re)?i.jsx(sr,{size:"sm",variant:"bordered",radius:ft(),placeholder:"Select","aria-label":"Select assignee",selectedKeys:re.assigned?[String(re.assigned)]:[],onSelectionChange:Lt=>{const rn=Array.from(Lt)[0];rn&&Xe(re.id,rn)},classNames:{base:"flex-1",trigger:"min-h-6 h-6",value:"text-[10px]",popoverContent:"max-w-[280px]"},renderValue:()=>Zt.name!=="Unassigned"?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ei,{src:Zt.profile_image_url,size:"xs",name:Zt.name,className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px] truncate",children:Zt.name})]}):i.jsx("span",{className:"text-[10px] text-default-400",children:"Select"}),children:Tt(re.incharge).map(Lt=>i.jsx(Ln,{textValue:Lt.name,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ei,{src:Lt.profile_image_url,size:"sm",name:Lt.name,className:"w-4 h-4"}),i.jsx("span",{className:"text-[10px]",children:Lt.name})]})},String(Lt.id)))}):i.jsxs("div",{className:"flex-1 flex items-center gap-1",children:[i.jsx(ei,{src:Zt.profile_image_url,size:"xs",name:Zt.name,className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px] text-default-600",children:Zt.name||"Unassigned"})]})]}),Me(re)&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-[10px] text-default-400 w-14 shrink-0",children:"Status:"}),i.jsx(sr,{size:"sm",variant:"bordered",radius:ft(),"aria-label":"Select status",selectedKeys:[pr],onSelectionChange:Lt=>{const rn=Array.from(Lt)[0];rn&&rn!==pr&&Tn(re,rn)},classNames:{trigger:"min-h-7 h-7 bg-content2/50",value:"text-[10px]"},renderValue:Lt=>Lt.map(rn=>i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Gi,{className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px]",children:Sr.label})]},rn.key)),children:Object.entries(ut).map(([Lt,rn])=>i.jsx(Ln,{textValue:rn.label,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rn.icon,{className:`w-4 h-4 text-${rn.color}`}),i.jsx("span",{children:rn.label})]})},Lt))})]}),i.jsxs("div",{className:"flex flex-col gap-0.5",children:[i.jsx("span",{className:"text-[10px] text-default-400",children:"Inspection Details:"}),i.jsx(On,{size:"sm",type:"text",variant:"bordered",radius:ft(),placeholder:"Enter details...",defaultValue:re.inspection_details||"",onChange:Lt=>yt(re.id,Lt.target.value),classNames:{base:"w-full",input:"text-[10px]",inputWrapper:"min-h-7 h-7"}})]}),i.jsxs("div",{className:"flex flex-col gap-0.5",children:[i.jsx("span",{className:"text-[10px] text-default-400",children:"Completion:"}),i.jsx(On,{size:"sm",type:"datetime-local",variant:"bordered",radius:ft(),value:re.completion_time?new Date(re.completion_time).toLocaleString("sv-SE").replace(" ","T").slice(0,16):"",onChange:Lt=>bt(re.id,Lt.target.value),classNames:{base:"w-full",input:"text-[10px]",inputWrapper:"min-h-7 h-7"}})]}),vt&&i.jsxs("div",{className:"flex flex-col gap-0.5",children:[i.jsx("span",{className:"text-[10px] text-default-400",children:"RFI Date:"}),i.jsx(On,{size:"sm",type:"date",variant:"bordered",radius:ft(),value:re.rfi_submission_date?new Date(re.rfi_submission_date).toISOString().slice(0,10):"",onChange:Lt=>It(re.id,Lt.target.value),classNames:{base:"w-full",input:"text-[10px]",inputWrapper:"min-h-7 h-7"}})]})]}),i.jsxs("div",{className:"flex gap-1.5 mt-2 pt-1.5 border-t border-divider",children:[i.jsxs(mt,{size:"sm",variant:"flat",color:re.rfi_files_count>0?"success":"default",radius:ft(),className:"flex-1 h-7 text-[10px]",onPress:()=>{Dt(re)},children:["Files ",re.rfi_files_count>0&&`(${re.rfi_files_count})`]}),et(re)&&i.jsxs(mt,{size:"sm",variant:"flat",color:re.active_objections_count>0?"warning":"default",radius:ft(),className:"flex-1 h-7 text-[10px]",onPress:()=>$t(re),children:["Objections ",re.active_objections_count>0&&`(${re.active_objections_count})`]}),rt&&i.jsxs(i.Fragment,{children:[i.jsx(mt,{size:"sm",variant:"flat",color:"primary",radius:ft(),className:"flex-1 h-7 text-[10px]",onPress:()=>{g(re),f("editDailyWork")},children:"Edit"}),i.jsx(mt,{size:"sm",variant:"flat",color:"danger",radius:ft(),className:"flex-1 h-7 text-[10px]",onPress:()=>a(re.id,"deleteDailyWork"),children:"Delete"})]})]})]})]})};return i.jsxs("div",{className:"w-full",children:[i.jsx("div",{className:"flex overflow-x-auto border-b border-divider scrollbar-hide -mx-1 px-1",children:D.map(re=>{var Ye;return i.jsxs("button",{onClick:()=>we(re.key),className:`flex items-center gap-1 px-2 py-1.5 min-w-fit whitespace-nowrap border-b-2 transition-all duration-150 ${Te===re.key?"border-primary text-primary font-semibold":"border-transparent text-default-500"}`,children:[i.jsx("span",{className:"text-[10px]",children:re.icon}),i.jsx("span",{className:"text-[10px]",children:re.label}),i.jsx("span",{className:`min-w-[16px] h-3.5 px-1 rounded-full text-[9px] font-medium flex items-center justify-center ${Te===re.key?"bg-primary text-white":"bg-default-100 text-default-600"}`,children:((Ye=it[re.key])==null?void 0:Ye.length)||0})]},re.key)})}),i.jsx("div",{className:"pt-2",children:D.map(re=>{var Ye;return i.jsx("div",{className:Te===re.key?"block":"hidden",children:((Ye=it[re.key])==null?void 0:Ye.length)>0?i.jsx("div",{className:"flex flex-col gap-2",children:it[re.key].map(($e,Et)=>i.jsx(Qp,{onEdit:()=>{g($e),f("editDailyWork")},onDelete:()=>a($e.id,"deleteDailyWork"),onStatusChange:()=>{$e.status!=="completed"&&Tn($e,"completed:pass")},disabled:!rt,children:i.jsx(Pt,{work:$e,index:Et,isExpanded:Pe.has($e.id),onToggle:()=>tt($e.id),openStatusModal:Re,openRfiFilesModal:pt,openObjectionsModal:wt})},$e.id))}):i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"text-4xl mb-3",children:re.icon}),i.jsxs("div",{className:"text-default-500 text-sm",children:["No ",re.label.toLowerCase()," works found"]})]})},re.key)})})]})},qn=Q.useCallback(H=>{P&&P(H)},[P]),Pn="text-xs sm:text-sm md:text-base whitespace-nowrap",er=Q.useCallback((H,Te)=>{var tt,Re,pt;const we=Mn(H.incharge),Pe=Mn(H.assigned);switch(Te){case"date":return i.jsx(gn,{className:Pn,children:i.jsxs("div",{className:"flex items-center justify-center gap-1 whitespace-nowrap",children:[i.jsx(Oi,{className:"w-3 h-3 text-default-500"}),i.jsx("span",{className:"text-sm font-medium",children:i.jsx(xr,{text:Rn(H.date),searchTerm:I})})]})});case"number":return i.jsx(gn,{className:"max-w-40",children:i.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 w-full whitespace-nowrap",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Wr,{content:H.rfi_files_count>0?`View ${H.rfi_files_count} RFI file(s)`:"Manage RFI files",children:i.jsx(mt,{isIconOnly:!0,size:"sm",variant:"light",className:"w-5 h-5 min-w-5",onPress:()=>Ie(H),children:H.rfi_files_count>0?i.jsx(Hc,{className:"w-3.5 h-3.5 text-primary"}):i.jsx(Co,{className:"w-3.5 h-3.5 text-default-400"})})}),(H.status==="completed"||(tt=H.status)!=null&&tt.startsWith("completed:"))&&H.file?i.jsx(op,{isExternal:!0,href:H.file,color:(()=>{var Ye;const re=jn(H.status,H.inspection_result);return((Ye=ut[re])==null?void 0:Ye.color)||"default"})(),size:"sm",className:"font-medium text-center",title:H.number,children:i.jsx(xr,{text:H.number,searchTerm:I})}):i.jsx("span",{className:"text-sm font-medium text-primary text-center",title:H.number,children:i.jsx(xr,{text:H.number,searchTerm:I})}),H.rfi_files_count>0&&i.jsx(Wr,{content:`${H.rfi_files_count} file(s) attached`,children:i.jsx("span",{className:"flex items-center",children:i.jsx(yl,{className:"w-3.5 h-3.5 text-success"})})}),H.active_objections_count>0&&i.jsx(Wr,{content:`${H.active_objections_count} active objection(s) - Click to view`,children:i.jsx("span",{className:"flex items-center cursor-pointer",onClick:()=>Ee(H),children:i.jsx(Fs,{className:"w-3.5 h-3.5 text-warning animate-pulse"})})})]}),(Re=H.reports)==null?void 0:Re.map(re=>i.jsxs("span",{className:"text-xs text-default-500 text-center",title:`• ${re.ref_no}`,children:["• ",i.jsx(xr,{text:re.ref_no,searchTerm:I})]},re.ref_no))]})});case"status":const wt=jn(H.status,H.inspection_result),it=ut[wt]||ut.new,Pt=it.icon;return i.jsx(gn,{className:"min-w-48",children:i.jsx("div",{className:"flex items-center justify-center w-full",children:Me(H)?i.jsx(sr,{size:"sm",variant:"bordered",radius:ft(),"aria-label":"Select status",selectedKeys:[wt],onSelectionChange:re=>{const Ye=Array.from(re)[0];Ye&&Ye!==wt&&Tn(H,Ye)},classNames:{trigger:"min-h-10 bg-content2/50 hover:bg-content2/80",value:"text-xs"},style:{fontFamily:'var(--fontFamily, "Inter")'},renderValue:re=>re.map(Ye=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pt,{className:`w-4 h-4 text-${it.color}`}),i.jsx("span",{className:"text-xs font-medium",children:it.label})]},Ye.key)),children:Object.entries(ut).map(([re,Ye])=>i.jsx(Ln,{textValue:Ye.label,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ye.icon,{className:`w-4 h-4 text-${Ye.color}`}),i.jsx("span",{children:Ye.label})]})},re))}):Xt(H.status,H.inspection_result)})});case"type":return i.jsx(gn,{className:Pn,children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[ln(H.type,"w-4 h-4"),i.jsx("span",{className:"text-sm font-medium capitalize",children:i.jsx(xr,{text:H.type||"Standard Work",searchTerm:I})})]})});case"description":return i.jsx(gn,{className:`max-w-60 ${Pn}`,children:i.jsx("div",{className:"w-full overflow-hidden",children:i.jsx("span",{className:"text-sm text-default-600 line-clamp-2",title:H.description||"No description provided",children:i.jsx(xr,{text:H.description||"No description provided",searchTerm:I})})})});case"location":return i.jsx(gn,{className:"max-w-48",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 overflow-hidden",children:[i.jsx(Ls,{className:"w-3 h-3 text-default-500 shrink-0"}),i.jsx("span",{className:"text-sm font-medium line-clamp-2 text-center",title:H.location||"Location not specified",children:i.jsx(xr,{text:H.location||"Location not specified",searchTerm:I})})]})});case"side":return i.jsx(gn,{children:i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(on,{size:"sm",variant:"flat",color:"default",className:"capitalize",children:i.jsx(xr,{text:H.side||"Both Sides",searchTerm:I})})})});case"qty_layer":return i.jsx(gn,{children:i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("span",{className:"text-sm",children:i.jsx(xr,{text:H.qty_layer?H.qty_layer:"N/A",searchTerm:I})})})});case"planned_time":return i.jsx(gn,{children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx(ga,{className:"w-3 h-3 text-default-500"}),i.jsx("span",{className:"text-sm",children:i.jsx(xr,{text:H.planned_time||"Not set",searchTerm:I})})]})});case"resubmission_count":return i.jsx(gn,{children:i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(on,{size:"sm",variant:"flat",color:H.resubmission_count>0?"warning":"default",children:H.resubmission_count||0})})});case"incharge":return i.jsx(gn,{className:"w-64",children:i.jsx("div",{className:"flex items-center justify-center",children:We?i.jsx(sr,{size:"sm",variant:"bordered",radius:ft(),placeholder:"Select in-charge","aria-label":"Select in-charge person",selectedKeys:H.incharge&&Nt.find(re=>re.id===parseInt(H.incharge))?[String(H.incharge)]:[],onSelectionChange:re=>{const Ye=Array.from(re)[0];Ye&&at(H.id,Ye)},classNames:{trigger:"min-h-10 w-full bg-content2/50 hover:bg-content2/80 focus:bg-content2/90 transition-colors",value:"text-sm leading-tight",popoverContent:"w-64 max-w-[300px]"},style:{fontFamily:'var(--fontFamily, "Inter")'},renderValue:re=>re.length===0?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_s,{className:"w-4 h-4 text-default-400"}),i.jsx("span",{className:"text-xs",children:"Select in-charge"})]}):re.map(Ye=>i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(ei,{src:we.profile_image_url||we.profile_image,size:"sm",name:we.name,showBorder:!0}),i.jsx("span",{className:"text-xs font-medium truncate max-w-[120px]",title:we.name,children:we.name})]},Ye.key)),children:Nt==null?void 0:Nt.map(re=>i.jsx(Ln,{textValue:re.name,children:i.jsx(mo,{size:"sm",name:re.name,description:`Employee ID: ${re.employee_id||"N/A"}`,avatarProps:{size:"sm",src:re.profile_image_url||re.profile_image,name:re.name,...vo({name:re.name,size:"sm"})}})},re.id))}):i.jsx("div",{className:"flex items-center justify-center gap-2",children:we.name!=="Unassigned"?i.jsx(mo,{size:"sm",name:i.jsx("span",{className:"truncate max-w-[100px]",title:we.name,children:we.name}),description:"In-charge",avatarProps:{size:"sm",src:we.profile_image_url||we.profile_image,name:we.name,...vo({name:we.name,size:"sm"})},classNames:{name:"text-xs font-medium leading-tight",description:"text-xs text-default-400"}}):i.jsx(on,{size:"sm",variant:"flat",color:"default",children:"Unassigned"})})})});case"assigned":return i.jsx(gn,{className:"w-64 text-center",children:i.jsx("div",{className:"flex items-center justify-center",children:Be(H)?i.jsx(sr,{size:"sm",variant:"bordered",radius:ft(),placeholder:"Select assignee","aria-label":"Select assigned person",selectedKeys:H.assigned&&Tt(H.incharge).find(re=>re.id===parseInt(H.assigned))?[String(H.assigned)]:[],onSelectionChange:re=>{const Ye=Array.from(re)[0];Ye&&Xe(H.id,Ye)},classNames:{trigger:"min-h-10 w-full bg-content2/50 hover:bg-content2/80 focus:bg-content2/90 transition-colors",value:"text-sm leading-tight text-center",popoverContent:"w-64 max-w-[300px]"},style:{fontFamily:'var(--fontFamily, "Inter")'},renderValue:re=>re.length===0?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_s,{className:"w-4 h-4 text-default-400"}),i.jsx("span",{className:"text-xs",children:"Select assignee"})]}):re.map(Ye=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ei,{src:Pe.profile_image_url||Pe.profile_image,size:"sm",name:Pe.name,showBorder:!0}),i.jsx("span",{className:"text-xs font-medium truncate max-w-[120px]",title:Pe.name,children:Pe.name})]},Ye.key)),children:(pt=Tt(H.incharge))==null?void 0:pt.map(re=>{var Ye;return i.jsx(Ln,{textValue:re.name,children:i.jsx(mo,{size:"sm",name:re.name,description:re.designation_title||((Ye=re.designation)==null?void 0:Ye.title)||"Staff",avatarProps:{size:"sm",src:re.profile_image_url||re.profile_image,name:re.name,...vo({name:re.name,size:"sm"})}})},re.id)})}):i.jsx("div",{className:"flex items-center justify-center gap-2",children:Pe.name!=="Unassigned"?i.jsx(mo,{size:"sm",name:i.jsx("span",{className:"truncate max-w-[100px]",title:Pe.name,children:Pe.name}),description:"Assigned",avatarProps:{size:"sm",src:Pe.profile_image_url||Pe.profile_image,name:Pe.name,...vo({name:Pe.name,size:"sm"})},classNames:{name:"text-xs font-medium",description:"text-xs text-default-400"}}):i.jsx(on,{size:"sm",variant:"flat",color:"default",children:"Unassigned"})})})});case"inspection_details":return i.jsx(gn,{className:"min-w-48",children:i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(On,{size:"sm",type:"text",variant:"bordered",radius:ft(),placeholder:"Enter details...",defaultValue:H.inspection_details||"",onChange:re=>yt(H.id,re.target.value),startContent:i.jsx(Hr,{className:"w-4 h-4 text-default-400"}),classNames:{input:"text-xs",inputWrapper:"min-h-10 bg-content2/50 hover:bg-content2/80 focus-within:bg-content2/90 border-divider/50 hover:border-divider data-[focus]:border-primary"},style:{fontFamily:"var(--font-family)"}})})});case"completion_time":return i.jsx(gn,{children:i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(On,{size:"sm",type:"datetime-local",variant:"bordered",value:H.completion_time?new Date(H.completion_time).toLocaleString("sv-SE").replace(" ","T").slice(0,16):"",onChange:re=>bt(H.id,re.target.value),startContent:i.jsx(Vr,{className:"w-4 h-4 text-default-400"}),classNames:{input:"text-xs text-center",inputWrapper:"min-h-10 bg-content2/50 hover:bg-content2/80 focus-within:bg-content2/90 border-divider/50 hover:border-divider data-[focus]:border-primary"},style:{fontFamily:"var(--font-family)"}})})});case"rfi_submission_date":return i.jsx(gn,{children:We?i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(On,{size:"sm",type:"date",variant:"bordered",value:H.rfi_submission_date?new Date(H.rfi_submission_date).toISOString().slice(0,10):"",onChange:re=>It(H.id,re.target.value),startContent:i.jsx(Oi,{className:"w-4 h-4 text-default-400"}),classNames:{input:"text-xs text-center",inputWrapper:"min-h-10 bg-content2/50 hover:bg-content2/80 focus-within:bg-content2/90 border-divider/50 hover:border-divider data-[focus]:border-primary"},style:{fontFamily:"var(--font-family)"}})}):i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx(Oi,{className:"w-3 h-3 text-default-500"}),i.jsx("span",{className:"text-sm",children:H.rfi_submission_date?Rn(H.rfi_submission_date):"Not set"})]})});case"actions":return i.jsx(gn,{children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx(Wr,{content:H.rfi_files_count>0?`Files (${H.rfi_files_count})`:"Manage Files",children:i.jsx(mt,{isIconOnly:!0,size:"sm",variant:"ghost",color:H.rfi_files_count>0?"success":"default",radius:ft(),onPress:()=>Ie(H),className:"min-w-8 h-8",children:H.rfi_files_count>0?i.jsx(yl,{className:"w-4 h-4"}):i.jsx(Hc,{className:"w-4 h-4"})})}),(et(H)||Se())&&i.jsx(Wr,{content:H.active_objections_count>0?`Objections (${H.active_objections_count})`:"Manage Objections",children:i.jsx(mt,{isIconOnly:!0,size:"sm",variant:"ghost",color:H.active_objections_count>0?"warning":"default",radius:ft(),onPress:()=>Ee(H),className:"min-w-8 h-8",children:i.jsx(Fs,{className:`w-4 h-4 ${H.active_objections_count>0?"animate-pulse":""}`})})}),i.jsx(Wr,{content:"Edit Work",children:i.jsx(mt,{isIconOnly:!0,size:"sm",variant:"ghost",color:"primary",radius:ft(),onPress:()=>{ne!==H.id&&(g(H),f("editDailyWork"))},className:"min-w-8 h-8",children:i.jsx(Td,{className:"w-4 h-4"})})}),i.jsx(Wr,{content:"Delete Work",color:"danger",children:i.jsx(mt,{isIconOnly:!0,size:"sm",variant:"ghost",color:"danger",radius:ft(),onPress:()=>{ne!==H.id&&(g(H),a(H.id,"deleteDailyWork"))},className:"min-w-8 h-8",children:i.jsx(ii,{className:"w-4 h-4"})})})]})});default:return i.jsx(gn,{children:H[Te]})}},[We,Je,ne,g,f,a,Wn]),kn=[{name:"Date",uid:"date",icon:Oi,sortable:!0,width:"w-24"},{name:"RFI Number",uid:"number",icon:ma,sortable:!0,width:"w-32"},{name:"Work Type",uid:"type",icon:Hr,sortable:!0,width:"w-28"},{name:"Description",uid:"description",icon:Hr,sortable:!1,width:"w-60"},{name:"Location",uid:"location",icon:Ls,sortable:!0,width:"w-48"},{name:"Road Side",uid:"side",sortable:!0,width:"w-20"},{name:"Layer Quantity",uid:"qty_layer",sortable:!0,width:"w-24"},{name:"Planned Time",uid:"planned_time",icon:ga,sortable:!0,width:"w-28"},{name:"Resubmissions",uid:"resubmission_count",icon:Vi,sortable:!0,width:"w-28"},...Ze?[{name:"In-Charge",uid:"incharge",icon:_s,sortable:!0,width:"w-64"}]:[],...st?[{name:"Assigned To",uid:"assigned",icon:_s,sortable:!0,width:"w-64"}]:[],{name:"Status",uid:"status",icon:ga,sortable:!0,width:"w-56"},{name:"Inspection Details",uid:"inspection_details",icon:Hr,sortable:!1,width:"w-48"},{name:"Completion Time",uid:"completion_time",icon:Vr,sortable:!0,width:"w-56"},...vt?[{name:"RFI Submission Date",uid:"rfi_submission_date",icon:Oi,sortable:!0,width:"w-36"}]:[],...rt?[{name:"Actions",uid:"actions",sortable:!1,width:"w-28"}]:[]],tr=()=>i.jsxs("div",{className:"w-full",children:[i.jsx("div",{className:"flex overflow-x-auto border-b border-divider scrollbar-hide -mx-1 px-1",children:D.map(H=>i.jsxs("button",{onClick:()=>_(H.key),className:`flex items-center gap-1 px-2 py-1.5 min-w-fit whitespace-nowrap border-b-2 transition-all duration-150 ${N===H.key?"border-primary text-primary font-semibold":"border-transparent text-default-500"}`,children:[i.jsx("span",{className:"text-[10px]",children:H.icon}),i.jsx("span",{className:"text-[10px]",children:H.label}),i.jsx("span",{className:`min-w-[16px] h-3.5 px-1 rounded-full text-[9px] font-medium flex items-center justify-center ${N===H.key?"bg-primary text-white":"bg-default-100 text-default-600"}`,children:"-"})]},H.key))}),i.jsx("div",{className:"py-2 space-y-1.5",children:Array.from({length:5}).map((H,Te)=>i.jsx(Un,{className:"w-full border border-divider/50 shadow-none",children:i.jsx(El,{className:"p-2 gap-1.5",children:i.jsxs("div",{className:"flex items-center gap-1.5 w-full",children:[i.jsx(ir,{className:"flex-1 h-3 rounded"}),i.jsx(ir,{className:"w-12 h-4 rounded-full shrink-0"}),i.jsx(ir,{className:"w-4 h-4 rounded-full shrink-0"})]})})},Te))})]}),wr=()=>i.jsx("div",{className:"divide-y divide-divider",children:Array.from({length:8}).map((H,Te)=>i.jsx("div",{className:"flex bg-content1 hover:bg-content2/50",children:kn.map((we,Pe)=>i.jsx("div",{className:"flex-1 p-3 flex items-center justify-center",children:we.uid==="status"?i.jsx(ir,{className:"w-28 h-7 rounded"}):we.uid==="description"?i.jsxs("div",{className:"w-full space-y-1",children:[i.jsx(ir,{className:"w-full h-3 rounded"}),i.jsx(ir,{className:"w-3/4 h-3 rounded"})]}):we.uid==="incharge"||we.uid==="assigned"?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ir,{className:"w-7 h-7 rounded-full"}),i.jsx(ir,{className:"w-16 h-3 rounded"})]}):we.uid==="completion_time"||we.uid==="rfi_submission_date"?i.jsx(ir,{className:"w-28 h-7 rounded"}):we.uid==="actions"?i.jsxs("div",{className:"flex gap-1",children:[i.jsx(ir,{className:"w-7 h-7 rounded"}),i.jsx(ir,{className:"w-7 h-7 rounded"})]}):we.uid==="side"||we.uid==="resubmission_count"?i.jsx(ir,{className:"w-14 h-5 rounded-full"}):i.jsx(ir,{className:"w-16 h-3 rounded"})},Pe))},Te))}),Er=()=>i.jsxs("div",{className:"max-h-[84vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-default-700",children:"Daily Works"}),i.jsx(mt,{variant:"flat",color:"primary",size:"sm",radius:ft(),isDisabled:!0,startContent:i.jsx(Mo,{size:"sm"}),children:"Loading..."})]}),i.jsx(go,{className:"max-h-[70vh]",children:i.jsxs("div",{className:"border border-divider rounded-lg overflow-hidden",children:[i.jsx("div",{className:"bg-default-100/80 backdrop-blur-md border-b border-divider",children:i.jsx("div",{className:"flex",children:kn.map(H=>{const Te=H.icon;return i.jsxs("div",{className:"flex-1 p-3 flex items-center justify-center gap-1 text-xs font-medium text-default-600",children:[Te&&i.jsx(Te,{className:"w-3 h-3"}),i.jsx("span",{children:H.name})]},H.uid)})})}),i.jsx(wr,{})]})}),i.jsx("div",{className:"py-4 flex justify-center",children:i.jsx(vl,{isDisabled:!0,total:R||1,page:j,showControls:!0,size:"sm",radius:ft()})})]});return e?se?i.jsx("div",{className:"space-y-3",children:i.jsx(go,{className:"max-h-[calc(100vh-280px)] min-h-[300px]",hideScrollBar:!0,children:i.jsx(tr,{})})}):i.jsx(Er,{}):se?i.jsxs("div",{className:"space-y-3",children:[i.jsx(go,{className:"max-h-[calc(100vh-280px)] min-h-[300px]",hideScrollBar:!0,children:i.jsx(Hn,{works:n||[],selectedTab:N,setSelectedTab:_,expandedItems:O,toggleExpanded:U,openStatusModal:be,openRfiFilesModal:Ie,openObjectionsModal:Ee})}),R>1&&i.jsx("div",{className:"flex justify-center pt-2 pb-safe",children:i.jsx(vl,{showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:j,total:R,onChange:qn,size:"sm",siblings:0,boundaries:1,radius:ft(),classNames:{wrapper:"bg-content1/80 backdrop-blur-md border-divider/50 gap-1",item:"bg-content1/50 border-divider/30 min-w-8 h-8",cursor:"bg-primary/20 backdrop-blur-md"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),i.jsx(Gc,{isOpen:G,onClose:()=>{pe(!1),de(null)},dailyWork:X,onFilesUpdated:he}),i.jsx(Yc,{open:ve,closeModal:()=>{Oe(!1),C(null)},dailyWork:x,onStatusUpdated:je}),i.jsx(Xc,{isOpen:q,onClose:()=>{V(!1),le(null)},dailyWork:Z,onObjectionsUpdated:Ve,canCreate:Z?et(Z):!1,canReview:Se()}),i.jsx(Zc,{isOpen:W.isOpen,onClose:Qn,dailyWork:W.dailyWork,newSubmissionDate:W.newSubmissionDate,activeObjectionsCount:W.activeObjectionsCount,activeObjections:W.activeObjections,isLoading:W.isLoading,onConfirm:Ct})]}):i.jsxs("div",{className:"max-h-[84vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-default-700",children:"Daily Works"}),i.jsx(mt,{variant:"flat",color:"primary",size:"sm",radius:ft(),style:{backgroundColor:"rgba(var(--color-primary), 0.1)",borderColor:"rgba(var(--color-primary), 0.3)",color:"var(--color-text)"},onClick:oe,startContent:i.jsx(Vi,{className:"w-4 h-4"}),children:"Refresh"})]}),i.jsx(go,{className:"max-h-[70vh]",children:i.jsxs(Ed,{selectionMode:"none",isCompact:!0,removeWrapper:!0,isStriped:!0,"aria-label":"Daily Works Management Table",isHeaderSticky:!0,radius:ft(),classNames:{base:"max-h-[520px] overflow-auto",table:"min-h-[200px] w-full",thead:"z-10",tbody:"overflow-y-auto",th:"bg-default-100 text-default-700 font-semibold",td:"text-default-600"},style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:[i.jsx(Dd,{columns:kn,children:H=>i.jsx(Di,{align:H.uid==="description"?"start":"center",className:`bg-default-100/80 backdrop-blur-md ${H.width||""}`,style:{minWidth:H.uid==="description"?"240px":H.uid==="location"?"192px":H.uid==="number"?"128px":H.uid==="status"?"192px":"auto"},children:i.jsxs("div",{className:`flex items-center gap-1 ${H.uid==="description"?"justify-start":"justify-center"}`,children:[H.icon&&i.jsx(H.icon,{className:"w-3 h-3"}),i.jsx("span",{className:"text-xs font-semibold",children:H.name})]})},H.uid)}),i.jsx(Od,{items:n||[],emptyContent:i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(Hr,{className:"w-12 h-12 text-default-300 mb-4"}),i.jsx("h6",{className:"text-lg font-medium text-default-600",children:"No daily works found"}),i.jsx("span",{className:"text-sm text-default-500",children:"No work logs available for the selected period"})]}),children:H=>i.jsx(Rd,{className:H.active_objections_count>0?"bg-warning-50/40 hover:bg-warning-50/60 border-2 border-warning":"",children:Te=>er(H,Te)},H.id)})]})}),!se&&h>30&&i.jsx("div",{className:"py-4 flex justify-center",children:i.jsx(vl,{showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:j,total:R,onChange:qn,size:ue?"sm":"md",radius:ft(),classNames:{wrapper:"bg-content1/80 backdrop-blur-md border-divider/50",item:"bg-content1/50 border-divider/30",cursor:"bg-primary/20 backdrop-blur-md"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),i.jsx(Gc,{isOpen:G,onClose:()=>{pe(!1),de(null)},dailyWork:X,onFilesUpdated:he}),i.jsx(Yc,{open:ve,closeModal:()=>{Oe(!1),C(null)},dailyWork:x,onStatusUpdated:je}),i.jsx(Xc,{isOpen:q,onClose:()=>{V(!1),le(null)},dailyWork:Z,onObjectionsUpdated:Ve}),i.jsx(Zc,{isOpen:W.isOpen,onClose:Qn,dailyWork:W.dailyWork,newSubmissionDate:W.newSubmissionDate,activeObjectionsCount:W.activeObjectionsCount,activeObjections:W.activeObjections,isLoading:W.isLoading,onConfirm:Ct})]})},yd=({open:n,closeModal:t,currentRow:e,setData:a,modalType:l})=>{const s=()=>{const N=new Date,_=N.getFullYear(),D=String(N.getMonth()+1).padStart(2,"0"),O=String(N.getDate()).padStart(2,"0"),J=String(N.getTime()).slice(-6);return`RFI-${_}${D}${O}-${J}`},[c,u]=Q.useState({id:(e==null?void 0:e.id)||"",date:e!=null&&e.date?new Date(e.date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],number:(e==null?void 0:e.number)||(l==="add"?s():""),planned_time:(e==null?void 0:e.planned_time)||"Morning shift",type:(e==null?void 0:e.type)||"Structure",location:(e==null?void 0:e.location)||"",description:(e==null?void 0:e.description)||"",side:(e==null?void 0:e.side)||"SR-R",qty_layer:(e==null?void 0:e.qty_layer)||""}),[f,g]=Q.useState({}),[y,v]=Q.useState(!1),[j,h]=Q.useState(!1),[R,P]=Q.useState(!0),[I,L]=Q.useState({}),E=Q.useMemo(()=>({Structure:{label:"Structure Work",description:"Concrete structures, bridges, culverts",icon:"🏗️",color:"primary",suggestedSides:["SR-R","SR-L","Both"],suggestedTimes:["Morning shift","Afternoon shift","Full day","2-3 hours"],defaultLayers:1},Embankment:{label:"Embankment Work",description:"Earthwork, soil stabilization",icon:"🏔️",color:"secondary",suggestedSides:["SR-R","SR-L","Both"],suggestedTimes:["Early morning","Morning shift","Full day","4-5 hours"],defaultLayers:3},Pavement:{label:"Pavement Work",description:"Road surfacing, asphalt laying",icon:"🛣️",color:"success",suggestedSides:["TR-R","TR-L","Both"],suggestedTimes:["Night shift","Early morning","Morning shift","6-8 hours"],defaultLayers:2}}),[]),K=Q.useMemo(()=>({"SR-R":{label:"Service Road - Right",description:"Right side service road"},"SR-L":{label:"Service Road - Left",description:"Left side service road"},"TR-R":{label:"Through Road - Right",description:"Right lane main road"},"TR-L":{label:"Through Road - Left",description:"Left lane main road"},Both:{label:"Both Sides",description:"Both sides of the road"}}),[]),ue=(N,_)=>{var J;const D={date:G=>{if(!G)return"Date is required";const pe=new Date(G),X=new Date,de=new Date(X.setDate(X.getDate()-30));return pe<de?"Date cannot be more than 30 days ago":null},number:G=>G?G.length<5?"RFI Number must be at least 5 characters":null:"RFI Number is required",location:G=>G?G.length<3?"Location must be at least 3 characters":null:"Location is required",description:G=>G?G.length<10?"Description must be at least 10 characters":null:"Description is required",planned_time:G=>G?G.length<2?"Planned time must be at least 2 characters":null:"Planned time is required"},O=(J=D[N])==null?void 0:J.call(D,_);return l==="update"&&_&&_.toString().trim()!==""&&!O?L(G=>({...G,[N]:"success"})):L(G=>({...G,[N]:O?"error":"success"})),O};Q.useEffect(()=>{const N=setTimeout(()=>{if(P(!1),l==="update"&&e){const _={},D={};Object.entries(c).forEach(([O,J])=>{J&&J.toString().trim()!==""&&(D[O]="success",ue(O,J)||delete _[O])}),L(D),g(_)}},800);return()=>clearTimeout(N)},[l,e,c]),Q.useEffect(()=>{if(c.type&&E[c.type]){const N=E[c.type];e||u(_=>({..._,qty_layer:_.qty_layer||String(N.defaultLayers),planned_time:_.planned_time||N.suggestedTimes[0]}))}},[c.type,e,E]),Q.useEffect(()=>{const N=Object.entries(c).some(([_,D])=>e?D!==(e[_]||""):D!=="");if(h(N),e&&l==="update"){const _={};Object.entries(c).forEach(([D,O])=>{O&&O.toString().trim()!==""&&(_[D]="success")}),L(D=>({...D,..._}))}},[c,e,l]);const se=(N,_)=>{u(O=>({...O,[N]:_}));const D=ue(N,_);g(D?O=>({...O,[N]:D}):O=>{const J={...O};return delete J[N],J}),h(!0)},oe=()=>{const N=s();se("number",N),lt.success("New RFI number generated!")},z=()=>{const N=["date","number","location","description","planned_time"],_={};return N.forEach(D=>{const O=ue(D,c[D]);O&&(_[D]=O)}),g(_),Object.keys(_).length===0};async function M(N){if(N.preventDefault(),!z()){lt.error("Please fix all validation errors before submitting");return}v(!0);const _=new Promise(async(D,O)=>{var J,G,pe;try{const X=await Mt.post(route(`dailyWorks.${l}`),{ruleSet:"details",...c});X.status===200&&(a(l==="add"?de=>[X.data.dailyWork,...de]:de=>de.map(ve=>ve.id===c.id?X.data.dailyWork:ve)),t(),D([X.data.message||`Daily work ${l==="add"?"created":"updated"} successfully`]))}catch(X){if(console.error("Form submission error:",X),((J=X.response)==null?void 0:J.status)===422){const de=X.response.data.errors||{};g(de),Object.keys(de).forEach(ve=>{L(Oe=>({...Oe,[ve]:"error"}))}),O([X.response.data.message||"Please check the form for errors"])}else O([((pe=(G=X.response)==null?void 0:G.data)==null?void 0:pe.message)||"An unexpected error occurred. Please try again."])}finally{v(!1)}});lt.promise(_,{pending:{render(){return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Mo,{size:"sm"}),i.jsx("span",{children:l==="add"?"Creating daily work...":"Updating daily work..."})]})},icon:!1},success:{render({data:D}){return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ns,{size:16,className:"text-green-500"}),i.jsx("span",{children:D.join(", ")})]})},icon:!1},error:{render({data:D}){return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($c,{size:16,className:"text-red-500"}),i.jsx("span",{children:D.join(", ")})]})},icon:!1}})}const ne=()=>i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:Array.from({length:8}).map((N,_)=>i.jsx("div",{className:_===7?"col-span-full":"col-span-1",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(ir,{className:"h-4 w-20 rounded"}),i.jsx(ir,{className:`h-10 w-full rounded-lg ${_===7?"h-20":""}`})]})},_))}),ce=N=>{const _=I[N];return c[N]?_==="success"?i.jsx(Ns,{size:16,className:"text-green-500"}):_==="error"?i.jsx(Ir,{className:"w-4 h-4 text-red-500"}):null:null};return i.jsx(va,{isOpen:n,onClose:t,size:"3xl",radius:ft(),scrollBehavior:"inside",classNames:{base:"backdrop-blur-md mx-2 my-2 sm:mx-4 sm:my-8 max-h-[95vh]",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",body:"overflow-y-auto",footer:"border-t border-divider",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:i.jsx(xa,{children:N=>{var _;return i.jsxs(i.Fragment,{children:[i.jsx(ba,{className:"flex flex-col gap-1",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:i.jsx(So,{size:20,className:"text-primary"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:e?"Edit Daily Work":"Add Daily Work"}),i.jsx("p",{className:"text-sm text-default-500",children:e?"Update work details and status":"Create a new daily work entry"})]})]}),j&&!y&&i.jsx(on,{size:"sm",variant:"flat",color:"warning",startContent:i.jsx($c,{size:12}),children:"Unsaved Changes"})]})}),i.jsxs("form",{onSubmit:M,children:[i.jsx(ya,{className:"py-4 px-4 sm:py-6 sm:px-6",style:{fontFamily:'var(--fontFamily, "Inter")'},children:R?i.jsx(ne,{}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"col-span-full mb-4",children:[i.jsx("label",{className:"text-sm font-medium text-default-700 mb-2 block",children:"Work Type Selection"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.entries(E).map(([D,O])=>i.jsx(Un,{isPressable:!0,isHoverable:!0,className:`p-3 cursor-pointer transition-all duration-200 ${c.type===D?"border-2 border-primary bg-primary/5":"border border-divider hover:border-primary/50"}`,onPress:()=>se("type",D),radius:ft(),children:i.jsx(Zn,{className:"p-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-2xl",children:O.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:O.label}),i.jsx("div",{className:"text-xs text-default-500",children:O.description})]}),c.type===D&&i.jsx(Ns,{size:16,className:"text-primary"})]})})},D))})]}),i.jsx(si,{className:"my-4"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[i.jsx("div",{className:"col-span-1",children:i.jsx(On,{label:"RFI Date",type:"date",value:c.date,onValueChange:D=>se("date",D),isInvalid:!!f.date,errorMessage:f.date,variant:"bordered",size:"sm",radius:ft(),startContent:i.jsx(Lp,{size:16,className:"text-default-400"}),endContent:ce("date"),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),i.jsx("div",{className:"col-span-1",children:i.jsx(On,{label:"RFI Number",value:c.number,onValueChange:D=>se("number",D),isInvalid:!!f.number,errorMessage:f.number,variant:"bordered",size:"sm",radius:ft(),startContent:i.jsx($p,{size:16,className:"text-default-400"}),endContent:i.jsxs("div",{className:"flex items-center gap-1",children:[ce("number"),i.jsx(Wr,{content:"Generate new RFI number",children:i.jsx(mt,{isIconOnly:!0,size:"sm",variant:"light",onPress:oe,className:"min-w-unit-6 w-unit-6 h-unit-6",children:i.jsx(Vc,{size:12})})})]}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),i.jsx("div",{className:"col-span-1",children:i.jsx(On,{label:"Location",placeholder:"e.g., Station 10+500 to 11+000",value:c.location,onValueChange:D=>se("location",D),isInvalid:!!f.location,errorMessage:f.location,variant:"bordered",size:"sm",radius:ft(),startContent:i.jsx(Uc,{size:16,className:"text-default-400"}),endContent:ce("location"),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),i.jsx("div",{className:"col-span-1",children:i.jsx(sr,{label:"Road Type",placeholder:"Select Road Type",selectionMode:"single",selectedKeys:c.side?new Set([c.side]):new Set,onSelectionChange:D=>{const O=Array.from(D)[0];se("side",O||"")},isInvalid:!!f.side,errorMessage:f.side,variant:"bordered",size:"sm",radius:ft(),startContent:i.jsx(Uc,{size:16,className:"text-default-400"}),classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:Object.entries(K).map(([D,O])=>i.jsx(Ln,{value:D,textValue:O.label,children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium",children:O.label}),i.jsx("span",{className:"text-xs text-default-400",children:O.description})]})},D))})}),i.jsx("div",{className:"col-span-1",children:i.jsx(On,{label:"Planned Time",type:"text",placeholder:"e.g., Morning shift, 2-3 hours, Full day",value:c.planned_time,onValueChange:D=>se("planned_time",D),isInvalid:!!f.planned_time,errorMessage:f.planned_time,variant:"bordered",size:"sm",radius:ft(),startContent:i.jsx(qd,{size:16,className:"text-default-400"}),endContent:ce("planned_time"),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),i.jsx("div",{className:"col-span-1",children:i.jsx(On,{label:"Quantity/Layer No.",placeholder:"e.g., 3 layers or 150 m³",value:c.qty_layer,onValueChange:D=>se("qty_layer",D),isInvalid:!!f.qty_layer,errorMessage:f.qty_layer,variant:"bordered",size:"sm",radius:ft(),startContent:i.jsx(So,{size:16,className:"text-default-400"}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),i.jsx("div",{className:"col-span-full",children:i.jsx(Ma,{label:"Work Description",placeholder:"Provide detailed description of the work to be performed, including specific requirements, materials, and safety considerations...",value:c.description,onValueChange:D=>se("description",D),isInvalid:!!f.description,errorMessage:f.description,variant:"bordered",size:"sm",radius:ft(),minRows:3,maxRows:6,endContent:i.jsxs("div",{className:"flex flex-col items-end gap-1",children:[ce("description"),i.jsxs("span",{className:"text-xs text-default-400",children:[((_=c.description)==null?void 0:_.length)||0,"/500"]})]}),classNames:{input:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),c.type&&E[c.type]&&i.jsx("div",{className:"col-span-full",children:i.jsx(Un,{className:"bg-primary/5 border border-primary/20",radius:ft(),children:i.jsx(Zn,{className:"p-3",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Vc,{size:16,className:"text-primary mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("h4",{className:"text-sm font-semibold text-primary mb-2",children:["Smart Suggestions for ",E[c.type].label]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-xs text-default-600 mb-1",children:"Recommended times:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:E[c.type].suggestedTimes.map((D,O)=>i.jsx(on,{size:"sm",variant:"flat",color:"primary",className:"cursor-pointer hover:bg-primary/20 transition-colors",onClick:()=>se("planned_time",D),children:D},O))})]}),i.jsxs("p",{className:"text-xs text-default-600",children:["Typical layers: ",E[c.type].defaultLayers]})]})]})})})})]})]})}),i.jsxs(Ba,{className:"flex flex-col sm:flex-row justify-between items-center gap-3 px-4 sm:px-6 py-3 sm:py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[i.jsx("div",{className:"flex items-center gap-2 text-sm",children:Object.keys(f).length>0?i.jsxs("div",{className:"flex items-center gap-2 text-danger",children:[i.jsx(Ir,{className:"w-4 h-4"}),i.jsxs("span",{children:[Object.keys(f).length," field",Object.keys(f).length>1?"s":""," need attention"]})]}):j?i.jsxs("div",{className:"flex items-center gap-2 text-success",children:[i.jsx(Ns,{size:16}),i.jsx("span",{children:"Ready to submit"})]}):i.jsx("span",{className:"text-default-500",children:"Fill in the required fields"})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(mt,{color:"default",variant:"bordered",onPress:N,radius:ft(),size:"sm",isDisabled:y,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),i.jsx(mt,{type:"submit",color:"primary",variant:"solid",isLoading:y,isDisabled:y||!j||Object.keys(f).length>0,radius:ft(),size:"sm",startContent:!y&&(l==="add"?i.jsx(So,{size:16}):i.jsx(Ns,{size:16})),style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:y?l==="add"?"Creating...":"Updating...":l==="add"?"Create Work":"Update Work"})]})]})]})]})}})})},Zf=({open:n,handleClose:t,handleDelete:e,isLoading:a=!1})=>{const l=()=>{var f;if(typeof window>"u")return"lg";const c=((f=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:f.trim())||"12px",u=parseInt(c);return u===0?"none":u<=4?"sm":u<=8?"md":u<=16?"lg":"full"};return i.jsx(va,{isOpen:n,onClose:t,size:"md",radius:l(),classNames:{base:"backdrop-blur-md mx-2 my-2 sm:mx-4 sm:my-8",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",body:"py-4",footer:"border-t border-divider",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:i.jsx(xa,{children:s=>i.jsxs(i.Fragment,{children:[i.jsx(ba,{className:"flex flex-col gap-1",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-2 rounded-lg bg-danger/10",children:i.jsx(Ir,{className:"w-5 h-5 text-danger"})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-lg font-semibold text-danger",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Confirm Deletion"}),i.jsx("p",{className:"text-sm text-default-500",children:"This action cannot be undone"})]})]})}),i.jsx(ya,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-3 rounded-full bg-danger/10 flex-shrink-0",children:i.jsx(ii,{className:"w-6 h-6 text-danger"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-default-700 leading-relaxed",children:"Are you sure you want to delete this daily work entry? This action will permanently remove the work record and cannot be undone."}),i.jsx("div",{className:"mt-3 p-3 rounded-lg bg-warning/10 border border-warning/20",children:i.jsx("p",{className:"text-sm text-warning-700 font-medium",children:"⚠️ Warning: All associated data will be permanently lost."})})]})]})}),i.jsxs(Ba,{className:"flex justify-end gap-2",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[i.jsx(mt,{color:"default",variant:"bordered",onPress:t,radius:l(),size:"sm",isDisabled:a,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),i.jsx(mt,{color:"danger",variant:"solid",onPress:e,radius:l(),size:"sm",isLoading:a,isDisabled:a,startContent:!a&&i.jsx(ii,{className:"w-4 h-4"}),style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:a?"Deleting...":"Delete Work"})]})]})})})},Qf=({open:n,closeModal:t,filterData:e={},users:a=[],inCharges:l=[]})=>{var se;const s=()=>{var ne;if(typeof window>"u")return"lg";const z=((ne=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:ne.trim())||"12px",M=parseInt(z);return M===0?"none":M<=4?"sm":M<=8?"md":M<=16?"lg":"full"},[c,u]=Q.useState({format:"excel",dateRange:{start:e.startDate?Rc(e.startDate):null,end:e.endDate?Rc(e.endDate):null},columns:["date","number","type","status","description","location","incharge","assigned","completion_time","rfi_submission_date"],filters:{status:e.status||"all",incharge:e.incharge||"all",type:e.type||"all"}}),[f,g]=Q.useState(!1),[y,v]=Q.useState(null),j=[{key:"excel",label:"Excel (.xlsx)",description:"Comprehensive spreadsheet format",icon:i.jsx(wp,{size:20,className:"text-green-600"})},{key:"csv",label:"CSV (.csv)",description:"Simple comma-separated values",icon:i.jsx(Bd,{className:"w-5 h-5 text-blue-600"})},{key:"json",label:"JSON Data",description:"Structured data format",icon:i.jsx(Hp,{size:20,className:"text-purple-600"})}],h=[{key:"date",label:"Date",description:"RFI submission date"},{key:"number",label:"RFI Number",description:"Unique RFI identifier"},{key:"type",label:"Type",description:"Work type (Embankment, Structure, Pavement)"},{key:"status",label:"Status",description:"Current work status"},{key:"description",label:"Description",description:"Work description"},{key:"location",label:"Location",description:"Work location/chainage"},{key:"side",label:"Side",description:"Road side (SR-R, SR-L)"},{key:"qty_layer",label:"Quantity/Layer",description:"Quantity or layer information"},{key:"planned_time",label:"Planned Time",description:"Planned completion time"},{key:"incharge",label:"In Charge",description:"Supervision engineer"},{key:"assigned",label:"Assigned To",description:"Assigned team member"},{key:"completion_time",label:"Completion Time",description:"Actual completion time"},{key:"inspection_details",label:"Inspection Details",description:"Quality inspection results"},{key:"resubmission_count",label:"Resubmission Count",description:"Number of resubmissions"},{key:"rfi_submission_date",label:"RFI Submission Date",description:"Date RFI was submitted"}],R=[{key:"all",label:"All Statuses"},{key:"new",label:"New"},{key:"in_progress",label:"In Progress"},{key:"review",label:"Under Review"},{key:"completed",label:"Completed"},{key:"rejected",label:"Rejected"}],P=[{key:"all",label:"All Types"},{key:"Embankment",label:"Embankment"},{key:"Structure",label:"Structure"},{key:"Pavement",label:"Pavement"}],I=async()=>{g(!0);const oe=new Promise(async(z,M)=>{var ne,ce;try{const N={columns:c.columns,...c.filters,...c.dateRange.start&&{startDate:c.dateRange.start.toString()},...c.dateRange.end&&{endDate:c.dateRange.end.toString()}},_=await Mt.post(route("dailyWorks.export"),N);if(_.data.data){const{data:D,filename:O}=_.data;switch(c.format){case"excel":L(D,O);break;case"csv":E(D,O);break;case"json":K(D,O);break}t(),z(`Successfully exported ${D.length} records`)}}catch(N){M("Export failed: "+(((ce=(ne=N.response)==null?void 0:ne.data)==null?void 0:ce.error)||N.message))}finally{g(!1)}});lt.promise(oe,{loading:"Exporting daily works...",success:z=>z,error:z=>z})},L=(oe,z)=>{const M=ws.json_to_sheet(oe),ne=ws.book_new();ws.book_append_sheet(ne,M,"Daily Works");const ce=Object.keys(oe[0]||{}).map(()=>({wch:20}));M["!cols"]=ce,Np(ne,`${z}.xlsx`)},E=(oe,z)=>{const M=ws.json_to_sheet(oe),ne=ws.sheet_to_csv(M),ce=new Blob([ne],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),_=URL.createObjectURL(ce);N.setAttribute("href",_),N.setAttribute("download",`${z}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N)},K=(oe,z)=>{const M=JSON.stringify(oe,null,2),ne=new Blob([M],{type:"application/json"}),ce=document.createElement("a"),N=URL.createObjectURL(ne);ce.setAttribute("href",N),ce.setAttribute("download",`${z}.json`),ce.style.visibility="hidden",document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)},ue=()=>"Calculating...";return i.jsx(va,{isOpen:n,onClose:t,size:"4xl",radius:s(),scrollBehavior:"inside",classNames:{base:"backdrop-blur-md mx-2 my-2 sm:mx-4 sm:my-8 max-h-[95vh]",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",body:"overflow-y-auto",footer:"border-t border-divider",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:i.jsxs(xa,{children:[i.jsx(ba,{className:"flex flex-col gap-1",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",color:"var(--theme-primary)"},children:i.jsx(zd,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Export Daily Works"}),i.jsx("p",{className:"text-sm text-default-500",children:"Export daily work records with customizable options"})]})]})}),i.jsx(ya,{className:"py-4 px-4 sm:py-6 sm:px-6",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.jsxs("div",{className:"space-y-6",children:[i.jsx(Un,{className:"bg-default-50",radius:s(),style:{borderRadius:"var(--borderRadius, 12px)"},children:i.jsxs(Zn,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[i.jsx("h4",{className:"font-semibold mb-3",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Export Format"}),i.jsx(lp,{value:c.format,onValueChange:oe=>u(z=>({...z,format:oe})),orientation:"horizontal",style:{fontFamily:'var(--fontFamily, "Inter")'},children:j.map(oe=>i.jsx(cp,{value:oe.key,children:i.jsxs("div",{className:"flex items-center gap-2",children:[oe.icon,i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:oe.label}),i.jsx("div",{className:"text-xs text-default-500",children:oe.description})]})]})},oe.key))})]})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Date Range"}),i.jsx(dp,{label:"Select date range",value:c.dateRange,onChange:oe=>u(z=>({...z,dateRange:oe})),size:"sm",variant:"bordered",radius:s(),style:{fontFamily:'var(--fontFamily, "Inter")'}})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Filters"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(sr,{label:"Status",selectedKeys:[c.filters.status],onSelectionChange:oe=>u(z=>({...z,filters:{...z.filters,status:Array.from(oe)[0]}})),size:"sm",variant:"bordered",radius:s(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:R.map(oe=>i.jsx(Ln,{value:oe.key,children:oe.label},oe.key))}),i.jsx(sr,{label:"Type",selectedKeys:[c.filters.type],onSelectionChange:oe=>u(z=>({...z,filters:{...z.filters,type:Array.from(oe)[0]}})),size:"sm",variant:"bordered",radius:s(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:P.map(oe=>i.jsx(Ln,{value:oe.key,children:oe.label},oe.key))}),i.jsxs(sr,{label:"In Charge",selectedKeys:[c.filters.incharge],onSelectionChange:oe=>u(z=>({...z,filters:{...z.filters,incharge:Array.from(oe)[0]}})),size:"sm",variant:"bordered",radius:s(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:[i.jsx(Ln,{value:"all",children:"All In Charges"},"all"),l.map(oe=>i.jsx(Ln,{value:oe.id,children:oe.name},oe.id))]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-3",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Columns to Export"}),i.jsx(up,{value:c.columns,onValueChange:oe=>u(z=>({...z,columns:oe})),style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:h.map(oe=>i.jsx(pp,{value:oe.key,children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:oe.label}),i.jsx("div",{className:"text-xs text-default-500",children:oe.description})]})},oe.key))})})]}),i.jsx(Un,{className:"bg-primary-50 border-primary-200",radius:s(),style:{borderRadius:"var(--borderRadius, 12px)",background:"color-mix(in srgb, var(--theme-primary) 10%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)"},children:i.jsx(Zn,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Dl,{className:"w-5 h-5 mt-0.5",style:{color:"var(--theme-primary)"}}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium mb-2",style:{color:"var(--theme-primary)",fontFamily:'var(--fontFamily, "Inter")'},children:"Export Summary"}),i.jsxs("div",{className:"text-sm space-y-1",style:{color:"color-mix(in srgb, var(--theme-primary) 80%, black)",fontFamily:'var(--fontFamily, "Inter")'},children:[i.jsxs("p",{children:["• Format: ",(se=j.find(oe=>oe.key===c.format))==null?void 0:se.label]}),i.jsxs("p",{children:["• Columns: ",c.columns.length," selected"]}),i.jsxs("p",{children:["• Estimated records: ",ue()]})]})]})]})})})]})}),i.jsxs(Ba,{className:"flex flex-col sm:flex-row justify-center gap-2 px-4 sm:px-6 py-3 sm:py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[i.jsx(mt,{color:"default",variant:"bordered",onPress:t,isDisabled:f,radius:s(),size:"sm",style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),i.jsx(mt,{color:"primary",onPress:I,isLoading:f,startContent:!f&&i.jsx(yp,{size:16}),isDisabled:c.columns.length===0,radius:s(),size:"sm",style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:f?"Exporting...":"Export Data"})]})]})})},eh=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function $i(n,t,e){const a=th(n),{webkitRelativePath:l}=n,s=typeof t=="string"?t:typeof l=="string"&&l.length>0?l:`./${n.name}`;return typeof a.path!="string"&&wd(a,"path",s),wd(a,"relativePath",s),a}function th(n){const{name:t}=n;if(t&&t.lastIndexOf(".")!==-1&&!n.type){const a=t.split(".").pop().toLowerCase(),l=eh.get(a);l&&Object.defineProperty(n,"type",{value:l,writable:!1,configurable:!1,enumerable:!0})}return n}function wd(n,t,e){Object.defineProperty(n,t,{value:e,writable:!1,configurable:!1,enumerable:!0})}const nh=[".DS_Store","Thumbs.db"];function rh(n){return oi(this,void 0,void 0,function*(){return Do(n)&&ah(n.dataTransfer)?lh(n.dataTransfer,n.type):ih(n)?sh(n):Array.isArray(n)&&n.every(t=>"getFile"in t&&typeof t.getFile=="function")?oh(n):[]})}function ah(n){return Do(n)}function ih(n){return Do(n)&&Do(n.target)}function Do(n){return typeof n=="object"&&n!==null}function sh(n){return Yl(n.target.files).map(t=>$i(t))}function oh(n){return oi(this,void 0,void 0,function*(){return(yield Promise.all(n.map(e=>e.getFile()))).map(e=>$i(e))})}function lh(n,t){return oi(this,void 0,void 0,function*(){if(n.items){const e=Yl(n.items).filter(l=>l.kind==="file");if(t!=="drop")return e;const a=yield Promise.all(e.map(ch));return Nd(cu(a))}return Nd(Yl(n.files).map(e=>$i(e)))})}function Nd(n){return n.filter(t=>nh.indexOf(t.name)===-1)}function Yl(n){if(n===null)return[];const t=[];for(let e=0;e<n.length;e++){const a=n[e];t.push(a)}return t}function ch(n){if(typeof n.webkitGetAsEntry!="function")return jd(n);const t=n.webkitGetAsEntry();return t&&t.isDirectory?du(t):jd(n,t)}function cu(n){return n.reduce((t,e)=>[...t,...Array.isArray(e)?cu(e):[e]],[])}function jd(n,t){return oi(this,void 0,void 0,function*(){var e;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const s=yield n.getAsFileSystemHandle();if(s===null)throw new Error(`${n} is not a File`);if(s!==void 0){const c=yield s.getFile();return c.handle=s,$i(c)}}const a=n.getAsFile();if(!a)throw new Error(`${n} is not a File`);return $i(a,(e=t==null?void 0:t.fullPath)!==null&&e!==void 0?e:void 0)})}function dh(n){return oi(this,void 0,void 0,function*(){return n.isDirectory?du(n):uh(n)})}function du(n){const t=n.createReader();return new Promise((e,a)=>{const l=[];function s(){t.readEntries(c=>oi(this,void 0,void 0,function*(){if(c.length){const u=Promise.all(c.map(dh));l.push(u),s()}else try{const u=yield Promise.all(l);e(u)}catch(u){a(u)}}),c=>{a(c)})}s()})}function uh(n){return oi(this,void 0,void 0,function*(){return new Promise((t,e)=>{n.file(a=>{const l=$i(a,n.fullPath);t(l)},a=>{e(a)})})})}var No={},Sd;function ph(){return Sd||(Sd=1,No.__esModule=!0,No.default=function(n,t){if(n&&t){var e=Array.isArray(t)?t:t.split(",");if(e.length===0)return!0;var a=n.name||"",l=(n.type||"").toLowerCase(),s=l.replace(/\/.*$/,"");return e.some(function(c){var u=c.trim().toLowerCase();return u.charAt(0)==="."?a.toLowerCase().endsWith(u):u.endsWith("/*")?s===u.replace(/\/.*$/,""):l===u})}return!0}),No}var fh=ph();const Pl=kp(fh);function Ad(n){return gh(n)||mh(n)||pu(n)||hh()}function hh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mh(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function gh(n){if(Array.isArray(n))return Kl(n)}function _d(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),e.push.apply(e,a)}return e}function Ld(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?_d(Object(e),!0).forEach(function(a){uu(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):_d(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function uu(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Is(n,t){return bh(n)||xh(n,t)||pu(n,t)||vh()}function vh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pu(n,t){if(n){if(typeof n=="string")return Kl(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Kl(n,t)}}function Kl(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function xh(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var a=[],l=!0,s=!1,c,u;try{for(e=e.call(n);!(l=(c=e.next()).done)&&(a.push(c.value),!(t&&a.length===t));l=!0);}catch(f){s=!0,u=f}finally{try{!l&&e.return!=null&&e.return()}finally{if(s)throw u}}return a}}function bh(n){if(Array.isArray(n))return n}var yh=typeof Pl=="function"?Pl:Pl.default,wh="file-invalid-type",Nh="file-too-large",jh="file-too-small",Sh="too-many-files",Ah=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=t.split(","),a=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:wh,message:"File type must be ".concat(a)}},kd=function(t){return{code:Nh,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Fd=function(t){return{code:jh,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},_h={code:Sh,message:"Too many files"};function fu(n,t){var e=n.type==="application/x-moz-file"||yh(n,t);return[e,e?null:Ah(t)]}function hu(n,t,e){if(ri(n.size))if(ri(t)&&ri(e)){if(n.size>e)return[!1,kd(e)];if(n.size<t)return[!1,Fd(t)]}else{if(ri(t)&&n.size<t)return[!1,Fd(t)];if(ri(e)&&n.size>e)return[!1,kd(e)]}return[!0,null]}function ri(n){return n!=null}function Lh(n){var t=n.files,e=n.accept,a=n.minSize,l=n.maxSize,s=n.multiple,c=n.maxFiles,u=n.validator;return!s&&t.length>1||s&&c>=1&&t.length>c?!1:t.every(function(f){var g=fu(f,e),y=Is(g,1),v=y[0],j=hu(f,a,l),h=Is(j,1),R=h[0],P=u?u(f):null;return v&&R&&!P})}function Oo(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function jo(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!n.target&&!!n.target.files}function Pd(n){n.preventDefault()}function kh(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Fh(n){return n.indexOf("Edge/")!==-1}function Ph(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return kh(n)||Fh(n)}function Qr(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(a){for(var l=arguments.length,s=new Array(l>1?l-1:0),c=1;c<l;c++)s[c-1]=arguments[c];return t.some(function(u){return!Oo(a)&&u&&u.apply(void 0,[a].concat(s)),Oo(a)})}}function Ch(){return"showOpenFilePicker"in window}function Ih(n){if(ri(n)){var t=Object.entries(n).filter(function(e){var a=Is(e,2),l=a[0],s=a[1],c=!0;return mu(l)||(console.warn('Skipped "'.concat(l,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(s)||!s.every(gu))&&(console.warn('Skipped "'.concat(l,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(e,a){var l=Is(a,2),s=l[0],c=l[1];return Ld(Ld({},e),{},uu({},s,c))},{});return[{description:"Files",accept:t}]}return n}function Eh(n){if(ri(n))return Object.entries(n).reduce(function(t,e){var a=Is(e,2),l=a[0],s=a[1];return[].concat(Ad(t),[l],Ad(s))},[]).filter(function(t){return mu(t)||gu(t)}).join(",")}function Dh(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function Oh(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function mu(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function gu(n){return/^.*\.[\w]+$/.test(n)}var Rh=["children"],Mh=["open"],Th=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],qh=["refKey","onChange","onClick"];function zh(n){return Wh(n)||Uh(n)||vu(n)||Bh()}function Bh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uh(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Wh(n){if(Array.isArray(n))return Jl(n)}function Cl(n,t){return $h(n)||Vh(n,t)||vu(n,t)||Hh()}function Hh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vu(n,t){if(n){if(typeof n=="string")return Jl(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Jl(n,t)}}function Jl(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}function Vh(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var a=[],l=!0,s=!1,c,u;try{for(e=e.call(n);!(l=(c=e.next()).done)&&(a.push(c.value),!(t&&a.length===t));l=!0);}catch(f){s=!0,u=f}finally{try{!l&&e.return!=null&&e.return()}finally{if(s)throw u}}return a}}function $h(n){if(Array.isArray(n))return n}function Cd(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),e.push.apply(e,a)}return e}function un(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Cd(Object(e),!0).forEach(function(a){Xl(n,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Cd(Object(e)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(e,a))})}return n}function Xl(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Ro(n,t){if(n==null)return{};var e=Gh(n,t),a,l;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(e[a]=n[a])}return e}function Gh(n,t){if(n==null)return{};var e={},a=Object.keys(n),l,s;for(s=0;s<a.length;s++)l=a[s],!(t.indexOf(l)>=0)&&(e[l]=n[l]);return e}var sc=Q.forwardRef(function(n,t){var e=n.children,a=Ro(n,Rh),l=bu(a),s=l.open,c=Ro(l,Mh);return Q.useImperativeHandle(t,function(){return{open:s}},[s]),ec.createElement(Q.Fragment,null,e(un(un({},c),{},{open:s})))});sc.displayName="Dropzone";var xu={disabled:!1,getFilesFromEvent:rh,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};sc.defaultProps=xu;sc.propTypes={children:Kt.func,accept:Kt.objectOf(Kt.arrayOf(Kt.string)),multiple:Kt.bool,preventDropOnDocument:Kt.bool,noClick:Kt.bool,noKeyboard:Kt.bool,noDrag:Kt.bool,noDragEventsBubbling:Kt.bool,minSize:Kt.number,maxSize:Kt.number,maxFiles:Kt.number,disabled:Kt.bool,getFilesFromEvent:Kt.func,onFileDialogCancel:Kt.func,onFileDialogOpen:Kt.func,useFsAccessApi:Kt.bool,autoFocus:Kt.bool,onDragEnter:Kt.func,onDragLeave:Kt.func,onDragOver:Kt.func,onDrop:Kt.func,onDropAccepted:Kt.func,onDropRejected:Kt.func,onError:Kt.func,validator:Kt.func};var Zl={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function bu(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=un(un({},xu),n),e=t.accept,a=t.disabled,l=t.getFilesFromEvent,s=t.maxSize,c=t.minSize,u=t.multiple,f=t.maxFiles,g=t.onDragEnter,y=t.onDragLeave,v=t.onDragOver,j=t.onDrop,h=t.onDropAccepted,R=t.onDropRejected,P=t.onFileDialogCancel,I=t.onFileDialogOpen,L=t.useFsAccessApi,E=t.autoFocus,K=t.preventDropOnDocument,ue=t.noClick,se=t.noKeyboard,oe=t.noDrag,z=t.noDragEventsBubbling,M=t.onError,ne=t.validator,ce=Q.useMemo(function(){return Eh(e)},[e]),N=Q.useMemo(function(){return Ih(e)},[e]),_=Q.useMemo(function(){return typeof I=="function"?I:Id},[I]),D=Q.useMemo(function(){return typeof P=="function"?P:Id},[P]),O=Q.useRef(null),J=Q.useRef(null),G=Q.useReducer(Yh,Zl),pe=Cl(G,2),X=pe[0],de=pe[1],ve=X.isFocused,Oe=X.isFileDialogActive,x=Q.useRef(typeof window<"u"&&window.isSecureContext&&L&&Ch()),C=function(){!x.current&&Oe&&setTimeout(function(){if(J.current){var De=J.current.files;De.length||(de({type:"closeDialog"}),D())}},300)};Q.useEffect(function(){return window.addEventListener("focus",C,!1),function(){window.removeEventListener("focus",C,!1)}},[J,Oe,D,x]);var q=Q.useRef([]),V=function(De){O.current&&O.current.contains(De.target)||(De.preventDefault(),q.current=[])};Q.useEffect(function(){return K&&(document.addEventListener("dragover",Pd,!1),document.addEventListener("drop",V,!1)),function(){K&&(document.removeEventListener("dragover",Pd),document.removeEventListener("drop",V))}},[O,K]),Q.useEffect(function(){return!a&&E&&O.current&&O.current.focus(),function(){}},[O,E,a]);var Z=Q.useCallback(function(Se){M?M(Se):console.error(Se)},[M]),le=Q.useCallback(function(Se){Se.preventDefault(),Se.persist(),qe(Se),q.current=[].concat(zh(q.current),[Se.target]),jo(Se)&&Promise.resolve(l(Se)).then(function(De){if(!(Oo(Se)&&!z)){var Ze=De.length,st=Ze>0&&Lh({files:De,accept:ce,minSize:c,maxSize:s,multiple:u,maxFiles:f,validator:ne}),vt=Ze>0&&!st;de({isDragAccept:st,isDragReject:vt,isDragActive:!0,type:"setDraggedFiles"}),g&&g(Se)}}).catch(function(De){return Z(De)})},[l,g,Z,z,ce,c,s,u,f,ne]),W=Q.useCallback(function(Se){Se.preventDefault(),Se.persist(),qe(Se);var De=jo(Se);if(De&&Se.dataTransfer)try{Se.dataTransfer.dropEffect="copy"}catch{}return De&&v&&v(Se),!1},[v,z]),$=Q.useCallback(function(Se){Se.preventDefault(),Se.persist(),qe(Se);var De=q.current.filter(function(st){return O.current&&O.current.contains(st)}),Ze=De.indexOf(Se.target);Ze!==-1&&De.splice(Ze,1),q.current=De,!(De.length>0)&&(de({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),jo(Se)&&y&&y(Se))},[O,y,z]),be=Q.useCallback(function(Se,De){var Ze=[],st=[];Se.forEach(function(vt){var rt=fu(vt,ce),ct=Cl(rt,2),ze=ct[0],tn=ct[1],Ft=hu(vt,c,s),nn=Cl(Ft,2),Nt=nn[0],Tt=nn[1],jn=ne?ne(vt):null;if(ze&&Nt&&!jn)Ze.push(vt);else{var ut=[tn,Tt];jn&&(ut=ut.concat(jn)),st.push({file:vt,errors:ut.filter(function(ln){return ln})})}}),(!u&&Ze.length>1||u&&f>=1&&Ze.length>f)&&(Ze.forEach(function(vt){st.push({file:vt,errors:[_h]})}),Ze.splice(0)),de({acceptedFiles:Ze,fileRejections:st,isDragReject:st.length>0,type:"setFiles"}),j&&j(Ze,st,De),st.length>0&&R&&R(st,De),Ze.length>0&&h&&h(Ze,De)},[de,u,ce,c,s,f,j,h,R,ne]),je=Q.useCallback(function(Se){Se.preventDefault(),Se.persist(),qe(Se),q.current=[],jo(Se)&&Promise.resolve(l(Se)).then(function(De){Oo(Se)&&!z||be(De,Se)}).catch(function(De){return Z(De)}),de({type:"reset"})},[l,be,Z,z]),Ie=Q.useCallback(function(){if(x.current){de({type:"openDialog"}),_();var Se={multiple:u,types:N};window.showOpenFilePicker(Se).then(function(De){return l(De)}).then(function(De){be(De,null),de({type:"closeDialog"})}).catch(function(De){Dh(De)?(D(De),de({type:"closeDialog"})):Oh(De)?(x.current=!1,J.current?(J.current.value=null,J.current.click()):Z(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Z(De)});return}J.current&&(de({type:"openDialog"}),_(),J.current.value=null,J.current.click())},[de,_,D,L,be,Z,N,u]),Ee=Q.useCallback(function(Se){!O.current||!O.current.isEqualNode(Se.target)||(Se.key===" "||Se.key==="Enter"||Se.keyCode===32||Se.keyCode===13)&&(Se.preventDefault(),Ie())},[O,Ie]),Ve=Q.useCallback(function(){de({type:"focus"})},[]),he=Q.useCallback(function(){de({type:"blur"})},[]),U=Q.useCallback(function(){ue||(Ph()?setTimeout(Ie,0):Ie())},[ue,Ie]),We=function(De){return a?null:De},Je=function(De){return se?null:We(De)},Fe=function(De){return oe?null:We(De)},qe=function(De){z&&De.stopPropagation()},Be=Q.useMemo(function(){return function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},De=Se.refKey,Ze=De===void 0?"ref":De,st=Se.role,vt=Se.onKeyDown,rt=Se.onFocus,ct=Se.onBlur,ze=Se.onClick,tn=Se.onDragEnter,Ft=Se.onDragOver,nn=Se.onDragLeave,Nt=Se.onDrop,Tt=Ro(Se,Th);return un(un(Xl({onKeyDown:Je(Qr(vt,Ee)),onFocus:Je(Qr(rt,Ve)),onBlur:Je(Qr(ct,he)),onClick:We(Qr(ze,U)),onDragEnter:Fe(Qr(tn,le)),onDragOver:Fe(Qr(Ft,W)),onDragLeave:Fe(Qr(nn,$)),onDrop:Fe(Qr(Nt,je)),role:typeof st=="string"&&st!==""?st:"presentation"},Ze,O),!a&&!se?{tabIndex:0}:{}),Tt)}},[O,Ee,Ve,he,U,le,W,$,je,se,oe,a]),Me=Q.useCallback(function(Se){Se.stopPropagation()},[]),et=Q.useMemo(function(){return function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},De=Se.refKey,Ze=De===void 0?"ref":De,st=Se.onChange,vt=Se.onClick,rt=Ro(Se,qh),ct=Xl({accept:ce,multiple:u,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:We(Qr(st,je)),onClick:We(Qr(vt,Me)),tabIndex:-1},Ze,J);return un(un({},ct),rt)}},[J,e,u,je,a]);return un(un({},X),{},{isFocused:ve&&!a,getRootProps:Be,getInputProps:et,rootRef:O,inputRef:J,open:We(Ie)})}function Yh(n,t){switch(t.type){case"focus":return un(un({},n),{},{isFocused:!0});case"blur":return un(un({},n),{},{isFocused:!1});case"openDialog":return un(un({},Zl),{},{isFileDialogActive:!0});case"closeDialog":return un(un({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return un(un({},n),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return un(un({},n),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return un({},Zl);default:return n}}function Id(){}const Kh=({open:n,closeModal:t,setTotalRows:e,setData:a,refreshData:l,onSuccess:s})=>{const c=[{column:"A",field:"Date",example:"4/27/2025",required:!0,processed:!0},{column:"B",field:"RFI Number",example:"S2025-0425-9663, E2025-0426-14687, P2025-0427-3180",required:!0,processed:!0},{column:"C",field:"Work Type",example:"Structure, Embankment, Pavement",required:!0,processed:!0},{column:"D",field:"Description",example:"Isolation Barrier (Type-2, Steel Post) Installation Work",required:!0,processed:!0},{column:"E",field:"Location/Chainage",example:"K05+560-K05+660",required:!0,processed:!0},{column:"F",field:"Quantity/Layer",example:"150 MT, 2 Layers, 500 SQM",required:!1,processed:!1},{column:"G",field:"Side (Optional)",example:"TR-R, TR-L, SR-L, SR-R",required:!1,processed:!1},{column:"H",field:"Time (Optional)",example:"3:00 PM, 4:00 PM, 9:00 AM",required:!1,processed:!1}],[u,f]=Q.useState(null),[g,y]=Q.useState(!1),[v,j]=Q.useState(0),[h,R]=Q.useState(!1),[P,I]=Q.useState([]),[L,E]=Q.useState({}),[K,ue]=Q.useState(null),se=J=>{const G=[];return["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"].includes(J.type)||G.push("Please upload an Excel file (.xlsx, .xls) or CSV file (.csv)"),J.size>10485760&&G.push("File size must be less than 10MB"),G},oe=Q.useCallback(J=>{if(J.length>0){const G=J[0],pe=se(G);if(pe.length>0){I(pe),lt.error("File validation failed");return}f(G),I([]),E({}),ue(null)}},[]),z=()=>{f(null),I([]),E({}),ue(null),j(0)},{getRootProps:M,getInputProps:ne,isDragActive:ce}=bu({onDrop:oe,accept:{"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/vnd.ms-excel":[".xls"],"text/csv":[".csv"]},multiple:!1,onDragEnter:()=>R(!0),onDragLeave:()=>R(!1)}),N=J=>J?J.type.includes("sheet")||J.type.includes("excel")?i.jsx(Bd,{className:"w-8 h-8 text-green-500"}):J.type.includes("csv")?i.jsx(Hr,{className:"w-8 h-8 text-blue-500"}):i.jsx(ma,{className:"w-8 h-8"}):i.jsx(zi,{className:"w-8 h-8"}),_=J=>{if(J===0)return"0 Bytes";const G=1024,pe=["Bytes","KB","MB","GB"],X=Math.floor(Math.log(J)/Math.log(G));return parseFloat((J/Math.pow(G,X)).toFixed(2))+" "+pe[X]},D=async()=>{if(!u){lt.error("Please select a file to upload");return}y(!0),j(0);const J=new FormData;J.append("file",u);const G=new Promise(async(pe,X)=>{var de,ve,Oe;try{const x=((de=document.head.querySelector('meta[name="csrf-token"]'))==null?void 0:de.content)||((ve=document.querySelector('input[name="_token"]'))==null?void 0:ve.value)||((Oe=window.Laravel)==null?void 0:Oe.csrfToken),C=await Mt.post(route("dailyWorks.import"),J,{headers:{"Content-Type":"multipart/form-data",...x&&{"X-CSRF-TOKEN":x}},onUploadProgress:q=>{const V=Math.round(q.loaded*100/q.total);j(V)}});C.status===200&&(z(),E({}),t(),typeof s=="function"?s(C.data.results):(C.data.data&&a(C.data.data),C.data.total&&e(C.data.total),typeof l=="function"&&l()),pe(C.data.message||"Daily works imported successfully."))}catch(x){if(console.error("Upload error:",x),x.response)if(console.error("Error response status:",x.response.status),console.error("Error response data:",x.response.data),console.error("Error response headers:",x.response.headers),x.response.status===422)E(x.response.data.errors||{}),X(x.response.data.error||"Failed to import daily works");else if(x.response.status===500){const C=x.response.data.error||x.response.data.message||"Internal server error occurred";E({general:[C]}),X(`Server Error: ${C}`)}else{const C=x.response.data.message||x.response.data.error||"An unexpected error occurred";E({general:[C]}),X(`HTTP Error ${x.response.status}: ${C}`)}else x.request?(console.error("No response received:",x.request),E({general:["No response received from the server. Please check your internet connection."]}),X("No response received from the server. Please check your internet connection.")):(console.error("Request setup error:",x.message),E({general:["An error occurred while setting up the request."]}),X("An error occurred while setting up the request."))}finally{y(!1)}});lt.promise(G,{pending:"Uploading file...",success:{render({data:pe}){return i.jsx(i.Fragment,{children:pe})}},error:{render({data:pe}){return i.jsx(i.Fragment,{children:pe})}}})},O=()=>{g||(z(),E({}),t())};return i.jsx(va,{isOpen:n,onClose:O,size:"4xl",radius:ft(),placement:"center",scrollBehavior:"inside",classNames:{base:"backdrop-blur-md mx-2 my-2 sm:mx-4 sm:my-8 max-h-[95vh]",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",body:"overflow-y-auto",footer:"border-t border-divider",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:i.jsx(xa,{children:J=>i.jsxs(i.Fragment,{children:[i.jsx(ba,{className:"flex flex-col gap-1",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",color:"var(--theme-primary)"},children:i.jsx(zi,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Import Daily Works"}),i.jsx("p",{className:"text-sm text-default-500",children:"Upload Excel or CSV file to import multiple daily work entries"})]})]})}),i.jsx(ya,{className:"py-4 px-4 sm:py-6 sm:px-6",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx(Un,{className:`border-2 border-dashed transition-all duration-200 ${ce?"border-primary bg-primary/5":u?"border-success bg-success/5":"border-default-300 hover:border-default-400"}`,radius:ft(),children:i.jsx(Zn,{className:"p-8",children:i.jsxs("div",{...M(),className:"flex flex-col items-center justify-center text-center cursor-pointer",children:[i.jsx("input",{...ne()}),i.jsx("div",{className:`p-4 rounded-full mb-4 ${u?"bg-success/10":"bg-default-100"}`,children:N(u)}),u?i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-medium text-foreground",children:u.name}),i.jsx("p",{className:"text-sm text-default-500",children:_(u.size)}),i.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[i.jsx(on,{size:"sm",color:"success",variant:"flat",startContent:i.jsx(Vr,{className:"w-3 h-3"}),children:"File Ready"}),i.jsx(mt,{size:"sm",variant:"light",color:"danger",onPress:z,isIconOnly:!0,children:i.jsx(tc,{className:"w-4 h-4"})})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-medium text-foreground",children:ce?"Drop your file here":"Choose file to upload"}),i.jsx("p",{className:"text-sm text-default-500",children:"Drag and drop your Excel or CSV file here, or click to browse"}),i.jsx("p",{className:"text-xs text-default-400",children:"Supported formats: .xlsx, .xls, .csv (Max: 10MB)"})]})]})})}),g&&i.jsx(Un,{children:i.jsx(Zn,{className:"p-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Uploading..."}),i.jsxs("span",{className:"text-sm text-default-500",children:[v,"%"]})]}),i.jsx(Ql,{value:v,color:"primary",size:"sm",className:"w-full"})]})})}),P.length>0&&i.jsx(Un,{className:"border border-danger/20 bg-danger/5",children:i.jsx(Zn,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Ir,{className:"w-5 h-5 text-danger mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-danger mb-1",children:"File Validation Errors"}),i.jsx("ul",{className:"space-y-1",children:P.map((G,pe)=>i.jsxs("li",{className:"text-sm text-danger/80",children:["• ",G]},pe))})]})]})})}),Object.keys(L).length>0&&i.jsx(Un,{className:"border border-danger/20 bg-danger/5",children:i.jsx(Zn,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Ir,{className:"w-5 h-5 text-danger mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-danger mb-1",children:"Upload Errors"}),i.jsx("div",{className:"space-y-2",children:Object.entries(L).map(([G,pe])=>i.jsxs("div",{children:[G!=="general"&&i.jsxs("p",{className:"text-sm font-medium text-danger capitalize",children:[G.replace("_"," "),":"]}),i.jsx("ul",{className:"space-y-1",children:Array.isArray(pe)?pe.map((X,de)=>i.jsxs("li",{className:"text-sm text-danger/80",children:["• ",X]},de)):i.jsxs("li",{className:"text-sm text-danger/80",children:["• ",pe]})})]},G))})]})]})})})]}),i.jsx(si,{}),i.jsxs(fp,{variant:"bordered",children:[i.jsx(Mc,{"aria-label":"Expected File Format",startContent:i.jsx(Dl,{className:"w-5 h-5 text-primary"}),title:"Expected File Format",subtitle:"Click to view the required Excel/CSV structure",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 rounded-lg bg-default-50",children:[i.jsx("h4",{className:"font-medium mb-2 text-foreground",children:"Excel/CSV Column Structure:"}),i.jsx("div",{className:"text-sm text-default-600",children:"Your file should have exactly 8 columns in this order (with or without headers):"})]}),i.jsxs(Ed,{"aria-label":"Expected format table",removeWrapper:!0,classNames:{th:"bg-default-100 text-default-700 text-xs font-semibold",td:"py-2 text-sm"},children:[i.jsxs(Dd,{children:[i.jsx(Di,{children:"Column"}),i.jsx(Di,{children:"Field Name"}),i.jsx(Di,{children:"Example"}),i.jsx(Di,{children:"Required"}),i.jsx(Di,{children:"Processed"})]}),i.jsx(Od,{children:c.map((G,pe)=>i.jsxs(Rd,{children:[i.jsx(gn,{children:i.jsx(on,{size:"sm",variant:"flat",color:"primary",children:G.column})}),i.jsx(gn,{className:"font-medium",children:G.field}),i.jsx(gn,{className:"text-default-500",children:G.example}),i.jsx(gn,{children:G.required?i.jsx(on,{size:"sm",color:"danger",variant:"flat",children:"Required"}):i.jsx(on,{size:"sm",color:"default",variant:"flat",children:"Optional"})}),i.jsx(gn,{children:G.processed?i.jsx(on,{size:"sm",color:"success",variant:"flat",children:"Yes"}):i.jsx(on,{size:"sm",color:"warning",variant:"flat",children:"No"})})]},pe))})]}),i.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-primary/10 border border-primary/20",children:[i.jsx(Dl,{className:"w-4 h-4 text-primary mt-0.5"}),i.jsxs("div",{className:"text-xs text-primary-700",children:[i.jsx("strong",{children:"Format Tips:"}),"• Only columns A-E are processed by the system (columns F-H are for reference only) • Work Type examples: Structure, Embankment, Pavement • Quantity/Layer examples: 150 MT (metric tons), 2 Layers, 500 SQM (square meters) • Side values: TR-R (Traffic Right), TR-L (Traffic Left), SR-R (Service Right), SR-L (Service Left) • Location/Chainage format: K05+560-K05+660 (kilometer markers with ranges)"]})]}),i.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-warning/10 border border-warning/20",children:[i.jsx(Ir,{className:"w-4 h-4 text-warning mt-0.5"}),i.jsxs("div",{className:"text-xs text-warning-700",children:[i.jsx("strong",{children:"Important:"})," The first row can contain headers (they will be skipped). Date format should be M/D/YYYY (e.g., 4/27/2025). RFI Number can contain multiple comma-separated values."]})]})]})},"format"),i.jsx(Mc,{"aria-label":"Download Template",startContent:i.jsx(Ol,{className:"w-5 h-5 text-success"}),title:"Download Template",subtitle:"Get a pre-formatted Excel template",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-default-600",children:"Download our Excel template with the correct 8-column format and sample daily work data:"}),i.jsx(mt,{color:"success",variant:"flat",startContent:i.jsx(Ol,{className:"w-4 h-4"}),onPress:()=>{window.open(route("dailyWorks.downloadTemplate"),"_blank")},children:"Download Excel Template"})]})},"template")]})]})}),i.jsxs(Ba,{className:"flex flex-col sm:flex-row justify-center gap-2 px-4 sm:px-6 py-3 sm:py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[i.jsx(mt,{color:"default",variant:"bordered",onPress:O,disabled:g,radius:ft(),size:"sm",style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),i.jsx(mt,{color:"primary",onPress:D,isLoading:g,disabled:!u||P.length>0,radius:ft(),size:"sm",startContent:g?null:i.jsx(zi,{className:"w-4 h-4"}),style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:g?`Uploading... ${v}%`:"Import Daily Works"})]})]})})})};class Jh extends Q.Component{constructor(e){super(e);Dc(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onRetry&&this.props.onRetry()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,a){console.error("ErrorBoundary caught an error:",e,a),this.setState({errorInfo:a}),this.props.onError&&this.props.onError(e,a)}render(){var e;if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const{fallbackTitle:a="Something went wrong",fallbackDescription:l="An unexpected error occurred. Please try again.",showDetails:s=!1,showRetry:c=!0}=this.props;return i.jsx(Un,{className:"border border-danger/20 bg-danger/5",style:{borderRadius:"var(--borderRadius, 12px)"},children:i.jsxs(Zn,{className:"flex flex-col items-center justify-center py-12 px-6 text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-danger/10 flex items-center justify-center mb-4",children:i.jsx(Ir,{className:"w-8 h-8 text-danger"})}),i.jsx("h3",{className:"text-lg font-semibold text-danger mb-2",children:a}),i.jsx("p",{className:"text-sm text-default-600 mb-4 max-w-md",children:l}),s&&this.state.error&&i.jsx("div",{className:"w-full max-w-lg mb-4",children:i.jsxs("details",{className:"text-left",children:[i.jsx("summary",{className:"text-xs text-default-500 cursor-pointer hover:text-default-700",children:"Error Details"}),i.jsxs("pre",{className:"mt-2 p-3 bg-default-100 rounded-lg text-xs text-danger overflow-x-auto",children:[this.state.error.toString(),((e=this.state.errorInfo)==null?void 0:e.componentStack)&&i.jsx("span",{className:"text-default-500",children:this.state.errorInfo.componentStack})]})]})}),c&&i.jsx(mt,{color:"danger",variant:"flat",onPress:this.handleRetry,startContent:i.jsx(Vi,{className:"w-4 h-4"}),style:{borderRadius:"var(--borderRadius, 12px)"},children:"Try Again"})]})})}return this.props.children}}const Xh=({onRefresh:n,children:t,disabled:e=!1,threshold:a=80,className:l=""})=>{const[s,c]=Q.useState(!1),[u,f]=Q.useState(0),g=Q.useRef(null),y=Q.useRef(0),v=Q.useRef(0),j=Q.useRef(!0),h=Md(0),R=ks(h,[0,a],[0,360]),P=ks(h,[0,a/2,a],[0,.5,1]),I=ks(h,[0,a],[.5,1]),L=Q.useCallback(ue=>{if(e||s)return;const se=g.current;if(se&&se.scrollTop>0){j.current=!1;return}j.current=!0,y.current=ue.touches[0].clientY},[e,s]),E=Q.useCallback(ue=>{if(e||s||!j.current)return;v.current=ue.touches[0].clientY;const se=v.current-y.current;if(se>0){const z=Math.min(se*.4,a*1.5);f(z),h.set(z),z>10&&ue.preventDefault()}},[e,s,a,h]),K=Q.useCallback(async()=>{if(!(e||s||!j.current)){if(u>=a){c(!0);try{await(n==null?void 0:n())}finally{c(!1)}}f(0),h.set(0)}},[e,s,u,a,n,h]);return i.jsxs("div",{ref:g,className:`relative overflow-auto ${l}`,onTouchStart:L,onTouchMove:E,onTouchEnd:K,style:{touchAction:u>10?"none":"auto"},children:[i.jsx(Fo,{children:(u>0||s)&&i.jsx(ha.div,{className:"absolute left-0 right-0 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{top:Math.min(u,a)-40,height:40},children:i.jsx(ha.div,{className:`
                                w-10 h-10 rounded-full flex items-center justify-center
                                ${s?"bg-primary/20 border-2 border-primary":u>=a?"bg-success/20 border-2 border-success":"bg-default-100 border-2 border-default-300"}
                            `,style:{scale:s?1:I,opacity:s?1:P},children:i.jsx(ha.div,{animate:s?{rotate:360}:{},transition:s?{repeat:1/0,duration:1,ease:"linear"}:{},style:{rotate:s?void 0:R},children:i.jsx(Vi,{className:`w-5 h-5 ${s?"text-primary":u>=a?"text-success":"text-default-500"}`})})})})}),i.jsx(ha.div,{style:{y:s?a/2:h,transition:s?"transform 0.2s ease-out":void 0},children:t})]})},yu=({auth:n,title:t,allData:e,jurisdictions:a,users:l,reports:s,reports_with_daily_works:c,overallEndDate:u,overallStartDate:f})=>{var pn,Tn,fn;const g=qi("(min-width: 1025px)"),y=qi("(min-width: 641px) and (max-width: 1024px)"),v=qi("(max-width: 640px)"),j=((pn=n.roles)==null?void 0:pn.includes("Administrator"))||((Tn=n.roles)==null?void 0:Tn.includes("Super Administrator"))||((fn=n.roles)==null?void 0:fn.includes("Daily Work Manager"))||!1,h=Q.useRef(null),[R,P]=Q.useState(!1);Q.useRef(0),Q.useRef(0);const[I,L]=Q.useState([]),[E,K]=Q.useState(!1),[ue,se]=Q.useState(!0),[oe,z]=Q.useState(!1),[M,ne]=Q.useState(!1),[ce,N]=Q.useState(0),[_,D]=Q.useState(0),[O,J]=Q.useState([]),[G,pe]=Q.useState(),[X,de]=Q.useState(null),[ve,Oe]=Q.useState(null),[x,C]=Q.useState(""),[q,V]=Q.useState(30),[Z,le]=Q.useState(1),[W,$]=Q.useState(u),[be,je]=Q.useState({start:f,end:u}),Ie=Q.useCallback((xe,at,Xe,bt="name")=>{if(!xe||xe.length===0)return i.jsx("span",{className:"text-default-400 text-xs",children:Xe});const yt=xe.map(String),It=(at==null?void 0:at.filter(Ct=>yt.includes(String(Ct.id))).map(Ct=>Ct[bt]))??[];return It.length===0?i.jsx("span",{className:"text-default-400 text-xs",children:Xe}):i.jsx("div",{className:"flex flex-wrap gap-1",children:It.map(Ct=>i.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-primary/10 text-primary",children:Ct},Ct))})},[]),Ee=Q.useMemo(()=>(e==null?void 0:e.allInCharges)??[],[e==null?void 0:e.allInCharges]),Ve=Q.useMemo(()=>(a==null?void 0:a.map(xe=>({...xe,displayLabel:`${xe.start_chainage} - ${xe.end_chainage}`})))??[],[a]),[he,U]=Q.useState({status:"all",incharge:[],jurisdiction:[],startDate:f,endDate:u}),[We,Je]=Q.useState(!1),Fe=Q.useCallback(()=>(h.current&&h.current.abort(),h.current=new AbortController,h.current.signal),[]),qe=async(xe=!0)=>{const at=Fe();xe&&!M&&se(!0);try{const Xe={search:x,...rt(),startDate:W,endDate:W},bt=await Mt.get("/daily-works-all",{params:Xe,signal:at});if(at.aborted)return;const yt=bt.data.dailyWorks||[];L(Array.isArray(yt)?yt:[]),N(yt.length),D(1)}catch(Xe){if(Mt.isCancel(Xe)||Xe.name==="AbortError")return;console.error("Error fetching mobile data:",Xe),L([]),lt.error("Failed to fetch data.")}finally{at.aborted||(se(!1),K(!1),P(!1))}},Be=async(xe=!0)=>{const at=Fe();xe&&!M&&se(!0);try{const Xe={search:x,...rt(),startDate:be.start,endDate:be.end,page:Z,perPage:q},bt=await Mt.get("/daily-works-paginate",{params:Xe,signal:at});if(at.aborted)return;L(Array.isArray(bt.data.data)?bt.data.data:[]),N(bt.data.total||0),D(bt.data.last_page||1)}catch(Xe){if(Mt.isCancel(Xe)||Xe.name==="AbortError")return;console.error("Error fetching desktop data:",Xe),L([]),lt.error("Failed to fetch data.")}finally{at.aborted||(se(!1),K(!1))}},Me=Q.useCallback(async(xe=!0)=>{v?await qe(xe):await Be(xe)},[v,x,he,W,be,Z,q]),et=Q.useCallback(async()=>{R||!v||(P(!0),le(1),await Me(!1),await Rt(),lt.success("Data refreshed"))},[R,v,Me]),Se=Q.useCallback(()=>{le(1),Me(),Rt()},[Me]);Q.useEffect(()=>()=>{h.current&&h.current.abort()},[]);const De=xe=>{C(xe.target.value),le(1)},Ze=xe=>{le(xe)},st=xe=>{$(xe),le(1)},vt=xe=>{je(xe),le(1)},rt=()=>{const xe={status:he.status!=="all"?he.status:""};return he.incharge.length>0&&(xe.inCharge=he.incharge),he.jurisdiction.length>0&&(xe.jurisdiction=he.jurisdiction),xe},ct=async()=>{if(I&&I.length<q&&ce>I.length){const xe=Math.min(q-I.length,ce-I.length);if(xe<=0)return;se(!0);try{const at={search:x,...rt(),startDate:v?W:be.start,endDate:v?W:be.end,page:Z+1,perPage:xe},Xe=await Mt.get("/daily-works-paginate",{params:at});Xe.status===200&&Xe.data.data&&L(bt=>{const yt=Xe.data.data;return[...bt,...yt]})}catch(at){console.error("Error fetching additional items:",at)}finally{se(!1)}}},ze=()=>{if(!X){lt.error("No task selected for deletion");return}z(!0);const xe=new Promise(async(at,Xe)=>{try{const bt=await Mt.delete("/delete-daily-work",{data:{id:X,page:Z,perPage:q}}),yt=Math.max(0,ce-1);if(I.filter(Ct=>Ct.id!==X).length===0&&yt>0&&Z>1){const Ct=Z-1;le(Ct)}else{L(Qn=>Qn.filter(Wn=>Wn.id!==X)),N(yt);const Ct=Math.ceil(yt/q);D(Ct),setTimeout(()=>ct(),100)}Ft(),Rt(),at("Daily work deleted successfully!")}catch(bt){if(console.error("Delete error:",bt),Me(),bt.response){const yt=bt.response.status,It=bt.response.data;yt===403?Xe("You do not have permission to delete daily works."):yt===404?Xe("Daily work not found."):yt===422&&It.message?Xe(It.message):Xe(`Failed to delete daily work. Status: ${yt}`)}else bt.request?Xe("Network error. Please check your connection."):Xe(`Failed to delete daily work: ${bt.message}`)}finally{z(!1)}});lt.promise(xe,{loading:"Deleting daily work...",success:at=>at,error:at=>at})},tn=(xe,at)=>{de(xe),Oe(at)},Ft=()=>{Oe(null),de(null)},nn=xe=>{Oe(xe)},Nt=()=>{Oe(null)},Tt=xe=>{if(xe){L(Xe=>[xe,...Xe]),N(Xe=>Xe+1);const at=Math.ceil((ce+1)/q);D(at),Rt()}else Me();Nt()},jn=xe=>{xe?(L(at=>at.map(Xe=>Xe.id===xe.id?{...Xe,...xe}:Xe)),xe.status&&Rt()):Me(),Nt()},ut=xe=>{if(Nt(),xe&&Array.isArray(xe)&&xe.length>0){const at=xe.filter(Xe=>Xe.date).map(Xe=>Xe.date);if(at.length>0){const bt=at.sort((yt,It)=>new Date(It)-new Date(yt))[0];if(v)$(bt);else{const yt=new Date(be.end);new Date(bt)>yt?je(Ct=>({...Ct,end:bt})):je(Ct=>({...Ct,end:bt}))}}}le(1),setTimeout(()=>{Me(!0),Rt()},100)},[ln,Xt]=Q.useState(null),[Rn,Mn]=Q.useState(!1),Rt=async()=>{Mn(!0);try{const xe=await Mt.get("/daily-works/statistics");Xt(xe.data)}catch(xe){console.error("Error fetching statistics:",xe),lt.error("Failed to load statistics")}finally{Mn(!1)}},xt=Q.useMemo(()=>{var Hn,qn,Pn,er,kn,tr,wr,Er,Nr;if(ln){const sn=((Hn=ln.overview)==null?void 0:Hn.totalWorks)||0,Dr=((qn=ln.overview)==null?void 0:qn.completedWorks)||0,jr=((Pn=ln.overview)==null?void 0:Pn.pendingWorks)||0;(er=ln.qualityMetrics)!=null&&er.rfiSubmissions;const Yr=((kn=ln.qualityMetrics)==null?void 0:kn.passedInspections)||0,H=((tr=ln.qualityMetrics)==null?void 0:tr.failedInspections)||0,Te=((wr=ln.qualityMetrics)==null?void 0:wr.totalResubmissions)||0,we=((Er=ln.performanceIndicators)==null?void 0:Er.completionRate)||0,Pe=((Nr=ln.recentActivity)==null?void 0:Nr.todayWorks)||0,tt=Yr+H,Re=tt>0?Math.round(Yr/tt*100):0;return[{title:"Total Works",value:sn.toLocaleString(),icon:i.jsx(Wc,{className:"w-5 h-5"}),color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",description:`${Pe} added today`,trend:Pe>0?"up":"neutral"},{title:"Completion Rate",value:`${we}%`,icon:i.jsx(Vr,{className:"w-5 h-5"}),color:we>=80?"text-green-600":we>=50?"text-yellow-600":"text-red-600",bgColor:we>=80?"bg-green-50 dark:bg-green-900/20":we>=50?"bg-yellow-50 dark:bg-yellow-900/20":"bg-red-50 dark:bg-red-900/20",description:`${Dr.toLocaleString()} of ${sn.toLocaleString()} completed`,trend:we>=80?"up":we>=50?"neutral":"down"},{title:"Pending Review",value:jr.toLocaleString(),icon:i.jsx(ga,{className:"w-5 h-5"}),color:jr>100?"text-orange-600":"text-amber-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",description:jr>0?"Awaiting action":"All caught up!",trend:jr>100?"down":"neutral"},{title:"Inspection Pass",value:`${Re}%`,icon:i.jsx(zi,{className:"w-5 h-5"}),color:Re>=90?"text-green-600":Re>=70?"text-purple-600":"text-red-600",bgColor:Re>=90?"bg-green-50 dark:bg-green-900/20":"bg-purple-50 dark:bg-purple-900/20",description:Te>0?`${Te} resubmissions`:`${Yr} passed`,trend:Re>=90?"up":Re>=70?"neutral":"down"}]}const xe=ce||I.length,at=I.filter(sn=>sn.status==="completed").length,Xe=I.filter(sn=>["new","resubmission","pending","in-progress"].includes(sn.status)).length,bt=I.filter(sn=>sn.inspection_result==="pass"||sn.inspection_result==="approved").length,yt=I.filter(sn=>sn.inspection_result==="fail"||sn.inspection_result==="rejected").length,It=I.filter(sn=>sn.resubmission_count>0).length,Ct=I.length>0?Math.round(at/I.length*100):0,Qn=bt+yt,Wn=Qn>0?Math.round(bt/Qn*100):0;return[{title:"Total Works",value:xe.toLocaleString(),icon:i.jsx(Wc,{className:"w-5 h-5"}),color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",description:`Showing ${I.length} on page`},{title:"Completion Rate",value:`${Ct}%`,icon:i.jsx(Vr,{className:"w-5 h-5"}),color:Ct>=80?"text-green-600":Ct>=50?"text-yellow-600":"text-red-600",bgColor:Ct>=80?"bg-green-50 dark:bg-green-900/20":Ct>=50?"bg-yellow-50 dark:bg-yellow-900/20":"bg-red-50 dark:bg-red-900/20",description:`${at} completed`},{title:"Pending",value:Xe,icon:i.jsx(ga,{className:"w-5 h-5"}),color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-900/20",description:"Awaiting action"},{title:"Inspection Pass",value:Qn>0?`${Wn}%`:"-",icon:i.jsx(zi,{className:"w-5 h-5"}),color:Wn>=90?"text-green-600":"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",description:It>0?`${It} resubmitted`:`${bt} passed`}]},[ln,I,ce]),qt=[{label:"Add Work",icon:i.jsx(Po,{className:"w-4 h-4"}),color:"primary",variant:"solid",onPress:()=>nn("addDailyWork")},{label:"Import",icon:i.jsx(zi,{className:"w-4 h-4"}),color:"secondary",variant:"flat",onPress:()=>nn("importDailyWorks")},{label:"Export",icon:i.jsx(zd,{className:"w-4 h-4"}),color:"success",variant:"flat",onPress:()=>nn("exportDailyWorks")}],yr=Q.useRef(!0);return Q.useEffect(()=>{v&&!W&&$(u),ne(!0),se(!0),le(1),Me(!0).finally(()=>{ne(!1),se(!1),yr.current=!1})},[v]),Q.useEffect(()=>{if(yr.current||M)return;const xe=x?setTimeout(()=>{Me(!0)},150):null;return x||Me(!0),()=>{xe&&clearTimeout(xe)}},[Z,q,x,he,W,be,v]),Q.useEffect(()=>{Rt()},[]),i.jsxs(i.Fragment,{children:[i.jsx(mp,{title:t}),ve==="addDailyWork"&&i.jsx(yd,{modalType:"add",open:ve==="addDailyWork",setData:L,closeModal:Nt,onSuccess:Tt}),ve==="editDailyWork"&&i.jsx(yd,{modalType:"update",open:ve==="editDailyWork",currentRow:G,setData:L,closeModal:Nt,onSuccess:jn}),ve==="deleteDailyWork"&&i.jsx(Zf,{open:ve==="deleteDailyWork",handleClose:Ft,handleDelete:ze,isLoading:oe,setData:L}),ve==="importDailyWorks"&&i.jsx(Kh,{open:ve==="importDailyWorks",closeModal:Nt,setData:L,setTotalRows:N,refreshData:Se,onSuccess:ut}),ve==="exportDailyWorks"&&i.jsx(Qf,{open:ve==="exportDailyWorks",closeModal:Nt,filterData:he,users:l,inCharges:e.allInCharges}),i.jsx("div",{className:"flex justify-center p-4",children:i.jsx(ha.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full max-w-[2000px]",children:i.jsxs(Un,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                                var(--theme-content1, #FAFAFA) 20%, 
                                var(--theme-content2, #F4F4F5) 10%, 
                                var(--theme-content3, #F1F3F4) 20%)`},children:[i.jsx(El,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                                    color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                                    color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:i.jsx("div",{className:`${g?"p-6":y?"p-4":"p-3"} w-full`,children:i.jsx("div",{className:"flex flex-col space-y-4",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[i.jsx("div",{className:`
                                                    ${g?"p-3":y?"p-2.5":"p-2"} 
                                                    rounded-xl flex items-center justify-center
                                                `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:i.jsx(xp,{className:`
                                                        ${g?"w-8 h-8":y?"w-6 h-6":"w-5 h-5"}
                                                    `,style:{color:"var(--theme-primary)"}})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h4",{className:`
                                                        ${g?"text-2xl":y?"text-xl":"text-lg"}
                                                        font-bold text-foreground
                                                        ${g?"":"truncate"}
                                                    `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Project Work Management"}),i.jsx("p",{className:`
                                                        ${g?"text-sm":"text-xs"} 
                                                        text-default-500
                                                        ${g?"":"truncate"}
                                                    `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Track daily work progress and project activities"})]})]}),i.jsx("div",{className:"flex items-center gap-2 sm:gap-4 w-full lg:w-auto",children:i.jsx("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap justify-end w-full lg:w-auto",children:qt.map((xe,at)=>i.jsx(mt,{size:g?"md":"sm",variant:xe.variant||"flat",color:xe.color||"primary",startContent:!v&&xe.icon,isIconOnly:v,onPress:xe.onPress,className:`${xe.className||""} font-medium ${v?"min-w-9 h-9":""}`,"aria-label":xe.label,style:{fontFamily:'var(--fontFamily, "Inter")',borderRadius:"var(--borderRadius, 12px)"},children:v?xe.icon:xe.label},at))})})]})})})}),i.jsxs(Zn,{className:"pt-6",children:[i.jsx("div",{className:"relative",children:i.jsx(_p,{stats:xt,onRefresh:Rt,isLoading:Rn})}),i.jsxs("div",{className:"mb-4 space-y-4",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 items-stretch lg:items-center",children:[i.jsx(mt,{size:"sm",variant:We?"solid":"bordered",color:We?"primary":"default",onPress:()=>Je(!We),radius:ft(),className:`shrink-0 min-h-10 ${We?"":"border-divider/50"}`,startContent:i.jsx(Fp,{className:"w-4 h-4"}),style:{fontFamily:'var(--fontFamily, "Inter")'},children:v?"":"Filters"}),i.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[!v&&i.jsx(Ap,{className:"w-4 h-4 text-default-500 shrink-0"}),v?i.jsx(On,{type:"date",value:W,onChange:xe=>st(xe.target.value),variant:"bordered",size:"sm",radius:ft(),min:f,max:u,classNames:{base:"w-full",input:"text-foreground text-sm",inputWrapper:"min-h-10 bg-content2/50 border-divider/50 hover:border-divider"},style:{fontFamily:'var(--fontFamily, "Inter")'}}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(On,{type:"date",labelPlacement:"outside-left",label:"From",value:be.start,onChange:xe=>vt({...be,start:xe.target.value}),variant:"bordered",size:"sm",radius:ft(),min:f,max:u,classNames:{base:"w-auto",label:"text-xs text-default-500 whitespace-nowrap",input:"text-foreground text-sm",inputWrapper:"min-h-10 bg-content2/50 border-divider/50 hover:border-divider"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),i.jsx("span",{className:"text-default-400 text-sm",children:"—"}),i.jsx(On,{type:"date",labelPlacement:"outside-left",label:"To",value:be.end,onChange:xe=>vt({...be,end:xe.target.value}),variant:"bordered",size:"sm",radius:ft(),min:f,max:u,classNames:{base:"w-auto",label:"text-xs text-default-500 whitespace-nowrap",input:"text-foreground text-sm",inputWrapper:"min-h-10 bg-content2/50 border-divider/50 hover:border-divider"},style:{fontFamily:'var(--fontFamily, "Inter")'}})]})]}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx(On,{type:"text",placeholder:"Search by description, location, or notes...",value:x,onChange:xe=>De(xe),variant:"bordered",size:"sm",radius:ft(),startContent:i.jsx(Pp,{className:"w-4 h-4 text-default-400 shrink-0"}),classNames:{input:"text-foreground text-sm",inputWrapper:"min-h-10 bg-content2/50 border-divider/50 hover:border-divider"},style:{fontFamily:'var(--fontFamily, "Inter")'}})})]}),i.jsx(Fo,{children:We&&i.jsx(ha.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"overflow-hidden",children:i.jsx("div",{className:"p-3 rounded-lg border",style:{background:"var(--theme-content2, rgba(244, 244, 245, 0.8))",borderColor:"var(--theme-divider, rgba(228, 228, 231, 0.5))"},children:i.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[i.jsx("div",{className:"w-full sm:w-auto sm:min-w-[160px]",children:i.jsxs(sr,{label:"Status",placeholder:"All",selectedKeys:he.status?[he.status]:["all"],onSelectionChange:xe=>{const at=Array.from(xe)[0];U(Xe=>({...Xe,status:at})),le(1)},variant:"bordered",size:"sm",radius:ft(),classNames:{trigger:"min-h-10",value:"text-foreground text-sm"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:[i.jsx(Ln,{value:"all",children:"All Status"},"all"),i.jsx(Ln,{value:"new",children:"New"},"new"),i.jsx(Ln,{value:"completed",children:"Completed"},"completed"),i.jsx(Ln,{value:"resubmission",children:"Resubmission"},"resubmission"),i.jsx(Ln,{value:"emergency",children:"Emergency"},"emergency")]})}),j&&i.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:i.jsx(sr,{label:"In Charge",placeholder:"Filter by in charge...",selectionMode:"multiple",selectedKeys:new Set(he.incharge||[]),onSelectionChange:xe=>{const at=Array.from(xe).filter(Xe=>Xe!=="all");U(Xe=>({...Xe,incharge:at,jurisdiction:at.length?[]:Xe.jurisdiction})),le(1)},variant:"bordered",size:"sm",radius:ft(),startContent:i.jsx(_s,{className:"w-4 h-4 text-default-400"}),classNames:{trigger:"min-h-10",value:"text-foreground text-sm"},renderValue:()=>Ie(he.incharge,Ee,"All"),style:{fontFamily:'var(--fontFamily, "Inter")'},children:Ee==null?void 0:Ee.map(xe=>i.jsx(Ln,{value:String(xe.id),children:xe.name},String(xe.id)))})}),j&&i.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:i.jsx(sr,{label:"Jurisdiction",placeholder:"Filter by jurisdiction...",selectionMode:"multiple",selectedKeys:new Set(he.jurisdiction||[]),onSelectionChange:xe=>{const at=Array.from(xe).filter(Xe=>Xe!=="all");U(Xe=>({...Xe,jurisdiction:at,incharge:at.length?[]:Xe.incharge})),le(1)},variant:"bordered",size:"sm",radius:ft(),startContent:i.jsx(Ls,{className:"w-4 h-4 text-default-400"}),classNames:{trigger:"min-h-10",value:"text-foreground text-sm"},renderValue:()=>Ie(he.jurisdiction,Ve,"All","displayLabel"),style:{fontFamily:'var(--fontFamily, "Inter")'},children:Ve==null?void 0:Ve.map(xe=>i.jsx(Ln,{value:String(xe.id),children:xe.displayLabel},String(xe.id)))})}),i.jsx(mt,{size:"sm",variant:"flat",color:"danger",radius:ft(),className:"min-h-10",onPress:()=>{U({status:"all",incharge:[],jurisdiction:[],startDate:f,endDate:u}),le(1)},style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Clear"})]})})})})]}),i.jsx(Un,{radius:ft(),className:"bg-content2/50 backdrop-blur-md border border-divider/30",style:{fontFamily:'var(--fontFamily, "Inter")',borderRadius:"var(--borderRadius, 12px)",backgroundColor:"var(--theme-content2)",borderColor:"var(--theme-divider)"},children:i.jsx(Zn,{className:"p-4",children:i.jsx(Jh,{fallbackTitle:"Unable to load daily works",fallbackDescription:"There was an error loading the daily works table. Please try refreshing.",onRetry:Se,children:v?i.jsx(Xh,{onRefresh:et,disabled:ue||M,children:i.jsx(bd,{setData:L,filteredData:O,setFilteredData:J,reports:s,setCurrentRow:pe,currentPage:Z,setCurrentPage:le,onPageChange:Ze,setLoading:se,refreshStatistics:Rt,handleClickOpen:tn,openModal:nn,juniors:e.juniors,totalRows:ce,lastPage:_,loading:ue,allData:I,allInCharges:e.allInCharges,jurisdictions:a,users:l,reports_with_daily_works:c,isMobile:v,isRefreshing:R,searchTerm:x})}):i.jsx(bd,{setData:L,filteredData:O,setFilteredData:J,reports:s,setCurrentRow:pe,currentPage:Z,setCurrentPage:le,onPageChange:Ze,setLoading:se,refreshStatistics:Rt,handleClickOpen:tn,openModal:nn,juniors:e.juniors,totalRows:ce,lastPage:_,loading:ue,allData:I,allInCharges:e.allInCharges,jurisdictions:a,users:l,reports_with_daily_works:c,isMobile:v,searchTerm:x})})})})]})]})})})]})};yu.layout=n=>i.jsx(bp,{children:n});const Tm=Object.freeze(Object.defineProperty({__proto__:null,default:yu},Symbol.toStringTag,{value:"Module"}));export{Tm as D,Vt as _};
