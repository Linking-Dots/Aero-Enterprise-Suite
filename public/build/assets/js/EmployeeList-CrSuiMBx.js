import{a,j as e,S as se,Q as ve,b as Ne}from"./app-jRIoZsur.js";import{r as i}from"./react-core-DDvupgOx.js";import{e as ne,k as le,h as ie,l as de,B as M,b as ae,c as _e,m as ke,A as Ce}from"./App-CzeZjJmF.js";import{G as Pe}from"./logo-_ooFL_hJ.js";import{P as Fe}from"./PageHeader-IqaOrC4X.js";import{S as Se}from"./StatsCards-vbkq440-.js";import{a as L}from"./utilities-DT6SRl8s.js";import{u as ge,f as G,a as he,G as De,T as F,F as Te,B as Ae}from"./mui-libraries-DfWBtzq_.js";import{F as W}from"./EllipsisVerticalIcon-BX6PWMxg.js";import{F as be}from"./PencilIcon-Dhfhztfv.js";import{F as Ee}from"./TrashIcon-D8Us3Tf_.js";import{F as oe}from"./EnvelopeIcon-D6nUSkik.js";import{F as xe}from"./UserIcon-D16nn9o_.js";import{M as fe,k as Re,m as je,n as $e,o as ze,q as Ie,v as Le,G as ye,N as V,b as S,O as Y,P as B,Q as q,L as we,i as Oe,D as Be,s as re,l as I,f as E,e as Me,g as Ge}from"./ui-libraries-D1L3zk6d.js";import{F as He}from"./CheckCircleIcon-CJUGb5Jf.js";import{F as Ue,a as ue}from"./UserPlusIcon-B6CWJ_n8.js";import{F as Qe}from"./ChartBarIcon-Yugn57JF.js";import{F as We}from"./TableCellsIcon-C2_Qfojp.js";import{F as Ve}from"./AdjustmentsHorizontalIcon-DKS_UuIh.js";import"./ShieldCheckIcon-C7bFKizx.js";function Ye({title:x,titleId:y,...b},_){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:_,"aria-labelledby":y},b),x?i.createElement("title",{id:y},x):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5-3.9 19.5m-2.1-19.5-3.9 19.5"}))}const qe=i.forwardRef(Ye),Ke=({allUsers:x,departments:y,designations:b,attendanceTypes:_,setUsers:K,isMobile:c,isTablet:O,pagination:m,onPageChange:R,onRowsPerPageChange:J,totalUsers:X=0,loading:P=!1,updateEmployeeOptimized:D,deleteEmployeeOptimized:Z})=>{const n=ge(),[d,k]=i.useState(!1),[T,ee]=i.useState(null),[H,ce]=i.useState({}),w=async(r,p)=>{const f=new Promise(async(l,N)=>{try{if((await L.post(route("user.updateDepartment",{id:r}),{department:p})).status===200){const C=y.find(g=>g.id===parseInt(p))||null;D?.(r,{department_id:p,department_name:C?.name||null,designation_id:null,designation_name:null}),l("Department updated successfully")}}catch(u){console.error("Error updating department:",u),N("Failed to update department")}});M.promise(f,{pending:{render(){return a("div",{style:{display:"flex",alignItems:"center"},children:[e(G,{size:16}),e("span",{style:{marginLeft:"8px"},children:"Updating department..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard?.background||"rgba(15, 20, 25, 0.15)",border:n.glassCard?.border||"1px solid rgba(255, 255, 255, 0.2)",color:n.palette?.text?.primary||"#ffffff"}},success:{render({data:l}){return e("div",{children:l})},icon:"游릭",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard?.background||"rgba(15, 20, 25, 0.15)",border:n.glassCard?.border||"1px solid rgba(255, 255, 255, 0.2)",color:n.palette?.text?.primary||"#ffffff"}},error:{render({data:l}){return e("div",{children:l})},icon:"游댮",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard?.background||"rgba(15, 20, 25, 0.15)",border:n.glassCard?.border||"1px solid rgba(255, 255, 255, 0.2)",color:n.palette?.text?.primary||"#ffffff"}}})},v=async(r,p)=>{const f=new Promise(async(l,N)=>{try{if((await L.post(route("user.updateDesignation",{id:r}),{designation_id:p})).status===200){const C=b.find(g=>g.id===parseInt(p))||null;D?.(r,{designation_id:p,designation_name:C?.title||null}),l("Designation updated successfully")}}catch(u){console.error("Error updating designation:",u),N("Failed to update designation")}});M.promise(f,{pending:{render(){return a("div",{style:{display:"flex",alignItems:"center"},children:[e(G,{size:16}),e("span",{style:{marginLeft:"8px"},children:"Updating designation..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard?.background||"rgba(15, 20, 25, 0.15)",border:n.glassCard?.border||"1px solid rgba(255, 255, 255, 0.2)",color:n.palette?.text?.primary||"#ffffff"}},success:{render({data:l}){return e("div",{children:l})},icon:"游릭",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard?.background||"rgba(15, 20, 25, 0.15)",border:n.glassCard?.border||"1px solid rgba(255, 255, 255, 0.2)",color:n.palette?.text?.primary||"#ffffff"}},error:{render({data:l}){return e("div",{children:l})},icon:"游댮",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard?.background||"rgba(15, 20, 25, 0.15)",border:n.glassCard?.border||"1px solid rgba(255, 255, 255, 0.2)",color:n.palette?.text?.primary||"#ffffff"}}})},o=async(r,p)=>{const f=new Promise(async(l,N)=>{try{if((await L.post(route("user.updateAttendanceType",{id:r}),{attendance_type_id:p})).status===200){const C=_.find(g=>g.id===parseInt(p))||null;D&&D(r,{attendance_type_id:p,attendance_type_name:C?.name||null}),l("Attendance type updated successfully")}}catch(u){console.error("Error updating attendance type:",u),N("Failed to update attendance type")}});M.promise(f,{pending:{render(){return a("div",{style:{display:"flex",alignItems:"center"},children:[e(G,{size:16}),e("span",{style:{marginLeft:"8px"},children:"Updating attendance type..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard?.background||"rgba(15, 20, 25, 0.15)",border:n.glassCard?.border||"1px solid rgba(255, 255, 255, 0.2)",color:n.palette?.text?.primary||"#ffffff"}},success:{render({data:l}){return e("div",{children:l})},icon:"游릭",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard?.background||"rgba(15, 20, 25, 0.15)",border:n.glassCard?.border||"1px solid rgba(255, 255, 255, 0.2)",color:n.palette?.text?.primary||"#ffffff"}},error:{render({data:l}){return e("div",{children:l})},icon:"游댮",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard?.background||"rgba(15, 20, 25, 0.15)",border:n.glassCard?.border||"1px solid rgba(255, 255, 255, 0.2)",color:n.palette?.text?.primary||"#ffffff"}}})},U=async r=>{if(!confirm("Are you sure you want to delete this employee?"))return;const f=new Promise(async(l,N)=>{try{(await L.delete(route("user.delete",{id:r}))).status===200&&(Z&&Z(r),l("Employee deleted successfully"))}catch(u){console.error("Error deleting employee:",u),N("Failed to delete employee")}});M.promise(f,{pending:{render(){return a("div",{style:{display:"flex",alignItems:"center"},children:[e(G,{size:16}),e("span",{style:{marginLeft:"8px"},children:"Deleting employee..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard?.background||"rgba(15, 20, 25, 0.15)",border:n.glassCard?.border||"1px solid rgba(255, 255, 255, 0.2)",color:n.palette?.text?.primary||"#ffffff"}},success:{render({data:l}){return e("div",{children:l})},icon:"游릭",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard?.background||"rgba(15, 20, 25, 0.15)",border:n.glassCard?.border||"1px solid rgba(255, 255, 255, 0.2)",color:n.palette?.text?.primary||"#ffffff"}},error:{render({data:l}){return e("div",{children:l})},icon:"游댮",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard?.background||"rgba(15, 20, 25, 0.15)",border:n.glassCard?.border||"1px solid rgba(255, 255, 255, 0.2)",color:n.palette?.text?.primary||"#ffffff"}}})},Q=i.useMemo(()=>{const r=[{name:"#",uid:"sl"},{name:"EMPLOYEE",uid:"employee"},{name:"DEPARTMENT",uid:"department"},{name:"DESIGNATION",uid:"designation"},{name:"ACTIONS",uid:"actions"}];return c||r.splice(2,0,{name:"CONTACT",uid:"contact"}),!c&&!O&&r.splice(r.length-1,0,{name:"ATTENDANCE TYPE",uid:"attendance_type"}),r},[c,O]),j=(r,p,f)=>{const l=r[p],C=(m?.currentPage&&m?.perPage?Number((m.currentPage-1)*m.perPage):0)+(typeof f=="number"?f:0)+1;switch(p){case"sl":return e("div",{className:"flex items-center justify-center",children:e("div",{className:"flex items-center justify-center w-8 h-8 bg-white/10 backdrop-blur-md rounded-lg border border-white/20",children:e("span",{className:"text-sm font-semibold text-foreground",children:C})})});case"employee":return a("div",{children:[e(we,{avatarProps:{radius:"lg",src:r?.profile_image,size:c?"sm":"md",fallback:e(xe,{className:"w-4 h-4"})},name:r?.name,description:c?null:`ID: ${r?.employee_id||"N/A"}`,classNames:{name:"font-semibold text-foreground text-left",description:"text-default-500 text-left text-xs",wrapper:"justify-start"}}),c&&a("div",{className:"flex flex-col gap-1 text-xs text-default-500 ml-10",children:[a("div",{className:"flex items-center gap-1",children:[e(qe,{className:"w-3 h-3"}),r?.employee_id||"N/A"]}),a("div",{className:"flex items-center gap-1",children:[e(oe,{className:"w-3 h-3"}),r?.email]}),r?.phone&&a("div",{className:"flex items-center gap-1",children:[e(de,{className:"w-3 h-3"}),r?.phone]})]})]});case"contact":return a("div",{className:"flex flex-col gap-2",children:[a("div",{className:"flex items-center gap-2 text-sm",children:[e(oe,{className:"w-4 h-4 text-default-400"}),e("span",{className:"text-foreground",children:r?.email})]}),r?.phone&&a("div",{className:"flex items-center gap-2 text-sm",children:[e(de,{className:"w-4 h-4 text-default-400"}),e("span",{className:"text-foreground",children:r?.phone})]})]});case"department":return e("div",{className:"flex flex-col gap-2 min-w-[150px]",children:a(q,{children:[e(V,{children:e(S,{variant:"bordered",size:"sm",className:"justify-between backdrop-blur-md border-white/20 min-w-[150px] bg-white/10 hover:bg-white/15 transition-all duration-300",startContent:e(ie,{className:"w-4 h-4"}),endContent:e(W,{className:"w-4 h-4 rotate-90"}),children:e("span",{children:r.department_name||"Select Department"})})}),e(Y,{"aria-label":"Department options",children:y?.map(h=>e(B,{onPress:()=>w(r.id,h.id),children:h.name},h.id.toString()))})]})});case"designation":const g=r.department_id,te=b?.filter(h=>h.department_id===parseInt(g))||[];return e("div",{className:"flex flex-col gap-2 min-w-[150px]",children:a(q,{isDisabled:!g,children:[e(V,{children:e(S,{variant:"bordered",size:"sm",className:`justify-between backdrop-blur-md border-white/20 min-w-[150px] transition-all duration-300 ${g?"bg-white/10 hover:bg-white/15":"bg-gray-500/20 border-gray-400/40 opacity-50"}`,isDisabled:!g,startContent:e(le,{className:"w-4 h-4"}),endContent:g&&e(W,{className:"w-4 h-4 rotate-90"}),children:e("span",{children:g?r.designation_name||"Select Designation":"Select Department First"})})}),e(Y,{"aria-label":"Designation options",children:te.map(h=>e(B,{onPress:()=>v(r.id,h.id),children:h.title},h.id.toString()))})]})});case"attendance_type":return e("div",{className:"flex flex-col gap-2 min-w-[150px]",children:a(q,{children:[e(V,{children:e(S,{variant:"bordered",size:"sm",className:"justify-between backdrop-blur-md border-white/20 min-w-[150px] bg-white/10 hover:bg-white/15 transition-all duration-300",startContent:e(ne,{className:"w-4 h-4"}),endContent:e(W,{className:"w-4 h-4 rotate-90"}),children:e("span",{children:r.attendance_type_name||"Select Type"})})}),e(Y,{"aria-label":"Attendance Type options",children:_?.map(h=>e(B,{onPress:()=>o(r.id,h.id),children:h.name},h.id.toString()))})]})});case"actions":return e("div",{className:"relative flex justify-center items-center",children:a(q,{children:[e(V,{children:e(S,{isIconOnly:!0,variant:"light",className:"text-default-400 hover:text-foreground transition-all duration-300",children:e(W,{className:"w-5 h-5"})})}),a(Y,{"aria-label":"Employee Actions",children:[e(B,{startContent:e(be,{className:"w-4 h-4"}),onPress:()=>se.visit(route("profile",{user:r.id})),children:"Edit Profile"},"edit"),e(B,{className:"text-danger",color:"danger",startContent:e(Ee,{className:"w-4 h-4"}),onPress:()=>U(r.id),children:"Delete"},"delete")]})]})});default:return l}};return a("div",{className:"w-full overflow-hidden flex flex-col border border-white/10 rounded-lg relative",style:{maxHeight:"calc(100vh - 200px)"},children:[P&&e("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 rounded-lg",children:a("div",{className:"flex flex-col items-center gap-4 p-6 bg-white/10 backdrop-blur-md rounded-lg border border-white/20",children:[e(fe,{size:"lg",color:"primary"}),e("span",{className:"text-sm text-foreground",children:"Loading employees..."})]})}),e("div",{className:"overflow-auto flex-grow",children:a(Re,{"aria-label":"Employees table",removeWrapper:!0,classNames:{base:"bg-transparent min-w-[800px]",th:"bg-white/5 backdrop-blur-md text-default-500 border-b border-white/10 font-medium text-xs sticky top-0 z-10",td:"border-b border-white/5 py-3",table:"border-collapse",thead:"bg-white/5",tr:"hover:bg-white/5"},isHeaderSticky:!0,isCompact:c,children:[e(je,{columns:Q,children:r=>e($e,{align:r.uid==="actions"||r.uid==="sl"?"center":"start",width:r.uid==="sl"?60:void 0,children:r.name},r.uid)}),e(ze,{items:x||[],emptyContent:"No employees found",loadingContent:e(fe,{}),isLoading:P,children:(r,p)=>{const f=x?x.findIndex(l=>l.id===r.id):p;return e(Ie,{className:"transition-all duration-300 hover:bg-white/5",children:l=>e(Le,{className:"transition-all duration-300",children:e("div",{className:"transition-all duration-200",children:j(r,l,f)})})},r.id)}})]})}),!m||P?null:a("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 py-2 border-t border-white/10 bg-white/5 backdrop-blur-md",children:[a("span",{className:"text-xs text-default-400 mb-3 sm:mb-0",children:["Showing ",(m.currentPage-1)*m.perPage+1," to ",Math.min(m.currentPage*m.perPage,m.total)," of ",m.total," employees"]}),e(ye,{total:Math.ceil(m.total/m.perPage),initialPage:m.currentPage,page:m.currentPage,onChange:R,size:c?"sm":"md",variant:"bordered",showControls:!0,classNames:{item:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",cursor:"bg-white/20 backdrop-blur-md border-white/20"}})]})]})},Je=({title:x,departments:y,designations:b,attendanceTypes:_})=>{const K=ge(),c=he(K.breakpoints.down("sm")),O=he(K.breakpoints.down("md")),[m,R]=i.useState([]),[J,X]=i.useState(!0),[P,D]=i.useState(0),[Z,n]=i.useState(1),[d,k]=i.useState({search:"",department:"all",designation:"all",attendanceType:"all"}),[T,ee]=i.useState("table"),[H,ce]=i.useState(!1),[w,v]=i.useState({currentPage:1,perPage:10,total:0}),[o,U]=i.useState({overview:{total_employees:0,active_employees:0,inactive_employees:0,total_departments:0,total_designations:0,total_attendance_types:0},distribution:{by_department:[],by_designation:[],by_attendance_type:[]},hiring_trends:{recent_hires:{last_30_days:0,last_90_days:0,last_year:0},monthly_growth_rate:0,current_month_hires:0},workforce_health:{status_ratio:{active_percentage:0,inactive_percentage:0,retention_rate:0},retention_rate:0,turnover_rate:0},quick_metrics:{headcount:0,active_ratio:0,department_diversity:0,role_diversity:0,recent_activity:0}}),Q=i.useCallback(async()=>{X(!0);try{const{data:t}=await L.get(route("employees.paginate"),{params:{page:w.currentPage,perPage:w.perPage,search:d.search,department:d.department,designation:d.designation,attendanceType:d.attendanceType}});console.log(t),R(t.employees.data),D(t.employees.total),n(t.employees.last_page),v(s=>({...s,total:t.employees.total})),t.stats&&U(t.stats)}catch(t){console.error("Error fetching employees:",t),M.error("Failed to load employees data")}finally{X(!1)}},[w.currentPage,w.perPage,d]),j=i.useCallback(async()=>{try{const{data:t}=await L.get(route("employees.stats"));t.stats&&U(t.stats)}catch(t){console.error("Error fetching employee stats:",t)}},[]);i.useEffect(()=>{Q(),j()},[Q,j]);const me=i.useCallback(t=>{k(s=>({...s,search:t})),v(s=>({...s,currentPage:1}))},[]),r=i.useCallback(t=>{k(s=>({...s,department:t,designation:t!=="all"?"all":s.designation})),v(s=>({...s,currentPage:1}))},[]),p=i.useCallback(t=>{k(s=>({...s,designation:t})),v(s=>({...s,currentPage:1}))},[]),f=i.useCallback(t=>{k(s=>({...s,attendanceType:t})),v(s=>({...s,currentPage:1}))},[]),l=i.useCallback(t=>{v(s=>({...s,currentPage:t}))},[]),N=i.useCallback(t=>{v(s=>({...s,perPage:t,currentPage:1}))},[]),u=i.useCallback((t,s)=>{R($=>$.map(z=>z.id===t?{...z,...s}:z))},[]),C=i.useCallback(t=>{R(s=>s.filter($=>$.id!==t)),D(s=>s-1),v(s=>({...s,total:s.total-1})),j()},[j]),g=i.useMemo(()=>d.department==="all"?b:b.filter(t=>t.department_id===parseInt(d.department)),[b,d.department]),te=i.useMemo(()=>[{title:"Total Employees",value:o.overview?.total_employees||0,icon:e(ae,{}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"Total Headcount"},{title:"Active Employees",value:o.overview?.active_employees||0,icon:e(He,{}),color:"text-green-400",iconBg:"bg-green-500/20",description:`${o.workforce_health?.status_ratio?.active_percentage||0}% Active`},{title:"Departments",value:o.overview?.total_departments||0,icon:e(ie,{}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Department Diversity"},{title:"Designations",value:o.overview?.total_designations||0,icon:e(le,{}),color:"text-orange-400",iconBg:"bg-orange-500/20",description:"Role Diversity"},{title:"Retention Rate",value:`${o.workforce_health?.retention_rate||0}%`,icon:e(Ue,{}),color:"text-emerald-400",iconBg:"bg-emerald-500/20",description:"Employee Retention"},{title:"Recent Hires",value:o.hiring_trends?.recent_hires?.last_30_days||0,icon:e(ue,{}),color:"text-cyan-400",iconBg:"bg-cyan-500/20",description:"Last 30 Days"},{title:"Growth Rate",value:`${o.hiring_trends?.monthly_growth_rate||0}%`,icon:e(Qe,{}),color:"text-pink-400",iconBg:"bg-pink-500/20",description:"Monthly Growth"},{title:"Attendance Types",value:o.overview?.total_attendance_types||0,icon:e(ne,{}),color:"text-indigo-400",iconBg:"bg-indigo-500/20",description:"Available Types"}],[o]),h=({user:t,index:s})=>{const $=y?.find(A=>A.id===t.department_id),z=b?.find(A=>A.id===t.designation_id),pe=_?.find(A=>A.id===t.attendance_type_id);return e(Ge,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-200 cursor-pointer h-full",onPress:()=>se.visit(route("profile",{user:t.id})),children:a(Me,{className:"p-4 flex flex-col h-full",children:[a("div",{className:"flex items-start gap-3 mb-3 pb-3 border-b border-white/10",children:[e("div",{className:"flex-shrink-0",children:e(we,{avatarProps:{radius:"lg",src:t?.profile_image,size:"md",fallback:e(xe,{className:"w-4 h-4"})},name:t?.name,description:`ID: ${t?.employee_id||"N/A"}`,classNames:{name:"font-semibold text-foreground text-left text-sm",description:"text-default-500 text-left text-xs",wrapper:"justify-start"}})}),e("div",{className:"flex-1 min-w-0 flex justify-end",children:e(S,{isIconOnly:!0,size:"sm",variant:"light",className:"text-default-400 hover:text-foreground",onPress:A=>{A.stopPropagation(),se.visit(route("profile",{user:t.id}))},children:e(be,{className:"w-4 h-4"})})})]}),e("div",{className:"flex-1 flex flex-col gap-3",children:a("div",{className:"flex flex-col gap-2",children:[a("div",{className:"flex items-center gap-2 text-sm",children:[e(oe,{className:"w-4 h-4 text-default-400 flex-shrink-0"}),e("span",{className:"text-default-600 text-xs truncate",children:t?.email})]}),t?.phone&&a("div",{className:"flex items-center gap-2 text-sm",children:[e(de,{className:"w-4 h-4 text-default-400 flex-shrink-0"}),e("span",{className:"text-default-600 text-xs",children:t?.phone})]})]})}),a("div",{className:"mt-3 pt-3 border-t border-white/10 flex flex-wrap gap-2",children:[$&&e(E,{size:"sm",variant:"flat",color:"primary",className:"text-xs",startContent:e(ie,{className:"w-3 h-3"}),children:$.name}),z&&e(E,{size:"sm",variant:"flat",color:"secondary",className:"text-xs",startContent:e(le,{className:"w-3 h-3"}),children:z.title}),pe&&e(E,{size:"sm",variant:"bordered",className:"text-xs",startContent:e(ne,{className:"w-3 h-3"}),children:pe.name})]})]})})};return a(Ne,{children:[e(ve,{title:x}),e(Ae,{sx:{display:"flex",justifyContent:"center",p:2},children:e(De,{in:!0,timeout:800,children:e(Pe,{children:e(Fe,{title:"Employee Directory",subtitle:"Manage employee information, departments, and designations",icon:e(ae,{className:"w-8 h-8"}),variant:"default",actionButtons:[{label:c?"Add":"Add Employee",icon:e(ue,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-[var(--theme-primary)] to-[var(--theme-secondary)] text-white font-medium hover:opacity-90"}],children:a("div",{className:"p-4 sm:p-6",children:[e(Se,{stats:te,className:"mb-6"}),a("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 p-4",children:[e(F,{variant:"h6",className:"font-semibold text-foreground mb-4",children:"Department Distribution"}),e("div",{className:"space-y-3",children:o.distribution?.by_department?.slice(0,5).map((t,s)=>a("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm text-default-600",children:t.name}),a("div",{className:"flex items-center gap-2",children:[e("div",{className:"w-20 h-2 bg-white/10 rounded-full overflow-hidden",children:e("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full",style:{width:`${t.percentage}%`}})}),e("span",{className:"text-xs text-default-500 w-8",children:t.count})]})]},s))})]}),a("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 p-4",children:[e(F,{variant:"h6",className:"font-semibold text-foreground mb-4",children:"Hiring Trends"}),a("div",{className:"space-y-3",children:[a("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm text-default-600",children:"Last 30 Days"}),e("span",{className:"text-sm font-medium text-foreground",children:o.hiring_trends?.recent_hires?.last_30_days||0})]}),a("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm text-default-600",children:"Last 90 Days"}),e("span",{className:"text-sm font-medium text-foreground",children:o.hiring_trends?.recent_hires?.last_90_days||0})]}),a("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm text-default-600",children:"This Year"}),e("span",{className:"text-sm font-medium text-foreground",children:o.hiring_trends?.recent_hires?.last_year||0})]}),e("div",{className:"pt-2 border-t border-white/10",children:a("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm text-default-600",children:"Monthly Growth"}),a("span",{className:`text-sm font-medium ${(o.hiring_trends?.monthly_growth_rate||0)>=0?"text-green-400":"text-red-400"}`,children:[o.hiring_trends?.monthly_growth_rate||0,"%"]})]})})]})]}),a("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 p-4",children:[e(F,{variant:"h6",className:"font-semibold text-foreground mb-4",children:"Workforce Health"}),a("div",{className:"space-y-3",children:[a("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm text-default-600",children:"Retention Rate"}),a("span",{className:"text-sm font-medium text-green-400",children:[o.workforce_health?.retention_rate||0,"%"]})]}),a("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm text-default-600",children:"Turnover Rate"}),a("span",{className:"text-sm font-medium text-orange-400",children:[o.workforce_health?.turnover_rate||0,"%"]})]}),a("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm text-default-600",children:"Active Employees"}),a("span",{className:"text-sm font-medium text-blue-400",children:[o.workforce_health?.status_ratio?.active_percentage||0,"%"]})]})]})]}),a("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 p-4",children:[e(F,{variant:"h6",className:"font-semibold text-foreground mb-4",children:"Attendance Types"}),e("div",{className:"space-y-3",children:o.distribution?.by_attendance_type?.map((t,s)=>a("div",{className:"flex items-center justify-between",children:[e("span",{className:"text-sm text-default-600",children:t.name}),a("div",{className:"flex items-center gap-2",children:[e("div",{className:"w-16 h-2 bg-white/10 rounded-full overflow-hidden",children:e("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 rounded-full",style:{width:`${t.percentage}%`}})}),e("span",{className:"text-xs text-default-500 w-8",children:t.count})]})]},s))})]})]}),a("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e("div",{className:"flex-1",children:e(Oe,{label:"Search Employees",variant:"bordered",placeholder:"Search by name, email, or employee ID...",value:d.search,onValueChange:me,startContent:e(_e,{className:"w-4 h-4"}),classNames:{input:"bg-transparent",inputWrapper:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},size:c?"sm":"md"})}),a("div",{className:"flex gap-2 items-end",children:[a(Be,{variant:"bordered",className:"bg-white/5",children:[a(S,{isIconOnly:c,color:T==="table"?"primary":"default",onPress:()=>ee("table"),className:T==="table"?"bg-blue-500/20":"",children:[e(We,{className:"w-4 h-4"}),!c&&e("span",{className:"ml-1",children:"Table"})]}),a(S,{isIconOnly:c,color:T==="grid"?"primary":"default",onPress:()=>ee("grid"),className:T==="grid"?"bg-blue-500/20":"",children:[e(ke,{className:"w-4 h-4"}),!c&&e("span",{className:"ml-1",children:"Grid"})]})]}),a(S,{isIconOnly:c,variant:"bordered",onPress:()=>ce(!H),className:H?"bg-purple-500/20":"bg-white/5",children:[e(Ve,{className:"w-4 h-4"}),!c&&e("span",{className:"ml-1",children:"Filters"})]})]})]}),H&&e(Te,{in:!0,timeout:300,children:a("div",{className:"mb-6 p-4 bg-white/5 backdrop-blur-md rounded-lg border border-white/10",children:[a("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a(re,{label:"Department",variant:"bordered",selectedKeys:d.department!=="all"?[d.department]:[],onSelectionChange:t=>{const s=Array.from(t)[0]||"all";r(s)},classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},children:[e(I,{value:"all",children:"All Departments"},"all"),y?.map(t=>e(I,{value:t.id.toString(),children:t.name},t.id.toString()))]}),a(re,{label:"Designation",variant:"bordered",selectedKeys:d.designation!=="all"?[d.designation]:[],onSelectionChange:t=>{const s=Array.from(t)[0]||"all";p(s)},classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},children:[e(I,{value:"all",children:"All Designations"},"all"),g?.map(t=>e(I,{value:t.id.toString(),children:t.title},t.id.toString()))]}),!c&&a(re,{label:"Attendance Type",variant:"bordered",selectedKeys:d.attendanceType!=="all"?[d.attendanceType]:[],onSelectionChange:t=>{const s=Array.from(t)[0]||"all";f(s)},classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},children:[e(I,{value:"all",children:"All Attendance Types"},"all"),_?.map(t=>e(I,{value:t.id.toString(),children:t.name},t.id.toString()))]})]}),(d.search||d.department!=="all"||d.designation!=="all"||d.attendanceType!=="all")&&a("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-white/10",children:[d.search&&a(E,{variant:"flat",color:"primary",size:"sm",onClose:()=>k(t=>({...t,search:""})),children:["Search: ",d.search]}),d.department!=="all"&&a(E,{variant:"flat",color:"secondary",size:"sm",onClose:()=>k(t=>({...t,department:"all"})),children:["Department: ",y?.find(t=>t.id===parseInt(d.department))?.name]}),d.designation!=="all"&&a(E,{variant:"flat",color:"warning",size:"sm",onClose:()=>k(t=>({...t,designation:"all"})),children:["Designation: ",b?.find(t=>t.id===parseInt(d.designation))?.title]}),d.attendanceType!=="all"&&a(E,{variant:"flat",color:"success",size:"sm",onClose:()=>k(t=>({...t,attendanceType:"all"})),children:["Attendance: ",_?.find(t=>t.id===parseInt(d.attendanceType))?.name]})]})]})}),a("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 overflow-hidden",children:[e("div",{className:"p-4 border-b border-white/10",children:a(F,{variant:"h6",className:"font-semibold text-foreground",children:[T==="table"?"Employee Table":"Employee Grid",a("span",{className:"text-sm text-default-500 ml-2",children:["(",P," ",P===1?"employee":"employees",")"]})]})}),J?a("div",{className:"text-center py-8",children:[e(G,{size:40}),e(F,{className:"mt-4",color:"textSecondary",children:"Loading employees data..."})]}):T==="table"?e(Ke,{allUsers:m,departments:y,designations:b,attendanceTypes:_,setUsers:R,isMobile:c,isTablet:O,pagination:w,onPageChange:l,onRowsPerPageChange:N,totalUsers:P,loading:J,updateEmployeeOptimized:u,deleteEmployeeOptimized:C}):a("div",{className:"p-4",children:[m.length>0?e("div",{className:`grid gap-4 ${c?"grid-cols-1":O?"grid-cols-2":"grid-cols-3 xl:grid-cols-4"}`,children:m.map((t,s)=>e(h,{user:t,index:s},t.id))}):a("div",{className:"text-center py-8",children:[e(ae,{className:"w-12 h-12 mx-auto text-default-300 mb-2"}),e(F,{variant:"body1",color:"textSecondary",children:"No employees found"}),e(F,{variant:"caption",color:"textSecondary",children:"Try adjusting your search or filters"})]}),m.length>0&&e("div",{className:"flex justify-center mt-6 border-t border-white/10 pt-4",children:e(ye,{total:Math.ceil(P/w.perPage),initialPage:w.currentPage,page:w.currentPage,onChange:l,size:c?"sm":"md",variant:"bordered",showControls:!0,classNames:{item:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",cursor:"bg-white/20 backdrop-blur-md border-white/20"}})})]})]})]})})})})})]})};Je.layout=x=>e(Ce,{children:x});export{Je as default};
