import{w as ie,V as me,W as ye,O as re,N as he,L as z,K as ve,X as je,p as we,u as Pe,r as b,D as _e,Y as Ce,k as O,E as ae,y as P,Z as Ne,h as Fe,j as e,J as Le,Q as $e,d as se,b as Y,H as U}from"./app-CFOXYWdD.js";import{s as le,l as E,B as H,A as ke}from"./App-D44H3aE5.js";import{u as Ie,m as De,G as Se}from"./logo-AMLCgbkx.js";import{F as Re}from"./PlusIcon-xxvwdGLu.js";import{a as Te,b as Ve,i as q}from"./chunk-SSA7SXE4-B38lyIff.js";import{c as Ae}from"./chunk-D5XJWRAV-Bs0mRdwq.js";import{t as We,b as K,c as g,a as ze}from"./chunk-F3UDT23P-DfyL8aGa.js";import{t as Ee}from"./chunk-YRZGWF2W-CVS3z9wo.js";import"./EnvelopeIcon-DJsx2AYc.js";import"./UserIcon-B8KaJTnW.js";import"./ShieldCheckIcon-DfAiaKpT.js";import"./ExclamationTriangleIcon-Kx82ewut.js";import"./create-visual-element-DL7V4SzU.js";import"./index-CaGcrq76.js";import"./useHasTabbableChild-Bti5CcwH.js";var qe=ie({slots:{base:"group relative max-w-fit inline-flex items-center justify-start cursor-pointer tap-highlight-transparent p-2 -m-2 select-none",wrapper:["relative","inline-flex","items-center","justify-center","shrink-0","overflow-hidden","border-solid","border-medium","box-border","border-default","rounded-full","group-data-[hover-unselected=true]:bg-default-100",...ye],hiddenInput:me,labelWrapper:"flex flex-col ml-1",control:["z-10","w-2","h-2","opacity-0","scale-0","origin-center","rounded-full","group-data-[selected=true]:opacity-100","group-data-[selected=true]:scale-100"],label:"relative text-foreground select-none",description:"relative text-foreground-400"},variants:{color:{default:{control:"bg-default-500 text-default-foreground",wrapper:"group-data-[selected=true]:border-default-500"},primary:{control:"bg-primary text-primary-foreground",wrapper:"group-data-[selected=true]:border-primary"},secondary:{control:"bg-secondary text-secondary-foreground",wrapper:"group-data-[selected=true]:border-secondary"},success:{control:"bg-success text-success-foreground",wrapper:"group-data-[selected=true]:border-success"},warning:{control:"bg-warning text-warning-foreground",wrapper:"group-data-[selected=true]:border-warning"},danger:{control:"bg-danger text-danger-foreground",wrapper:"group-data-[selected=true]:border-danger"}},size:{sm:{wrapper:"w-4 h-4",control:"w-1.5 h-1.5",labelWrapper:"ml-1",label:"text-small",description:"text-tiny"},md:{wrapper:"w-5 h-5",control:"w-2 h-2",labelWrapper:"ms-2",label:"text-medium",description:"text-small"},lg:{wrapper:"w-6 h-6",control:"w-2.5 h-2.5",labelWrapper:"ms-2",label:"text-large",description:"text-medium"}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},isInvalid:{true:{control:"bg-danger text-danger-foreground",wrapper:"border-danger group-data-[selected=true]:border-danger",label:"text-danger",description:"text-danger-300"}},disableAnimation:{true:{},false:{wrapper:["group-data-[pressed=true]:scale-95","transition-transform-colors","motion-reduce:transition-none"],control:"transition-transform-opacity motion-reduce:transition-none",label:"transition-colors motion-reduce:transition-none",description:"transition-colors motion-reduce:transition-none"}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,isInvalid:!1}});ie({slots:{base:"relative flex flex-col gap-2",label:"relative text-foreground-500",wrapper:"flex flex-col flex-wrap gap-2 data-[orientation=horizontal]:flex-row",description:"text-tiny text-foreground-400",errorMessage:"text-tiny text-danger"},variants:{isRequired:{true:{label:"after:content-['*'] after:text-danger after:ml-0.5"}},isInvalid:{true:{description:"text-danger"}},disableAnimation:{true:{},false:{description:"transition-colors !duration-150 motion-reduce:transition-none"}}},defaultVariants:{isInvalid:!1,isRequired:!1}});const Be=new WeakMap;function Me(f,l,u){let{value:p,children:i,"aria-label":j,"aria-labelledby":C,onPressStart:n,onPressEnd:m,onPressChange:N,onPress:a,onPressUp:_,onClick:k}=f;const r=f.isDisabled||l.isDisabled;let s=l.selectedValue===p,t=v=>{v.stopPropagation(),l.setSelectedValue(p)},{pressProps:o,isPressed:x}=re({onPressStart:n,onPressEnd:m,onPressChange:N,onPress:a,onPressUp:_,onClick:k,isDisabled:r}),{pressProps:d,isPressed:h}=re({onPressStart:n,onPressEnd:m,onPressChange:N,onPressUp:_,onClick:k,isDisabled:r,onPress(v){var R;a==null||a(v),l.setSelectedValue(p),(R=u.current)===null||R===void 0||R.focus()}}),{focusableProps:F}=he(z(f,{onFocus:()=>l.setLastFocusedValue(p)}),u),B=z(o,F),w=ve(f,{labelable:!0}),I=-1;l.selectedValue!=null?l.selectedValue===p&&(I=0):(l.lastFocusedValue===p||l.lastFocusedValue==null)&&(I=0),r&&(I=void 0);let{name:V,form:A,descriptionId:W,errorMessageId:S,validationBehavior:L}=Be.get(l);return Te(u,l.defaultSelectedValue,l.setSelectedValue),Ve({validationBehavior:L},l,u),{labelProps:z(d,{onClick:v=>v.preventDefault()}),inputProps:z(w,{...B,type:"radio",name:V,form:A,tabIndex:I,disabled:r,required:l.isRequired&&L==="native",checked:s,value:p,onChange:t,"aria-describedby":[f["aria-describedby"],l.isInvalid?S:null,W].filter(Boolean).join(" ")||void 0}),isDisabled:r,isSelected:s,isPressed:x||h}}var[or,Ge]=je({name:"RadioGroupContext",strict:!1});function Oe(f){var l,u,p,i,j;const C=we(),n=Ge(),{as:m,ref:N,classNames:a,id:_,value:k,children:r,description:s,size:t=(l=n==null?void 0:n.size)!=null?l:"md",color:o=(u=n==null?void 0:n.color)!=null?u:"primary",isDisabled:x=(p=n==null?void 0:n.isDisabled)!=null?p:!1,disableAnimation:d=(j=(i=n==null?void 0:n.disableAnimation)!=null?i:C==null?void 0:C.disableAnimation)!=null?j:!1,onChange:h=n==null?void 0:n.onChange,autoFocus:F=!1,className:B,...w}=f,I=m||"label",V=Pe(N),A=b.useRef(null),W=b.useId(),S=b.useId(),L=b.useMemo(()=>{var c;return(c=n.isRequired)!=null?c:!1},[n.isRequired]),v=n.isInvalid,R=b.useMemo(()=>{const c=[w["aria-describedby"],S].filter(Boolean).join(" ")||void 0;return{id:_,isRequired:L,isDisabled:x,"aria-label":w["aria-label"],"aria-labelledby":w["aria-labelledby"]||W,"aria-describedby":c}},[_,x,L,s,w["aria-label"],w["aria-labelledby"],w["aria-describedby"],S]),{inputProps:D,isDisabled:$,isSelected:T,isPressed:oe}=Me({value:k,children:typeof r=="function"?!0:r,...R},n.groupState,A),{focusProps:Q,isFocused:J,isFocusVisible:M}=_e({autoFocus:F}),X=$||D.readOnly,{hoverProps:de,isHovered:G}=Ce({isDisabled:X}),Z=X?!1:oe,y=b.useMemo(()=>qe({color:o,size:t,isInvalid:v,isDisabled:$,disableAnimation:d}),[o,t,$,v,d]),ee=O(a==null?void 0:a.base,B),ce=b.useCallback((c={})=>({...c,ref:V,className:y.base({class:ee}),"data-disabled":P($),"data-focus":P(J),"data-focus-visible":P(M),"data-selected":P(T),"data-invalid":P(v),"data-hover":P(G),"data-pressed":P(Z),"data-hover-unselected":P(G&&!T),"data-readonly":P(D.readOnly),"aria-required":P(L),...ae(de,w)}),[y,ee,V,$,J,M,T,v,G,Z,D.readOnly,L,w]),pe=b.useCallback((c={})=>({...c,"aria-hidden":!0,className:O(y.wrapper({class:O(a==null?void 0:a.wrapper,c.className)}))}),[y,a==null?void 0:a.wrapper]),ue=b.useCallback((c={})=>({ref:A,...ae(c,D,Q),className:y.hiddenInput({class:a==null?void 0:a.hiddenInput}),onChange:Ne(D.onChange,h)}),[D,Q,h]),be=b.useCallback((c={})=>({...c,id:W,className:y.label({class:a==null?void 0:a.label})}),[y,a==null?void 0:a.label,$,T,v]),xe=b.useCallback((c={})=>({...c,className:y.labelWrapper({class:a==null?void 0:a.labelWrapper})}),[y,a==null?void 0:a.labelWrapper]),ge=b.useCallback((c={})=>({...c,className:y.control({class:a==null?void 0:a.control})}),[y,a==null?void 0:a.control]),fe=b.useCallback((c={})=>({...c,id:S,className:y.description({class:a==null?void 0:a.description})}),[y,a==null?void 0:a.description]);return{Component:I,children:r,isSelected:T,isDisabled:$,isInvalid:v,isFocusVisible:M,description:s,getBaseProps:ce,getWrapperProps:pe,getInputProps:ue,getLabelProps:be,getLabelWrapperProps:xe,getControlProps:ge,getDescriptionProps:fe}}var ne=Fe((f,l)=>{const{Component:u,children:p,description:i,getBaseProps:j,getWrapperProps:C,getInputProps:n,getLabelProps:m,getLabelWrapperProps:N,getControlProps:a,getDescriptionProps:_}=Oe({...f,ref:l});return e.jsxs(u,{...j(),children:[e.jsx("input",{...n()}),e.jsx("span",{...C(),children:e.jsx("span",{...a()})}),e.jsxs("div",{...N(),children:[p&&e.jsx("span",{...m(),children:p}),i&&e.jsx("span",{..._(),children:i})]})]})});ne.displayName="HeroUI.Radio";var te=ne;const Ye=({title:f})=>{const l={type:"",days:"",eligibility:"",carry_forward:"",earned_leave:"",special_conditions:""},[u,p]=b.useState(Le().props.leaveTypes),[i,j]=b.useState(l),[C,n]=b.useState(!1);Ie();const m=r=>{const{name:s,value:t}=r.target;j({...i,[s]:t})},N=async()=>{const r=new Promise(async(s,t)=>{var o,x;try{const d=await axios.post("/add-leave-type",i);d.status===201?(p([...u,{...i,id:d.data.id}]),j(l),s(["Leave type added successfully."])):t(["Failed to add leave type. Please try again."])}catch(d){console.error(d),t([((x=(o=d.response)==null?void 0:o.data)==null?void 0:x.message)||"Failed to add leave type. Please try again."])}});H.promise(r,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(U,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Adding leave type..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}},success:{render({data:s}){return e.jsx(e.Fragment,{children:s.map((t,o)=>e.jsx("div",{children:t},o))})},icon:"ğŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}},error:{render({data:s}){return e.jsx(e.Fragment,{children:s})},icon:"ğŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}}})},a=async r=>{const s=u.find(t=>t.id===r);j(s),n(!0)},_=()=>{const r=new Promise(async(s,t)=>{var o,x;try{const d=await axios.put(`/update-leave-type/${i.id}`,i);if(d.status===200){const h=u.map(F=>F.id===i.id?{...i,id:d.data.id}:F);p(h),j(l),n(!1),s(["Leave type updated successfully."])}else t(["Failed to update leave type. Please try again."])}catch(d){console.error(d),t([((x=(o=d.response)==null?void 0:o.data)==null?void 0:x.message)||"Failed to update leave type. Please try again."])}});H.promise(r,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(U,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating leave type..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}},success:{render({data:s}){return e.jsx(e.Fragment,{children:s.map((t,o)=>e.jsx("div",{children:t},o))})},icon:"ğŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}},error:{render({data:s}){return e.jsx(e.Fragment,{children:s})},icon:"ğŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}}})},k=async r=>{const s=new Promise(async(t,o)=>{var x,d;try{const h=await axios.delete(`/delete-leave-type/${r}`);h.status===200?(p(u.filter(F=>F.id!==r)),t([h.data.message||"Leave type deleted successfully."])):o(["Failed to delete leave type. Please try again."])}catch(h){console.error(h),o([((d=(x=h.response)==null?void 0:x.data)==null?void 0:d.message)||"Failed to delete leave type. Please try again."])}});H.promise(s,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(U,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Deleting leave type..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}},success:{render({data:t}){return e.jsx(e.Fragment,{children:t.map((o,x)=>e.jsx("div",{children:o},x))})},icon:"ğŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}},error:{render({data:t}){return e.jsx(e.Fragment,{children:t})},icon:"ğŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}}})};return e.jsxs(e.Fragment,{children:[e.jsx($e,{title:f}),e.jsx("div",{className:"flex justify-center p-2",children:e.jsx(De.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:e.jsxs(Se,{children:[e.jsx(Ae,{className:"p-6",children:e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Leave Settings"})}),e.jsx(se,{className:"px-6 pb-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 items-center",children:[e.jsx("div",{children:e.jsx(q,{label:"Leave Type",name:"type",value:i.type,onChange:m})}),e.jsx("div",{children:e.jsx(q,{label:"Number of Days",name:"days",type:"number",value:i.days,onChange:m})}),e.jsx("div",{children:e.jsxs(le,{label:"Carry Forward",name:"carry_forward",selectedKeys:i.carry_forward?[String(i.carry_forward)]:[],onSelectionChange:r=>{const s=Array.from(r)[0];m({target:{name:"carry_forward",value:s==="true"}})},children:[e.jsx(E,{value:"true",children:"Yes"},"true"),e.jsx(E,{value:"false",children:"No"},"false")]})}),e.jsx("div",{children:e.jsxs(le,{label:"Earned Leave",name:"earned_leave",selectedKeys:i.earned_leave?[String(i.earned_leave)]:[],onSelectionChange:r=>{const s=Array.from(r)[0];m({target:{name:"earned_leave",value:s==="true"}})},children:[e.jsx(E,{value:"true",children:"Yes"},"true"),e.jsx(E,{value:"false",children:"No"},"false")]})}),e.jsx("div",{className:"sm:col-span-2",children:e.jsx(q,{label:"Eligibility Criteria",name:"eligibility",value:i.eligibility,onChange:m})}),e.jsx("div",{className:"sm:col-span-2",children:e.jsx(q,{label:"Special Conditions",name:"special_conditions",value:i.special_conditions,onChange:m})}),e.jsx("div",{className:"col-span-full flex justify-center",children:e.jsx(Y,{variant:"bordered",color:"primary",onPress:C?_:N,startContent:e.jsx(Re,{className:"w-4 h-4"}),children:C?"Update Leave Type":"Add Leave Type"})})]})}),e.jsx(se,{children:e.jsx("div",{className:"overflow-auto max-h-[84vh]",children:e.jsxs(We,{"aria-label":"Leave types table",children:[e.jsx(Ee,{children:e.jsxs(K,{children:[e.jsx(g,{children:"Type"}),e.jsx(g,{children:"Days"}),e.jsx(g,{children:"Eligibility"}),e.jsx(g,{children:"Carry Forward"}),e.jsx(g,{children:"Earned Leave"}),e.jsx(g,{children:"Special Conditions"}),e.jsx(g,{children:"Actions"})]})}),e.jsx(ze,{children:u.length>0?u.map(r=>e.jsxs(K,{children:[e.jsx(g,{children:r.type}),e.jsx(g,{children:r.days}),e.jsx(g,{children:r.eligibility}),e.jsx(g,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{isSelected:!0,color:r.carry_forward?"success":"danger",isDisabled:!0}),e.jsx("span",{className:r.carry_forward?"text-success":"text-danger",children:r.carry_forward?"Yes":"No"})]})}),e.jsx(g,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{isSelected:!0,color:r.earned_leave?"success":"danger",isDisabled:!0}),e.jsx("span",{className:r.earned_leave?"text-success":"text-danger",children:r.earned_leave?"Yes":"No"})]})}),e.jsx(g,{children:r.special_conditions?r.special_conditions:"N/A"}),e.jsx(g,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Y,{variant:"bordered",color:"primary",size:"sm",onPress:()=>a(r.id),children:"Edit"}),e.jsx(Y,{variant:"bordered",color:"danger",size:"sm",onPress:()=>k(r.id),children:"Delete"})]})})]},r.id)):e.jsx(K,{children:e.jsx(g,{colSpan:7,className:"text-center",children:"No leave types available."})})})]})})})]})})})]})};Ye.layout=f=>e.jsx(ke,{children:f});export{Ye as default};
