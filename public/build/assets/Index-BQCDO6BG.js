import{J as ge,r as m,j as e,d as j,a as be,Q as oe,c as K,b as Y,s as Me,S as G}from"./app-DZPKM75F.js";import{m as je,j as ve,k as ye,n as Ne,s as M,l as v,o as _e,q as W,c as X,F as de,b as Be,z as Te,x as Ve,i as Ue,A as Le}from"./Dashboard-DUzDf0gW.js";import{S as Oe}from"./StatsCards-Djogcu35.js";import{c as H,B as we,t as Z,F as ce}from"./react-toastify.esm-cQRz5_Bg.js";import{U as We}from"./user-DhjWBTNd.js";import{C as me}from"./calendar-De46g7mj.js";import{M as qe}from"./map-pin-CZwMdOsa.js";import{U as Ke}from"./users-LcilbiDH.js";import{i as T}from"./chunk-SSA7SXE4-fxYfSghp.js";import{t as ue}from"./chunk-QESP63UR-K0K1dIxQ.js";import{F as ee}from"./ExclamationTriangleIcon-DBubR7yw.js";import"./dayjs.min-BG2bZEI9.js";import{F as pe}from"./CheckCircleIcon-Cjrqfs4R.js";import{F as Ye}from"./XCircleIcon-OnqWt3-G.js";import{m as xe}from"./proxy-DMsSV-JP.js";import{F as he}from"./PlusIcon-DVF8IXPj.js";import{F as He}from"./DocumentArrowDownIcon-CWfQ_PkU.js";import{F as Qe}from"./MagnifyingGlassIcon-WHFCkdkZ.js";import{F as Je}from"./AdjustmentsHorizontalIcon-CqrgO_4C.js";import{F as Ge}from"./ChartBarIcon-BbCOnBef.js";import{F as Xe}from"./EyeIcon-CUX67ori.js";import{F as fe}from"./PencilIcon-Dq4UdPcG.js";import{F as Ze}from"./TrashIcon-BnSfgalT.js";import{c as ea}from"./chunk-D5XJWRAV-BWddd6iu.js";import{b as aa}from"./chunk-57V4RE7B-DCeD7IJS.js";import{t as ta,a as sa,b as ra,c as na}from"./chunk-F3UDT23P-vR3480AL.js";import{t as ia,a as la}from"./chunk-YRZGWF2W-DagVMW8F.js";import{p as oa}from"./chunk-EAPQ7RWQ-Dx_po_ZQ.js";import"./EnvelopeIcon-70JLjCGt.js";import"./UserIcon-est37Lcw.js";import"./ShieldCheckIcon-DAsYnJiY.js";import"./KeyIcon-Bl-Ju-OA.js";import"./logo-Pwvcz7fP.js";import"./features-animation-CmRTTB-L.js";import"./create-visual-element-rUHlUq0c.js";import"./chunk-TLYTI3QM-Cp-xmZaH.js";import"./createLucideIcon-5RLB6cAU.js";import"./chunk-XJ2YRSUP-DrowePxv.js";import"./useToggleState-Oh7MZvHa.js";const da=({open:o,closeModal:w,currentTraining:n,categories:E=[],trainers:V=[],employees:F=[],addTrainingOptimized:B,updateTrainingOptimized:C,fetchTrainingStats:y})=>{const i=()=>{var _;if(typeof window>"u")return"lg";const s=((_=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:_.trim())||"12px",l=parseInt(s);return l===0?"none":l<=4?"sm":l<=8?"md":l<=16?"lg":"full"},{auth:b}=ge().props,p=!!n,[d,k]=m.useState({title:"",description:"",category_id:"",trainer_id:"",start_date:"",end_date:"",location:"",max_participants:"",status:"scheduled",notes:"",participants:[]}),[h,f]=m.useState(""),[r,N]=m.useState({}),[R,$]=m.useState(!1),D=t=>{if(!t)return"";const s=new Date(t);if(isNaN(s.getTime()))return"";const l=s.getFullYear(),_=String(s.getMonth()+1).padStart(2,"0"),g=String(s.getDate()).padStart(2,"0"),U=String(s.getHours()).padStart(2,"0"),z=String(s.getMinutes()).padStart(2,"0");return`${l}-${_}-${g}T${U}:${z}`};m.useEffect(()=>{var t;o&&(k(p&&n?{title:n.title||"",description:n.description||"",category_id:n.category_id||"",trainer_id:n.trainer_id||"",start_date:D(n.start_date),end_date:D(n.end_date),location:n.location||"",max_participants:n.max_participants||"",status:n.status||"scheduled",notes:n.notes||"",participants:((t=n.enrollments)==null?void 0:t.map(s=>s.employee_id))||[]}:{title:"",description:"",category_id:"",trainer_id:"",start_date:"",end_date:"",location:"",max_participants:"",status:"scheduled",notes:"",participants:[]}),f(""),N({}))},[o,p,n]);const x=(t,s)=>{k(l=>({...l,[t]:s})),r[t]&&N(l=>({...l,[t]:null}))},u=()=>{!h||d.participants.includes(h)||(k(t=>({...t,participants:[...t.participants,h]})),f(""))},I=t=>{k(s=>({...s,participants:s.participants.filter(l=>l!==t)}))},q=async t=>{t.preventDefault(),$(!0);const s=new Promise(async(l,_)=>{try{const g=p?route("hr.training.update",n.id):route("hr.training.store"),U={...d,_method:p?"PUT":"POST"},z=await be.post(g,U);z.status===200&&(p&&C&&z.data.training?(C(z.data.training),y&&y()):B&&z.data.training&&(B(z.data.training),y&&y()),w(),l([z.data.message||(p?"Training updated successfully!":"Training created successfully!")]))}catch(g){console.error("Training form error:",g),g.response?g.response.status===422?(N(g.response.data.errors||{}),_(g.response.data.message||"Please check the form for errors")):_(`HTTP Error ${g.response.status}: ${g.response.data.message||"An unexpected error occurred"}`):g.request?_("No response from server. Please check your connection."):_("An error occurred while setting up the request.")}finally{$(!1)}});we.promise(s,{pending:p?"Updating training...":"Creating training...",success:{render({data:l}){return l[0]}},error:{render({data:l}){return l}}})},P=()=>{R||w()},Q=(F==null?void 0:F.filter(t=>!d.participants.includes(t.id)))||[];return e.jsx(je,{isOpen:o,onClose:P,size:"4xl",radius:i(),classNames:{base:"backdrop-blur-md mx-2 my-2 sm:mx-4 sm:my-8",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",body:"py-6",footer:"border-t border-divider",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsx(ve,{children:e.jsxs("form",{onSubmit:q,children:[e.jsxs(ye,{className:"flex flex-col gap-1",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx("h2",{className:"text-lg font-semibold",children:p?"Edit Training Program":"New Training Program"}),e.jsx("p",{className:"text-sm text-default-500",children:p?"Update training details and participants":"Create a new training program for employees"})]}),e.jsx(Ne,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(T,{label:"Training Title",placeholder:"Enter training program title",value:d.title,onValueChange:t=>x("title",t),isInvalid:!!r.title,errorMessage:r.title,variant:"bordered",size:"sm",radius:i(),isRequired:!0,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"}})}),e.jsx("div",{children:e.jsx(M,{label:"Category",placeholder:"Select training category",selectedKeys:d.category_id?[d.category_id.toString()]:[],onSelectionChange:t=>{const s=Array.from(t)[0];x("category_id",s||"")},isInvalid:!!r.category_id,errorMessage:r.category_id,variant:"bordered",size:"sm",radius:i(),isRequired:!0,children:E.map(t=>e.jsx(v,{value:t.id,children:t.name},t.id))})}),e.jsx("div",{children:e.jsx(M,{label:"Trainer",placeholder:"Select trainer",selectedKeys:d.trainer_id?[d.trainer_id.toString()]:[],onSelectionChange:t=>{const s=Array.from(t)[0];x("trainer_id",s||"")},isInvalid:!!r.trainer_id,errorMessage:r.trainer_id,variant:"bordered",size:"sm",radius:i(),startContent:e.jsx(We,{size:16,className:"text-default-400"}),children:V.map(t=>e.jsxs(v,{value:t.id,children:[t.first_name," ",t.last_name]},t.id))})}),e.jsx("div",{children:e.jsx(T,{label:"Start Date & Time",type:"datetime-local",value:d.start_date,onValueChange:t=>x("start_date",t),isInvalid:!!r.start_date,errorMessage:r.start_date,variant:"bordered",size:"sm",radius:i(),startContent:e.jsx(me,{size:16,className:"text-default-400"}),isRequired:!0})}),e.jsx("div",{children:e.jsx(T,{label:"End Date & Time",type:"datetime-local",value:d.end_date,onValueChange:t=>x("end_date",t),isInvalid:!!r.end_date,errorMessage:r.end_date,variant:"bordered",size:"sm",radius:i(),startContent:e.jsx(me,{size:16,className:"text-default-400"})})}),e.jsx("div",{children:e.jsx(T,{label:"Location",placeholder:"Enter training location",value:d.location,onValueChange:t=>x("location",t),isInvalid:!!r.location,errorMessage:r.location,variant:"bordered",size:"sm",radius:i(),startContent:e.jsx(qe,{size:16,className:"text-default-400"})})}),e.jsx("div",{children:e.jsx(T,{label:"Max Participants",type:"number",placeholder:"Maximum number of participants",value:d.max_participants,onValueChange:t=>x("max_participants",t),isInvalid:!!r.max_participants,errorMessage:r.max_participants,variant:"bordered",size:"sm",radius:i(),startContent:e.jsx(Ke,{size:16,className:"text-default-400"})})}),e.jsx("div",{children:e.jsxs(M,{label:"Status",placeholder:"Select training status",selectedKeys:d.status?[d.status]:[],onSelectionChange:t=>{const s=Array.from(t)[0];x("status",s||"scheduled")},isInvalid:!!r.status,errorMessage:r.status,variant:"bordered",size:"sm",radius:i(),children:[e.jsx(v,{value:"scheduled",children:"Scheduled"},"scheduled"),e.jsx(v,{value:"in_progress",children:"In Progress"},"in_progress"),e.jsx(v,{value:"completed",children:"Completed"},"completed"),e.jsx(v,{value:"cancelled",children:"Cancelled"},"cancelled")]})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(ue,{label:"Description",placeholder:"Enter training program description and objectives",value:d.description,onValueChange:t=>x("description",t),isInvalid:!!r.description,errorMessage:r.description,variant:"bordered",size:"sm",radius:i(),minRows:3,maxRows:5})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(ue,{label:"Notes",placeholder:"Additional notes or requirements",value:d.notes,onValueChange:t=>x("notes",t),isInvalid:!!r.notes,errorMessage:r.notes,variant:"bordered",size:"sm",radius:i(),minRows:2,maxRows:3})}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Participants"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{placeholder:"Select employee to add",selectedKeys:h?[h]:[],onSelectionChange:t=>{const s=Array.from(t)[0];f(s||"")},variant:"bordered",size:"sm",radius:i(),className:"flex-1",children:Q.map(t=>e.jsxs(v,{value:t.id,children:[t.first_name," ",t.last_name," - ",t.employee_id]},t.id))}),e.jsx(j,{color:"primary",variant:"flat",size:"sm",radius:i(),isDisabled:!h,onPress:u,children:"Add"})]}),e.jsx("div",{className:"space-y-2",children:d.participants.length===0?e.jsx("p",{className:"text-sm text-default-500",children:"No participants added"}):e.jsx("div",{className:"flex flex-wrap gap-2",children:d.participants.map(t=>{const s=F==null?void 0:F.find(l=>l.id==t);return e.jsxs(H,{color:"primary",variant:"flat",size:"sm",onClose:()=>I(t),children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]},t)})})})]})})]})}),e.jsxs(_e,{style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(j,{color:"default",variant:"bordered",onPress:P,radius:i(),size:"sm",isDisabled:R,children:"Cancel"}),e.jsx(j,{type:"submit",color:"primary",variant:"solid",isLoading:R,isDisabled:R,radius:i(),size:"sm",children:R?p?"Updating...":"Creating...":p?"Update Training":"Create Training"})]})]})})})},ca=({open:o,closeModal:w,currentTraining:n,setTrainings:E,setTotalRows:V,setLastPage:F,fetchTrainingStats:B})=>{var d,k;const[C,y]=m.useState(!1),i=()=>{var N;if(typeof window>"u")return"lg";const f=((N=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:N.trim())||"12px",r=parseInt(f);return r===0?"none":r<=4?"sm":r<=8?"md":r<=16?"lg":"full"},b=async()=>{if(!n)return;y(!0);const h=new Promise(async(f,r)=>{var N,R,$,D,x;try{const u=await be.delete(route("hr.training.destroy",n.id));u.status===200&&(E&&E(I=>I.filter(q=>q.id!==n.id)),u.data.trainings&&(V&&V(u.data.trainings.total),F&&F(u.data.trainings.last_page),E&&E(u.data.trainings.data)),B&&B(),f("Training program deleted successfully"))}catch(u){if(console.error("Error deleting training:",u),((N=u.response)==null?void 0:N.status)===404){const{trainingsData:I}=u.response.data||{};E&&I&&E(I),r("Training not found or already deleted")}else((R=u.response)==null?void 0:R.status)===403?r("You do not have permission to delete this training"):(($=u.response)==null?void 0:$.status)===422?r("Cannot delete training with current status or active enrollments"):r(((x=(D=u.response)==null?void 0:D.data)==null?void 0:x.error)||"Failed to delete training program")}finally{y(!1),w()}});we.promise(h,{pending:"Deleting training program...",success:{render({data:f}){return f}},error:{render({data:f}){return f}}})},p=()=>{C||w()};return e.jsx(je,{isOpen:o,onClose:p,size:"md",radius:i(),classNames:{base:"backdrop-blur-md mx-2 my-2 sm:mx-4 sm:my-8",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",body:"py-6",footer:"border-t border-divider",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs(ve,{children:[e.jsx(ye,{className:"flex flex-col gap-1",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-6 w-6 text-danger"}),e.jsx("h2",{className:"text-lg font-semibold text-danger",children:"Delete Training Program"})]})}),e.jsx(Ne,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-default-600",children:"Are you sure you want to delete this training program? This action cannot be undone."}),n&&e.jsxs("div",{className:"bg-danger-50 dark:bg-danger-900/20 p-4 rounded-lg border border-danger-200 dark:border-danger-800",children:[e.jsx("h3",{className:"font-medium text-danger-800 dark:text-danger-200 mb-2",children:"Training to be deleted:"}),e.jsxs("div",{className:"space-y-1 text-sm text-danger-700 dark:text-danger-300",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Title:"})," ",n.title]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",((d=n.category)==null?void 0:d.name)||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Trainer:"})," ",n.trainer?`${n.trainer.first_name} ${n.trainer.last_name}`:"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",n.status]}),((k=n.enrollments)==null?void 0:k.length)>0&&e.jsxs("p",{children:[e.jsx("strong",{children:"Enrolled Participants:"})," ",n.enrollments.length]})]})]}),e.jsx("div",{className:"bg-warning-50 dark:bg-warning-900/20 p-4 rounded-lg border border-warning-200 dark:border-warning-800",children:e.jsxs("p",{className:"text-warning-800 dark:text-warning-200 text-sm",children:[e.jsx("strong",{children:"Warning:"})," Deleting this training will also remove all associated enrollments, assessments, and materials. This action is permanent and cannot be reversed."]})})]})}),e.jsxs(_e,{style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(j,{color:"default",variant:"bordered",onPress:p,radius:i(),size:"sm",isDisabled:C,children:"Cancel"}),e.jsx(j,{color:"danger",variant:"solid",onPress:b,isLoading:C,isDisabled:C,radius:i(),size:"sm",children:C?"Deleting...":"Delete Training"})]})]})})},ma=({trainings:o={data:[],current_page:1,last_page:1,total:0},filters:w={},categories:n=[],trainers:E=[],employees:V=[],departments:F=[],statuses:B=[],title:C="Training Management"})=>{var te,se,re,ne;const{auth:y}=ge().props,i=()=>{var L;if(typeof window>"u")return"lg";const c=((L=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:L.trim())||"12px",S=parseInt(c);return S===0?"none":S<=4?"sm":S<=8?"md":S<=16?"lg":"full"},[b,p]=m.useState(!1),[d,k]=m.useState(!1),[h,f]=m.useState({create_training:!1,edit_training:!1,delete_training:!1,show_training:!1}),[r,N]=m.useState(null),R=m.useCallback(a=>{f(c=>({...c,[a]:!0}))},[]),$=m.useCallback(a=>{f(c=>({...c,[a]:!1})),(a==="edit_training"||a==="delete_training"||a==="show_training")&&N(null)},[]),D=m.useCallback((a,c)=>{N(a),f(S=>({...S,[c]:!0}))},[]);m.useEffect(()=>{const a=()=>{p(window.innerWidth<640),k(window.innerWidth<768)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const[x,u]=m.useState(!1),[I,q]=m.useState(""),[P,Q]=m.useState(!1),[t,s]=m.useState({search:w.search||"",status:w.status||"",category:w.category_id||"",department:w.department_id||""}),l=m.useCallback((a,c)=>{s(S=>({...S,[a]:c}))},[]),_=((te=y.permissions)==null?void 0:te.includes("training.view"))||!1,g=((se=y.permissions)==null?void 0:se.includes("training.create"))||!1,U=((re=y.permissions)==null?void 0:re.includes("training.update"))||!1,z=((ne=y.permissions)==null?void 0:ne.includes("training.delete"))||!1,A=m.useMemo(()=>o!=null&&o.data?o.data.reduce((a,c)=>(a.total=o.total||o.data.length,a[c.status]=(a[c.status]||0)+1,a),{total:o.total||0,active:0,completed:0,scheduled:0,draft:0,cancelled:0}):{total:0,active:0,completed:0,scheduled:0,draft:0,cancelled:0},[o]),Fe=m.useMemo(()=>[{title:"Total Trainings",value:A.total,icon:e.jsx(W,{}),color:"text-primary",iconBg:"bg-primary/20",description:"All training programs"},{title:"Active",value:A.active,icon:e.jsx(X,{}),color:"text-success",iconBg:"bg-success/20",description:"Currently running"},{title:"Completed",value:A.completed,icon:e.jsx(pe,{}),color:"text-warning",iconBg:"bg-warning/20",description:"Finished programs"},{title:"Scheduled",value:A.scheduled,icon:e.jsx(de,{}),color:"text-secondary",iconBg:"bg-secondary/20",description:"Upcoming sessions"},{title:"Draft",value:A.draft,icon:e.jsx(Be,{}),color:"text-default",iconBg:"bg-default/20",description:"In preparation"},{title:"Cancelled",value:A.cancelled,icon:e.jsx(Ye,{}),color:"text-danger",iconBg:"bg-danger/20",description:"Cancelled programs"}],[A]),Ce=a=>({draft:"default",scheduled:"primary",active:"success",completed:"secondary",cancelled:"danger"})[a]||"default",Se=a=>({course:e.jsx(W,{className:"w-4 h-4"}),workshop:e.jsx(X,{className:"w-4 h-4"}),seminar:e.jsx(de,{className:"w-4 h-4"}),certification:e.jsx(pe,{className:"w-4 h-4"}),on_the_job:e.jsx(fe,{className:"w-4 h-4"}),webinar:e.jsx(ce,{className:"w-4 h-4"}),conference:e.jsx(Ue,{className:"w-4 h-4"})})[a]||e.jsx(W,{className:"w-4 h-4"}),ke=(a,c)=>a?`${a} ${c}${a>1?"s":""}`:"N/A",Re=(a,c="USD")=>a?new Intl.NumberFormat("en-US",{style:"currency",currency:c}).format(a):"Free",ze=()=>{u(!0),G.get(route("hr.training.index"),{search:t.search,status:t.status,category_id:t.category,department_id:t.department},{preserveState:!0,onFinish:()=>u(!1)})},Ee=()=>{s({search:"",status:"",category:"",department:""}),G.get(route("hr.training.index"),{},{preserveState:!0})},De=a=>{D(a,"show_training")},Ie=a=>{D(a,"edit_training")},$e=a=>{D(a,"delete_training")},ae=()=>{R("create_training")};if(!_)return e.jsxs(e.Fragment,{children:[e.jsx(oe,{title:C}),e.jsx("div",{className:"flex justify-center p-4",children:e.jsx(K,{className:"w-full max-w-md",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',background:`linear-gradient(135deg, 
                                var(--theme-content1, #FAFAFA) 20%, 
                                var(--theme-content2, #F4F4F5) 10%, 
                                var(--theme-content3, #F1F3F4) 20%)`},children:e.jsxs(Y,{className:"p-8 text-center",children:[e.jsx(ee,{className:"w-16 h-16 text-warning mx-auto mb-4"}),e.jsx("h6",{className:"text-lg font-semibold mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-sm text-default-500",children:"You don't have permission to view training management."})]})})})]});const Pe=[{key:"title",label:"Training",sortable:!0},{key:"category",label:"Category"},{key:"type",label:"Type"},{key:"start_date",label:"Start Date",sortable:!0},{key:"duration",label:"Duration"},{key:"instructor",label:"Instructor"},{key:"participants",label:"Participants"},{key:"status",label:"Status",sortable:!0},{key:"cost",label:"Cost"},{key:"actions",label:"Actions"}],Ae=(a,c)=>{var S,L,ie;switch(c){case"title":return e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"font-medium text-foreground",children:a.title}),a.description&&e.jsx("p",{className:"text-sm text-default-500 truncate max-w-md",children:a.description})]});case"category":return a.category?e.jsx(H,{variant:"flat",color:"primary",size:"sm",children:a.category.name}):"N/A";case"type":return e.jsxs("div",{className:"flex items-center gap-2",children:[Se(a.type),e.jsx("span",{className:"capitalize text-sm",children:(S=a.type)==null?void 0:S.replace("_"," ")})]});case"start_date":return a.start_date?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:new Date(a.start_date).toLocaleDateString()}),e.jsx("span",{className:"text-xs text-default-500",children:new Date(a.start_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}):"N/A";case"duration":return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ce,{className:"w-4 h-4 text-default-400"}),e.jsx("span",{className:"text-sm",children:ke(a.duration,a.duration_unit)})]});case"instructor":return a.instructor?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{src:a.instructor.avatar,name:a.instructor.name,size:"sm"}),e.jsx("span",{className:"text-sm",children:a.instructor.name})]}):"N/A";case"participants":const le=a.enrollments_count||0,O=a.max_participants||0,J=O>0?Math.round(le/O*100):0;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4 text-default-400"}),e.jsxs("span",{className:"text-sm",children:[le,O>0&&`/${O}`]}),O>0&&e.jsxs(H,{variant:"flat",size:"sm",color:J>80?"danger":J>60?"warning":"success",children:[J,"%"]})]});case"status":return e.jsx(H,{variant:"flat",color:Ce(a.status),size:"sm",children:((L=a.status)==null?void 0:L.charAt(0).toUpperCase())+((ie=a.status)==null?void 0:ie.slice(1))});case"cost":return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Te,{className:"w-4 h-4 text-default-400"}),e.jsx("span",{className:"text-sm",children:Re(a.cost,a.currency)})]});case"actions":return e.jsxs("div",{className:"flex items-center gap-1",children:[_&&e.jsx(Z,{content:"View Details",children:e.jsx(j,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>De(a),children:e.jsx(Xe,{className:"w-4 h-4"})})}),U&&e.jsx(Z,{content:"Edit Training",children:e.jsx(j,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>Ie(a),children:e.jsx(fe,{className:"w-4 h-4"})})}),z&&e.jsx(Z,{content:"Delete Training",color:"danger",children:e.jsx(j,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",onPress:()=>$e(a),children:e.jsx(Ze,{className:"w-4 h-4"})})})]});default:return null}};return e.jsxs(e.Fragment,{children:[e.jsx(oe,{title:C}),e.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Training Management",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full",children:e.jsx(xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.jsxs(K,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                                        var(--theme-content1, #FAFAFA) 20%, 
                                        var(--theme-content2, #F4F4F5) 10%, 
                                        var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(ea,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                                            color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                                            color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:e.jsx("div",{className:`${b?"p-4":"p-6"} w-full`,children:e.jsx("div",{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx("div",{className:`
                                                            ${b?"p-2":"p-3"} 
                                                            rounded-xl flex items-center justify-center
                                                        `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(W,{className:`
                                                                ${b?"w-6 h-6":"w-8 h-8"}
                                                            `,style:{color:"var(--theme-primary)"}})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:`
                                                                ${b?"text-xl":"text-2xl"}
                                                                font-bold text-foreground
                                                                ${b?"truncate":""}
                                                            `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Training Management"}),e.jsx("p",{className:`
                                                                ${b?"text-xs":"text-sm"} 
                                                                text-default-500
                                                                ${b?"truncate":""}
                                                            `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Manage employee training programs and development courses"})]})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[g&&e.jsx(j,{color:"primary",variant:"shadow",startContent:e.jsx(he,{className:"w-4 h-4"}),onPress:ae,size:b?"sm":"md",className:"font-semibold",style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Create Training"}),e.jsx(j,{color:"default",variant:"bordered",startContent:e.jsx(He,{className:"w-4 h-4"}),size:b?"sm":"md",className:"font-semibold",style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Export"})]})]})})})}),e.jsxs(Y,{className:"p-6",children:[e.jsx(Oe,{stats:Fe,className:"mb-6"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsx(T,{label:"Search Trainings",placeholder:"Search by title or description...",value:t.search,onChange:a=>l("search",a.target.value),startContent:e.jsx(Qe,{className:"w-4 h-4 text-default-400"}),variant:"bordered",size:"sm",radius:i(),className:"w-full",classNames:{input:"text-sm"},style:{fontFamily:'var(--fontFamily, "Inter")'},"aria-label":"Search trainings"})}),e.jsx("div",{className:"flex gap-2 items-end",children:e.jsx(aa,{variant:"bordered",radius:i(),className:"bg-white/5",children:e.jsxs(j,{isIconOnly:b,color:P?"primary":"default",onPress:()=>Q(!P),className:P?"bg-purple-500/20":"bg-white/5",children:[e.jsx(Je,{className:"w-4 h-4"}),!b&&e.jsx("span",{className:"ml-1",children:"Filters"})]})})})]}),P&&e.jsx(xe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx("div",{className:"mb-6 p-4 bg-white/5 backdrop-blur-md rounded-lg border border-white/10",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(M,{label:"Status",placeholder:"Select status...",selectedKeys:t.status?[t.status]:[],onSelectionChange:a=>l("status",Array.from(a)[0]||""),variant:"bordered",size:"sm",radius:i(),className:"w-full",children:[e.jsx(v,{value:"draft",children:"Draft"},"draft"),e.jsx(v,{value:"scheduled",children:"Scheduled"},"scheduled"),e.jsx(v,{value:"active",children:"Active"},"active"),e.jsx(v,{value:"completed",children:"Completed"},"completed"),e.jsx(v,{value:"cancelled",children:"Cancelled"},"cancelled")]}),e.jsx(M,{label:"Category",placeholder:"Select category...",selectedKeys:t.category?[t.category]:[],onSelectionChange:a=>l("category",Array.from(a)[0]||""),variant:"bordered",size:"sm",radius:i(),className:"w-full",children:n.map(a=>e.jsx(v,{value:a.id.toString(),children:a.name},a.id.toString()))}),e.jsx(M,{label:"Department",placeholder:"Select department...",selectedKeys:t.department?[t.department]:[],onSelectionChange:a=>l("department",Array.from(a)[0]||""),variant:"bordered",size:"sm",radius:i(),className:"w-full",children:F.map(a=>e.jsx(v,{value:a.id.toString(),children:a.name},a.id.toString()))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{color:"primary",variant:"solid",onPress:ze,isLoading:x,size:"sm",className:"flex-1",children:"Apply"}),e.jsx(j,{variant:"flat",onPress:Ee,size:"sm",className:"flex-1",children:"Clear"})]})]})})}),e.jsxs("div",{className:"min-h-96",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-2 font-semibold text-lg",children:[e.jsx(Ge,{className:"w-5 h-5"}),"Training Programs"]}),x?e.jsx(K,{className:"bg-white/10 backdrop-blur-md border-white/20",children:e.jsxs(Y,{className:"text-center py-12",children:[e.jsx(Me,{size:"lg"}),e.jsx("p",{className:"mt-4 text-default-500",children:"Loading training data..."})]})}):o!=null&&o.data&&o.data.length>0?e.jsx("div",{className:"overflow-hidden rounded-lg",children:e.jsx(K,{style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:i(),backdropFilter:"blur(16px)"},children:e.jsxs(Y,{className:"p-0",children:[e.jsxs(ta,{"aria-label":"Training programs table",removeWrapper:!0,children:[e.jsx(ia,{columns:Pe,children:a=>e.jsx(la,{allowsSorting:a.sortable,children:a.label},a.key)}),e.jsx(sa,{items:o.data||[],emptyContent:"No training programs found",children:a=>e.jsx(ra,{children:c=>e.jsx(na,{children:Ae(a,c)})},a.id)})]}),o.last_page>1&&e.jsx("div",{className:"flex justify-center p-4",children:e.jsx(oa,{total:o.last_page,page:o.current_page,onChange:a=>{G.get(route("hr.training.index"),{...w,page:a},{preserveState:!0})}})})]})})}):I?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ee,{className:"w-16 h-16 text-warning mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Data Found"}),e.jsx("p",{className:"text-default-500",children:I})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(W,{className:"w-16 h-16 text-default-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Training Programs Found"}),e.jsx("p",{className:"text-default-500",children:"No training programs found for the selected criteria."}),g&&e.jsx(j,{color:"primary",variant:"flat",startContent:e.jsx(he,{className:"w-4 h-4"}),onPress:ae,className:"mt-4",children:"Create First Training"})]})]})]})]})})})})}),e.jsx(da,{training:r,isOpen:h.create_training||h.edit_training,onOpenChange:a=>{a||$(h.create_training?"create_training":"edit_training")},mode:h.create_training?"create":"edit"}),e.jsx(ca,{training:r,isOpen:h.delete_training,onOpenChange:a=>{a||$("delete_training")}})]})};ma.layout=o=>e.jsx(Le,{children:o});export{ma as default};
