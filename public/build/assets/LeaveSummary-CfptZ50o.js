import{u as ye,r as l,j as e,S as je,a as H,Q as ve,c as P,d as W,b as D,R as Ne}from"./app-DWGxnHy5.js";import{T as G}from"./index-CtBsO7PD.js";import"./GlassCard-WOKgsh2l.js";import{S as we}from"./StatsCards-BpnXG0le.js";import{u as $,c as k,e as N,p as Fe,f as _e,s as S,l as o,t as We,g as K,h as X,A as ke}from"./Dashboard-Br7wSMN3.js";import{F as I}from"./CheckCircleIcon-B8AOmsV6.js";import{F as z,c as g}from"./react-toastify.esm-Dyjd7CC_.js";import{m as q}from"./proxy-QIoOQkv3.js";import{F as Z}from"./PresentationChartLineIcon-DwfD9dNd.js";import{F as ee}from"./DocumentArrowDownIcon-1HrJpLw7.js";import{F as Se}from"./FunnelIcon-DNQp2QoZ.js";import{F as Re}from"./AdjustmentsHorizontalIcon-DifihfTo.js";import{F as Ce}from"./XCircleIcon-CGVFNDoS.js";import{c as Ae}from"./chunk-D5XJWRAV-CidtGR8-.js";import{i as Le}from"./chunk-SSA7SXE4-B3TrTVIC.js";import{t as ae,a as te,b as se,c as u}from"./chunk-F3UDT23P-DXn9JkSp.js";import{t as re,a as r}from"./chunk-YRZGWF2W-B-dKhzqO.js";import{p as Ee}from"./chunk-EAPQ7RWQ-nJvR7Jzn.js";import{s as le}from"./chunk-TLYTI3QM-CXWeBtpI.js";import"./EnvelopeIcon-CvwE5NLM.js";import"./UserIcon-BOQLxwl2.js";import"./ShieldCheckIcon-DTVoAFOM.js";import"./KeyIcon-DkdSUE9k.js";import"./logo-Pwvcz7fP.js";import"./ExclamationTriangleIcon-C6zlJiZp.js";import"./features-animation-BteMUhev.js";import"./create-visual-element-Be_FOLKA.js";import"./chunk-XJ2YRSUP-Bba5FiSu.js";import"./useToggleState-CWGfiWnS.js";const Pe=({title:R,summaryData:ie})=>{const{theme:De}=ye(),n=$("(max-width: 640px)");$("(min-width: 1025px)"),$("(min-width: 641px) and (max-width: 1024px)");const d=()=>{var t;if(typeof window>"u")return"lg";const a=parseInt(((t=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:t.trim())||"12");return a===0?"none":a<=4?"sm":a<=8?"md":a<=16?"lg":"full"},{users:$e=[],departments:de=[],leave_types:ne=[],columns:Ie=[],data:C=[],department_summary:V=[],stats:y={},year:c=new Date().getFullYear(),filters:U={}}=ie||{},[j,M]=l.useState(!1),[w,h]=l.useState(""),[f,oe]=l.useState(!1),[T,ce]=l.useState("employee"),[m,B]=l.useState(""),[i,O]=l.useState({year:c,department_id:"",status:"",...U}),[F,ze]=l.useState({employee_name:"",department:[],start_date:"",end_date:"",...U}),[_,Y]=l.useState(1),[v,me]=l.useState(15),p=l.useMemo(()=>{let a=C;return m&&(a=a.filter(t=>{var s,x;return((s=t.employee_name)==null?void 0:s.toLowerCase().includes(m.toLowerCase()))||((x=t.department)==null?void 0:x.toLowerCase().includes(m.toLowerCase()))})),F.department&&F.department.length>0&&(a=a.filter(t=>F.department.includes(t.department))),a},[C,m,F.department]),xe=l.useMemo(()=>{const a=(_-1)*v,t=a+v;return p.slice(a,t)},[p,_,v]),A=Math.ceil(p.length/v),pe=l.useMemo(()=>[{title:"Total Employees",value:y.total_employees||0,icon:e.jsx(k,{className:"w-5 h-5"}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"Active employees"},{title:"Approved Leaves",value:y.total_approved_leaves||0,icon:e.jsx(I,{className:"w-5 h-5"}),color:"text-green-400",iconBg:"bg-green-500/20",description:"Total approved days"},{title:"Pending Leaves",value:y.total_pending_leaves||0,icon:e.jsx(z,{className:"w-5 h-5"}),color:"text-orange-400",iconBg:"bg-orange-500/20",description:"Awaiting approval"},{title:"Departments",value:y.departments_count||0,icon:e.jsx(N,{className:"w-5 h-5"}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Active departments"}],[y]),L=l.useCallback((a,t)=>{const s={...i,[a]:t};O(s),J(s)},[i]),J=l.useCallback(a=>{M(!0),je.get(window.location.pathname,a,{preserveState:!0,replace:!0,onFinish:()=>M(!1)})},[]),ue=l.useCallback(()=>{const a={year:new Date().getFullYear()};O(a),B(""),J(a)},[]),he=l.useCallback(async()=>{h("excel");try{const a=await H.get(G("leave.summary.exportExcel"),{params:i,responseType:"blob"}),t=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=t,s.setAttribute("download",`Leave_Summary_${i.year||c}.xlsx`),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(t),h("")}catch(a){console.error("Error downloading Excel:",a),alert("Failed to download leave summary excel."),h("")}},[i,c]),fe=l.useCallback(async()=>{h("pdf");try{const a=await H.get(G("leave.summary.exportPdf"),{params:i,responseType:"blob"}),t=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=t,s.setAttribute("download",`Leave_Summary_${i.year||c}.pdf`),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(t),h("")}catch(a){console.error("Error downloading PDF:",a),alert("Failed to download leave summary PDF."),h("")}},[i,c]),Q=({rows:a=8,columns:t=6})=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"bg-default-100/80 backdrop-blur-md border-b border-divider rounded-t-lg",children:e.jsx("div",{className:"flex p-3",children:Array.from({length:t}).map((s,x)=>e.jsx("div",{className:"flex-1 px-3",children:e.jsx(le,{className:"w-20 h-4 rounded"})},x))})}),e.jsx("div",{className:"divide-y divide-divider border rounded-b-lg",children:Array.from({length:a}).map((s,x)=>e.jsx("div",{className:"flex hover:bg-default-50/50 transition-colors p-3",children:Array.from({length:t}).map((b,E)=>e.jsx("div",{className:"flex-1 px-3",children:e.jsx(le,{className:"w-full h-4 rounded"})},E))},x))})]}),be=l.useCallback((a,t)=>{const s=a[t];switch(t){case"employee_name":return e.jsx("div",{className:"flex items-center gap-2 min-w-0 whitespace-nowrap",style:{maxWidth:"200px",width:"200px"},children:e.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[e.jsx("span",{className:"text-sm font-medium text-foreground truncate whitespace-nowrap",title:a.employee_name,children:a.employee_name}),a.department&&e.jsx("span",{className:"text-xs text-default-400 truncate whitespace-nowrap",title:a.department,children:a.department})]})});case"total_approved":case"total_pending":case"total_rejected":const x={total_approved:"success",total_pending:"warning",total_rejected:"danger"};return s>0?e.jsx(g,{size:"sm",variant:"flat",color:x[t],className:"min-w-12",children:s}):"";case"usage_percentage":const b=s||0,E=b>80?"danger":b>60?"warning":"success";return e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx(Fe,{size:"sm",value:b,color:E,className:"w-16","aria-label":`Leave usage percentage: ${b}%`}),e.jsxs("span",{className:"text-tiny",children:[b,"%"]})]});case"total_balance":return e.jsx("div",{className:"text-center",children:e.jsx("span",{className:s<5?"text-danger":"text-foreground",children:s})});default:return t.endsWith("_used")?s>0?e.jsx(g,{size:"sm",variant:"flat",color:"success",className:"min-w-10",children:s}):"":t.endsWith("_remaining")?s>0?e.jsx(g,{size:"sm",variant:"flat",color:"primary",className:"min-w-10",children:s}):e.jsx("span",{className:"text-xs text-danger",children:"0"}):s!=null&&s!==""?s:""}},[]),ge=l.useMemo(()=>{const a=new Date().getFullYear();return Array.from({length:10},(t,s)=>a-s)},[]);return e.jsxs(e.Fragment,{children:[e.jsx(ve,{title:R}),e.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Leave Summary",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full",children:e.jsx(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.jsxs(P,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                                        var(--theme-content1, #FAFAFA) 20%, 
                                        var(--theme-content2, #F4F4F5) 10%, 
                                        var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(Ae,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                                            color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                                            color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:e.jsx("div",{className:`${n?"p-4":"p-6"} w-full`,children:e.jsx("div",{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx("div",{className:`
                                                            ${n?"p-2":"p-3"} 
                                                            rounded-xl flex items-center justify-center
                                                        `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(Z,{className:`
                                                                ${n?"w-6 h-6":"w-8 h-8"}
                                                            `,style:{color:"var(--theme-primary)"}})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:`
                                                                ${n?"text-xl":"text-2xl"}
                                                                font-bold text-foreground
                                                                ${n?"truncate":""}
                                                            `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Leave Summary"}),e.jsx("p",{className:`
                                                                ${n?"text-xs":"text-sm"} 
                                                                text-default-500
                                                                ${n?"truncate":""}
                                                            `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Employee leave analytics and reporting"})]})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(W,{color:"success",variant:"flat",onPress:he,startContent:e.jsx(ee,{className:"w-4 h-4"}),size:n?"sm":"md",radius:d(),isDisabled:j||p.length===0||w!=="",isLoading:w==="excel",className:"font-semibold","aria-label":"Export leave summary as Excel file",style:{fontFamily:'var(--fontFamily, "Inter")'},children:n?"XLS":"Excel"}),e.jsx(W,{color:"danger",variant:"flat",onPress:fe,startContent:e.jsx(ee,{className:"w-4 h-4"}),size:n?"sm":"md",radius:d(),isDisabled:j||p.length===0||w!=="",isLoading:w==="pdf",className:"font-semibold","aria-label":"Export leave summary as PDF file",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"PDF"})]})]})})})}),e.jsxs(D,{className:"p-6",children:[e.jsx(we,{stats:pe,className:"mb-6",isLoading:j}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx(Le,{label:"Search Employees",placeholder:"Search by name or department...",startContent:e.jsx(_e,{className:"w-4 h-4 text-default-400"}),value:m,onChange:a=>B(a.target.value),variant:"bordered",size:"sm",radius:d(),"aria-label":"Search employees by name or department",classNames:{base:"max-w-full",mainWrapper:"h-full",input:"text-xs",inputWrapper:"h-10 font-normal text-default-500 bg-default-50/50 border-default-200 hover:border-default-300 focus-within:border-primary-500 transition-colors",label:"text-xs text-default-600 font-medium"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs("div",{className:"hidden lg:flex items-center gap-2 px-2 py-1 text-default-500",children:[e.jsx(Se,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-medium",children:"Quick Filters:"})]}),e.jsx(W,{color:f?"primary":"default",variant:f?"flat":"bordered",onPress:()=>oe(!f),startContent:e.jsx(Re,{className:"w-3 h-3"}),size:"sm",radius:d(),"aria-label":f?"Hide filters panel":"Show filters panel",className:f?"bg-primary-50 border-primary-200 text-primary-700 font-medium h-10 text-xs":"bg-default-50 border-default-200 text-default-600 hover:bg-default-100 font-medium h-10 text-xs",style:{fontFamily:'var(--fontFamily, "Inter")'},children:n?"":"Filters"})]})]}),f&&e.jsx(q.div,{initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden",children:e.jsxs("div",{className:"bg-default-50/50 backdrop-blur-sm border border-default-200 p-4 space-y-4",style:{borderRadius:"var(--borderRadius, 8px)"},children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsx(S,{label:"Year",placeholder:"Select year",variant:"bordered",size:"sm",radius:d(),selectedKeys:[String(i.year||c)],onSelectionChange:a=>{const t=Array.from(a)[0];t&&L("year",parseInt(t))},"aria-label":"Filter by year",classNames:{base:"max-w-full",trigger:"h-9 bg-default-50/50 border-default-200 hover:border-default-300 focus:border-primary-500 transition-colors",label:"text-xs text-default-600 font-medium",value:"text-xs text-default-700 font-medium",popoverContent:"bg-background/95 backdrop-blur-lg border-default-200 shadow-sm",listbox:"text-xs"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:ge.map(a=>e.jsx(o,{value:a,textValue:String(a),className:"text-xs font-medium",children:a},a))}),e.jsxs(S,{label:"Department",placeholder:"Select department",variant:"bordered",size:"sm",radius:d(),selectedKeys:i.department_id?[String(i.department_id)]:[],onSelectionChange:a=>{const t=Array.from(a)[0];L("department_id",t||null)},"aria-label":"Filter by department",classNames:{base:"max-w-full",trigger:"h-9 bg-default-50/50 border-default-200 hover:border-default-300 focus:border-primary-500 transition-colors",label:"text-xs text-default-600 font-medium",value:"text-xs text-default-700 font-medium",popoverContent:"bg-background/95 backdrop-blur-lg border-default-200 shadow-sm",listbox:"text-xs"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(o,{value:"",textValue:"All Departments",className:"text-xs font-medium",children:"All Departments"},""),de.map(a=>e.jsx(o,{value:a.id,textValue:a.name,className:"text-xs font-medium",children:a.name},a.id))]}),e.jsxs(S,{label:"Leave Status",placeholder:"Select status",variant:"bordered",size:"sm",radius:d(),selectedKeys:i.status?[i.status]:[],onSelectionChange:a=>{const t=Array.from(a)[0];L("status",t||null)},"aria-label":"Filter by leave status",classNames:{base:"max-w-full",trigger:"h-9 bg-default-50/50 border-default-200 hover:border-default-300 focus:border-primary-500 transition-colors",label:"text-xs text-default-600 font-medium",value:"text-xs text-default-700 font-medium",popoverContent:"bg-background/95 backdrop-blur-lg border-default-200 shadow-sm",listbox:"text-xs"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(o,{value:"",textValue:"All Status",className:"text-xs font-medium",children:"All Status"},""),e.jsx(o,{value:"Approved",textValue:"Approved",className:"text-xs font-medium",children:"Approved"},"Approved"),e.jsx(o,{value:"Pending",textValue:"Pending",className:"text-xs font-medium",children:"Pending"},"Pending"),e.jsx(o,{value:"Declined",textValue:"Declined",className:"text-xs font-medium",children:"Declined"},"Declined")]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-default-200",children:[e.jsxs("div",{className:"text-xs text-default-500 font-medium",children:["Showing filtered results for ",String(i.year||c)]}),e.jsx(W,{color:"primary",variant:"flat",onPress:ue,size:"sm",radius:d(),startContent:e.jsx(Ce,{className:"w-3 h-3"}),className:"bg-primary-50 text-primary-700 border-primary-200 font-medium hover:bg-primary-100 h-8 text-xs","aria-label":"Clear all applied filters",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Clear Filters"})]})]})})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 p-6",style:{border:"var(--borderWidth, 1px) solid var(--theme-divider, rgba(255, 255, 255, 0.1))",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx("div",{className:"mb-6",children:e.jsxs(We,{selectedKey:T,onSelectionChange:ce,variant:"underlined",radius:d(),"aria-label":"Leave summary view options",classNames:{tabList:"gap-6 w-full relative rounded-none p-0 border-b border-divider",cursor:"w-full bg-primary",tab:"max-w-fit px-0 h-12"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(K,{title:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:"Employee Summary"})]})},"employee"),e.jsx(K,{title:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:"Department Summary"})]})},"department")]})}),T==="employee"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-default-400 text-small",children:["Total ",p.length," employees",m&&` (filtered from ${C.length})`]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"text-tiny text-default-400",children:"Rows per page:"}),e.jsxs(S,{size:"sm",selectedKeys:[String(v)],onSelectionChange:a=>{const t=Number(Array.from(a)[0]);me(t),Y(1)},className:"w-20",classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20"},children:[e.jsx(o,{value:"10",textValue:"10",children:"10"},"10"),e.jsx(o,{value:"15",textValue:"15",children:"15"},"15"),e.jsx(o,{value:"25",textValue:"25",children:"25"},"25"),e.jsx(o,{value:"50",textValue:"50",children:"50"},"50")]})]})]}),j?e.jsx(Q,{rows:10,columns:17}):p.length>0?e.jsx(e.Fragment,{children:e.jsxs(X,{className:"max-h-[70vh]",children:[e.jsxs(ae,{selectionMode:"none",isCompact:!0,removeWrapper:!0,isStriped:!0,"aria-label":"Employee leave summary table",isHeaderSticky:!0,radius:d(),classNames:{base:"max-h-[520px] overflow-auto",table:"min-h-[200px] w-full table-fixed border border-default-200",thead:"z-10",tbody:"overflow-y-auto",th:"bg-default-100 text-default-700 font-semibold text-xs whitespace-nowrap border-b border-r border-default-200",td:"text-default-600 text-xs whitespace-nowrap px-2 py-1 border-b border-r border-default-200",tr:"hover:bg-default-50/50 transition-colors h-10"},style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsxs(re,{children:[e.jsx(r,{align:"start",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"200px",maxWidth:"200px",width:"200px"},children:e.jsxs("div",{className:"flex items-center gap-1 justify-start",children:[e.jsx(k,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-semibold",children:"Employee"})]})},"employee_name"),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"60px",maxWidth:"60px",width:"60px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"JAN"})},"JAN"),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"60px",maxWidth:"60px",width:"60px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"FEB"})},"FEB"),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"60px",maxWidth:"60px",width:"60px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"MAR"})},"MAR"),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"60px",maxWidth:"60px",width:"60px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"APR"})},"APR"),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"60px",maxWidth:"60px",width:"60px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"MAY"})},"MAY"),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"60px",maxWidth:"60px",width:"60px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"JUN"})},"JUN"),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"60px",maxWidth:"60px",width:"60px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"JUL"})},"JUL"),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"60px",maxWidth:"60px",width:"60px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"AUG"})},"AUG"),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"60px",maxWidth:"60px",width:"60px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"SEP"})},"SEP"),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"60px",maxWidth:"60px",width:"60px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"OCT"})},"OCT"),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"60px",maxWidth:"60px",width:"60px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"NOV"})},"NOV"),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"60px",maxWidth:"60px",width:"60px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"DEC"})},"DEC"),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"80px",maxWidth:"80px",width:"80px"},children:e.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[e.jsx(I,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-semibold",children:"Approved"})]})},"total_approved"),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"80px",maxWidth:"80px",width:"80px"},children:e.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-semibold",children:"Pending"})]})},"total_pending"),ne.map(a=>e.jsxs(Ne.Fragment,{children:[e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"70px",maxWidth:"70px",width:"70px"},children:e.jsxs("div",{className:"flex flex-col items-center gap-0",children:[e.jsx("span",{className:"text-xs font-semibold",children:a.type}),e.jsx("span",{className:"text-xs text-success",children:"Used"})]})},`${a.type}_used`),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"70px",maxWidth:"70px",width:"70px"},children:e.jsxs("div",{className:"flex flex-col items-center gap-0",children:[e.jsx("span",{className:"text-xs font-semibold",children:a.type}),e.jsx("span",{className:"text-xs text-primary",children:"Remaining"})]})},`${a.type}_remaining`)]},a.id)),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"80px",maxWidth:"80px",width:"80px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"Balance"})},"total_balance"),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"80px",maxWidth:"80px",width:"80px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"Usage"})},"usage_percentage")]}),e.jsx(te,{items:xe,children:a=>e.jsx(se,{children:t=>e.jsx(u,{className:"whitespace-nowrap",children:be(a,t)})},a.id)})]}),A>1&&e.jsx("div",{className:"py-4 flex justify-center",children:e.jsx(Ee,{showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:_,total:A,onChange:Y,size:n?"sm":"md",radius:d(),"aria-label":`Pagination navigation for leave summary, page ${_} of ${A}`,classNames:{wrapper:"bg-content1/80 backdrop-blur-md border-divider/50",item:"bg-content1/50 border-divider/30",cursor:"bg-primary/20 backdrop-blur-md"},style:{fontFamily:'var(--fontFamily, "Inter")'}})})]})}):e.jsx(P,{className:"bg-white/5 backdrop-blur-md border-white/10",radius:d(),style:{border:"var(--borderWidth, 1px) solid var(--theme-divider, rgba(255, 255, 255, 0.1))",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs(D,{className:"text-center py-12",children:[e.jsx(Z,{className:"w-16 h-16 mx-auto mb-4 text-default-300"}),e.jsx("h3",{className:"text-xl font-semibold mb-2 text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No Leave Data Found"}),e.jsx("p",{className:"text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:m?`No employees found matching "${m}"`:`No leave summary data available for ${i.year||c}.`})]})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Department-wise Leave Summary"}),j?e.jsx(Q,{rows:6,columns:6}):V.length>0?e.jsx(X,{className:"max-h-[70vh]",children:e.jsxs(ae,{selectionMode:"none",isCompact:!0,removeWrapper:!0,isStriped:!0,"aria-label":"Department leave summary table",isHeaderSticky:!0,radius:d(),classNames:{base:"max-h-[520px] overflow-auto",table:"min-h-[200px] w-full table-fixed border border-default-200",thead:"z-10",tbody:"overflow-y-auto",th:"bg-default-100 text-default-700 font-semibold text-xs whitespace-nowrap border-b border-r border-default-200",td:"text-default-600 text-xs whitespace-nowrap px-2 py-1 border-b border-r border-default-200",tr:"hover:bg-default-50/50 transition-colors h-10"},style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsxs(re,{children:[e.jsx(r,{align:"start",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"150px",maxWidth:"150px",width:"150px"},children:e.jsxs("div",{className:"flex items-center gap-1 justify-start",children:[e.jsx(N,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-semibold",children:"Department"})]})}),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"80px",maxWidth:"80px",width:"80px"},children:e.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[e.jsx(k,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-semibold",children:"Employees"})]})}),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"80px",maxWidth:"80px",width:"80px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"Total Leaves"})}),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"80px",maxWidth:"80px",width:"80px"},children:e.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[e.jsx(I,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-semibold",children:"Approved"})]})}),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"80px",maxWidth:"80px",width:"80px"},children:e.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[e.jsx(z,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-semibold",children:"Pending"})]})}),e.jsx(r,{align:"center",className:"bg-default-100/80 backdrop-blur-md",style:{minWidth:"100px",maxWidth:"100px",width:"100px"},children:e.jsx("span",{className:"text-xs font-semibold",children:"Avg per Employee"})})]}),e.jsx(te,{children:V.map((a,t)=>e.jsxs(se,{children:[e.jsx(u,{children:e.jsxs("div",{className:"flex items-center gap-2 min-w-0",style:{maxWidth:"150px"},children:[e.jsx(N,{className:"w-3 h-3 text-default-400 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium truncate",title:a.department,children:a.department})]})}),e.jsx(u,{className:"text-center",children:e.jsx(g,{size:"sm",variant:"flat",color:"default",children:a.employee_count})}),e.jsx(u,{className:"text-center",children:a.total_leaves}),e.jsx(u,{className:"text-center",children:e.jsx(g,{size:"sm",variant:"flat",color:"success",children:a.total_approved})}),e.jsx(u,{className:"text-center",children:e.jsx(g,{size:"sm",variant:"flat",color:"warning",children:a.total_pending})}),e.jsx(u,{className:"text-center",children:a.avg_leaves_per_employee})]},t))})]})}):e.jsx(P,{className:"bg-white/5 backdrop-blur-md border-white/10",children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(N,{className:"w-12 h-12 mx-auto mb-4 text-default-300"}),e.jsx("p",{className:"text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No department data available"})]})})]})]})]})]})})})})})]})};Pe.layout=R=>e.jsx(ke,{children:R});export{Pe as default};
