import{r as l,a as O,j as e,Q as Ne,c as x,d as p,S as Fe,F as P,b as f,f as V,s as _e,A as Ie}from"./app-D50Nw3Rw.js";import{c as ee,k as Re,B as De,C as ke,D as Ce,E as se,y as Se,H as Le,f as $e,a as Ae,w as Ee,g as Oe,s as B,l as v,m as Pe,n as Ue,o as Me,p as Te,A as ze}from"./App-BhiRZK3_.js";import{F as A,B as j,c as $,a as We,b as ne}from"./react-toastify.esm-BFi-XK5-.js";import{F as E,a as Be}from"./DeviceTabletIcon-BXLucj6x.js";import{F as U}from"./CheckCircleIcon-BpIpCSem.js";import{F as He,a as Ve}from"./SignalIcon-D8w2lK8X.js";import{m as D}from"./proxy-CLk4s4R2.js";import{F as te}from"./ArrowLeftIcon-C1BaJ1R2.js";import{F as re}from"./DocumentArrowDownIcon-BPPK4ODC.js";import{F as ie}from"./ExclamationTriangleIcon-CuihS8Vq.js";import{F as Je}from"./EllipsisVerticalIcon-nbdXa_0H.js";import{F as Ke}from"./EyeIcon-CXVp8FIf.js";import{F as qe}from"./ShieldCheckIcon-B-V_guGq.js";import{F as Qe}from"./LockClosedIcon-CWeSiHxY.js";import{F as Ze}from"./GlobeAltIcon-Bi2C8hjg.js";import{F as ae}from"./FunnelIcon-9Jtaa_OC.js";import{F as Ge}from"./WifiIcon-Dxsx5gfU.js";import{F as Xe}from"./IdentificationIcon-BK6OWFpf.js";import{F as Ye}from"./XCircleIcon-G_MFFWP8.js";import{u as es}from"./index-Dbf-H8IO.js";import{t as ss,a as ts,b as rs,c as I}from"./chunk-F3UDT23P-DM0MLQa6.js";import{t as as,a as R}from"./chunk-YRZGWF2W-CZcjLFaC.js";import{p as ns}from"./chunk-EAPQ7RWQ-D2U6gqKR.js";import{s as is}from"./chunk-TQNYOUFX-bHfCFxcM.js";import{i as ls}from"./chunk-SSA7SXE4-CYdtWedi.js";import{m as os}from"./chunk-O5MCAK4F-CRqw-ADx.js";import"./EnvelopeIcon-C0kr8t1r.js";import"./UserIcon-CPNDbw-X.js";import"./KeyIcon-DRhg1sDC.js";import"./logo-DsdGUBEm.js";import"./features-animation-CQaKFziK.js";import"./create-visual-element-BHIS2YZu.js";import"./chunk-XJ2YRSUP-FHkj83u8.js";import"./useToggleState-Cn6DjhjE.js";function cs({title:t,titleId:s,...r},o){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},r),t?l.createElement("title",{id:s},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const H=l.forwardRef(cs);function ds({title:t,titleId:s,...r},o){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},r),t?l.createElement("title",{id:s},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 20.25h12m-7.5-3v3m3-3v3m-10.125-3h17.25c.621 0 1.125-.504 1.125-1.125V4.875c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125Z"}))}const ms=l.forwardRef(ds),m=()=>{var o;if(typeof window>"u")return"lg";const s=((o=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:o.trim())||"12px",r=parseInt(s);return r===0?"none":r<=4?"sm":r<=8?"md":r<=12?"lg":"xl"},F={getIcon:(t,s="w-5 h-5")=>{const r=(t||"").toLowerCase();return r.includes("iphone")||r.includes("ipod")?e.jsx(E,{className:`${s} text-primary`}):r.includes("android")&&r.includes("mobile")?e.jsx(E,{className:`${s} text-secondary`}):r.includes("ipad")||r.includes("android")&&r.includes("tablet")?e.jsx(Be,{className:`${s} text-warning`}):r.includes("smart-tv")||r.includes("smarttv")?e.jsx(ms,{className:`${s} text-success`}):e.jsx(ne,{className:`${s} text-default-500`})},getType:t=>{const s=(t||"").toLowerCase();return s.includes("iphone")||s.includes("ipod")?"iPhone":s.includes("android")&&s.includes("mobile")?"Android Phone":s.includes("ipad")?"iPad":s.includes("android")&&s.includes("tablet")?"Android Tablet":s.includes("smart-tv")||s.includes("smarttv")?"Smart TV":s.includes("windows")?"Windows PC":s.includes("mac")?"Mac":s.includes("linux")?"Linux":"Desktop"},getBrowser:t=>{const s=(t||"").toLowerCase();return s.includes("chrome")&&!s.includes("edg")?"Chrome":s.includes("firefox")?"Firefox":s.includes("safari")&&!s.includes("chrome")?"Safari":s.includes("edg")?"Edge":s.includes("opera")?"Opera":"Unknown Browser"},getOS:t=>{const s=(t||"").toLowerCase();return s.includes("windows nt 10")?"Windows 10/11":s.includes("windows")?"Windows":s.includes("mac os x")?"macOS":s.includes("android")?"Android":s.includes("iphone os")?"iOS":s.includes("linux")?"Linux":"Unknown OS"}},J=t=>{if(!t)return"Never";const s=new Date(t),o=Math.floor((new Date-s)/(1e3*60));if(o<1)return"Just now";if(o<60)return`${o}m ago`;const u=Math.floor(o/60);if(u<24)return`${u}h ago`;const h=Math.floor(u/24);return h<7?`${h}d ago`:s.toLocaleDateString()},xs=t=>{if(!t.is_active)return{color:"default",text:"Inactive",icon:Ye};if(t.last_seen_at){const s=new Date,r=new Date(t.last_seen_at),o=(s-r)/(1e3*60);if(o<=5)return{color:"success",text:"Online",icon:U};if(o<=60)return{color:"warning",text:"Recent",icon:A}}return{color:"primary",text:"Active",icon:U}},us=(t,s)=>{const r=t.map(i=>({"Device Name":i.device_name||"Unknown","User Agent":i.user_agent||"Unknown","IP Address":i.ip_address||"Unknown",Location:i.location||"Unknown",Status:i.is_active?"Active":"Inactive","Last Seen":i.last_seen_at?new Date(i.last_seen_at).toLocaleString():"Never",Created:i.created_at?new Date(i.created_at).toLocaleString():"Unknown"})),o=[Object.keys(r[0]||{}).join(","),...r.map(i=>Object.values(i).map(n=>`"${n}"`).join(","))].join(`
`),u=new Blob([o],{type:"text/csv"}),h=window.URL.createObjectURL(u),d=document.createElement("a");d.href=h,d.download=`${s}_devices_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(h),j.success("Device data exported successfully")},fs=t=>l.useMemo(()=>{const s=new Date,r=new Date(s.getTime()-5*60*1e3),o=new Date(s.getTime()-24*60*60*1e3),u=t.filter(n=>n.is_active),h=t.filter(n=>n.is_active&&n.last_seen_at&&new Date(n.last_seen_at)>r),d=t.filter(n=>n.last_seen_at&&new Date(n.last_seen_at)>o),i=t.filter(n=>n.user_agent&&n.user_agent.toLowerCase().includes("mobile"));return{total:t.length,active:u.length,online:h.length,recent:d.length,mobile:i.length,desktop:t.length-i.length}},[t]),hs=t=>{const[s,r]=l.useState({search:"",status:"all",type:"all",dateRange:"all"}),o=l.useMemo(()=>{let d=[...t];if(s.search){const i=s.search.toLowerCase();d=d.filter(n=>(n.device_name||"").toLowerCase().includes(i)||(n.user_agent||"").toLowerCase().includes(i)||(n.ip_address||"").toLowerCase().includes(i)||(n.location||"").toLowerCase().includes(i))}if(s.status!=="all"&&(d=d.filter(i=>s.status==="active"?i.is_active:s.status==="inactive"?!i.is_active:!0)),s.type!=="all"){const i=n=>{const _=(n||"").toLowerCase();return _.includes("mobile")||_.includes("android")||_.includes("iphone")};d=d.filter(n=>s.type==="mobile"?i(n.user_agent):s.type==="desktop"?!i(n.user_agent):!0)}if(s.dateRange!=="all"){const i=new Date;d=d.filter(n=>{if(!n.last_seen_at)return!1;const _=new Date(n.last_seen_at),k=(i-_)/(1e3*60*60);switch(s.dateRange){case"hour":return k<=1;case"day":return k<=24;case"week":return k<=168;case"month":return k<=720;default:return!0}})}return d},[t,s]),u=l.useCallback((d,i)=>{r(n=>({...n,[d]:i}))},[]),h=l.useCallback(()=>{r({search:"",status:"all",type:"all",dateRange:"all"})},[]);return{filters:s,filteredDevices:o,updateFilter:u,clearFilters:h}},gs=({device:t})=>{const s=xs(t),r=s.icon;return e.jsx($,{size:"sm",variant:"flat",color:s.color,startContent:e.jsx(r,{className:"w-3 h-3"}),children:s.text})},vs=({user:t})=>{var s,r,o;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block mb-4",children:[e.jsx(Se,{size:"lg",name:(r=(s=t.name)==null?void 0:s.charAt(0))==null?void 0:r.toUpperCase(),src:t.profile_image_url,className:"w-20 h-20"}),e.jsx(Le,{content:"",color:"success",shape:"circle",placement:"bottom-right",className:"w-5 h-5"})]}),e.jsx("h2",{className:"text-xl font-bold text-foreground",children:t.name}),e.jsx("p",{className:"text-sm text-default-500",children:t.email})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(x,{className:"shadow-none border",children:e.jsx(f,{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:e.jsx($e,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-default-400 uppercase",children:"Department"}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:((o=t.department)==null?void 0:o.name)||"No Department"})]})]})})}),e.jsx(x,{className:"shadow-none border",children:e.jsx(f,{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary/20 flex items-center justify-center",children:e.jsx(Ae,{className:"w-5 h-5 text-secondary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-default-400 uppercase",children:"Member Since"}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:t.created_at?new Date(t.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown"})]})]})})}),e.jsx(x,{className:"shadow-none border",children:e.jsx(f,{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-success/20 flex items-center justify-center",children:e.jsx(Ee,{className:"w-5 h-5 text-success"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-default-400 uppercase",children:"User ID"}),e.jsxs("p",{className:"text-sm font-medium text-foreground",children:["#",t.id]})]})]})})})]})]})},ys=({user:t,onToggleSingleDevice:s,onResetDevice:r,actionLoading:o})=>{var u;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Device Security Settings"}),e.jsx("p",{className:"text-sm text-default-500",children:"Manage device access restrictions and session controls"})]}),e.jsx(x,{className:"shadow-none border",children:e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/20 flex items-center justify-center",children:e.jsx(qe,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Single Device Login"}),e.jsx("p",{className:"text-xs text-default-500",children:"Restrict user to one active device"})]})]}),e.jsx(is,{isSelected:t.single_device_login,onValueChange:s,isDisabled:o.toggle,color:"success"})]}),e.jsx(x,{className:"shadow-none bg-default-50",children:e.jsx(f,{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-default-600",children:"Current Status:"}),e.jsx($,{size:"sm",variant:"flat",color:t.single_device_login?t.active_device?"warning":"success":"default",startContent:t.single_device_login?t.active_device?e.jsx(Qe,{className:"w-3 h-3"}):e.jsx(Ve,{className:"w-3 h-3"}):e.jsx(We,{className:"w-3 h-3"}),children:t.single_device_login?t.active_device?"Device Locked":"Device Free":"Disabled"})]})})}),t.single_device_login&&t.active_device&&e.jsx(x,{className:"shadow-none border-warning bg-warning/10 mt-4",children:e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-warning/20 flex items-center justify-center shrink-0",children:(u=t.active_device.device_name)!=null&&u.toLowerCase().includes("mobile")?e.jsx(E,{className:"w-5 h-5 text-warning"}):e.jsx(ne,{className:"w-5 h-5 text-warning"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-semibold text-warning mb-1",children:"Active Device"}),e.jsx("p",{className:"text-sm text-warning/80 mb-2",children:t.active_device.device_name||"Unknown Device"}),t.active_device.last_seen_at&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-warning/70",children:[e.jsx(A,{className:"w-3 h-3"}),"Last seen: ",J(t.active_device.last_seen_at)]})]})]}),e.jsx(V,{className:"my-3"}),e.jsx(p,{size:"sm",color:"danger",variant:"flat",startContent:o.reset?e.jsx(P,{className:"w-4 h-4 animate-spin"}):e.jsx(P,{className:"w-4 h-4"}),isLoading:o.reset,onPress:r,children:"Reset Device Lock"})]})}),t.single_device_login&&!t.active_device&&e.jsx(x,{className:"shadow-none border-success bg-success/10 mt-4",children:e.jsx(f,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(U,{className:"w-8 h-8 text-success shrink-0"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-success mb-1",children:"Ready for Device Lock"}),e.jsx("p",{className:"text-sm text-success/80",children:"Single device login is enabled. The user's next login will lock their session to that device."})]})]})})}),!t.single_device_login&&e.jsx(x,{className:"shadow-none border-primary bg-primary/10 mt-4",children:e.jsx(f,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ze,{className:"w-8 h-8 text-primary shrink-0"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-primary mb-1",children:"Multiple Device Access"}),e.jsx("p",{className:"text-sm text-primary/80",children:"User can log in from multiple devices simultaneously. Enable single device login for enhanced security."})]})]})})})]})})]})},ps=({filters:t,updateFilter:s,clearFilters:r,showFilters:o,setShowFilters:u,deviceCount:h,totalDevices:d,isMobile:i})=>e.jsx(x,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(ls,{placeholder:"Search by device name, IP, location...",value:t.search,onChange:n=>s("search",n.target.value),startContent:e.jsx(Oe,{className:"w-4 h-4 text-default-400"}),variant:"bordered",size:i?"sm":"md",radius:m(),classNames:{inputWrapper:"border-default-200 hover:border-default-300"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),e.jsxs("div",{className:"flex gap-2 items-end",children:[e.jsx(p,{isIconOnly:i,variant:"bordered",onPress:()=>u(!o),size:i?"sm":"md",radius:m(),startContent:!i&&e.jsx(ae,{className:"w-4 h-4"}),className:"border-[rgba(var(--theme-primary-rgb),0.3)] bg-[rgba(var(--theme-primary-rgb),0.05)] hover:bg-[rgba(var(--theme-primary-rgb),0.1)]",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i?e.jsx(ae,{className:"w-4 h-4"}):"Filters"}),e.jsx("div",{className:"hidden md:flex items-center gap-2 px-3 py-2 rounded-lg border",style:{background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsxs("span",{className:"text-xs text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["Showing: ",e.jsx("span",{className:"font-medium text-foreground",children:h})," / ",d]})})]})]}),e.jsx(Ie,{children:o&&e.jsxs(D.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:[e.jsx(V,{className:"my-4",style:{borderColor:"var(--theme-divider, #E4E4E7)"}}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Status"}),e.jsxs(B,{selectedKeys:[t.status],onSelectionChange:n=>s("status",Array.from(n)[0]),size:i?"sm":"md",variant:"bordered",radius:m(),classNames:{trigger:"border-default-200 hover:border-default-300",value:"text-foreground",popoverContent:["bg-content1","border-default-200"]},style:{fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(v,{children:"All Status"},"all"),e.jsx(v,{children:"Active Only"},"active"),e.jsx(v,{children:"Inactive Only"},"inactive")]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Device Type"}),e.jsxs(B,{selectedKeys:[t.type],onSelectionChange:n=>s("type",Array.from(n)[0]),size:i?"sm":"md",variant:"bordered",radius:m(),classNames:{trigger:"border-default-200 hover:border-default-300",value:"text-foreground",popoverContent:["bg-content1","border-default-200"]},style:{fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(v,{children:"All Types"},"all"),e.jsx(v,{children:"Mobile Only"},"mobile"),e.jsx(v,{children:"Desktop Only"},"desktop")]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Activity"}),e.jsxs(B,{selectedKeys:[t.dateRange],onSelectionChange:n=>s("dateRange",Array.from(n)[0]),size:i?"sm":"md",variant:"bordered",radius:m(),classNames:{trigger:"border-default-200 hover:border-default-300",value:"text-foreground",popoverContent:["bg-content1","border-default-200"]},style:{fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(v,{children:"All Time"},"all"),e.jsx(v,{children:"Last Hour"},"hour"),e.jsx(v,{children:"Last 24 Hours"},"day"),e.jsx(v,{children:"Last Week"},"week"),e.jsx(v,{children:"Last Month"},"month")]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(p,{variant:"bordered",color:"primary",className:"w-full border-[rgba(var(--theme-primary-rgb),0.3)] bg-[rgba(var(--theme-primary-rgb),0.05)] hover:bg-[rgba(var(--theme-primary-rgb),0.1)]",size:i?"sm":"md",radius:m(),onPress:r,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Clear Filters"})})]})]})})]})}),bs=({isOpen:t,onClose:s,device:r,onForceLogout:o,actionLoading:u})=>r?e.jsx(Pe,{isOpen:t,onClose:s,size:"2xl",scrollBehavior:"inside",radius:m(),classNames:{base:"bg-content1",header:["bg-gradient-to-r","from-[color-mix(in_srgb,var(--theme-primary)_15%,transparent)]","to-[color-mix(in_srgb,var(--theme-secondary)_15%,transparent)]","border-b","border-[color-mix(in_srgb,var(--theme-primary)_20%,transparent)]"],body:"bg-content1",footer:["bg-content1","border-t","border-[color-mix(in_srgb,var(--theme-primary)_20%,transparent)]"]},children:e.jsx(Ue,{children:h=>e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"flex flex-col gap-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:F.getIcon(r.user_agent,"w-6 h-6")}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Device Information"}),e.jsx("p",{className:"text-sm text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r.device_name||"Unknown Device"})]})]})}),e.jsx(Te,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(x,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center",style:{background:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:F.getIcon(r.user_agent)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Device Type"}),e.jsx("p",{className:"text-default-500 text-sm",style:{fontFamily:'var(--fontFamily, "Inter")'},children:F.getType(r.user_agent)})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Browser:"}),e.jsx("span",{className:"text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:F.getBrowser(r.user_agent)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"OS:"}),e.jsx("span",{className:"text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:F.getOS(r.user_agent)})]})]})]})}),e.jsx(x,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-secondary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center",style:{background:"color-mix(in srgb, var(--theme-secondary) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:e.jsx(Ge,{className:"w-5 h-5",style:{color:"var(--theme-secondary)"}})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Connection"}),e.jsx("p",{className:"text-default-500 text-sm",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Network Information"})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"IP Address:"}),e.jsx("span",{className:"text-foreground font-mono",style:{fontFamily:'var(--monoFontFamily, "JetBrains Mono")'},children:r.ip_address})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Location:"}),e.jsx("span",{className:"text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r.location||"Unknown"})]})]})]})})]}),e.jsx(x,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-success) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center",style:{background:"color-mix(in srgb, var(--theme-success) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:e.jsx(A,{className:"w-5 h-5",style:{color:"var(--theme-success)"}})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Activity Timeline"}),e.jsx("p",{className:"text-default-500 text-sm",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Session and usage information"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3",style:{background:"color-mix(in srgb, var(--theme-default) 10%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:[e.jsx("h4",{className:"font-bold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r.is_active?"Active":"Inactive"}),e.jsx("p",{className:"text-xs text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Current Status"})]}),e.jsxs("div",{className:"text-center p-3",style:{background:"color-mix(in srgb, var(--theme-default) 10%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:[e.jsx("h4",{className:"font-bold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:J(r.last_seen_at)}),e.jsx("p",{className:"text-xs text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Last Seen"})]}),e.jsxs("div",{className:"text-center p-3",style:{background:"color-mix(in srgb, var(--theme-default) 10%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:[e.jsx("h4",{className:"font-bold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r.created_at?new Date(r.created_at).toLocaleDateString():"Unknown"}),e.jsx("p",{className:"text-xs text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"First Login"})]})]})]})}),e.jsx(x,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-warning) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 flex items-center justify-center",style:{background:"color-mix(in srgb, var(--theme-warning) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:e.jsx(Xe,{className:"w-5 h-5",style:{color:"var(--theme-warning)"}})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Technical Information"}),e.jsx("p",{className:"text-default-500 text-sm",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Detailed device specifications"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-default-400 uppercase tracking-wide mb-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Device ID"}),e.jsx("p",{className:"text-sm text-foreground font-mono p-2 border",style:{fontFamily:'var(--monoFontFamily, "JetBrains Mono")',background:"color-mix(in srgb, var(--theme-default) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-default) 20%, transparent)",borderRadius:"var(--borderRadius, 6px)"},children:r.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-default-400 uppercase tracking-wide mb-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User Agent"}),e.jsx("p",{className:"text-sm text-foreground break-all p-2 border",style:{fontFamily:'var(--fontFamily, "Inter")',background:"color-mix(in srgb, var(--theme-default) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-default) 20%, transparent)",borderRadius:"var(--borderRadius, 6px)"},children:r.user_agent})]})]})]})}),r.is_active&&e.jsx(x,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-danger) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(ie,{className:"w-6 h-6 shrink-0",style:{color:"var(--theme-danger)"}}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",style:{color:"var(--theme-danger)",fontFamily:'var(--fontFamily, "Inter")'},children:"Security Actions"}),e.jsx("p",{className:"text-sm",style:{color:"color-mix(in srgb, var(--theme-danger) 80%, transparent)",fontFamily:'var(--fontFamily, "Inter")'},children:"Manage device access and security"})]})]}),e.jsx(p,{size:"sm",color:"danger",variant:"flat",radius:m(),startContent:e.jsx(H,{className:"w-4 h-4"}),onPress:()=>{o(r.id),h()},isLoading:u[`logout_${r.id}`],style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Force Logout Device"})]})})]})}),e.jsx(os,{children:e.jsx(p,{variant:"flat",radius:m(),onPress:h,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Close"})})]})})}):null,js=({user:t,devices:s})=>{const[r,o]=l.useState(!1),[u,h]=l.useState(!1),[d,i]=l.useState(!1),[n,_]=l.useState(!1);l.useEffect(()=>{const a=()=>{o(window.innerWidth<640),h(window.innerWidth<768),i(window.innerWidth>=1025),_(window.innerWidth>=641&&window.innerWidth<=1024)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const{isOpen:k,onOpen:K,onClose:le}=es(),[g,M]=l.useState(t),[w,T]=l.useState(s||[]),[oe,q]=l.useState(!1),[z,C]=l.useState({}),[Q,Z]=l.useState(!1),[ce,de]=l.useState(null),[me,xe]=l.useState(!1),[S,G]=l.useState({currentPage:1,perPage:10}),b=fs(w),{filters:ue,filteredDevices:N,updateFilter:X,clearFilters:fe}=hs(w),he=l.useMemo(()=>{const a=(S.currentPage-1)*S.perPage,c=a+S.perPage;return N.slice(a,c)},[N,S]),Y=Math.ceil(N.length/S.perPage),ge=l.useMemo(()=>[{title:"Total Devices",value:b.total,icon:E,color:"primary",description:"All registered devices"},{title:"Active Sessions",value:b.active,icon:U,color:"success",description:"Currently active devices"},{title:"Online Now",value:b.online,icon:He,color:"secondary",description:"Active within 5 minutes"},{title:"Recent Activity",value:b.recent,icon:A,color:"warning",description:"Active within 24 hours"}],[b]),y=l.useCallback(async()=>{q(!0);try{const a=await O.get(route("users.device.list",{user:g.id}));a.status===200&&(T(a.data.devices||[]),a.data.user&&M(c=>({...c,...a.data.user})))}catch(a){console.error("Error fetching devices:",a),j.error("Failed to fetch device information"),T([])}finally{q(!1)}},[g.id]),ve=l.useCallback(async a=>{C(c=>({...c,toggle:!0}));try{const c=await O.post(route("users.device.toggle"),{user_id:g.id,enabled:a});c.status===200&&c.data.success&&(M(L=>({...L,single_device_login:c.data.user.single_device_login,active_device:c.data.user.active_device})),j.success(c.data.message||(a?"Single device login enabled":"Single device login disabled")),await y())}catch(c){console.error("Error toggling single device login:",c),j.error("Failed to update device settings")}finally{C(c=>({...c,toggle:!1}))}},[g,y]),ye=l.useCallback(async()=>{C(a=>({...a,reset:!0}));try{(await O.post(route("users.device.reset"),{user_id:g.id})).status===200&&(M(c=>({...c,active_device:null})),T(c=>c.map(L=>({...L,is_active:!1}))),j.success("User device has been reset"),setTimeout(()=>y(),1e3))}catch(a){console.error("Error resetting user device:",a),j.error("Failed to reset user device")}finally{C(a=>({...a,reset:!1}))}},[g.id,y]),W=l.useCallback(async a=>{C(c=>({...c,[`logout_${a}`]:!0}));try{(await O.post(route("users.device.logout"),{user_id:g.id,device_id:a})).status===200&&(j.success("Device logged out successfully"),await y())}catch(c){console.error("Error logging out device:",c),j.error("Failed to logout device")}finally{C(c=>({...c,[`logout_${a}`]:!1}))}},[g.id,y]),pe=l.useCallback(async()=>{Z(!0),await y(),Z(!1),j.success("Device data refreshed")},[y]),be=l.useCallback(()=>{us(w,g.name)},[w,g.name]),je=l.useCallback(a=>{de(a),K()},[K]),we=l.useCallback((a,c)=>{X(a,c),G(L=>({...L,currentPage:1}))},[X]);return l.useEffect(()=>{y()},[y]),e.jsxs(e.Fragment,{children:[e.jsx(Ne,{title:`Device Management - ${g.name}`}),e.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Device Management",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full",children:e.jsx(D.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.jsxs(x,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                    var(--theme-content1, #FAFAFA) 20%, 
                    var(--theme-content2, #F4F4F5) 10%, 
                    var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(ee,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                      color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                      color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:e.jsx("div",{className:`${d?"p-6":n?"p-4":"p-3"} w-full`,children:e.jsx("div",{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx("div",{className:`
                              ${d?"p-3":n?"p-2.5":"p-2"} 
                              rounded-xl flex items-center justify-center
                            `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(E,{className:`
                                ${d?"w-7 h-7":n?"w-6 h-6":"w-5 h-5"}
                              `,style:{color:"var(--theme-primary)"}})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("h1",{className:`
                                ${d?"text-2xl":n?"text-xl":"text-lg"} 
                                font-bold text-foreground truncate
                              `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:["Device Management - ",g.name]}),e.jsxs("p",{className:`
                                ${d?"text-sm":"text-xs"} 
                                text-default-500 truncate
                              `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:["Manage ",g.name,"'s device access, restrictions and session history"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx(p,{isIconOnly:r,variant:"bordered",size:r?"sm":"md",radius:m(),onPress:()=>Fe.visit(route("users")),startContent:!r&&e.jsx(te,{className:"w-4 h-4"}),className:"border-[rgba(var(--theme-default-rgb),0.3)] bg-[rgba(var(--theme-default-rgb),0.05)] hover:bg-[rgba(var(--theme-default-rgb),0.1)]",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r?e.jsx(te,{className:"w-4 h-4"}):"Back to Users"}),e.jsx(p,{isIconOnly:r,color:"primary",variant:"bordered",size:r?"sm":"md",radius:m(),onPress:pe,isLoading:Q,startContent:!Q&&!r&&e.jsx(P,{className:"w-4 h-4"}),className:"border-[rgba(var(--theme-primary-rgb),0.3)] bg-[rgba(var(--theme-primary-rgb),0.05)] hover:bg-[rgba(var(--theme-primary-rgb),0.1)]",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r?e.jsx(P,{className:"w-4 h-4"}):"Refresh"}),b.total>0&&e.jsx(p,{isIconOnly:r,variant:"bordered",size:r?"sm":"md",radius:m(),onPress:be,startContent:!r&&e.jsx(re,{className:"w-4 h-4"}),className:"border-[rgba(var(--theme-secondary-rgb),0.3)] bg-[rgba(var(--theme-secondary-rgb),0.05)] hover:bg-[rgba(var(--theme-secondary-rgb),0.1)]",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r?e.jsx(re,{className:"w-4 h-4"}):"Export"})]})]})})})}),e.jsx(f,{className:"p-0",children:e.jsxs("div",{className:`${d?"p-6":n?"p-4":"p-3"} space-y-6`,children:[e.jsx(D.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:ge.map((a,c)=>e.jsx(D.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1*c},children:e.jsx(x,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:`color-mix(in srgb, var(--theme-${a.color}) 20%, transparent)`,borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(f,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{background:`color-mix(in srgb, var(--theme-${a.color}) 20%, transparent)`},children:e.jsx(a.icon,{className:"w-5 h-5",style:{color:`var(--theme-${a.color})`}})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.value}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:a.title}),e.jsx("p",{className:"text-xs text-default-500",children:a.description})]})]})})})},a.title))})}),e.jsx(D.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:e.jsx(x,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(f,{className:"p-0",children:e.jsxs("div",{className:"flex flex-col lg:flex-row",children:[e.jsx("div",{className:"lg:w-2/5 p-6 border-r border-divider",style:{borderColor:"var(--theme-divider, #E4E4E7)"},children:e.jsx(vs,{user:g})}),e.jsx("div",{className:"lg:w-3/5 p-6",children:e.jsx(ys,{user:g,onToggleSingleDevice:ve,onResetDevice:ye,actionLoading:z})})]})})})}),e.jsx(D.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"mb-6",children:e.jsx(ps,{filters:ue,updateFilter:we,clearFilters:fe,showFilters:me,setShowFilters:xe,deviceCount:N.length,totalDevices:w.length,isMobile:r})}),e.jsx(D.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:e.jsxs(x,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:[e.jsx(ee,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Device History"}),e.jsxs("p",{className:"text-sm text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[N.length," device",N.length!==1?"s":""," found",N.length!==w.length&&e.jsxs("span",{children:[" (filtered from ",w.length," total)"]})]})]}),b.total>0&&e.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[e.jsxs($,{size:"sm",variant:"flat",color:"primary",radius:m(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:[b.active," Active"]}),e.jsxs($,{size:"sm",variant:"flat",color:"success",radius:m(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:[b.online," Online"]})]})]})}),e.jsx(V,{style:{borderColor:"var(--theme-divider, #E4E4E7)"}}),oe?e.jsx("div",{className:"flex justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_e,{size:"lg",color:"primary"}),e.jsx("p",{className:"mt-4 text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Loading device data..."})]})}):N.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ie,{className:"w-12 h-12 mx-auto mb-4 text-default-400"}),e.jsx("h3",{className:"text-lg font-semibold mb-2 text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No devices found"}),e.jsx("p",{className:"text-sm text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:w.length===0?`${g.name} has no device records yet`:"Try adjusting your search or filters"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(ss,{"aria-label":"Device history table",classNames:{wrapper:"shadow-none bg-transparent",th:["bg-transparent","text-default-500","border-b","border-divider"],td:["border-b","border-divider","group-hover:bg-default-50"]},children:[e.jsxs(as,{children:[e.jsx(R,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Device"}),e.jsx(R,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Type"}),e.jsx(R,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:"IP Address"}),e.jsx(R,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Location"}),e.jsx(R,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Status"}),e.jsx(R,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Last Seen"}),e.jsx(R,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Actions"})]}),e.jsx(ts,{children:he.map(a=>e.jsxs(rs,{children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[F.getIcon(a.user_agent),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:a.device_name||"Unknown Device"}),e.jsx("div",{className:"text-xs text-default-500 truncate max-w-48",title:a.user_agent,style:{fontFamily:'var(--fontFamily, "Inter")'},children:a.user_agent})]})]})}),e.jsx(I,{children:e.jsx($,{size:"sm",variant:"flat",radius:m(),color:F.getType(a.user_agent).includes("Mobile")?"secondary":"default",style:{fontFamily:'var(--fontFamily, "Inter")'},children:F.getType(a.user_agent)})}),e.jsx(I,{children:e.jsx("span",{className:"text-sm font-mono text-foreground",style:{fontFamily:'var(--monoFontFamily, "JetBrains Mono")'},children:a.ip_address})}),e.jsx(I,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Re,{className:"w-3 h-3 text-default-400"}),e.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:a.location||"Unknown"})]})}),e.jsx(I,{children:e.jsx(gs,{device:a})}),e.jsx(I,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"w-3 h-3 text-default-400"}),e.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:J(a.last_seen_at)})]})}),e.jsx(I,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[a.is_active&&e.jsx(p,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",radius:m(),onPress:()=>W(a.id),isLoading:z[`logout_${a.id}`],className:"hover:bg-[rgba(var(--theme-danger-rgb),0.1)]",children:e.jsx(H,{className:"w-3 h-3"})}),e.jsxs(De,{children:[e.jsx(ke,{children:e.jsx(p,{isIconOnly:!0,size:"sm",variant:"light",radius:m(),className:"hover:bg-[rgba(var(--theme-default-rgb),0.1)]",children:e.jsx(Je,{className:"w-3 h-3"})})}),e.jsxs(Ce,{classNames:{base:"bg-content1",list:"bg-content1"},children:[e.jsx(se,{startContent:e.jsx(Ke,{className:"w-4 h-4"}),onPress:()=>je(a),className:"hover:bg-[rgba(var(--theme-primary-rgb),0.1)]",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Device Details"},"details"),a.is_active&&e.jsx(se,{startContent:e.jsx(H,{className:"w-4 h-4"}),color:"warning",onPress:()=>W(a.id),className:"hover:bg-[rgba(var(--theme-warning-rgb),0.1)]",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Force Logout"},"logout")]})]})]})})]},a.id))})]}),Y>1&&e.jsx("div",{className:"flex justify-center p-4 border-t",style:{borderColor:"var(--theme-divider, #E4E4E7)"},children:e.jsx(ns,{total:Y,page:S.currentPage,onChange:a=>G(c=>({...c,currentPage:a})),showControls:!0,color:"primary",size:r?"sm":"md",radius:m(),style:{fontFamily:'var(--fontFamily, "Inter")'}})})]})]})})]})})]})})})})}),e.jsx(bs,{isOpen:k,onClose:le,device:ce,onForceLogout:W,actionLoading:z})]})};js.layout=t=>e.jsx(ze,{children:t});export{js as default};
