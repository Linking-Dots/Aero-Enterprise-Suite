import{u as be,a,j as e,H as pe,F as K,b as ge}from"./app-BiR4HUU6.js";import{r as d,l as ve,R as xe}from"./react-core-SLWS96gT.js";import{B as $,k as L,g as W,e as fe,l as Z,A as ye}from"./App-WMq6RoU3.js";import{G as we}from"./logo-Bl0iXllB.js";import{P as _e}from"./PageHeader-Bpq-xkFY.js";import{a as V}from"./utilities-DyZVG5is.js";import{u as Ne,a as Re,G as ke,_ as z,T as r,l as g,B as Se,h as m,$ as h,e as u,C as x,A as E,v as D,w as j,x as I,y as N,z as s,E as B,a0 as Fe}from"./mui-libraries-CQTi8RHu.js";import{h as Ce,s as X,l as R,E as Te,F as k,b as O}from"./ui-libraries-CePrafQA.js";import{F as Ee}from"./ChartBarIcon-B6NbD6y8.js";import{a as q,F as Ae}from"./ShieldCheckIcon-BRKjP3CW.js";import{F as Y}from"./DocumentArrowDownIcon-Z7LEdu9S.js";import{F as S}from"./ExclamationTriangleIcon-EI717oj0.js";import{F as J}from"./CheckCircleIcon-CDPGBXlV.js";import{F as Me}from"./CogIcon-C8sC6XZh.js";import{F as ee}from"./LockClosedIcon-C1mDI3TC.js";import{F as Pe}from"./PresentationChartLineIcon-DZoYtAq0.js";import{R as $e,A as Le,C as ze,X as De,Y as je,T as Ie,a as Be}from"./chart-libraries-CksO8MGt.js";import{F as Oe}from"./ChartPieIcon-CUZay0zN.js";import{F as qe}from"./TableCellsIcon-CqcjJ1H-.js";import{F as Ue}from"./InformationCircleIcon-CQsBRJEg.js";import"./app-B9RuXsJe.js";import"./EnvelopeIcon-C4jDV72b.js";import"./UserIcon-CGZSeVa1.js";function He({title:v,titleId:f,...p},w){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:w,"aria-labelledby":f},p),v?d.createElement("title",{id:f},v):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"}))}const ae=d.forwardRef(He);function Ge({title:v,titleId:f,...p},w){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:w,"aria-labelledby":f},p),v?d.createElement("title",{id:f},v):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const Qe=d.forwardRef(Ge);function Ke({title:v,titleId:f,...p},w){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:w,"aria-labelledby":f},p),v?d.createElement("title",{id:f},v):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const We=d.forwardRef(Ke),Ze=({title:v,initialData:f})=>{const p=Ne();Re(p.breakpoints.down("md"));const{auth:w,app:U}=be().props,[c,re]=d.useState(f||{}),[te,F]=d.useState(!1),[C,ie]=d.useState(!0),[A,se]=d.useState("30"),[T,ne]=d.useState("overview"),[M,le]=d.useState("24h"),[Ve,Xe]=d.useState("database");d.useEffect(()=>{if(!C)return;const t=setInterval(()=>{P()},parseInt(A)*1e3);return()=>clearInterval(t)},[C,A]);const P=d.useCallback(async()=>{F(!0);try{const t=await V.get("/api/system-monitoring/metrics",{params:{type:T,period:M}});re(t.data)}catch(t){console.error("Failed to fetch monitoring data:",t),$.error("Failed to refresh system data")}finally{F(!1)}},[T,M]),oe=t=>{switch(t){case"healthy":case"compliant":case"good":return"success";case"warning":case"partial":return"warning";case"critical":case"unhealthy":case"non_compliant":return"error";default:return"default"}},ce=t=>{switch(t){case"healthy":case"compliant":return e(J,{className:"w-5 h-5"});case"warning":case"partial":return e(S,{className:"w-5 h-5"});case"critical":case"unhealthy":return e(Qe,{className:"w-5 h-5"});default:return e(Ue,{className:"w-5 h-5"})}},H={primary:p.palette.primary.main,secondary:p.palette.secondary.main,success:p.palette.success.main,warning:p.palette.warning.main,error:p.palette.error.main,info:p.palette.info.main},G=d.useCallback(async()=>{try{F(!0);const t=await V.get("/admin/system-report",{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([t.data])),l=document.createElement("a");l.href=n,l.setAttribute("download",`system-report-${new Date().toISOString().split("T")[0]}.pdf`),document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(n),$.success("System report exported successfully")}catch(t){console.error("Failed to export report:",t),$.error("Failed to export system report")}finally{F(!1)}},[]),Q=()=>{const t=[{title:"System Health",value:c.system_health?.overall_status||"Unknown",icon:e(We,{}),color:c.system_health?.overall_status==="healthy"?"success":"error",description:"Overall system status"},{title:"Response Time",value:`${Math.round(c.performance_summary?.avg_response_time||0)}ms`,icon:e(fe,{}),color:(c.performance_summary?.avg_response_time||0)<500?"success":"warning",description:"Average response time"},{title:"Active Users",value:c.user_activity?.active_users||0,icon:e(L,{}),color:"info",description:"Currently online"},{title:"Error Rate",value:`${((c.error_summary?.total_errors||0)/Math.max(c.performance_summary?.total_requests||1,1)*100).toFixed(2)}%`,icon:e(S,{}),color:(c.error_summary?.total_errors||0)<10?"success":"error",description:"System error rate"}];return a(m,{container:!0,spacing:3,children:[e(m,{item:!0,xs:12,children:e(m,{container:!0,spacing:3,children:t.map((n,l)=>e(m,{item:!0,xs:12,sm:6,md:3,children:e(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},children:e(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px",p:2},children:e(u,{children:a("div",{className:"flex items-center justify-between",children:[a("div",{children:[e(r,{variant:"h4",className:"font-bold",children:n.value}),e(r,{variant:"subtitle2",color:"text.secondary",children:n.title}),e(r,{variant:"caption",color:"text.secondary",children:n.description})]}),e("div",{className:`p-3 rounded-full bg-${n.color}-500/20`,children:xe.cloneElement(n.icon,{className:`w-6 h-6 text-${n.color}-500`})})]})})})})},l))})}),e(m,{item:!0,xs:12,lg:8,children:a(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e(x,{title:"System Health Checks",avatar:e(J,{className:"w-6 h-6"})}),e(u,{children:e("div",{className:"space-y-3",children:c.system_health?.checks&&Object.entries(c.system_health.checks).map(([n,l])=>a("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/10 backdrop-blur-md border border-white/20",children:[a("div",{className:"flex items-center gap-3",children:[ce(l.status),a("div",{children:[e(r,{variant:"subtitle2",className:"capitalize font-medium",children:n.replace(/_/g," ")}),e(r,{variant:"caption",color:"text.secondary",children:l.message})]})]}),e(g,{label:l.status,color:oe(l.status),size:"small",variant:"outlined",className:"capitalize"})]},n))})})]})}),e(m,{item:!0,xs:12,lg:4,children:a(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e(x,{title:"Quick Actions",avatar:e(Me,{className:"w-6 h-6"})}),e(u,{children:a("div",{className:"space-y-3",children:[e(O,{startIcon:e(K,{className:"w-4 h-4"}),onClick:P,className:"w-full",variant:"bordered",children:"Refresh Data"}),e(O,{startIcon:e(Y,{className:"w-4 h-4"}),onClick:G,className:"w-full",variant:"bordered",children:"Export Report"}),e(O,{startIcon:e(Z,{className:"w-4 h-4"}),className:"w-full",variant:"bordered",children:"Configure Alerts"})]})})]})})]})},de=()=>{const[t,n]=d.useState(0),[l,i]=d.useState(10),b=c.database_stats?.table_analysis?.tables||[],_=c.database_stats?.table_analysis?.summary||{};return a("div",{className:"space-y-6",children:[a(m,{container:!0,spacing:3,children:[e(m,{item:!0,xs:12,sm:6,md:3,children:e(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:a(u,{className:"text-center",children:[e(r,{variant:"h4",className:"font-bold text-blue-500",children:_.total_tables||0}),e(r,{variant:"subtitle2",children:"Total Tables"})]})})}),e(m,{item:!0,xs:12,sm:6,md:3,children:e(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:a(u,{className:"text-center",children:[a(r,{variant:"h4",className:"font-bold text-green-500",children:[_.total_size_mb?.toFixed(2)||0," MB"]}),e(r,{variant:"subtitle2",children:"Total Size"})]})})}),e(m,{item:!0,xs:12,sm:6,md:3,children:e(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:a(u,{className:"text-center",children:[e(r,{variant:"h4",className:"font-bold text-purple-500",children:_.total_rows?.toLocaleString()||0}),e(r,{variant:"subtitle2",children:"Total Rows"})]})})}),e(m,{item:!0,xs:12,sm:6,md:3,children:e(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:a(u,{className:"text-center",children:[e(r,{variant:"h4",className:"font-bold text-orange-500",children:_.engines_used?.length||0}),e(r,{variant:"subtitle2",children:"Storage Engines"})]})})})]}),a(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e(x,{title:"Table Analysis",avatar:e(qe,{className:"w-6 h-6"}),action:e(g,{label:`${b.length} Tables`,color:"primary",variant:"outlined"})}),a(u,{children:[e(D,{children:a(j,{children:[e(I,{children:a(N,{children:[e(s,{children:"Table Name"}),e(s,{align:"right",children:"Rows"}),e(s,{align:"right",children:"Size (MB)"}),e(s,{align:"right",children:"Data (MB)"}),e(s,{align:"right",children:"Index (MB)"}),e(s,{children:"Engine"}),e(s,{children:"Created"})]})}),e(B,{children:b.slice(t*l,t*l+l).map((o,y)=>a(N,{hover:!0,children:[e(s,{children:e(r,{variant:"subtitle2",className:"font-medium",children:o.TABLE_NAME})}),e(s,{align:"right",children:o.TABLE_ROWS?.toLocaleString()||0}),e(s,{align:"right",children:e(g,{label:`${o.size_mb||0} MB`,size:"small",color:o.size_mb>10?"warning":"default"})}),e(s,{align:"right",children:o.data_mb||0}),e(s,{align:"right",children:o.index_mb||0}),e(s,{children:e(g,{label:o.ENGINE,size:"small",variant:"outlined"})}),e(s,{children:o.CREATE_TIME?new Date(o.CREATE_TIME).toLocaleDateString():"N/A"})]},o.TABLE_NAME))})]})}),e(Fe,{rowsPerPageOptions:[5,10,25,50],component:"div",count:b.length,rowsPerPage:l,page:t,onPageChange:(o,y)=>n(y),onRowsPerPageChange:o=>{i(parseInt(o.target.value,10)),n(0)}})]})]}),c.database_stats?.storage_analysis&&a(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e(x,{title:"Storage Analysis",avatar:e(ae,{className:"w-6 h-6"})}),e(u,{children:a("div",{className:"space-y-4",children:[c.database_stats.storage_analysis.by_engine?.map((o,y)=>e("div",{className:"p-3 rounded-lg bg-white/5",children:a("div",{className:"flex justify-between items-center",children:[a("div",{children:[a(r,{variant:"subtitle2",className:"font-medium",children:[o.ENGINE," Engine"]}),a(r,{variant:"caption",color:"text.secondary",children:[o.table_count," tables"]})]}),a("div",{className:"text-right",children:[a(r,{variant:"subtitle2",className:"font-bold",children:[o.total_size_mb," MB"]}),a(r,{variant:"caption",color:"text.secondary",children:["Avg: ",o.avg_size_mb," MB"]})]})]})},y)),c.database_stats.storage_analysis.fragmentation?.length>0&&a("div",{children:[e(r,{variant:"h6",className:"mb-3",children:"Fragmentation Issues"}),c.database_stats.storage_analysis.fragmentation.map((o,y)=>a(E,{severity:o.fragmentation_percent>50?"error":"warning",className:"mb-2",children:["Table ",e("strong",{children:o.TABLE_NAME})," has ",o.fragmentation_percent,"% fragmentation (",o.fragmentation_mb," MB)"]},y))]}),c.database_stats.storage_analysis.recommendations?.length>0&&a("div",{children:[e(r,{variant:"h6",className:"mb-3",children:"Recommendations"}),c.database_stats.storage_analysis.recommendations.map((o,y)=>e(E,{severity:o.priority==="high"?"error":"info",className:"mb-2",children:o.message},y))]})]})})]})]})},me=()=>{const t=c.performance_summary?.metrics||[],n=c.database_stats?.query_performance||{},l=t.length>0?t.map((i,b)=>({name:i.metric_type?i.metric_type.replace(/_/g," ").replace(/\b\w/g,_=>_.toUpperCase()):`Metric ${b+1}`,avgTime:Math.round(i.avg_time||i.average_time||0),requests:i.total_requests||i.count||0,maxTime:Math.round(i.max_time||0)})):[{name:"API Requests",avgTime:120,requests:150,maxTime:500},{name:"Database Queries",avgTime:80,requests:200,maxTime:300},{name:"Cache Operations",avgTime:15,requests:80,maxTime:45},{name:"File Operations",avgTime:250,requests:30,maxTime:800}];return a("div",{className:"space-y-6",children:[a(m,{container:!0,spacing:3,children:[e(m,{item:!0,xs:12,md:8,children:a(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e(x,{title:"Performance Metrics",avatar:e(Pe,{className:"w-6 h-6"}),action:t.length===0&&e(g,{label:"Sample Data",size:"small",color:"warning"})}),e(u,{children:e($e,{width:"100%",height:300,children:a(Le,{data:l,margin:{top:5,right:30,left:20,bottom:5},children:[e(ze,{strokeDasharray:"3 3",stroke:p.palette.divider,opacity:.3}),e(De,{dataKey:"name",stroke:p.palette.text.secondary,fontSize:12}),e(je,{stroke:p.palette.text.secondary,fontSize:12,label:{value:"Response Time (ms)",angle:-90,position:"insideLeft"}}),"                                        ",e(Ie,{contentStyle:{backgroundColor:p.palette.background.paper,border:`1px solid ${p.palette.divider}`,borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),e(Be,{type:"monotone",dataKey:"avgTime",stroke:H.primary,fill:`${H.primary}30`,strokeWidth:2})]})})})]})}),e(m,{item:!0,xs:12,md:4,children:a(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e(x,{title:"Performance Summary",avatar:e(Oe,{className:"w-6 h-6"})}),e(u,{children:a("div",{className:"space-y-4",children:[a("div",{className:"text-center",children:[e(r,{variant:"h4",className:"font-bold text-blue-500",children:n.performance_summary?.total_queries_24h||0}),e(r,{variant:"caption",color:"text.secondary",children:"Queries (24h)"})]}),a("div",{className:"text-center",children:[a(r,{variant:"h4",className:"font-bold text-green-500",children:[Math.round(n.performance_summary?.avg_execution_time||0),"ms"]}),e(r,{variant:"caption",color:"text.secondary",children:"Avg Execution Time"})]}),a("div",{className:"text-center",children:[a(r,{variant:"h4",className:"font-bold text-red-500",children:[Math.round(n.performance_summary?.slowest_query_time||0),"ms"]}),e(r,{variant:"caption",color:"text.secondary",children:"Slowest Query"})]})]})})]})})]}),n.slow_queries?.length>0&&a(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e(x,{title:"Slow Queries",avatar:e(S,{className:"w-6 h-6"})}),e(u,{children:e(D,{children:a(j,{children:[e(I,{children:a(N,{children:[e(s,{children:"Query Type"}),e(s,{align:"right",children:"Execution Time (ms)"}),e(s,{align:"right",children:"Memory Usage"}),e(s,{children:"Timestamp"})]})}),e(B,{children:n.slow_queries.slice(0,10).map((i,b)=>a(N,{hover:!0,children:[e(s,{children:i.metric_type}),e(s,{align:"right",children:e(g,{label:`${i.execution_time_ms}ms`,color:i.execution_time_ms>2e3?"error":"warning",size:"small"})}),e(s,{align:"right",children:i.memory_usage||"N/A"}),e(s,{children:new Date(i.created_at).toLocaleString()})]},b))})]})})})]})]})},he=()=>{const t=c.security_metrics||{},n=t.authentication||{},l=t.suspicious_activities||{};return a("div",{className:"space-y-6",children:[a(m,{container:!0,spacing:3,children:[e(m,{item:!0,xs:12,sm:6,md:3,children:e(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:a(u,{className:"text-center",children:[e(q,{className:"w-8 h-8 mx-auto mb-2 text-green-500"}),e(r,{variant:"h4",className:"font-bold text-green-500",children:n.successful_logins_24h||0}),e(r,{variant:"subtitle2",children:"Successful Logins (24h)"})]})})}),e(m,{item:!0,xs:12,sm:6,md:3,children:e(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:a(u,{className:"text-center",children:[e(S,{className:"w-8 h-8 mx-auto mb-2 text-red-500"}),e(r,{variant:"h4",className:"font-bold text-red-500",children:t.failed_attempts?.length||0}),e(r,{variant:"subtitle2",children:"Failed Login Attempts"})]})})}),e(m,{item:!0,xs:12,sm:6,md:3,children:e(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:a(u,{className:"text-center",children:[e(ee,{className:"w-8 h-8 mx-auto mb-2 text-blue-500"}),e(r,{variant:"h4",className:"font-bold text-blue-500",children:n.unique_users_24h||0}),e(r,{variant:"subtitle2",children:"Unique Users (24h)"})]})})}),e(m,{item:!0,xs:12,sm:6,md:3,children:e(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:a(u,{className:"text-center",children:[e(Z,{className:"w-8 h-8 mx-auto mb-2 text-orange-500"}),e(r,{variant:"h4",className:"font-bold text-orange-500",children:l.high_frequency_ips?.length||0}),e(r,{variant:"subtitle2",children:"Suspicious IPs"})]})})})]}),t.security_events?.length>0&&a(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e(x,{title:"Recent Security Events",avatar:e(Ae,{className:"w-6 h-6"})}),e(u,{children:e("div",{className:"space-y-3",children:t.security_events.slice(0,10).map((i,b)=>e("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:a("div",{className:"flex justify-between items-start",children:[a("div",{children:[e(r,{variant:"subtitle2",className:"font-medium",children:i.description}),a(r,{variant:"caption",color:"text.secondary",children:["User: ",i.causer_id," | ",new Date(i.created_at).toLocaleString()]})]}),e(g,{label:"Security Event",size:"small",color:"warning",variant:"outlined"})]})},b))})})]}),t.failed_attempts?.length>0&&a(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e(x,{title:"Failed Login Attempts",avatar:e(S,{className:"w-6 h-6"})}),e(u,{children:e(D,{children:a(j,{children:[e(I,{children:a(N,{children:[e(s,{children:"Error Type"}),e(s,{children:"Message"}),e(s,{children:"IP Address"}),e(s,{children:"Timestamp"})]})}),e(B,{children:t.failed_attempts.slice(0,10).map((i,b)=>a(N,{hover:!0,children:[e(s,{children:e(g,{label:i.error_type,size:"small",color:"error"})}),e(s,{children:i.message}),e(s,{children:i.ip_address||"Unknown"}),e(s,{children:new Date(i.created_at).toLocaleString()})]},b))})]})})})]})]})},ue=()=>{const t=c.compliance_metrics||{},n=t.iso_27001||{},l=t.data_protection||{};return a("div",{className:"space-y-6",children:[a(m,{container:!0,spacing:3,children:[e(m,{item:!0,xs:12,md:6,children:a(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e(x,{title:"ISO 27001 Compliance",avatar:e(q,{className:"w-6 h-6"})}),a(u,{children:[a("div",{className:"text-center mb-4",children:[a(r,{variant:"h3",className:"font-bold text-blue-500",children:[n.compliance_score||0,"%"]}),e(r,{variant:"subtitle2",color:"text.secondary",children:"Compliance Score"})]}),n.checks&&Object.entries(n.checks).map(([i,b])=>a("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/5 mb-2",children:[a("div",{children:[e(r,{variant:"subtitle2",className:"capitalize",children:i.replace(/_/g," ")}),a(r,{variant:"caption",color:"text.secondary",children:["Score: ",b.score,"%"]})]}),e(g,{label:b.compliant?"Compliant":"Non-Compliant",color:b.compliant?"success":"error",size:"small"})]},i))]})]})}),e(m,{item:!0,xs:12,md:6,children:a(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e(x,{title:"Data Protection Compliance",avatar:e(ee,{className:"w-6 h-6"})}),a(u,{children:[a("div",{className:"text-center mb-4",children:[a(r,{variant:"h3",className:"font-bold text-green-500",children:[l.gdpr_compliance_score||0,"%"]}),e(r,{variant:"subtitle2",color:"text.secondary",children:"GDPR Compliance Score"})]}),a("div",{className:"space-y-2",children:[a("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white/5",children:[e(r,{variant:"subtitle2",children:"Data Retention"}),e(g,{label:`${l.data_retention?.score||0}%`,size:"small",color:"info"})]}),a("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white/5",children:[e(r,{variant:"subtitle2",children:"Data Anonymization"}),e(g,{label:`${l.data_anonymization?.score||0}%`,size:"small",color:"warning"})]}),a("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white/5",children:[e(r,{variant:"subtitle2",children:"Consent Management"}),e(g,{label:`${l.consent_management?.score||0}%`,size:"small",color:"success"})]}),a("div",{className:"flex justify-between items-center p-2 rounded-lg bg-white/5",children:[e(r,{variant:"subtitle2",children:"Breach Procedures"}),e(g,{label:`${l.data_breach_procedures?.score||0}%`,size:"small",color:"info"})]})]})]})]})})]}),a(h,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"16px"},children:[e(x,{title:"Compliance Recommendations",avatar:e(W,{className:"w-6 h-6"})}),e(u,{children:a("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a("div",{children:[e(r,{variant:"h6",className:"mb-3",children:"ISO 27001 Recommendations"}),n.recommendations?.map((i,b)=>e(E,{severity:"info",className:"mb-2",children:i},b))]}),a("div",{children:[e(r,{variant:"h6",className:"mb-3",children:"Data Protection Recommendations"}),l.recommendations?.map((i,b)=>e(E,{severity:"warning",className:"mb-2",children:i},b))]})]})})]})]})};return a(ge,{children:[e(pe,{title:v}),e(Se,{className:"min-h-screen p-2 sm:p-4 md:p-6",sx:{background:"linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(168, 85, 247, 0.1) 100%)"},children:e(ke,{in:!0,timeout:800,children:e("div",{className:"max-w-7xl mx-auto",children:e(we,{children:e(_e,{title:"Enterprise System Monitoring",subtitle:"ISO-compliant comprehensive system monitoring and analysis dashboard",icon:e(L,{className:"w-8 h-8"}),variant:"default",actionButtons:[{label:"Export Report",icon:e(Y,{className:"w-4 h-4"}),onPress:G,className:"bg-linear-to-r from-[rgba(var(--theme-primary-rgb),0.2)] to-[rgba(var(--theme-secondary-rgb),0.2)] hover:from-[rgba(var(--theme-primary-rgb),0.3)] hover:to-[rgba(var(--theme-secondary-rgb),0.3)] border border-[rgba(var(--theme-primary-rgb),0.3)]"},{label:"Refresh Data",icon:e(K,{className:"w-4 h-4"}),onPress:P,loading:te}],children:a("div",{className:"p-6",children:[e(z,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",p:3,mb:4},children:a("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a("div",{className:"flex items-center gap-4",children:[a("div",{className:"flex items-center gap-2",children:[e(Ce,{checked:C,onChange:t=>ie(t.target.checked),size:"sm"}),e(r,{variant:"body2",children:"Auto Refresh"})]}),a(X,{size:"sm",selectedKeys:[A],onSelectionChange:t=>se(Array.from(t)[0]),className:"w-24",isDisabled:!C,"aria-label":"Refresh interval",children:[e(R,{value:"30",children:"30s"},"30"),e(R,{value:"60",children:"1m"},"60"),e(R,{value:"300",children:"5m"},"300")]})]}),a(X,{size:"sm",selectedKeys:[M],onSelectionChange:t=>le(Array.from(t)[0]),className:"w-32","aria-label":"Time period",children:[e(R,{value:"1h",children:"Last Hour"},"1h"),e(R,{value:"24h",children:"Last 24h"},"24h"),e(R,{value:"7d",children:"Last 7 days"},"7d")]})]})}),e(z,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",mb:4},children:a(Te,{selectedKey:T,onSelectionChange:ne,"aria-label":"System monitoring sections",className:"p-4",children:[e(k,{title:a("div",{className:"flex items-center gap-2",children:[e(L,{className:"w-4 h-4"}),"Overview"]})},"overview"),e(k,{title:a("div",{className:"flex items-center gap-2",children:[e(ae,{className:"w-4 h-4"}),"Database"]})},"database"),e(k,{title:a("div",{className:"flex items-center gap-2",children:[e(Ee,{className:"w-4 h-4"}),"Performance"]})},"performance"),e(k,{title:a("div",{className:"flex items-center gap-2",children:[e(q,{className:"w-4 h-4"}),"Security"]})},"security"),e(k,{title:a("div",{className:"flex items-center gap-2",children:[e(W,{className:"w-4 h-4"}),"Compliance"]})},"compliance")]})}),e("div",{className:"min-h-[600px]",children:(()=>{switch(T){case"overview":return e(Q,{});case"database":return e(de,{});case"performance":return e(me,{});case"security":return e(he,{});case"compliance":return e(ue,{});default:return e(Q,{})}})()}),e(z,{elevation:0,sx:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",p:3,mt:4},children:a("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[a("div",{children:[e(r,{variant:"subtitle2",color:"text.secondary",children:"Last Updated"}),e(r,{variant:"body2",className:"font-medium",children:c.system_health?.last_check?new Date(c.system_health.last_check).toLocaleString():new Date().toLocaleString()})]}),a("div",{children:[e(r,{variant:"subtitle2",color:"text.secondary",children:"Monitoring Since"}),e(r,{variant:"body2",className:"font-medium",children:new Date().toLocaleDateString()})]}),a("div",{children:[e(r,{variant:"subtitle2",color:"text.secondary",children:"System Version"}),a(r,{variant:"body2",className:"font-medium",children:[U?.name||"ERP System"," v",U?.version||"2.0"]})]}),a("div",{children:[e(r,{variant:"subtitle2",color:"text.secondary",children:"Compliance Status"}),e(g,{label:"ISO Compliant",color:"success",size:"small",variant:"outlined"})]})]})})]})})})})})})]})};Ze.layout=v=>e(ye,{children:v});export{Ze as default};
