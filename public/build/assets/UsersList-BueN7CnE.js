import{r as _,j as r,s as qe,d as J,t as zr,F as _e,a as we,bX as Ia,bY as Ta,bZ as Nn,Q as Fn,c as le,b as oe,S as Br}from"./app-BNlAMuBd.js";import{y as pt,e as Ee,c as Sn,C as vt,D as xt,E as gt,H as ne,m as Cn,j as In,k as Tn,n as En,x as $n,s as Ne,l as Q,o as Pn,w as Ge,f as Rn,I as An,A as On}from"./Dashboard-BRj9Bjj9.js";import{S as Dn}from"./StatsCards-DJESuv_4.js";import{c as ce,t as yt,F as Ea,B as W,b as $a}from"./react-toastify.esm-DdivGgXs.js";import{F as Un}from"./HashtagIcon-C2QVX27b.js";import{F as Xe}from"./UserIcon-Dj_t8kkl.js";import{F as bt}from"./EnvelopeIcon-QFA9_XeO.js";import{F as $e,a as Pa}from"./DeviceTabletIcon-CniJN_rb.js";import{F as Ra}from"./CheckCircleIcon-BUtfvWId.js";import{F as Pe}from"./ShieldCheckIcon-Ca1tCxUr.js";import{F as jt}from"./EllipsisVerticalIcon-xPX38UpR.js";import{F as Aa}from"./PencilIcon-555hZX6T.js";import{F as Ze}from"./LockOpenIcon-G6AHeQxk.js";import{F as Ye}from"./LockClosedIcon-BRAfYgac.js";import{t as Ln,a as Mn,b as zn,c as Bn}from"./chunk-F3UDT23P-C9JkugPL.js";import{t as Wn,a as kn}from"./chunk-YRZGWF2W-DtaWxEuC.js";import{p as Oa}from"./chunk-EAPQ7RWQ-CyuLK6iD.js";import{u as Da}from"./chunk-S574QCAN-u18C-F3O.js";import{U as Gn}from"./user-Zp8-Oq4K.js";import{C as Hn}from"./camera-CapLTM0N.js";import{c as Pt}from"./createLucideIcon-Ce2XVWEi.js";import{i as Y}from"./chunk-SSA7SXE4-zdhfCZ3h.js";import{F as Vn}from"./XCircleIcon-D5U-Uw2V.js";import{F as qn}from"./TrophyIcon-1qQehUIq.js";import{F as dt}from"./UserPlusIcon-CWpD5NcP.js";import{F as Wr}from"./ChartBarIcon-BowC3ggN.js";import{m as Kn}from"./proxy-DTGcRtOd.js";import{F as Xn}from"./DocumentArrowDownIcon-DTpR1X9P.js";import{F as Zn}from"./ChartPieIcon-CyFphw_t.js";import{F as Yn}from"./TableCellsIcon-BILPlng5.js";import{c as Jn}from"./chunk-D5XJWRAV-tCKBD8Ha.js";import{s as q}from"./chunk-TLYTI3QM-CY84SHjf.js";import{b as Qn}from"./chunk-57V4RE7B-UU6uTHNx.js";import{s as es}from"./chunk-TQNYOUFX-BmtNqcOZ.js";import"./KeyIcon-KjzwqgAe.js";import"./logo-Pwvcz7fP.js";import"./ExclamationTriangleIcon-D4FEZ-Fd.js";import"./features-animation-DeX9j7Ui.js";import"./create-visual-element-BmuFAYNX.js";import"./chunk-XJ2YRSUP-BSNjj2q_.js";import"./useToggleState-BwPLWiyu.js";function ts({title:e,titleId:t,...a},n){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},a),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const kr=_.forwardRef(ts);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Gr=Pt("eye-off",rs);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hr=Pt("eye",as);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ss=Pt("lock",ns),pe=()=>"var(--borderRadius, 12px)",is=({allUsers:e,roles:t,isMobile:a,isTablet:n,setUsers:l,pagination:o,onPageChange:c,onRowsPerPageChange:u,totalUsers:m=0,onEdit:b,loading:w=!1,updateUserOptimized:N,deleteUserOptimized:F,toggleUserStatusOptimized:I,updateUserRolesOptimized:$,toggleSingleDeviceLogin:O,resetUserDevice:D,deviceActions:R={}})=>{const[B,f]=_.useState({}),z=(s,p="w-5 h-5")=>{const A=(s==null?void 0:s.toLowerCase())||"";return A.includes("mobile")||A.includes("android")||A.includes("iphone")?r.jsx($e,{className:`${p} text-primary`}):A.includes("tablet")||A.includes("ipad")?r.jsx(Pa,{className:`${p} text-secondary`}):r.jsx($a,{className:`${p} text-default-500`})},E=s=>{const p=(s==null?void 0:s.toLowerCase())||"";return p.includes("mobile")||p.includes("android")||p.includes("iphone")?"Mobile Device":p.includes("tablet")||p.includes("ipad")?"Tablet":"Desktop"},C=(s,p,A)=>{f(P=>({...P,[`${s}-${p}`]:A}))},j=(s,p)=>B[`${s}-${p}`]||!1;async function g(s,p){C(s,"role",!0);const A=new Promise(async(P,k)=>{var d;try{const fe=await axios.post(route("user.updateRole",{id:s}),{roles:p});fe.status===200&&($&&$(s,p),P([fe.data.message||"Role updated successfully"]))}catch(fe){((d=fe.response)==null?void 0:d.status)===422?k(fe.response.data.errors||["Failed to update user role."]):k(["An unexpected error occurred. Please try again later."])}finally{C(s,"role",!1)}});return W.promise(A,{pending:"Updating employee role...",success:{render({data:P}){return P.join(", ")}},error:{render({data:P}){return Array.isArray(P)?P.join(", "):P}}}),A}const T=_.useMemo(()=>{const s=[{name:"#",uid:"sl"},{name:"USER",uid:"user"},{name:"EMAIL",uid:"email"},{name:"DEPARTMENT",uid:"department"},{name:"DEVICE STATUS",uid:"device_status"},{name:"STATUS",uid:"status"},{name:"ROLES",uid:"roles"},{name:"ACTIONS",uid:"actions"}];if(!a&&!n)s.splice(3,0,{name:"PHONE",uid:"phone"});else if(a)s.splice(s.findIndex(p=>p.uid==="department"),1),s.splice(s.findIndex(p=>p.uid==="device_status"),1);else if(n){const p=s.findIndex(A=>A.uid==="device_status");if(p>-1){const A=s.splice(p,1)[0];s.splice(2,0,A)}}return s},[a,n]),h=async(s,p)=>{if(!j(s,"status")){C(s,"status",!0);try{I?(I(s,!p),W.success(`User status ${p?"deactivated":"activated"} successfully`)):l&&(l(A=>A.map(P=>P.id===s?{...P,active:!p}:P)),W.success(`User status ${p?"deactivated":"activated"} successfully`))}catch(A){console.error("Error toggling user status:",A),W.error("Failed to update user status")}finally{C(s,"status",!1)}}},v=(s,p,A)=>{var k;const P=s[p];switch(p){case"sl":const ae=(o!=null&&o.currentPage&&(o!=null&&o.perPage)?Number((o.currentPage-1)*o.perPage):0)+(typeof A=="number"?A:0)+1;return r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"flex items-center justify-center w-8 h-8 border shadow-sm",style:{background:"var(--theme-content2, #F4F4F5)",borderColor:"var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 8px)",color:"var(--theme-foreground, #000000)"},children:r.jsx("span",{className:"text-sm font-bold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:ae})})});case"user":return r.jsx(Da,{className:"w-fit max-w-full",avatarProps:{radius:pe(),size:"sm",src:(s==null?void 0:s.profile_image_url)||(s==null?void 0:s.profile_image),showFallback:!0,name:(s==null?void 0:s.name)||"Unnamed User",isBordered:!0,style:{borderColor:"var(--theme-primary, #3B82F6)",borderWidth:"2px"}},name:r.jsx("span",{className:"text-sm font-semibold whitespace-nowrap text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:(s==null?void 0:s.name)||"Unnamed User"}),description:r.jsxs("span",{className:"text-xs text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["ID: ",s==null?void 0:s.id]})});case"email":return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 rounded-md",style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)"},children:r.jsx(bt,{className:"w-3.5 h-3.5"})}),r.jsx("span",{className:"text-sm font-medium text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:s.email})]});case"phone":return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 rounded-md",style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)"},children:r.jsx(pt,{className:"w-3.5 h-3.5"})}),r.jsx("span",{className:"text-sm font-medium text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:s.phone||"N/A"})]});case"department":return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 rounded-md",style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)"},children:r.jsx(Ee,{className:"w-3.5 h-3.5"})}),r.jsx("span",{className:"text-sm font-medium text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:(s==null?void 0:s.department)||"N/A"})]});case"device_status":const V=j(s.id,"deviceToggle");return r.jsx("div",{className:"flex items-center space-x-2",children:s.single_device_login?r.jsxs(r.Fragment,{children:[r.jsx(ce,{size:"sm",variant:"flat",color:s.active_device?"warning":"success",startContent:V?r.jsx("div",{className:"animate-spin",children:r.jsx(_e,{className:"w-3 h-3"})}):s.active_device?r.jsx(Ye,{className:"w-3 h-3"}):r.jsx(Ze,{className:"w-3 h-3"}),children:V?"Loading...":s.active_device?"Locked":"Free"}),s.active_device&&!V&&r.jsx(yt,{content:r.jsxs("div",{className:"backdrop-blur-md border rounded-lg p-4 shadow-2xl max-w-sm",style:{background:"color-mix(in srgb, var(--theme-content1) 20%, transparent)",borderColor:"var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)"},children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[z(s.active_device.user_agent,"w-5 h-5"),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-foreground text-sm",style:{fontFamily:'var(--fontFamily, "Inter")'},children:s.active_device.device_name||"Unknown Device"}),r.jsx("div",{className:"text-xs text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:E(s.active_device.user_agent)})]})]}),r.jsx("div",{className:"space-y-2 text-xs",children:r.jsx("div",{className:"pt-2 mt-2 border-t",style:{borderColor:"color-mix(in srgb, var(--theme-divider) 20%, transparent)"},children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ea,{className:"w-3 h-3 text-success"}),r.jsx("span",{className:"text-success text-xs font-medium",style:{fontFamily:'var(--fontFamily, "Inter")'},children:s.active_device.is_active?"Currently Active":"Inactive"})]})})})]}),placement:"top",classNames:{content:"p-0 bg-transparent shadow-none border-none"},children:r.jsx("div",{className:"flex items-center p-1 rounded-sm hover:bg-content1/10 transition-colors cursor-default",children:z(s.active_device.user_agent,"w-4 h-4")})})]}):r.jsx(ce,{size:"sm",variant:"flat",color:"default",startContent:V?r.jsx("div",{className:"animate-spin",children:r.jsx(_e,{className:"w-3 h-3"})}):r.jsx(Pe,{className:"w-3 h-3"}),children:V?"Loading...":"Disabled"})});case"status":return r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",checked:s.active,onChange:()=>h(s.id,s.active),disabled:j(s.id,"status")}),r.jsx("div",{className:"w-11 h-6 peer-focus:outline-hidden peer-focus:ring-4 peer-focus:ring-opacity-30 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all",style:{backgroundColor:s.active?"var(--theme-success, #10B981)":"var(--theme-danger, #EF4444)"}}),j(s.id,"status")&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(qe,{size:"sm",color:"default"})})]}),r.jsx("span",{className:"text-xs font-medium",style:{color:s.active?"var(--theme-success, #10B981)":"var(--theme-danger, #EF4444)",fontFamily:'var(--fontFamily, "Inter")'},children:s.active?"Active":"Inactive"})]});case"roles":const Be=((k=s.roles)==null?void 0:k.map(G=>typeof G=="object"&&G!==null?G.name:G))||[],be=new Set(Be),We=Array.from(be).join(", ")||"No Roles";return r.jsx("div",{className:"flex items-center",children:r.jsxs(vt,{isDisabled:j(s.id,"role"),className:"max-w-[220px]",children:[r.jsx(xt,{children:r.jsx(J,{className:"capitalize",variant:"solid",size:"sm",radius:pe(),startContent:j(s.id,"role")?r.jsx(qe,{size:"sm"}):null,style:{background:"var(--theme-primary, #3B82F6)",color:"white",fontFamily:'var(--fontFamily, "Inter")',borderRadius:pe()},children:We})}),r.jsx(gt,{disallowEmptySelection:!1,"aria-label":"Role selection",closeOnSelect:!1,selectedKeys:be,selectionMode:"multiple",variant:"flat",onSelectionChange:G=>{const he=Array.from(G);g(s.id,he)},children:(t||[]).map(G=>r.jsx(ne,{children:typeof G=="object"&&G!==null?G.name:G},typeof G=="object"&&G!==null?G.name:G))})]})});case"actions":return r.jsx("div",{className:"flex justify-center items-center",children:r.jsxs(vt,{children:[r.jsx(xt,{children:r.jsx(J,{isIconOnly:!0,size:"sm",variant:"solid",radius:pe(),style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)",fontFamily:'var(--fontFamily, "Inter")',borderRadius:pe()},className:"hover:opacity-80 transition-opacity",children:r.jsx(jt,{className:"w-4 h-4"})})}),r.jsxs(gt,{style:{background:"var(--theme-content1, #FFFFFF)",border:"1px solid var(--theme-divider, #E5E7EB)",borderRadius:pe()},children:[r.jsx(ne,{textValue:"View Profile",href:route("profile",{user:s.id}),as:zr,className:"text-blue-500",startContent:r.jsx(Xe,{className:"w-4 h-4"}),children:"View Profile"}),r.jsx(ne,{textValue:"Edit User",onPress:()=>{b&&b(s)},className:"text-amber-500",startContent:r.jsx(Aa,{className:"w-4 h-4"}),children:"Edit"}),r.jsx(ne,{textValue:"Device Toggle",onPress:()=>{O&&!j(s.id,"deviceToggle")&&(C(s.id,"deviceToggle",!0),O(s.id,!s.single_device_login).finally(()=>{C(s.id,"deviceToggle",!1)}))},isDisabled:R[s.id]||j(s.id,"deviceToggle"),startContent:j(s.id,"deviceToggle")?r.jsx("div",{className:"animate-spin",children:r.jsx(_e,{className:"w-4 h-4"})}):s.single_device_login?r.jsx(Ze,{className:"w-4 h-4"}):r.jsx(Ye,{className:"w-4 h-4"}),className:s.single_device_login?"text-orange-500":"text-green-500",children:j(s.id,"deviceToggle")?"Processing...":s.single_device_login?"Disable Device Lock":"Enable Device Lock"}),s.single_device_login&&s.active_device&&r.jsx(ne,{textValue:"Reset Device",onPress:()=>{D&&!j(s.id,"deviceReset")&&(C(s.id,"deviceReset",!0),D(s.id).finally(()=>{C(s.id,"deviceReset",!1)}))},isDisabled:R[s.id]||j(s.id,"deviceReset"),startContent:j(s.id,"deviceReset")?r.jsx("div",{className:"animate-spin",children:r.jsx(_e,{className:"w-4 h-4"})}):r.jsx(_e,{className:"w-4 h-4"}),className:"text-red-500",children:j(s.id,"deviceReset")?"Resetting...":"Reset Device"}),r.jsx(ne,{textValue:"View Devices",href:route("admin.users.devices",{userId:s.id}),as:zr,startContent:r.jsx($e,{className:"w-4 h-4"}),className:"text-blue-500",children:"View Device History"})]})]})});default:return P}},y=()=>!e||!m||w?null:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-6 py-4 border-t",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:"var(--theme-content2, #F4F4F5)",borderRadius:"0 0 var(--borderRadius, 12px) var(--borderRadius, 12px)"},children:[r.jsxs("span",{className:"text-sm text-default-600 mb-3 sm:mb-0 font-medium",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["Showing"," ",r.jsx("span",{className:"font-semibold text-default-900",children:(o.currentPage-1)*o.perPage+1})," ","to"," ",r.jsx("span",{className:"font-semibold text-default-900",children:Math.min(o.currentPage*o.perPage,m)})," ","of"," ",r.jsx("span",{className:"font-semibold text-default-900",children:m})," ","users"]}),r.jsx(Oa,{total:Math.ceil(m/o.perPage),initialPage:o.currentPage,page:o.currentPage,onChange:c,size:a?"sm":"md",variant:"flat",showControls:!0,radius:pe(),style:{fontFamily:'var(--fontFamily, "Inter")'},classNames:{wrapper:"gap-1",item:"bg-default-100 hover:bg-default-200 text-default-700 font-medium border border-default-200",cursor:"bg-primary text-primary-foreground font-semibold shadow-md",prev:"bg-default-100 hover:bg-default-200 text-default-700 border border-default-200",next:"bg-default-100 hover:bg-default-200 text-default-700 border border-default-200"}})]});return r.jsxs("div",{className:"w-full flex flex-col border rounded-lg shadow-lg",style:{maxHeight:"calc(100vh - 240px)",borderColor:"var(--theme-divider, #E4E4E7)",background:"var(--theme-content1, #FFFFFF)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:[r.jsx("div",{className:"flex-1 overflow-auto",style:{scrollbarWidth:"thin",scrollbarColor:"var(--theme-divider, #E4E4E7) transparent"},children:r.jsxs(Ln,{removeWrapper:!0,selectionMode:"none",isCompact:a,classNames:{base:"min-w-[900px]",wrapper:"p-0 shadow-none",th:"text-default-600 border-b font-semibold text-xs sticky top-0 z-30",td:"border-b py-4 px-3",table:"border-collapse w-full",thead:"sticky top-0 z-30",tbody:"",tr:"hover:bg-default-50 transition-colors duration-150",emptyWrapper:"text-center h-32",loadingWrapper:"h-32"},style:{"--table-border-color":"var(--theme-divider, #E4E4E7)","--table-header-bg":"var(--theme-content2, #F4F4F5)","--table-row-hover":"var(--theme-default-50, #F9FAFB)"},children:[r.jsx(Wn,{columns:T,children:s=>r.jsx(kn,{align:s.uid==="actions"||s.uid==="sl"?"center":"start",width:s.uid==="user"?280:s.uid==="email"?240:s.uid==="phone"?140:s.uid==="department"||s.uid==="device_status"?160:s.uid==="status"?120:s.uid==="roles"?180:s.uid==="actions"?120:void 0,style:{background:"var(--table-header-bg)",borderColor:"var(--table-border-color)",fontFamily:'var(--fontFamily, "Inter")',fontSize:"0.75rem",fontWeight:"600"},children:r.jsxs("div",{className:"flex items-center gap-2 py-1",children:[s.uid==="sl"&&r.jsx(Un,{className:"w-3 h-3 text-default-400"}),s.uid==="user"&&r.jsx(Xe,{className:"w-3 h-3 text-default-400"}),s.uid==="email"&&r.jsx(bt,{className:"w-3 h-3 text-default-400"}),s.uid==="phone"&&r.jsx(pt,{className:"w-3 h-3 text-default-400"}),s.uid==="department"&&r.jsx(Ee,{className:"w-3 h-3 text-default-400"}),s.uid==="device_status"&&r.jsx($e,{className:"w-3 h-3 text-default-400"}),s.uid==="status"&&r.jsx(Ra,{className:"w-3 h-3 text-default-400"}),s.uid==="roles"&&r.jsx(Pe,{className:"w-3 h-3 text-default-400"}),s.uid==="actions"&&r.jsx(jt,{className:"w-3 h-3 text-default-400"}),r.jsx("span",{children:s.name})]})},s.uid)}),r.jsx(Mn,{items:e||[],emptyContent:r.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[r.jsx(Sn,{className:"w-12 h-12 text-default-300 mb-3"}),r.jsx("p",{className:"text-default-500 font-medium",children:"No users found"}),r.jsx("p",{className:"text-default-400 text-sm",children:"Try adjusting your search or filters"})]}),loadingContent:r.jsx("div",{className:"flex justify-center items-center py-8",children:r.jsx(qe,{size:"lg",color:"primary"})}),isLoading:w,children:(s,p)=>{const A=e?e.findIndex(P=>P.id===s.id):p;return r.jsx(zn,{className:"group",style:{background:"var(--theme-content1, #FFFFFF)"},children:P=>r.jsx(Bn,{style:{borderColor:"var(--table-border-color)",fontFamily:'var(--fontFamily, "Inter")',background:"inherit"},children:v(s,P,A)})},s.id)}})]})}),y()]})};var Ua=typeof global=="object"&&global&&global.Object===Object&&global,ls=typeof self=="object"&&self&&self.Object===Object&&self,re=Ua||ls||Function("return this")(),X=re.Symbol,La=Object.prototype,os=La.hasOwnProperty,cs=La.toString,Ce=X?X.toStringTag:void 0;function ds(e){var t=os.call(e,Ce),a=e[Ce];try{e[Ce]=void 0;var n=!0}catch{}var l=cs.call(e);return n&&(t?e[Ce]=a:delete e[Ce]),l}var ms=Object.prototype,us=ms.toString;function fs(e){return us.call(e)}var hs="[object Null]",ps="[object Undefined]",Vr=X?X.toStringTag:void 0;function xe(e){return e==null?e===void 0?ps:hs:Vr&&Vr in Object(e)?ds(e):fs(e)}function ie(e){return e!=null&&typeof e=="object"}var vs="[object Symbol]";function nt(e){return typeof e=="symbol"||ie(e)&&xe(e)==vs}function Ma(e,t){for(var a=-1,n=e==null?0:e.length,l=Array(n);++a<n;)l[a]=t(e[a],a,e);return l}var te=Array.isArray,qr=X?X.prototype:void 0,Kr=qr?qr.toString:void 0;function za(e){if(typeof e=="string")return e;if(te(e))return Ma(e,za)+"";if(nt(e))return Kr?Kr.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var xs=/\s/;function gs(e){for(var t=e.length;t--&&xs.test(e.charAt(t)););return t}var ys=/^\s+/;function bs(e){return e&&e.slice(0,gs(e)+1).replace(ys,"")}function K(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Xr=NaN,js=/^[-+]0x[0-9a-f]+$/i,_s=/^0b[01]+$/i,ws=/^0o[0-7]+$/i,Ns=parseInt;function Zr(e){if(typeof e=="number")return e;if(nt(e))return Xr;if(K(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=K(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=bs(e);var a=_s.test(e);return a||ws.test(e)?Ns(e.slice(2),a?2:8):js.test(e)?Xr:+e}function Ba(e){return e}var Fs="[object AsyncFunction]",Ss="[object Function]",Cs="[object GeneratorFunction]",Is="[object Proxy]";function Rt(e){if(!K(e))return!1;var t=xe(e);return t==Ss||t==Cs||t==Fs||t==Is}var mt=re["__core-js_shared__"],Yr=function(){var e=/[^.]+$/.exec(mt&&mt.keys&&mt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ts(e){return!!Yr&&Yr in e}var Es=Function.prototype,$s=Es.toString;function ge(e){if(e!=null){try{return $s.call(e)}catch{}try{return e+""}catch{}}return""}var Ps=/[\\^$.*+?()[\]{}|]/g,Rs=/^\[object .+?Constructor\]$/,As=Function.prototype,Os=Object.prototype,Ds=As.toString,Us=Os.hasOwnProperty,Ls=RegExp("^"+Ds.call(Us).replace(Ps,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ms(e){if(!K(e)||Ts(e))return!1;var t=Rt(e)?Ls:Rs;return t.test(ge(e))}function zs(e,t){return e==null?void 0:e[t]}function ye(e,t){var a=zs(e,t);return Ms(a)?a:void 0}var _t=ye(re,"WeakMap"),Jr=Object.create,Bs=function(){function e(){}return function(t){if(!K(t))return{};if(Jr)return Jr(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();function Ws(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function Wa(e,t){var a=-1,n=e.length;for(t||(t=Array(n));++a<n;)t[a]=e[a];return t}var ks=800,Gs=16,Hs=Date.now;function Vs(e){var t=0,a=0;return function(){var n=Hs(),l=Gs-(n-a);if(a=n,l>0){if(++t>=ks)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function qs(e){return function(){return e}}var Je=function(){try{var e=ye(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ks=Je?function(e,t){return Je(e,"toString",{configurable:!0,enumerable:!1,value:qs(t),writable:!0})}:Ba,ka=Vs(Ks);function Xs(e,t){for(var a=-1,n=e==null?0:e.length;++a<n&&t(e[a],a,e)!==!1;);return e}var Zs=9007199254740991,Ys=/^(?:0|[1-9]\d*)$/;function At(e,t){var a=typeof e;return t=t??Zs,!!t&&(a=="number"||a!="symbol"&&Ys.test(e))&&e>-1&&e%1==0&&e<t}function Ot(e,t,a){t=="__proto__"&&Je?Je(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function Me(e,t){return e===t||e!==e&&t!==t}var Js=Object.prototype,Qs=Js.hasOwnProperty;function Dt(e,t,a){var n=e[t];(!(Qs.call(e,t)&&Me(n,a))||a===void 0&&!(t in e))&&Ot(e,t,a)}function Se(e,t,a,n){var l=!a;a||(a={});for(var o=-1,c=t.length;++o<c;){var u=t[o],m=void 0;m===void 0&&(m=e[u]),l?Ot(a,u,m):Dt(a,u,m)}return a}var Qr=Math.max;function Ga(e,t,a){return t=Qr(t===void 0?e.length-1:t,0),function(){for(var n=arguments,l=-1,o=Qr(n.length-t,0),c=Array(o);++l<o;)c[l]=n[t+l];l=-1;for(var u=Array(t+1);++l<t;)u[l]=n[l];return u[t]=a(c),Ws(e,this,u)}}function ei(e,t){return ka(Ga(e,t,Ba),e+"")}var ti=9007199254740991;function Ha(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ti}function st(e){return e!=null&&Ha(e.length)&&!Rt(e)}function ri(e,t,a){if(!K(a))return!1;var n=typeof t;return(n=="number"?st(a)&&At(t,a.length):n=="string"&&t in a)?Me(a[t],e):!1}function ai(e){return ei(function(t,a){var n=-1,l=a.length,o=l>1?a[l-1]:void 0,c=l>2?a[2]:void 0;for(o=e.length>3&&typeof o=="function"?(l--,o):void 0,c&&ri(a[0],a[1],c)&&(o=l<3?void 0:o,l=1),t=Object(t);++n<l;){var u=a[n];u&&e(t,u,n,o)}return t})}var ni=Object.prototype;function Ut(e){var t=e&&e.constructor,a=typeof t=="function"&&t.prototype||ni;return e===a}function si(e,t){for(var a=-1,n=Array(e);++a<e;)n[a]=t(a);return n}var ii="[object Arguments]";function ea(e){return ie(e)&&xe(e)==ii}var Va=Object.prototype,li=Va.hasOwnProperty,oi=Va.propertyIsEnumerable,Qe=ea(function(){return arguments}())?ea:function(e){return ie(e)&&li.call(e,"callee")&&!oi.call(e,"callee")};function ci(){return!1}var qa=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ta=qa&&typeof module=="object"&&module&&!module.nodeType&&module,di=ta&&ta.exports===qa,ra=di?re.Buffer:void 0,mi=ra?ra.isBuffer:void 0,Oe=mi||ci,ui="[object Arguments]",fi="[object Array]",hi="[object Boolean]",pi="[object Date]",vi="[object Error]",xi="[object Function]",gi="[object Map]",yi="[object Number]",bi="[object Object]",ji="[object RegExp]",_i="[object Set]",wi="[object String]",Ni="[object WeakMap]",Fi="[object ArrayBuffer]",Si="[object DataView]",Ci="[object Float32Array]",Ii="[object Float64Array]",Ti="[object Int8Array]",Ei="[object Int16Array]",$i="[object Int32Array]",Pi="[object Uint8Array]",Ri="[object Uint8ClampedArray]",Ai="[object Uint16Array]",Oi="[object Uint32Array]",M={};M[Ci]=M[Ii]=M[Ti]=M[Ei]=M[$i]=M[Pi]=M[Ri]=M[Ai]=M[Oi]=!0;M[ui]=M[fi]=M[Fi]=M[hi]=M[Si]=M[pi]=M[vi]=M[xi]=M[gi]=M[yi]=M[bi]=M[ji]=M[_i]=M[wi]=M[Ni]=!1;function Di(e){return ie(e)&&Ha(e.length)&&!!M[xe(e)]}function Lt(e){return function(t){return e(t)}}var Ka=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Re=Ka&&typeof module=="object"&&module&&!module.nodeType&&module,Ui=Re&&Re.exports===Ka,ut=Ui&&Ua.process,Fe=function(){try{var e=Re&&Re.require&&Re.require("util").types;return e||ut&&ut.binding&&ut.binding("util")}catch{}}(),aa=Fe&&Fe.isTypedArray,Mt=aa?Lt(aa):Di,Li=Object.prototype,Mi=Li.hasOwnProperty;function Xa(e,t){var a=te(e),n=!a&&Qe(e),l=!a&&!n&&Oe(e),o=!a&&!n&&!l&&Mt(e),c=a||n||l||o,u=c?si(e.length,String):[],m=u.length;for(var b in e)(t||Mi.call(e,b))&&!(c&&(b=="length"||l&&(b=="offset"||b=="parent")||o&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||At(b,m)))&&u.push(b);return u}function Za(e,t){return function(a){return e(t(a))}}var zi=Za(Object.keys,Object),Bi=Object.prototype,Wi=Bi.hasOwnProperty;function ki(e){if(!Ut(e))return zi(e);var t=[];for(var a in Object(e))Wi.call(e,a)&&a!="constructor"&&t.push(a);return t}function zt(e){return st(e)?Xa(e):ki(e)}function Gi(e){var t=[];if(e!=null)for(var a in Object(e))t.push(a);return t}var Hi=Object.prototype,Vi=Hi.hasOwnProperty;function qi(e){if(!K(e))return Gi(e);var t=Ut(e),a=[];for(var n in e)n=="constructor"&&(t||!Vi.call(e,n))||a.push(n);return a}function ze(e){return st(e)?Xa(e,!0):qi(e)}var Ki=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xi=/^\w*$/;function Zi(e,t){if(te(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||nt(e)?!0:Xi.test(e)||!Ki.test(e)||t!=null&&e in Object(t)}var De=ye(Object,"create");function Yi(){this.__data__=De?De(null):{},this.size=0}function Ji(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Qi="__lodash_hash_undefined__",el=Object.prototype,tl=el.hasOwnProperty;function rl(e){var t=this.__data__;if(De){var a=t[e];return a===Qi?void 0:a}return tl.call(t,e)?t[e]:void 0}var al=Object.prototype,nl=al.hasOwnProperty;function sl(e){var t=this.__data__;return De?t[e]!==void 0:nl.call(t,e)}var il="__lodash_hash_undefined__";function ll(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=De&&t===void 0?il:t,this}function ve(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}ve.prototype.clear=Yi;ve.prototype.delete=Ji;ve.prototype.get=rl;ve.prototype.has=sl;ve.prototype.set=ll;function ol(){this.__data__=[],this.size=0}function it(e,t){for(var a=e.length;a--;)if(Me(e[a][0],t))return a;return-1}var cl=Array.prototype,dl=cl.splice;function ml(e){var t=this.__data__,a=it(t,e);if(a<0)return!1;var n=t.length-1;return a==n?t.pop():dl.call(t,a,1),--this.size,!0}function ul(e){var t=this.__data__,a=it(t,e);return a<0?void 0:t[a][1]}function fl(e){return it(this.__data__,e)>-1}function hl(e,t){var a=this.__data__,n=it(a,e);return n<0?(++this.size,a.push([e,t])):a[n][1]=t,this}function me(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}me.prototype.clear=ol;me.prototype.delete=ml;me.prototype.get=ul;me.prototype.has=fl;me.prototype.set=hl;var Ue=ye(re,"Map");function pl(){this.size=0,this.__data__={hash:new ve,map:new(Ue||me),string:new ve}}function vl(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function lt(e,t){var a=e.__data__;return vl(t)?a[typeof t=="string"?"string":"hash"]:a.map}function xl(e){var t=lt(this,e).delete(e);return this.size-=t?1:0,t}function gl(e){return lt(this,e).get(e)}function yl(e){return lt(this,e).has(e)}function bl(e,t){var a=lt(this,e),n=a.size;return a.set(e,t),this.size+=a.size==n?0:1,this}function ue(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}ue.prototype.clear=pl;ue.prototype.delete=xl;ue.prototype.get=gl;ue.prototype.has=yl;ue.prototype.set=bl;var jl="Expected a function";function Bt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(jl);var a=function(){var n=arguments,l=t?t.apply(this,n):n[0],o=a.cache;if(o.has(l))return o.get(l);var c=e.apply(this,n);return a.cache=o.set(l,c)||o,c};return a.cache=new(Bt.Cache||ue),a}Bt.Cache=ue;var _l=500;function wl(e){var t=Bt(e,function(n){return a.size===_l&&a.clear(),n}),a=t.cache;return t}var Nl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fl=/\\(\\)?/g,Sl=wl(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Nl,function(a,n,l,o){t.push(l?o.replace(Fl,"$1"):n||a)}),t});function Cl(e){return e==null?"":za(e)}function ot(e,t){return te(e)?e:Zi(e,t)?[e]:Sl(Cl(e))}function Wt(e){if(typeof e=="string"||nt(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Ya(e,t){t=ot(t,e);for(var a=0,n=t.length;e!=null&&a<n;)e=e[Wt(t[a++])];return a&&a==n?e:void 0}function et(e,t,a){var n=e==null?void 0:Ya(e,t);return n===void 0?a:n}function kt(e,t){for(var a=-1,n=t.length,l=e.length;++a<n;)e[l+a]=t[a];return e}var na=X?X.isConcatSpreadable:void 0;function Il(e){return te(e)||Qe(e)||!!(na&&e&&e[na])}function Tl(e,t,a,n,l){var o=-1,c=e.length;for(a||(a=Il),l||(l=[]);++o<c;){var u=e[o];a(u)?kt(l,u):l[l.length]=u}return l}function El(e){var t=e==null?0:e.length;return t?Tl(e):[]}function $l(e){return ka(Ga(e,void 0,El),e+"")}var Gt=Za(Object.getPrototypeOf,Object),Pl="[object Object]",Rl=Function.prototype,Al=Object.prototype,Ja=Rl.toString,Ol=Al.hasOwnProperty,Dl=Ja.call(Object);function Qa(e){if(!ie(e)||xe(e)!=Pl)return!1;var t=Gt(e);if(t===null)return!0;var a=Ol.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&Ja.call(a)==Dl}function Ul(e,t,a){var n=-1,l=e.length;t<0&&(t=-t>l?0:l+t),a=a>l?l:a,a<0&&(a+=l),l=t>a?0:a-t>>>0,t>>>=0;for(var o=Array(l);++n<l;)o[n]=e[n+t];return o}function Ll(){this.__data__=new me,this.size=0}function Ml(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}function zl(e){return this.__data__.get(e)}function Bl(e){return this.__data__.has(e)}var Wl=200;function kl(e,t){var a=this.__data__;if(a instanceof me){var n=a.__data__;if(!Ue||n.length<Wl-1)return n.push([e,t]),this.size=++a.size,this;a=this.__data__=new ue(n)}return a.set(e,t),this.size=a.size,this}function se(e){var t=this.__data__=new me(e);this.size=t.size}se.prototype.clear=Ll;se.prototype.delete=Ml;se.prototype.get=zl;se.prototype.has=Bl;se.prototype.set=kl;function Gl(e,t){return e&&Se(t,zt(t),e)}function Hl(e,t){return e&&Se(t,ze(t),e)}var en=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sa=en&&typeof module=="object"&&module&&!module.nodeType&&module,Vl=sa&&sa.exports===en,ia=Vl?re.Buffer:void 0,la=ia?ia.allocUnsafe:void 0;function tn(e,t){if(t)return e.slice();var a=e.length,n=la?la(a):new e.constructor(a);return e.copy(n),n}function ql(e,t){for(var a=-1,n=e==null?0:e.length,l=0,o=[];++a<n;){var c=e[a];t(c,a,e)&&(o[l++]=c)}return o}function rn(){return[]}var Kl=Object.prototype,Xl=Kl.propertyIsEnumerable,oa=Object.getOwnPropertySymbols,Ht=oa?function(e){return e==null?[]:(e=Object(e),ql(oa(e),function(t){return Xl.call(e,t)}))}:rn;function Zl(e,t){return Se(e,Ht(e),t)}var Yl=Object.getOwnPropertySymbols,an=Yl?function(e){for(var t=[];e;)kt(t,Ht(e)),e=Gt(e);return t}:rn;function Jl(e,t){return Se(e,an(e),t)}function nn(e,t,a){var n=t(e);return te(e)?n:kt(n,a(e))}function wt(e){return nn(e,zt,Ht)}function sn(e){return nn(e,ze,an)}var Nt=ye(re,"DataView"),Ft=ye(re,"Promise"),St=ye(re,"Set"),ca="[object Map]",Ql="[object Object]",da="[object Promise]",ma="[object Set]",ua="[object WeakMap]",fa="[object DataView]",eo=ge(Nt),to=ge(Ue),ro=ge(Ft),ao=ge(St),no=ge(_t),ee=xe;(Nt&&ee(new Nt(new ArrayBuffer(1)))!=fa||Ue&&ee(new Ue)!=ca||Ft&&ee(Ft.resolve())!=da||St&&ee(new St)!=ma||_t&&ee(new _t)!=ua)&&(ee=function(e){var t=xe(e),a=t==Ql?e.constructor:void 0,n=a?ge(a):"";if(n)switch(n){case eo:return fa;case to:return ca;case ro:return da;case ao:return ma;case no:return ua}return t});var so=Object.prototype,io=so.hasOwnProperty;function lo(e){var t=e.length,a=new e.constructor(t);return t&&typeof e[0]=="string"&&io.call(e,"index")&&(a.index=e.index,a.input=e.input),a}var tt=re.Uint8Array;function Vt(e){var t=new e.constructor(e.byteLength);return new tt(t).set(new tt(e)),t}function oo(e,t){var a=t?Vt(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}var co=/\w*$/;function mo(e){var t=new e.constructor(e.source,co.exec(e));return t.lastIndex=e.lastIndex,t}var ha=X?X.prototype:void 0,pa=ha?ha.valueOf:void 0;function uo(e){return pa?Object(pa.call(e)):{}}function ln(e,t){var a=t?Vt(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}var fo="[object Boolean]",ho="[object Date]",po="[object Map]",vo="[object Number]",xo="[object RegExp]",go="[object Set]",yo="[object String]",bo="[object Symbol]",jo="[object ArrayBuffer]",_o="[object DataView]",wo="[object Float32Array]",No="[object Float64Array]",Fo="[object Int8Array]",So="[object Int16Array]",Co="[object Int32Array]",Io="[object Uint8Array]",To="[object Uint8ClampedArray]",Eo="[object Uint16Array]",$o="[object Uint32Array]";function Po(e,t,a){var n=e.constructor;switch(t){case jo:return Vt(e);case fo:case ho:return new n(+e);case _o:return oo(e,a);case wo:case No:case Fo:case So:case Co:case Io:case To:case Eo:case $o:return ln(e,a);case po:return new n;case vo:case yo:return new n(e);case xo:return mo(e);case go:return new n;case bo:return uo(e)}}function on(e){return typeof e.constructor=="function"&&!Ut(e)?Bs(Gt(e)):{}}var Ro="[object Map]";function Ao(e){return ie(e)&&ee(e)==Ro}var va=Fe&&Fe.isMap,Oo=va?Lt(va):Ao,Do="[object Set]";function Uo(e){return ie(e)&&ee(e)==Do}var xa=Fe&&Fe.isSet,Lo=xa?Lt(xa):Uo,Mo=1,zo=2,Bo=4,cn="[object Arguments]",Wo="[object Array]",ko="[object Boolean]",Go="[object Date]",Ho="[object Error]",dn="[object Function]",Vo="[object GeneratorFunction]",qo="[object Map]",Ko="[object Number]",mn="[object Object]",Xo="[object RegExp]",Zo="[object Set]",Yo="[object String]",Jo="[object Symbol]",Qo="[object WeakMap]",ec="[object ArrayBuffer]",tc="[object DataView]",rc="[object Float32Array]",ac="[object Float64Array]",nc="[object Int8Array]",sc="[object Int16Array]",ic="[object Int32Array]",lc="[object Uint8Array]",oc="[object Uint8ClampedArray]",cc="[object Uint16Array]",dc="[object Uint32Array]",L={};L[cn]=L[Wo]=L[ec]=L[tc]=L[ko]=L[Go]=L[rc]=L[ac]=L[nc]=L[sc]=L[ic]=L[qo]=L[Ko]=L[mn]=L[Xo]=L[Zo]=L[Yo]=L[Jo]=L[lc]=L[oc]=L[cc]=L[dc]=!0;L[Ho]=L[dn]=L[Qo]=!1;function Ae(e,t,a,n,l,o){var c,u=t&Mo,m=t&zo,b=t&Bo;if(a&&(c=l?a(e,n,l,o):a(e)),c!==void 0)return c;if(!K(e))return e;var w=te(e);if(w){if(c=lo(e),!u)return Wa(e,c)}else{var N=ee(e),F=N==dn||N==Vo;if(Oe(e))return tn(e,u);if(N==mn||N==cn||F&&!l){if(c=m||F?{}:on(e),!u)return m?Jl(e,Hl(c,e)):Zl(e,Gl(c,e))}else{if(!L[N])return l?e:{};c=Po(e,N,u)}}o||(o=new se);var I=o.get(e);if(I)return I;o.set(e,c),Lo(e)?e.forEach(function(D){c.add(Ae(D,t,a,D,e,o))}):Oo(e)&&e.forEach(function(D,R){c.set(R,Ae(D,t,a,R,e,o))});var $=b?m?sn:wt:m?ze:zt,O=w?void 0:$(e);return Xs(O||e,function(D,R){O&&(R=D,D=e[R]),Dt(c,R,Ae(D,t,a,R,e,o))}),c}var mc=1,uc=4;function He(e){return Ae(e,mc|uc)}var fc="__lodash_hash_undefined__";function hc(e){return this.__data__.set(e,fc),this}function pc(e){return this.__data__.has(e)}function rt(e){var t=-1,a=e==null?0:e.length;for(this.__data__=new ue;++t<a;)this.add(e[t])}rt.prototype.add=rt.prototype.push=hc;rt.prototype.has=pc;function vc(e,t){for(var a=-1,n=e==null?0:e.length;++a<n;)if(t(e[a],a,e))return!0;return!1}function xc(e,t){return e.has(t)}var gc=1,yc=2;function un(e,t,a,n,l,o){var c=a&gc,u=e.length,m=t.length;if(u!=m&&!(c&&m>u))return!1;var b=o.get(e),w=o.get(t);if(b&&w)return b==t&&w==e;var N=-1,F=!0,I=a&yc?new rt:void 0;for(o.set(e,t),o.set(t,e);++N<u;){var $=e[N],O=t[N];if(n)var D=c?n(O,$,N,t,e,o):n($,O,N,e,t,o);if(D!==void 0){if(D)continue;F=!1;break}if(I){if(!vc(t,function(R,B){if(!xc(I,B)&&($===R||l($,R,a,n,o)))return I.push(B)})){F=!1;break}}else if(!($===O||l($,O,a,n,o))){F=!1;break}}return o.delete(e),o.delete(t),F}function bc(e){var t=-1,a=Array(e.size);return e.forEach(function(n,l){a[++t]=[l,n]}),a}function jc(e){var t=-1,a=Array(e.size);return e.forEach(function(n){a[++t]=n}),a}var _c=1,wc=2,Nc="[object Boolean]",Fc="[object Date]",Sc="[object Error]",Cc="[object Map]",Ic="[object Number]",Tc="[object RegExp]",Ec="[object Set]",$c="[object String]",Pc="[object Symbol]",Rc="[object ArrayBuffer]",Ac="[object DataView]",ga=X?X.prototype:void 0,ft=ga?ga.valueOf:void 0;function Oc(e,t,a,n,l,o,c){switch(a){case Ac:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Rc:return!(e.byteLength!=t.byteLength||!o(new tt(e),new tt(t)));case Nc:case Fc:case Ic:return Me(+e,+t);case Sc:return e.name==t.name&&e.message==t.message;case Tc:case $c:return e==t+"";case Cc:var u=bc;case Ec:var m=n&_c;if(u||(u=jc),e.size!=t.size&&!m)return!1;var b=c.get(e);if(b)return b==t;n|=wc,c.set(e,t);var w=un(u(e),u(t),n,l,o,c);return c.delete(e),w;case Pc:if(ft)return ft.call(e)==ft.call(t)}return!1}var Dc=1,Uc=Object.prototype,Lc=Uc.hasOwnProperty;function Mc(e,t,a,n,l,o){var c=a&Dc,u=wt(e),m=u.length,b=wt(t),w=b.length;if(m!=w&&!c)return!1;for(var N=m;N--;){var F=u[N];if(!(c?F in t:Lc.call(t,F)))return!1}var I=o.get(e),$=o.get(t);if(I&&$)return I==t&&$==e;var O=!0;o.set(e,t),o.set(t,e);for(var D=c;++N<m;){F=u[N];var R=e[F],B=t[F];if(n)var f=c?n(B,R,F,t,e,o):n(R,B,F,e,t,o);if(!(f===void 0?R===B||l(R,B,a,n,o):f)){O=!1;break}D||(D=F=="constructor")}if(O&&!D){var z=e.constructor,E=t.constructor;z!=E&&"constructor"in e&&"constructor"in t&&!(typeof z=="function"&&z instanceof z&&typeof E=="function"&&E instanceof E)&&(O=!1)}return o.delete(e),o.delete(t),O}var zc=1,ya="[object Arguments]",ba="[object Array]",Ve="[object Object]",Bc=Object.prototype,ja=Bc.hasOwnProperty;function Wc(e,t,a,n,l,o){var c=te(e),u=te(t),m=c?ba:ee(e),b=u?ba:ee(t);m=m==ya?Ve:m,b=b==ya?Ve:b;var w=m==Ve,N=b==Ve,F=m==b;if(F&&Oe(e)){if(!Oe(t))return!1;c=!0,w=!1}if(F&&!w)return o||(o=new se),c||Mt(e)?un(e,t,a,n,l,o):Oc(e,t,m,a,n,l,o);if(!(a&zc)){var I=w&&ja.call(e,"__wrapped__"),$=N&&ja.call(t,"__wrapped__");if(I||$){var O=I?e.value():e,D=$?t.value():t;return o||(o=new se),l(O,D,a,n,o)}}return F?(o||(o=new se),Mc(e,t,a,n,l,o)):!1}function fn(e,t,a,n,l){return e===t?!0:e==null||t==null||!ie(e)&&!ie(t)?e!==e&&t!==t:Wc(e,t,a,n,fn,l)}function kc(e){return function(t,a,n){for(var l=-1,o=Object(t),c=n(t),u=c.length;u--;){var m=c[++l];if(a(o[m],m,o)===!1)break}return t}}var Gc=kc(),ht=function(){return re.Date.now()},Hc="Expected a function",Vc=Math.max,qc=Math.min;function Kc(e,t,a){var n,l,o,c,u,m,b=0,w=!1,N=!1,F=!0;if(typeof e!="function")throw new TypeError(Hc);t=Zr(t)||0,K(a)&&(w=!0,N="maxWait"in a,o=N?Vc(Zr(a.maxWait)||0,t):o,F="trailing"in a?!0:F);function I(C){var j=n,g=l;return n=l=void 0,b=C,c=e.apply(g,j),c}function $(C){return b=C,u=setTimeout(R,t),w?I(C):c}function O(C){var j=C-m,g=C-b,T=t-j;return N?qc(T,o-g):T}function D(C){var j=C-m,g=C-b;return m===void 0||j>=t||j<0||N&&g>=o}function R(){var C=ht();if(D(C))return B(C);u=setTimeout(R,O(C))}function B(C){return u=void 0,F&&n?I(C):(n=l=void 0,c)}function f(){u!==void 0&&clearTimeout(u),b=0,n=m=l=u=void 0}function z(){return u===void 0?c:B(ht())}function E(){var C=ht(),j=D(C);if(n=arguments,l=this,m=C,j){if(u===void 0)return $(m);if(N)return clearTimeout(u),u=setTimeout(R,t),I(m)}return u===void 0&&(u=setTimeout(R,t)),c}return E.cancel=f,E.flush=z,E}function Ct(e,t,a){(a!==void 0&&!Me(e[t],a)||a===void 0&&!(t in e))&&Ot(e,t,a)}function Xc(e){return ie(e)&&st(e)}function It(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Zc(e){return Se(e,ze(e))}function Yc(e,t,a,n,l,o,c){var u=It(e,a),m=It(t,a),b=c.get(m);if(b){Ct(e,a,b);return}var w=o?o(u,m,a+"",e,t,c):void 0,N=w===void 0;if(N){var F=te(m),I=!F&&Oe(m),$=!F&&!I&&Mt(m);w=m,F||I||$?te(u)?w=u:Xc(u)?w=Wa(u):I?(N=!1,w=tn(m,!0)):$?(N=!1,w=ln(m,!0)):w=[]:Qa(m)||Qe(m)?(w=u,Qe(u)?w=Zc(u):(!K(u)||Rt(u))&&(w=on(m))):N=!1}N&&(c.set(m,w),l(w,m,n,o,c),c.delete(m)),Ct(e,a,w)}function hn(e,t,a,n,l){e!==t&&Gc(t,function(o,c){if(l||(l=new se),K(o))Yc(e,t,c,a,hn,n,l);else{var u=n?n(It(e,c),o,c+"",e,t,l):void 0;u===void 0&&(u=o),Ct(e,c,u)}},ze)}function Jc(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function Qc(e,t){return t.length<2?e:Ya(e,Ul(t,0,-1))}function ed(e,t){return fn(e,t)}var Tt=ai(function(e,t,a){hn(e,t,a)});function td(e,t){return t=ot(t,e),e=Qc(e,t),e==null||delete e[Wt(Jc(t))]}function rd(e){return Qa(e)?void 0:e}var ad=1,nd=2,sd=4,_a=$l(function(e,t){var a={};if(e==null)return a;var n=!1;t=Ma(t,function(o){return o=ot(o,e),n||(n=o.length>1),o}),Se(e,sn(e),a),n&&(a=Ae(a,ad|nd|sd,rd));for(var l=t.length;l--;)td(a,t[l]);return a});function id(e,t,a,n){if(!K(e))return e;t=ot(t,e);for(var l=-1,o=t.length,c=o-1,u=e;u!=null&&++l<o;){var m=Wt(t[l]),b=a;if(m==="__proto__"||m==="constructor"||m==="prototype")return e;if(l!=c){var w=u[m];b=void 0,b===void 0&&(b=K(w)?w:At(t[l+1])?[]:{})}Dt(u,m,b),u=u[m]}return e}function Et(e,t,a){return e==null?e:id(e,t,a)}let Le=we.create(),pn=(e,t)=>`${e.method}:${e.baseURL??t.defaults.baseURL??""}${e.url}`,vn=e=>e.status===204&&e.headers["precognition-success"]==="true";const at={},de={get:(e,t={},a={})=>Te(Ie("get",e,t,a)),post:(e,t={},a={})=>Te(Ie("post",e,t,a)),patch:(e,t={},a={})=>Te(Ie("patch",e,t,a)),put:(e,t={},a={})=>Te(Ie("put",e,t,a)),delete:(e,t={},a={})=>Te(Ie("delete",e,t,a)),use(e){return Le=e,de},axios(){return Le},fingerprintRequestsUsing(e){return pn=e===null?()=>null:e,de},determineSuccessUsing(e){return vn=e,de}},Ie=(e,t,a,n)=>({url:t,method:e,...n,...["get","delete"].includes(e)?{params:Tt({},a,n==null?void 0:n.params)}:{data:Tt({},a,n==null?void 0:n.data)}}),Te=(e={})=>{const t=[ld,cd,dd].reduce((a,n)=>n(a),e);return(t.onBefore??(()=>!0))()===!1?Promise.resolve(null):((t.onStart??(()=>null))(),Le.request(t).then(async a=>{t.precognitive&&wa(a);const n=a.status;let l=a;return t.precognitive&&t.onPrecognitionSuccess&&vn(l)&&(l=await Promise.resolve(t.onPrecognitionSuccess(l)??l)),t.onSuccess&&od(n)&&(l=await Promise.resolve(t.onSuccess(l)??l)),(Na(t,n)??(c=>c))(l)??l},a=>md(a)?Promise.reject(a):(t.precognitive&&wa(a.response),(Na(t,a.response.status)??((l,o)=>Promise.reject(o)))(a.response,a))).finally(t.onFinish??(()=>null)))},ld=e=>{const t=e.only??e.validate;return{...e,timeout:e.timeout??Le.defaults.timeout??3e4,precognitive:e.precognitive!==!1,fingerprint:typeof e.fingerprint>"u"?pn(e,Le):e.fingerprint,headers:{...e.headers,"Content-Type":ud(e),...e.precognitive!==!1?{Precognition:!0}:{},...t?{"Precognition-Validate-Only":Array.from(t).join()}:{}}}},od=e=>e>=200&&e<300,cd=e=>{var t;return typeof e.fingerprint!="string"||((t=at[e.fingerprint])==null||t.abort(),delete at[e.fingerprint]),e},dd=e=>typeof e.fingerprint!="string"||e.signal||e.cancelToken||!e.precognitive?e:(at[e.fingerprint]=new AbortController,{...e,signal:at[e.fingerprint].signal}),wa=e=>{var t;if(((t=e.headers)==null?void 0:t.precognition)!=="true")throw Error("Did not receive a Precognition response. Ensure you have the Precognition middleware in place for the route.")},md=e=>{var t;return!Ta(e)||typeof((t=e.response)==null?void 0:t.status)!="number"||Ia(e)},Na=(e,t)=>({401:e.onUnauthorized,403:e.onForbidden,404:e.onNotFound,409:e.onConflict,422:e.onValidationError,423:e.onLocked})[t],ud=e=>{var t,a,n;return((t=e.headers)==null?void 0:t["Content-Type"])??((a=e.headers)==null?void 0:a["Content-type"])??((n=e.headers)==null?void 0:n["content-type"])??(xn(e.data)?"multipart/form-data":"application/json")},xn=e=>qt(e)||typeof e=="object"&&e!==null&&Object.values(e).some(t=>xn(t)),qt=e=>typeof File<"u"&&e instanceof File||e instanceof Blob||typeof FileList<"u"&&e instanceof FileList&&e.length>0,Fa=e=>typeof e=="string"?e:e(),Sa=e=>typeof e=="string"?e.toLowerCase():e(),fd=(e,t={})=>{const a={errorsChanged:[],touchedChanged:[],validatingChanged:[],validatedChanged:[]};let n=!1,l=!1;const o=v=>v!==l?(l=v,a.validatingChanged):[];let c=[];const u=v=>{const y=[...new Set(v)];return c.length!==y.length||!y.every(s=>c.includes(s))?(c=y,a.validatedChanged):[]},m=()=>c.filter(v=>typeof N[v]>"u");let b=[];const w=v=>{const y=[...new Set(v)];return b.length!==y.length||!y.every(s=>b.includes(s))?(b=y,a.touchedChanged):[]};let N={};const F=v=>{const y=pd(v);return ed(N,y)?[]:(N=y,a.errorsChanged)},I=v=>{const y={...N};return delete y[Ke(v)],F(y)},$=()=>Object.keys(N).length>0;let O=1500;const D=v=>{O=v,C.cancel(),C=E()};let R=t,B=null,f=[],z=null;const E=()=>Kc(v=>{e({get:(y,s={},p={})=>de.get(y,T(s),j(p,v,s)),post:(y,s={},p={})=>de.post(y,T(s),j(p,v,s)),patch:(y,s={},p={})=>de.patch(y,T(s),j(p,v,s)),put:(y,s={},p={})=>de.put(y,T(s),j(p,v,s)),delete:(y,s={},p={})=>de.delete(y,T(s),j(p,v,s))}).catch(y=>{var s;return Ia(y)||Ta(y)&&((s=y.response)==null?void 0:s.status)===422?null:Promise.reject(y)})},O,{leading:!0,trailing:!0});let C=E();const j=(v,y,s={})=>{const p={...v,...y},A=Array.from(p.only??p.validate??b);return{...y,...Nn(v,y),only:A,timeout:p.timeout??5e3,onValidationError:(P,k)=>([...u([...c,...A]),...F(Tt(_a({...N},A),P.data.errors))].forEach(d=>d()),p.onValidationError?p.onValidationError(P,k):Promise.reject(k)),onSuccess:P=>(u([...c,...A]).forEach(k=>k()),p.onSuccess?p.onSuccess(P):P),onPrecognitionSuccess:P=>([...u([...c,...A]),...F(_a({...N},A))].forEach(k=>k()),p.onPrecognitionSuccess?p.onPrecognitionSuccess(P):P),onBefore:()=>p.onBeforeValidation&&p.onBeforeValidation({data:s,touched:b},{data:R,touched:f})===!1||(p.onBefore||(()=>!0))()===!1?!1:(z=b,B=s,!0),onStart:()=>{o(!0).forEach(P=>P()),(p.onStart??(()=>null))()},onFinish:()=>{o(!1).forEach(P=>P()),f=z,R=B,z=B=null,(p.onFinish??(()=>null))()}}},g=(v,y,s)=>{if(typeof v>"u"){const p=Array.from((s==null?void 0:s.only)??(s==null?void 0:s.validate)??[]);w([...b,...p]).forEach(A=>A()),C(s??{});return}if(qt(y)&&!n){console.warn('Precognition file validation is not active. Call the "validateFiles" function on your form to enable it.');return}v=Ke(v),et(R,v)!==y&&(w([v,...b]).forEach(p=>p()),C(s??{}))},T=v=>n===!1?$t(v):v,h={touched:()=>b,validate(v,y,s){return typeof v=="object"&&!("target"in v)&&(s=v,v=y=void 0),g(v,y,s),h},touch(v){const y=Array.isArray(v)?v:[Ke(v)];return w([...b,...y]).forEach(s=>s()),h},validating:()=>l,valid:m,errors:()=>N,hasErrors:$,setErrors(v){return F(v).forEach(y=>y()),h},forgetError(v){return I(v).forEach(y=>y()),h},reset(...v){if(v.length===0)w([]).forEach(y=>y());else{const y=[...b];v.forEach(s=>{y.includes(s)&&y.splice(y.indexOf(s),1),Et(R,s,et(t,s))}),w(y).forEach(s=>s())}return h},setTimeout(v){return D(v),h},on(v,y){return a[v].push(y),h},validateFiles(){return n=!0,h}};return h},hd=e=>Object.keys(e).reduce((t,a)=>({...t,[a]:Array.isArray(e[a])?e[a][0]:e[a]}),{}),pd=e=>Object.keys(e).reduce((t,a)=>({...t,[a]:typeof e[a]=="string"?[e[a]]:e[a]}),{}),Ke=e=>typeof e!="string"?e.target.name:e,$t=e=>{const t={...e};return Object.keys(t).forEach(a=>{const n=t[a];if(n!==null){if(qt(n)){delete t[a];return}if(Array.isArray(n)){t[a]=Object.values($t({...n}));return}if(typeof n=="object"){t[a]=$t(t[a]);return}}}),t},vd=(e,t,a,n={})=>{const l=_.useRef(null);l.current===null&&(l.current=He(a));const o=_.useRef(null);o.current===null&&(o.current=Object.keys(l));const c=_.useRef(l.current),[u,m]=_.useState([]),[b,w]=_.useState([]),[N,F]=_.useState(!1),[I,$]=_.useState(!1),[O,D]=_.useState({}),[R,B]=_.useState(!1),[f,z]=_.useState(()=>He(l.current)),E=_.useRef(null);E.current===null&&(E.current=fd(g=>g[Sa(e)](Fa(t),c.current,n),a).on("validatingChanged",()=>{F(E.current.validating())}).on("validatedChanged",()=>{m(E.current.valid())}).on("touchedChanged",()=>{w(E.current.touched())}).on("errorsChanged",()=>{B(E.current.hasErrors()),D(hd(E.current.errors())),m(E.current.valid())}));const C=g=>({...g,precognitive:!1,onStart:()=>{$(!0),(g.onStart??(()=>null))()},onFinish:()=>{$(!1),(g.onFinish??(()=>null))()},onValidationError:(T,h)=>(E.current.setErrors(T.data.errors),g.onValidationError?g.onValidationError(T):Promise.reject(h))}),j={data:f,setData(g,T){if(typeof g=="object")c.current=g,z(g);else{const h=He(c.current);c.current=Et(h,g,T),z(c.current)}return j},touched(g){return typeof g=="string"?b.includes(g):b.length>0},touch(g){return E.current.touch(g),j},validate(g,T){return typeof g=="object"&&!("target"in g)&&(T=g,g=void 0),typeof g>"u"?E.current.validate(T):(g=Ke(g),E.current.validate(g,et(c.current,g),T)),j},validating:N,valid(g){return u.includes(g)},invalid(g){return typeof O[g]<"u"},errors:O,hasErrors:R,setErrors(g){return E.current.setErrors(g),j},forgetError(g){return E.current.forgetError(g),j},reset(...g){const T=He(l.current);return g.length===0?(c.current=T,z(T)):(g.forEach(h=>Et(c.current,h,et(T,h))),z(c.current)),E.current.reset(...g),j},setValidationTimeout(g){return E.current.setTimeout(g),j},processing:I,async submit(g={}){return de[Sa(e)](Fa(t),c.current,C(g))},validateFiles(){return E.current.validateFiles(),j},validator(){return E.current}};return j},Ca=({user:e,allUsers:t,departments:a,designations:n,setUsers:l,open:o,closeModal:c,editMode:u=!1})=>{const m=()=>{var y;if(typeof window>"u")return"lg";const h=((y=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:y.trim())||"12px",v=parseInt(h);return v===0?"none":v<=4?"sm":v<=8?"md":v<=16?"lg":"full"},[b,w]=_.useState(!1),[N,F]=_.useState(!1),[I,$]=_.useState((e==null?void 0:e.profile_image_url)||(e==null?void 0:e.profile_image)||null),[O,D]=_.useState(null),[R,B]=_.useState(t),f=vd(u?"put":"post",u?route("users.update",{user:e.id}):route("users.store"),{id:(e==null?void 0:e.id)||"",name:(e==null?void 0:e.name)||"",user_name:(e==null?void 0:e.user_name)||"",gender:(e==null?void 0:e.gender)||"",birthday:(e==null?void 0:e.birthday)||"",date_of_joining:(e==null?void 0:e.date_of_joining)||"",address:(e==null?void 0:e.address)||"",employee_id:(e==null?void 0:e.employee_id)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||"",department_id:(e==null?void 0:e.department_id)||"",designation_id:(e==null?void 0:e.designation_id)||"",report_to:(e==null?void 0:e.report_to)||"",password:"",password_confirmation:"",roles:(e==null?void 0:e.roles)||[],profile_image:null});_.useEffect(()=>{(e!=null&&e.profile_image_url||e!=null&&e.profile_image)&&$(e.profile_image_url||e.profile_image)},[e]);const z=async T=>{if(T.preventDefault(),O){const h=O.type;if(!["image/jpeg","image/jpg","image/png"].includes(h)){W.error("Invalid file type. Only JPEG and PNG are allowed.",{icon:""});return}f.setData("profile_image",O)}try{await f.submit({onSuccess:h=>{var v;l&&l(u?y=>y.map(s=>s.id===h.data.user.id?h.data.user:s):y=>[...y,h.data.user]),W.success(((v=h.data.messages)==null?void 0:v.length)>0?h.data.messages.join(" "):`User ${u?"updated":"added"} successfully`,{icon:""}),c()},onError:h=>{E(h)}})}catch(h){E(h)}},E=T=>{T.response?T.response.status===422?W.error(T.response.data.message||`Failed to ${u?"update":"add"} user.`,{icon:""}):W.error("An unexpected error occurred. Please try again later.",{icon:""}):T.request?W.error("No response received from the server. Please check your internet connection.",{icon:""}):W.error("An error occurred while setting up the request.",{icon:""})},C=T=>{const h=T.target.files[0];if(h){const v=URL.createObjectURL(h);$(v),D(h)}},j=(T,h)=>{f.setData(T,h),f.touched(T)&&f.validate(T)},g=()=>{w(!b)};return r.jsx(Cn,{isOpen:o,onClose:c,size:"3xl",radius:m(),scrollBehavior:"inside",classNames:{base:"backdrop-blur-md max-h-[95vh] my-2",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider flex-shrink-0",body:"overflow-y-auto max-h-[calc(95vh-160px)]",footer:"border-t border-divider flex-shrink-0",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:r.jsx(In,{children:T=>r.jsxs(r.Fragment,{children:[r.jsx(Tn,{className:"flex flex-col gap-1 py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"w-5 h-5 sm:w-6 sm:h-6",style:{color:"var(--theme-primary)"}}),r.jsxs("div",{children:[r.jsx("span",{className:"text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:u?"Edit User":"Add New User"}),r.jsx("p",{className:"text-sm text-default-500 mt-0.5",style:{fontFamily:'var(--fontFamily, "Inter")'},children:u?"Update user information":"Create a new user account"})]})]})}),r.jsx(En,{className:"py-4 px-4 sm:py-6 sm:px-6 overflow-y-auto",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r.jsxs("form",{onSubmit:z,className:"space-y-4",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("div",{className:"relative group cursor-pointer",onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),children:[r.jsx($n,{src:I,alt:"Profile",className:"w-32 h-32 text-large transition-all duration-300",style:{border:"4px solid var(--theme-divider, #E4E4E7)",filter:N?"brightness(70%)":"brightness(100%)"}}),r.jsxs("label",{htmlFor:"icon-button-file",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-opacity duration-300",style:{opacity:N?1:0},children:[r.jsx("input",{accept:"image/*",id:"icon-button-file",type:"file",className:"hidden",onChange:C}),r.jsx(Hn,{className:"w-8 h-8 text-white"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Y,{label:"Full Name",placeholder:"Enter full name",value:f.data.name,onChange:h=>j("name",h.target.value),onBlur:()=>f.validate("name"),isInvalid:f.invalid("name"),errorMessage:f.errors.name,isRequired:!0,variant:"bordered",size:"sm",radius:m(),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Y,{label:"Username",placeholder:"Enter username",value:f.data.user_name,onChange:h=>j("user_name",h.target.value),onBlur:()=>f.validate("user_name"),isInvalid:f.invalid("user_name"),errorMessage:f.errors.user_name,isRequired:!0,variant:"bordered",size:"sm",radius:m(),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Y,{label:"Email",type:"email",placeholder:"Enter email address",value:f.data.email,onChange:h=>j("email",h.target.value),onBlur:()=>f.validate("email"),isInvalid:f.invalid("email"),errorMessage:f.errors.email,isRequired:!0,variant:"bordered",size:"sm",radius:m(),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Y,{label:"Phone",placeholder:"Enter phone number",value:f.data.phone,onChange:h=>j("phone",h.target.value),onBlur:()=>f.validate("phone"),isInvalid:f.invalid("phone"),errorMessage:f.errors.phone,variant:"bordered",size:"sm",radius:m(),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Ne,{label:"Department",placeholder:"Select department",selectedKeys:f.data.department_id?new Set([String(f.data.department_id)]):new Set,onSelectionChange:h=>{const v=Array.from(h)[0];j("department_id",v||"")},onClose:()=>f.validate("department_id"),isInvalid:f.invalid("department_id"),errorMessage:f.errors.department_id,variant:"bordered",size:"sm",radius:m(),classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:a==null?void 0:a.map(h=>r.jsx(Q,{value:h.id,children:h.name},h.id))}),r.jsx(Ne,{label:"Designation",placeholder:"Select designation",selectedKeys:f.data.designation_id?new Set([String(f.data.designation_id)]):new Set,onSelectionChange:h=>{const v=Array.from(h)[0];j("designation_id",v||"")},onClose:()=>f.validate("designation_id"),isInvalid:f.invalid("designation_id"),errorMessage:f.errors.designation_id,variant:"bordered",size:"sm",radius:m(),classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:n==null?void 0:n.map(h=>r.jsx(Q,{value:h.id,children:h.name},h.id))}),r.jsxs(Ne,{label:"Gender",placeholder:"Select gender",selectedKeys:f.data.gender?new Set([f.data.gender]):new Set,onSelectionChange:h=>{const v=Array.from(h)[0];j("gender",v||"")},onClose:()=>f.validate("gender"),isInvalid:f.invalid("gender"),errorMessage:f.errors.gender,variant:"bordered",size:"sm",radius:m(),classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:[r.jsx(Q,{value:"male",children:"Male"},"male"),r.jsx(Q,{value:"female",children:"Female"},"female"),r.jsx(Q,{value:"other",children:"Other"},"other")]}),r.jsx(Y,{label:"Employee ID",placeholder:"Enter employee ID",value:f.data.employee_id,onChange:h=>j("employee_id",h.target.value),onBlur:()=>f.validate("employee_id"),isInvalid:f.invalid("employee_id"),errorMessage:f.errors.employee_id,variant:"bordered",size:"sm",radius:m(),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Y,{label:"Date of Birth",type:"date",value:f.data.birthday,onChange:h=>j("birthday",h.target.value),onBlur:()=>f.validate("birthday"),isInvalid:f.invalid("birthday"),errorMessage:f.errors.birthday,variant:"bordered",size:"sm",radius:m(),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Y,{label:"Date of Joining",type:"date",value:f.data.date_of_joining,onChange:h=>j("date_of_joining",h.target.value),onBlur:()=>f.validate("date_of_joining"),isInvalid:f.invalid("date_of_joining"),errorMessage:f.errors.date_of_joining,variant:"bordered",size:"sm",radius:m(),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Ne,{label:"Reports To",placeholder:"Select supervisor",selectedKeys:f.data.report_to?new Set([String(f.data.report_to)]):new Set,onSelectionChange:h=>{const v=Array.from(h)[0];j("report_to",v||"")},onClose:()=>f.validate("report_to"),isInvalid:f.invalid("report_to"),errorMessage:f.errors.report_to,variant:"bordered",size:"sm",radius:m(),classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:R==null?void 0:R.filter(h=>h.id!==f.data.id).map(h=>r.jsx(Q,{value:h.id,children:h.name},h.id))})]}),r.jsx(Y,{label:"Address",placeholder:"Enter address",value:f.data.address,onChange:h=>j("address",h.target.value),onBlur:()=>f.validate("address"),isInvalid:f.invalid("address"),errorMessage:f.errors.address,variant:"bordered",size:"sm",radius:m(),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),!u&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Y,{label:"Password",type:b?"text":"password",placeholder:"Enter password",value:f.data.password,onChange:h=>j("password",h.target.value),onBlur:()=>f.validate("password"),isInvalid:f.invalid("password"),errorMessage:f.errors.password,isRequired:!u,variant:"bordered",size:"sm",radius:m(),endContent:r.jsx("button",{className:"focus:outline-none",type:"button",onClick:g,children:b?r.jsx(Gr,{className:"w-4 h-4 text-default-400"}):r.jsx(Hr,{className:"w-4 h-4 text-default-400"})}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Y,{label:"Confirm Password",type:b?"text":"password",placeholder:"Confirm password",value:f.data.password_confirmation,onChange:h=>j("password_confirmation",h.target.value),onBlur:()=>f.validate("password_confirmation"),isInvalid:f.invalid("password_confirmation")||f.data.password!==f.data.password_confirmation&&f.data.password_confirmation,errorMessage:f.errors.password_confirmation||(f.data.password!==f.data.password_confirmation&&f.data.password_confirmation?"Passwords do not match":""),isRequired:!u,variant:"bordered",size:"sm",radius:m(),endContent:r.jsx("button",{className:"focus:outline-none",type:"button",onClick:g,children:b?r.jsx(Gr,{className:"w-4 h-4 text-default-400"}):r.jsx(Hr,{className:"w-4 h-4 text-default-400"})}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})]})]})}),r.jsxs(Pn,{className:"flex justify-between px-4 sm:px-6 py-3 sm:py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[r.jsx(J,{variant:"light",onPress:c,isDisabled:f.processing,radius:m(),style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),r.jsx(J,{variant:"solid",color:"primary",onPress:z,isLoading:f.processing,isDisabled:!f.isDirty||f.processing,startContent:!f.processing&&r.jsx(ss,{className:"w-4 h-4"}),radius:m(),style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:u?"Update User":"Add User"})]})]})})})},Z=()=>{var n;if(typeof window>"u")return"lg";const t=((n=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:n.trim())||"12px",a=parseInt(t);return a===0?"none":a<=4?"sm":a<=8?"md":a<=12?"lg":"xl"},xd=({title:e,roles:t,departments:a,designations:n})=>{var Qt,er,tr,rr,ar,nr,sr,ir,lr,or,cr,dr,mr,ur,fr,hr,pr,vr,xr,gr,yr,br,jr,_r,wr,Nr,Fr,Sr,Cr,Ir,Tr,Er,$r,Pr;const[l,o]=_.useState(!1),[c,u]=_.useState(!1),[m,b]=_.useState(!1),[w,N]=_.useState(!1);_.useEffect(()=>{const i=()=>{o(window.innerWidth<640),u(window.innerWidth<768),b(window.innerWidth>=1025),N(window.innerWidth>=641&&window.innerWidth<=1024)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const[F,I]=_.useState([]),[$,O]=_.useState(!0),[D,R]=_.useState(null),[B,f]=_.useState(0),[z,E]=_.useState(1),[C,j]=_.useState(null),[g,T]=_.useState({search:"",role:"all",status:"all",department:"all"}),[h,v]=_.useState(!1),[y,s]=_.useState("table"),[p,A]=_.useState({currentPage:1,perPage:10,total:F.length}),[P,k]=_.useState({}),[d,fe]=_.useState({overview:{total_users:0,active_users:0,inactive_users:0,deleted_users:0,total_roles:0,total_departments:0},distribution:{by_role:[],by_department:[],by_status:[]},activity:{recent_registrations:{new_users_30_days:0,new_users_90_days:0,new_users_year:0,recently_active:0},user_growth_rate:0,current_month_registrations:0},security:{access_metrics:{users_with_roles:0,users_without_roles:0,admin_users:0,regular_users:0},role_distribution:[]},health:{status_ratio:{active_percentage:0,inactive_percentage:0,deleted_percentage:0},system_metrics:{user_activation_rate:0,role_coverage:0,department_coverage:0}},quick_metrics:{total_users:0,active_ratio:0,role_diversity:0,department_diversity:0,recent_activity:0,system_health_score:0}}),ae=_.useMemo(()=>({data:F,total:B,current_page:p.currentPage,per_page:p.perPage,last_page:z}),[F,B,p.currentPage,p.perPage,z]),V=_.useCallback(async()=>{try{const{data:i}=await we.get(route("users.stats"));i.stats&&fe(i.stats)}catch(i){console.error("Error fetching user stats:",i)}},[]),Be=_.useCallback(async()=>{O(!0);try{const i=await we.get(route("users.paginate"),{params:{page:p.currentPage,perPage:p.perPage,search:g.search||void 0,role:g.role!=="all"?g.role:void 0,status:g.status!=="all"?g.status:void 0,department:g.department!=="all"?g.department:void 0}});if(i.status===200){const{users:x}=i.data;x.data&&Array.isArray(x.data)?(I(x.data),f(x.total||x.data.length),E(x.last_page||1)):Array.isArray(x)?(I(x),f(x.length),E(1)):(console.error("Unexpected users data format:",x),I([]),f(0),E(1))}}catch(i){console.error("Error fetching users:",i),W.error("Failed to load users data"),I([])}finally{O(!1)}},[g,p.currentPage,p.perPage]);_.useEffect(()=>{Be()},[Be]),_.useEffect(()=>{V();const i=setInterval(V,6e4);return()=>clearInterval(i)},[V]);const be=(i,x)=>{T(S=>({...S,[i]:x})),A(S=>({...S,currentPage:1}))},We=i=>{A(x=>({...x,currentPage:i})),window.scrollTo({top:0,behavior:"smooth"})},G=i=>{A(x=>({...x,currentPage:1,perPage:i}))},he=_.useCallback((i,x=null)=>{j(i),R(x)},[]),Kt=_.useCallback(()=>{j(null),R(null)},[]),ct=_.useCallback(i=>{I(i)},[]),gn=_.useCallback(i=>{I(x=>x.map(S=>S.id===i.id?{...S,...i}:S))},[]),yn=_.useCallback(i=>{I(x=>x.filter(S=>S.id!==i)),V()},[V]),Xt=_.useCallback((i,x)=>{I(S=>S.map(U=>U.id===i?{...U,active:x}:U)),V()},[V]),bn=_.useCallback((i,x)=>{I(S=>S.map(U=>U.id===i?{...U,roles:x}:U)),V()},[V]),Zt=_.useCallback(async(i,x)=>{var S,U;k(H=>({...H,[i]:!0}));try{const H=await we.post(route("admin.users.devices.toggle",{userId:i}));H.data.success&&(I(ke=>ke.map(je=>je.id===i?{...je,single_device_login_enabled:H.data.single_device_login_enabled}:je)),W.success(H.data.message))}catch(H){console.error("Error toggling single device login:",H),W.error(((U=(S=H.response)==null?void 0:S.data)==null?void 0:U.message)||"Failed to toggle single device login")}finally{k(H=>({...H,[i]:!1}))}},[]),Yt=_.useCallback(async i=>{k(x=>({...x,[i]:!0}));try{const x=await we.post(route("admin.users.devices.reset",{userId:i}),{reason:"Admin reset via user management"});x.data.success&&(I(S=>S.map(U=>U.id===i?{...U,active_device:null}:U)),W.success(x.data.message||"User devices have been reset"))}catch(x){console.error("Error resetting user devices:",x),W.error("Failed to reset user devices")}finally{k(x=>({...x,[i]:!1}))}},[]);_.useCallback(async i=>{try{const x=await we.get(route("admin.users.devices",{userId:i}));if(x.data.success){const S=x.data.devices;if(S.length===0)W.info("User has no registered devices");else{const U=S.filter(H=>H.is_active).length;W.info(`User has ${S.length} device(s): ${U} active, ${S.length-U} inactive`)}}}catch(x){console.error("Error fetching user devices:",x),W.error("Failed to fetch device information")}},[]);const Jt=(i,x="w-4 h-4")=>{const S=(i==null?void 0:i.toLowerCase())||"";return S.includes("mobile")||S.includes("android")||S.includes("iphone")?r.jsx($e,{className:`${x} text-primary`}):S.includes("tablet")||S.includes("ipad")?r.jsx(Pa,{className:`${x} text-secondary`}):r.jsx($a,{className:`${x} text-default-500`})},jn=i=>{const x=(i==null?void 0:i.toLowerCase())||"";return x.includes("mobile")||x.includes("android")||x.includes("iphone")?"Mobile":x.includes("tablet")||x.includes("ipad")?"Tablet":"Desktop"},_n=({user:i,index:x})=>r.jsx(le,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-200 h-full min-h-[320px]",style:{background:`linear-gradient(135deg, 
          color-mix(in srgb, var(--theme-content1) 90%, transparent) 20%, 
          color-mix(in srgb, var(--theme-content2) 80%, transparent) 80%)`,borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-3 flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-start gap-2 mb-3 pb-2 border-b border-white/10",children:[r.jsx(Da,{avatarProps:{radius:"md",src:(i==null?void 0:i.profile_image_url)||(i==null?void 0:i.profile_image),size:"sm",fallback:r.jsx(Xe,{className:"w-4 h-4"}),style:{borderColor:"var(--theme-primary)",borderWidth:"2px"}},name:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-semibold text-foreground text-sm line-clamp-1",children:i.name}),r.jsxs("span",{className:"text-default-500 text-xs line-clamp-1",children:["ID: ",i.id]})]}),classNames:{wrapper:"flex-1 min-w-0",name:"text-sm font-semibold",description:"text-xs text-default-500"}}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(yt,{content:"Edit User",size:"sm",children:r.jsx(J,{isIconOnly:!0,size:"sm",variant:"light",className:"text-default-400 hover:text-primary min-w-6 w-6 h-6",onPress:()=>he("edit",i),children:r.jsx(Aa,{className:"w-3 h-3"})})}),r.jsxs(vt,{placement:"bottom-end",children:[r.jsx(xt,{children:r.jsx(J,{isIconOnly:!0,size:"sm",variant:"ghost",radius:Z(),isDisabled:P[i.id],className:"min-w-6 w-6 h-6",style:{background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)"},children:r.jsx(jt,{className:"w-3 h-3"})})}),r.jsxs(gt,{"aria-label":"Device management actions",variant:"bordered",className:"min-w-[180px]",style:{background:"color-mix(in srgb, var(--theme-content1) 95%, transparent)",backdropFilter:"blur(16px)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:[r.jsx(ne,{startContent:i.single_device_login?r.jsx(Ze,{className:"w-3 h-3"}):r.jsx(Ye,{className:"w-3 h-3"}),onPress:()=>Zt(i.id,!i.single_device_login),isDisabled:P[i.id],className:"text-xs",children:i.single_device_login?"Disable Lock":"Enable Lock"},"toggle-device-lock"),i.single_device_login&&i.active_device&&r.jsx(ne,{startContent:r.jsx(_e,{className:"w-3 h-3"}),onPress:()=>Yt(i.id),isDisabled:P[i.id],className:"text-xs",children:"Reset Device"},"reset-device"),r.jsx(ne,{startContent:r.jsx($e,{className:"w-3 h-3"}),onPress:()=>Br.visit(route("admin.users.devices",{userId:i.id})),className:"text-xs",children:"Device History"},"view-devices"),r.jsx(ne,{startContent:r.jsx(Xe,{className:"w-3 h-3"}),onPress:()=>Br.visit(route("profile",{user:i.id})),className:"text-xs",children:"View Profile"},"view-profile")]})]})]})]}),r.jsxs("div",{className:"space-y-2 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx(bt,{className:"w-3 h-3 text-default-400 shrink-0"}),r.jsx("span",{className:"text-default-600 line-clamp-1 flex-1",children:i.email})]}),i.phone&&r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx(pt,{className:"w-3 h-3 text-default-400 shrink-0"}),r.jsx("span",{className:"text-default-600 line-clamp-1",children:i.phone})]}),(i.department||i.department_id)&&r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx(Ee,{className:"w-3 h-3 text-default-400 shrink-0"}),r.jsx("span",{className:"text-default-600 line-clamp-1",children:typeof i.department=="string"?i.department:"N/A"})]})]}),r.jsxs("div",{className:"mb-3 p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-content2) 40%, transparent)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-xs font-medium text-default-700",children:"Device Status"}),i.single_device_login&&i.active_device&&r.jsx(yt,{content:r.jsxs("div",{className:"p-2 max-w-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Jt(i.active_device.user_agent,"w-4 h-4"),r.jsx("span",{className:"font-medium text-xs",children:i.active_device.device_name||"Unknown Device"})]}),r.jsxs("div",{className:"text-xs text-default-500",children:[jn(i.active_device.user_agent)," ",i.active_device.is_active?" Active":" Inactive"]})]}),size:"sm",children:r.jsx("div",{className:"cursor-help",children:Jt(i.active_device.user_agent,"w-4 h-4")})})]}),r.jsx(ce,{size:"sm",variant:"flat",color:i.single_device_login?i.active_device?"warning":"success":"default",startContent:i.single_device_login?i.active_device?r.jsx(Ye,{className:"w-3 h-3"}):r.jsx(Ze,{className:"w-3 h-3"}):r.jsx(Pe,{className:"w-3 h-3"}),className:"text-xs",children:i.single_device_login?i.active_device?"Locked":"Free":"Disabled"})]}),r.jsxs("div",{className:"mt-auto space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs font-medium text-default-700",children:"Status"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(es,{size:"sm",isSelected:i.active,onValueChange:S=>Xt(i.id,S),color:i.active?"success":"danger",classNames:{wrapper:"group-data-[selected=true]:bg-success",thumb:"group-data-[selected=true]:ml-4"}}),r.jsx("span",{className:`text-xs font-medium ${i.active?"text-success":"text-danger"}`,children:i.active?"Active":"Inactive"})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-default-700 mb-1 block",children:"Roles"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.roles&&i.roles.length>0?i.roles.slice(0,3).map((S,U)=>{const H=typeof S=="object"&&S!==null?S.name:S;return r.jsx(ce,{size:"sm",variant:"flat",color:"secondary",className:"text-xs h-5",children:H},U)}):r.jsx(ce,{size:"sm",variant:"bordered",color:"default",className:"text-xs h-5",children:"No Roles"}),i.roles&&i.roles.length>3&&r.jsxs(ce,{size:"sm",variant:"bordered",color:"primary",className:"text-xs h-5",children:["+",i.roles.length-3]})]})]})]})]})}),wn=_.useMemo(()=>{var i,x,S,U,H,ke,je,Rr,Ar,Or,Dr,Ur,Lr,Mr;return[{title:"Total Users",value:((i=d==null?void 0:d.overview)==null?void 0:i.total_users)||0,icon:r.jsx(Ge,{className:"w-5 h-5"}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"All users"},{title:"Active Users",value:((x=d==null?void 0:d.overview)==null?void 0:x.active_users)||0,icon:r.jsx(Ra,{className:"w-5 h-5"}),color:"text-green-400",iconBg:"bg-green-500/20",description:`${((U=(S=d==null?void 0:d.health)==null?void 0:S.status_ratio)==null?void 0:U.active_percentage)||0}% Active`},{title:"Inactive Users",value:((H=d==null?void 0:d.overview)==null?void 0:H.inactive_users)||0,icon:r.jsx(Vn,{className:"w-5 h-5"}),color:"text-red-400",iconBg:"bg-red-500/20",description:`${((je=(ke=d==null?void 0:d.health)==null?void 0:ke.status_ratio)==null?void 0:je.inactive_percentage)||0}% Inactive`},{title:"Total Roles",value:((Rr=d==null?void 0:d.overview)==null?void 0:Rr.total_roles)||0,icon:r.jsx(Pe,{className:"w-5 h-5"}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Role diversity"},{title:"Role Coverage",value:`${((Or=(Ar=d==null?void 0:d.health)==null?void 0:Ar.system_metrics)==null?void 0:Or.role_coverage)||0}%`,icon:r.jsx(qn,{className:"w-5 h-5"}),color:"text-emerald-400",iconBg:"bg-emerald-500/20",description:"Users with roles"},{title:"Recent Activity",value:((Ur=(Dr=d==null?void 0:d.activity)==null?void 0:Dr.recent_registrations)==null?void 0:Ur.recently_active)||0,icon:r.jsx(Ea,{className:"w-5 h-5"}),color:"text-cyan-400",iconBg:"bg-cyan-500/20",description:"Active last 7 days"},{title:"System Health",value:`${((Lr=d==null?void 0:d.quick_metrics)==null?void 0:Lr.system_health_score)||0}%`,icon:r.jsx(kr,{className:"w-5 h-5"}),color:"text-pink-400",iconBg:"bg-pink-500/20",description:"Overall health"},{title:"Departments",value:((Mr=d==null?void 0:d.overview)==null?void 0:Mr.total_departments)||0,icon:r.jsx(Ee,{className:"w-5 h-5"}),color:"text-indigo-400",iconBg:"bg-indigo-500/20",description:"Department diversity"}]},[d]);return _.useMemo(()=>{const i=[];return i.push({label:l?"Add":"Add User",icon:r.jsx(dt,{className:"w-4 h-4"}),onPress:()=>he("add"),className:"bg-linear-to-r from-(--theme-primary) to-(--theme-secondary) text-white font-medium hover:opacity-90"}),i.push({label:l?"":"Export",isIconOnly:l,icon:r.jsx(Wr,{className:"w-4 h-4"}),variant:"bordered",className:"border-[rgba(var(--theme-primary-rgb),0.3)] bg-[rgba(var(--theme-primary-rgb),0.05)] hover:bg-[rgba(var(--theme-primary-rgb),0.1)]"}),i},[l,he]),r.jsxs(r.Fragment,{children:[r.jsx(Fn,{title:e||"Users Management"}),C==="add"&&r.jsx(Ca,{user:null,allUsers:F,departments:a,designations:n,open:C==="add",setUsers:ct,closeModal:Kt,editMode:!1}),C==="edit"&&D&&r.jsx(Ca,{user:D,allUsers:F,departments:a,designations:n,open:C==="edit",setUsers:ct,closeModal:Kt,editMode:!0}),r.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Users Management",children:r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"w-full",children:r.jsx(Kn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:r.jsxs(le,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                    var(--theme-content1, #FAFAFA) 20%, 
                    var(--theme-content2, #F4F4F5) 10%, 
                    var(--theme-content3, #F1F3F4) 20%)`},children:[r.jsx(Jn,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                      color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                      color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:r.jsx("div",{className:`${m?"p-6":w?"p-4":"p-3"} w-full`,children:r.jsx("div",{className:"flex flex-col space-y-4",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[$?r.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[r.jsx(q,{className:"w-12 h-12 rounded-xl"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx(q,{className:"w-64 h-6 rounded mb-2"}),r.jsx(q,{className:"w-48 h-4 rounded"})]})]}):r.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[r.jsx("div",{className:`
                                ${m?"p-3":w?"p-2.5":"p-2"} 
                                rounded-xl flex items-center justify-center
                              `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsx(Ge,{className:`
                                  ${m?"w-8 h-8":w?"w-6 h-6":"w-5 h-5"}
                                `,style:{color:"var(--theme-primary)"}})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("h4",{className:`
                                  ${m?"text-2xl":w?"text-xl":"text-lg"}
                                  font-bold text-foreground
                                  ${m?"":"truncate"}
                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Users Management"}),r.jsx("p",{className:`
                                  ${m?"text-sm":"text-xs"} 
                                  text-default-500
                                  ${m?"":"truncate"}
                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Manage user accounts, roles and permissions"})]})]}),$?r.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[r.jsx(q,{className:"w-24 h-8 rounded"}),r.jsx(q,{className:"w-20 h-8 rounded"})]}):r.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[r.jsx(J,{size:l?"sm":"md",color:"primary",startContent:r.jsx(dt,{className:"w-4 h-4"}),onPress:()=>he("add"),radius:Z(),style:{fontFamily:'var(--fontFamily, "Inter")'},className:"min-w-0",children:l?"Add":"Add User"}),r.jsx(J,{size:l?"sm":"md",variant:"bordered",startContent:r.jsx(Xn,{className:"w-4 h-4"}),radius:Z(),style:{background:"color-mix(in srgb, var(--theme-primary) 10%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-primary) 30%, transparent)",color:"var(--theme-primary)",fontFamily:'var(--fontFamily, "Inter")'},className:"min-w-0",children:l?"Export":"Export Users"})]})]})})})}),r.jsxs(oe,{className:"p-6",children:[r.jsx(Dn,{stats:wn,className:"mb-6",isLoading:$}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-6",children:$?r.jsx(r.Fragment,{children:Array.from({length:6}).map((i,x)=>r.jsx(le,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-default) 10%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(q,{className:"w-9 h-9 rounded-lg"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(q,{className:"w-24 h-4 rounded mb-1"}),r.jsx(q,{className:"w-32 h-3 rounded"})]})]}),r.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((S,U)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(q,{className:"w-20 h-3 rounded"}),r.jsx(q,{className:"w-12 h-3 rounded"})]},U))})]})},x))}):r.jsxs(r.Fragment,{children:[r.jsx(le,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(Zn,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role Distribution"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User roles breakdown"})]})]}),r.jsx("div",{className:"space-y-3",children:((er=(Qt=d==null?void 0:d.distribution)==null?void 0:Qt.by_role)==null?void 0:er.length)>0?d.distribution.by_role.slice(0,4).map((i,x)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:`color-mix(in srgb, var(--theme-primary) ${80-x*15}%, var(--theme-secondary) ${20+x*15}%)`}}),r.jsx("span",{className:"text-sm text-foreground truncate",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.count}),r.jsxs("span",{className:"text-xs text-default-500 ml-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["(",i.percentage,"%)"]})]})]},x)):r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-sm text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No role data available"})})})]})}),r.jsx(le,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-secondary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-secondary) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(Ge,{className:"w-5 h-5",style:{color:"var(--theme-secondary)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User Status"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Active vs inactive users"})]})]}),r.jsx("div",{className:"space-y-3",children:((rr=(tr=d==null?void 0:d.distribution)==null?void 0:tr.by_status)==null?void 0:rr.length)>0?d.distribution.by_status.map((i,x)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:i.name==="Active"?"var(--theme-success)":i.name==="Inactive"?"var(--theme-danger)":"var(--theme-default)"}}),r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.count}),r.jsxs("span",{className:"text-xs text-default-500 ml-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["(",i.percentage,"%)"]})]})]},x)):r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-sm text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No status data available"})})})]})}),r.jsx(le,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-warning) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-warning) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(Ee,{className:"w-5 h-5",style:{color:"var(--theme-warning)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Departments"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Users by department"})]})]}),r.jsx("div",{className:"space-y-3",children:((nr=(ar=d==null?void 0:d.distribution)==null?void 0:ar.by_department)==null?void 0:nr.length)>0?d.distribution.by_department.slice(0,4).map((i,x)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:`color-mix(in srgb, var(--theme-warning) ${80-x*15}%, var(--theme-primary) ${20+x*15}%)`}}),r.jsx("span",{className:"text-sm text-foreground truncate",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.count}),r.jsxs("span",{className:"text-xs text-default-500 ml-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["(",i.percentage,"%)"]})]})]},x)):r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-sm text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No department data available"})})})]})}),r.jsx(le,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-success) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-success) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(Wr,{className:"w-5 h-5",style:{color:"var(--theme-success)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User Growth"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Registration trends"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"New (30 days)"}),r.jsx("span",{className:"text-sm font-medium text-success",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((ir=(sr=d==null?void 0:d.activity)==null?void 0:sr.recent_registrations)==null?void 0:ir.new_users_30_days)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"New (90 days)"}),r.jsx("span",{className:"text-sm font-medium text-primary",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((or=(lr=d==null?void 0:d.activity)==null?void 0:lr.recent_registrations)==null?void 0:or.new_users_90_days)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Recently Active"}),r.jsx("span",{className:"text-sm font-medium text-secondary",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((dr=(cr=d==null?void 0:d.activity)==null?void 0:cr.recent_registrations)==null?void 0:dr.recently_active)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Growth Rate"}),r.jsx(ce,{size:"sm",color:(((mr=d==null?void 0:d.activity)==null?void 0:mr.user_growth_rate)||0)>0?"success":(((ur=d==null?void 0:d.activity)==null?void 0:ur.user_growth_rate)||0)<0?"danger":"default",variant:"flat",radius:Z(),children:r.jsxs("span",{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((fr=d==null?void 0:d.activity)==null?void 0:fr.user_growth_rate)||0,"%"]})})]})]})]})}),r.jsx(le,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(Pe,{className:"w-5 h-5",style:{color:"var(--theme-danger)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Access Control"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role assignments"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"With Roles"}),r.jsx("span",{className:"text-sm font-medium text-success",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((pr=(hr=d==null?void 0:d.security)==null?void 0:hr.access_metrics)==null?void 0:pr.users_with_roles)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Without Roles"}),r.jsx("span",{className:"text-sm font-medium text-danger",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((xr=(vr=d==null?void 0:d.security)==null?void 0:vr.access_metrics)==null?void 0:xr.users_without_roles)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Admin Users"}),r.jsx("span",{className:"text-sm font-medium text-warning",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((yr=(gr=d==null?void 0:d.security)==null?void 0:gr.access_metrics)==null?void 0:yr.admin_users)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role Coverage"}),r.jsx(ce,{size:"sm",color:(((jr=(br=d==null?void 0:d.health)==null?void 0:br.system_metrics)==null?void 0:jr.role_coverage)||0)>80?"success":(((wr=(_r=d==null?void 0:d.health)==null?void 0:_r.system_metrics)==null?void 0:wr.role_coverage)||0)>60?"warning":"danger",variant:"flat",radius:Z(),children:r.jsxs("span",{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((Fr=(Nr=d==null?void 0:d.health)==null?void 0:Nr.system_metrics)==null?void 0:Fr.role_coverage)||0,"%"]})})]})]})]})}),r.jsx(le,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-default) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-default) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(kr,{className:"w-5 h-5",style:{color:"var(--theme-default)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"System Health"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Overall metrics"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Health Score"}),r.jsx(ce,{size:"sm",color:(((Sr=d==null?void 0:d.quick_metrics)==null?void 0:Sr.system_health_score)||0)>80?"success":(((Cr=d==null?void 0:d.quick_metrics)==null?void 0:Cr.system_health_score)||0)>60?"warning":"danger",variant:"flat",radius:Z(),children:r.jsxs("span",{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((Ir=d==null?void 0:d.quick_metrics)==null?void 0:Ir.system_health_score)||0,"%"]})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Activation Rate"}),r.jsxs("span",{className:"text-sm font-medium text-success",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((Er=(Tr=d==null?void 0:d.health)==null?void 0:Tr.system_metrics)==null?void 0:Er.user_activation_rate)||0,"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Total Roles"}),r.jsx("span",{className:"text-sm font-medium text-primary",style:{fontFamily:'var(--fontFamily, "Inter")'},children:(($r=d==null?void 0:d.overview)==null?void 0:$r.total_roles)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Total Departments"}),r.jsx("span",{className:"text-sm font-medium text-warning",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((Pr=d==null?void 0:d.overview)==null?void 0:Pr.total_departments)||0})]})]})]})})]})}),r.jsx("div",{className:"mb-6",children:$?r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[r.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{className:"w-24 h-4 rounded"}),r.jsx(q,{className:"w-full h-10 rounded-lg"})]})}),r.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{className:"w-20 h-4 rounded"}),r.jsx(q,{className:"w-full h-10 rounded-lg"})]})})]}):r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-end",children:[r.jsx("div",{className:"flex-1",children:r.jsx(Y,{label:"Search Users",placeholder:"Search by name, email or phone...",value:g.search,onValueChange:i=>be("search",i),variant:"bordered",size:l?"sm":"md",radius:Z(),startContent:r.jsx(Rn,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"border-default-200 hover:border-default-300"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),r.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[r.jsxs(Ne,{label:"Status",selectedKeys:g.status?[g.status]:[],onSelectionChange:i=>be("status",Array.from(i)[0]),variant:"bordered",size:l?"sm":"md",radius:Z(),className:"w-32",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[r.jsx(Q,{children:"All Status"},"all"),r.jsx(Q,{children:"Active"},"active"),r.jsx(Q,{children:"Inactive"},"inactive")]}),r.jsxs(Ne,{label:"Role",selectedKeys:g.role?[g.role]:[],onSelectionChange:i=>be("role",Array.from(i)[0]),variant:"bordered",size:l?"sm":"md",radius:Z(),className:"w-32",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[r.jsx(Q,{children:"All Roles"},"all"),t==null?void 0:t.map((i,x)=>{const S=typeof i=="object"&&i!==null?i.name:i,U=typeof S=="string"?S.toLowerCase():String(S||`role-${x}`).toLowerCase();return r.jsx(Q,{children:S||"Unknown Role"},U)})]}),r.jsxs(Qn,{variant:"bordered",radius:Z(),children:[r.jsx(J,{isIconOnly:!0,color:y==="table"?"primary":"default",onPress:()=>s("table"),size:l?"sm":"md",children:r.jsx(Yn,{className:"w-4 h-4"})}),r.jsx(J,{isIconOnly:!0,color:y==="grid"?"primary":"default",onPress:()=>s("grid"),size:l?"sm":"md",children:r.jsx(An,{className:"w-4 h-4"})})]})]})]})}),r.jsx("div",{className:"overflow-hidden",children:$?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx(qe,{size:"lg"})}):y==="table"?r.jsx(is,{allUsers:ae.data,roles:t,setUsers:ct,isMobile:l,isTablet:c,pagination:p,onPageChange:We,onRowsPerPageChange:G,totalUsers:ae.total,loading:$,onEdit:i=>he("edit",i),updateUserOptimized:gn,deleteUserOptimized:yn,toggleUserStatusOptimized:Xt,updateUserRolesOptimized:bn,toggleSingleDeviceLogin:Zt,resetUserDevice:Yt,deviceActions:P}):r.jsxs("div",{children:[ae.data&&ae.data.length>0?r.jsx("div",{className:`grid gap-4 ${l?"grid-cols-1":c?"grid-cols-2":"grid-cols-3 xl:grid-cols-4"}`,children:ae.data.map((i,x)=>r.jsx(_n,{user:i,index:x},i.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ge,{className:"w-16 h-16 mx-auto text-default-300 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No users found"}),r.jsx("p",{className:"text-default-500 mb-4",children:"Try adjusting your search criteria or filters"}),r.jsx(J,{color:"primary",startContent:r.jsx(dt,{className:"w-4 h-4"}),onPress:()=>he("add"),children:"Add First User"})]}),ae.data&&ae.data.length>0&&r.jsx("div",{className:"flex justify-center mt-6 border-t pt-4",style:{borderColor:"var(--theme-divider, #E4E4E7)"},children:r.jsx(Oa,{total:Math.ceil(ae.total/p.perPage),initialPage:p.currentPage,page:p.currentPage,onChange:We,size:l?"sm":"md",variant:"bordered",showControls:!0,radius:Z(),style:{fontFamily:'var(--fontFamily, "Inter")'}})})]})})]})]})})})})})]})};xd.layout=e=>r.jsx(On,{children:e});export{xd as default};
