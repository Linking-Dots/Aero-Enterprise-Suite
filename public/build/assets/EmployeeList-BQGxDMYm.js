import{r as s,j as e,d as w,c as ce,b as me,a as Y,s as J,S as ye,Q as Ve}from"./app-B6a8Pwto.js";import{c as He,e as Ye,f as Ze,g as Je,P as Pe,k as he,D as pe,G as Qe,x as Xe,d as ne,a as le,b as ie,m as te,j as we,v as oe,C as qe,A as Ke}from"./Dashboard-V8B_F7G8.js";import{S as et}from"./StatsCards-sUSq91Tq.js";import{B as O}from"./react-toastify.esm-Clh_oNAF.js";import{F as xe}from"./ExclamationTriangleIcon-CjeaPrTW.js";import{F as Fe}from"./TrashIcon-B28wy6Kb.js";import{c as Q}from"./chunk-IHOGUXIG-DeVvwxh9.js";import{m as tt}from"./chunk-O5MCAK4F-CS2OS80q.js";import{F as Te}from"./XMarkIcon-C78cAss5.js";import{F as ke}from"./UserIcon-Db2KNTPe.js";import{F as Be}from"./CheckCircleIcon-B3pfGDGL.js";import{p as rt}from"./chunk-XVMALT6H-Civyxlgi.js";import{F as de}from"./EllipsisVerticalIcon-l2W-Yp7A.js";import{F as Oe}from"./PencilIcon-KlK12C1-.js";import{F as Ne}from"./ClockIcon-am5BNZDp.js";import{F as _e}from"./EnvelopeIcon-DvfeEHFl.js";import{F as at}from"./HashtagIcon-FgEMzUmR.js";import{t as st,a as nt,b as lt,c as it}from"./chunk-F3UDT23P-Dh58p07J.js";import{t as ot,a as dt}from"./chunk-YRZGWF2W-BHg7CiKF.js";import{p as Ge}from"./chunk-EAPQ7RWQ-DSFxA9Id.js";import{F as ct}from"./TrophyIcon-DsfBAcw1.js";import{F as Ue}from"./UserPlusIcon-kQ9D3B-x.js";import{F as mt}from"./ChartBarIcon-DiWlSylX.js";import{m as xt}from"./proxy-DHNoG167.js";import{F as ht}from"./MagnifyingGlassIcon-BF5lrYiv.js";import{F as pt}from"./TableCellsIcon-Cy_Hief2.js";import{F as ft}from"./FunnelIcon-BaVpqRFX.js";import{c as ze}from"./chunk-D5XJWRAV-DjOHLOae.js";import{i as gt}from"./chunk-SSA7SXE4-CaP338vm.js";import{b as ut}from"./chunk-57V4RE7B-CE8RSlCE.js";import"./MapPinIcon-BxrxwO7p.js";import"./UserGroupIcon-Bgll9U7n.js";import"./ShieldCheckIcon-WnU6Xhih.js";import"./KeyIcon-BZEIoWpc.js";import"./index-CeixYFaP.js";import"./chunk-Y2AYO5NJ-CnjXpz_o.js";import"./logo-Pwvcz7fP.js";import"./features-animation-BVdsvikD.js";import"./create-visual-element-PztxN_IZ.js";import"./chunk-TLYTI3QM-CZ-zJtp4.js";import"./useProgressBar-446K09p-.js";import"./NumberFormatter-DNR9MAW-.js";import"./chunk-XJ2YRSUP-BGQ5tQVX.js";import"./useToggleState-Diwx1RWy.js";function bt({title:C,titleId:j,...a},b){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:b,"aria-labelledby":j},a),C?s.createElement("title",{id:j},C):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const We=s.forwardRef(bt),vt=({open:C,onClose:j,employee:a,onConfirm:b,loading:y=!1})=>{if(!a)return null;const g=a.active_projects_count>0||a.pending_leaves_count>0||a.active_trainings_count>0;return e.jsx(He,{isOpen:C,onClose:j,size:"2xl",classNames:{backdrop:"bg-black/50 backdrop-blur-sm",base:"border border-white/20 bg-white/90 backdrop-blur-md",header:"border-b border-danger/30 bg-gradient-to-r from-danger-50/50 to-danger-100/30",body:"py-0",footer:"border-t border-white/10 bg-white/5"},children:e.jsxs(Ye,{children:[e.jsx(Ze,{className:"flex items-center gap-4 pb-4",children:e.jsxs("div",{className:"flex items-center gap-4 text-danger",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-danger/20 to-danger/10 flex items-center justify-center border border-danger/30",children:e.jsx(xe,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-lg font-semibold",children:"Delete Employee"})]})}),e.jsxs(Je,{children:[e.jsxs("div",{className:"p-6 rounded-2xl bg-white/5 backdrop-blur-2xl border border-white/10 mb-6 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[e.jsx(Pe,{src:a.profile_image_url||a.profile_image,name:a.name,size:"lg",className:"ring-2 ring-white/20 shadow-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:a.name}),e.jsx("p",{className:"text-sm text-default-500",children:a.email}),a.employee_id&&e.jsxs("span",{className:"inline-block mt-1 px-3 py-1 text-xs rounded-lg bg-white/10 border border-white/10",children:["ID: ",a.employee_id]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(he,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-xs text-default-500 font-medium",children:"Department"})]}),e.jsx("p",{className:"text-sm font-medium",children:a.department_name||"Not assigned"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(pe,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-xs text-default-500 font-medium",children:"Designation"})]}),e.jsx("p",{className:"text-sm font-medium",children:a.designation_name||"Not assigned"})]})]})]}),e.jsx("div",{className:"mb-6 p-4 rounded-2xl bg-danger-50/50 backdrop-blur-2xl border border-danger/30",children:e.jsxs("div",{className:"flex items-center gap-3 text-danger",children:[e.jsx(xe,{className:"w-5 h-5"}),e.jsx("p",{className:"text-sm font-medium",children:"This action will permanently delete the employee record and cannot be undone."})]})}),g&&e.jsxs("div",{className:"p-6 rounded-2xl bg-warning-50/50 backdrop-blur-2xl border border-warning/30 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-warning/20 flex items-center justify-center",children:e.jsx(xe,{className:"w-4 h-4 text-warning"})}),e.jsx("h4",{className:"text-sm font-semibold text-warning",children:"Employee Has Active Data"})]}),e.jsx("p",{className:"text-sm text-default-500 mb-4",children:"This employee has the following active records that will also be affected:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.active_projects_count>0&&e.jsxs(Q,{size:"sm",variant:"flat",color:"warning",className:"bg-warning/20 text-warning border border-warning/30",children:[a.active_projects_count," Active Projects"]}),a.pending_leaves_count>0&&e.jsxs(Q,{size:"sm",variant:"flat",color:"warning",className:"bg-warning/20 text-warning border border-warning/30",children:[a.pending_leaves_count," Pending Leaves"]}),a.active_trainings_count>0&&e.jsxs(Q,{size:"sm",variant:"flat",color:"warning",className:"bg-warning/20 text-warning border border-warning/30",children:[a.active_trainings_count," Active Trainings"]})]})]}),e.jsxs("div",{className:"p-6 rounded-2xl bg-white/5 border border-white/10 mb-4",children:[e.jsxs("p",{className:"text-sm mb-2 font-medium",children:["Are you sure you want to delete ",e.jsx("span",{className:"text-danger font-semibold",children:a.name}),"?"]}),e.jsx("p",{className:"text-xs text-default-500",children:"Type the employee's name below to confirm this permanent deletion:"})]})]}),e.jsxs(tt,{className:"flex justify-between px-6 py-6 bg-white/5",children:[e.jsx(w,{variant:"light",onPress:j,isDisabled:y,className:"hover:bg-white/10",children:"Cancel"}),e.jsx(w,{color:"danger",variant:"solid",onPress:b,isLoading:y,startContent:!y&&e.jsx(Fe,{className:"w-4 h-4"}),className:"bg-gradient-to-r from-danger to-danger-600 hover:from-danger-600 hover:to-danger-700 shadow-lg",children:y?"Deleting...":"Delete Employee"})]})]})})},jt=({isOpen:C,onClose:j,employee:a,onImageUpdate:b})=>{const y=s.useRef(null),[g,W]=s.useState(null),[c,D]=s.useState(null),[E,L]=s.useState(!1),[Z,p]=s.useState(0),[T,N]=s.useState(""),X=2*1024*1024,re=["image/jpeg","image/jpg","image/png","image/webp"],G=100,q=2e3,K=(a==null?void 0:a.profile_image_url)||null,I=K&&K!==null,U=_=>{const i=_.target.files[0];if(!i)return;if(N(""),!re.includes(i.type)){N("Invalid file type. Please select a JPEG, PNG, or WebP image.");return}if(i.size>X){N(`File too large. Maximum size is ${X/1024/1024}MB.`);return}const m=new Image;m.onload=()=>{if(m.width<G||m.height<G){N(`Image dimensions too small. Minimum size is ${G}x${G} pixels.`);return}if(m.width>q||m.height>q){N(`Image dimensions too large. Maximum size is ${q}x${q} pixels.`);return}W(i),D(URL.createObjectURL(i))},m.onerror=()=>{N("Invalid image file.")},m.src=URL.createObjectURL(i)},R=async()=>{var i,m,x,o;if(!g||!a)return;L(!0),p(0),N("");const _=new FormData;_.append("profile_image",g),_.append("user_id",a.id);try{const v=await Y.post(route("profile.image.upload"),_,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:P=>{const H=Math.round(P.loaded*100/P.total);p(H)}});if(v.data.success){if(O.success(v.data.message||"Profile picture updated successfully!"),b){const P=v.data.profile_image_url;b(a.id,P)}M()}else throw new Error(v.data.message||"Upload failed")}catch(v){console.error("Upload error:",v);let P="Failed to upload profile picture";((i=v.response)==null?void 0:i.status)===413?P="File too large. Please choose a smaller image.":((m=v.response)==null?void 0:m.status)===422?P=v.response.data.message||"Validation failed":(o=(x=v.response)==null?void 0:x.data)!=null&&o.message?P=v.response.data.message:v.message&&(P=v.message),N(P),O.error(P)}finally{L(!1),p(0)}},V=async()=>{var i,m;if(!a)return;L(!0),N("");const _=new FormData;_.append("user_id",a.id);try{const x=await Y.delete(route("profile.image.remove"),{data:_,headers:{"Content-Type":"multipart/form-data"}});if(x.data.success){if(O.success(x.data.message||"Profile picture removed successfully!"),b){const o=x.data.profile_image_url;b(a.id,o)}M()}else throw new Error(x.data.message||"Remove failed")}catch(x){console.error("Remove error:",x);const o=((m=(i=x.response)==null?void 0:i.data)==null?void 0:m.message)||x.message||"Failed to remove profile picture";N(o),O.error(o)}finally{L(!1)}},M=()=>{E||(W(null),D(null),N(""),p(0),c&&URL.revokeObjectURL(c),j())};return a?e.jsx(Qe,{open:C,closeModal:M,maxWidth:"md",fullWidth:!0,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(We,{className:"w-6 h-6 text-blue-500"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Update Profile Picture"}),e.jsx("p",{className:"text-sm text-gray-500",children:(a==null?void 0:a.name)||"Employee"})]})]}),e.jsx(w,{isIconOnly:!0,variant:"light",onPress:M,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Te,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(Xe,{src:c||K||void 0,name:(a==null?void 0:a.name)||"Employee",size:"lg",className:"w-24 h-24",fallback:e.jsx(ke,{className:"w-12 h-12 text-gray-400"})})}),T&&e.jsx(Q,{color:"danger",variant:"flat",startContent:e.jsx(xe,{className:"w-4 h-4"}),className:"mb-4 w-full",children:T}),E&&e.jsx("div",{className:"mb-4",children:e.jsx(rt,{value:Z,color:"primary",size:"sm",label:"Uploading...",showValueLabel:!0,className:"w-full"})}),e.jsx(ce,{className:"mb-4",children:e.jsxs(me,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("input",{ref:y,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:U,className:"hidden",disabled:E}),e.jsx(w,{onPress:()=>{var _;return(_=y.current)==null?void 0:_.click()},startContent:e.jsx(We,{className:"w-5 h-5"}),variant:"flat",color:"primary",disabled:E,className:"mb-3",children:"Choose New Picture"}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("p",{children:"Supported formats: JPEG, PNG, WebP"}),e.jsx("p",{children:"Maximum size: 2MB"}),e.jsx("p",{children:"Minimum dimensions: 100x100px"}),e.jsx("p",{children:"Maximum dimensions: 2000x2000px"})]})]}),g&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-5 h-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(g.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx(w,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>{W(null),D(null),N("")},disabled:E,children:e.jsx(Te,{className:"w-4 h-4"})})]})})]})}),e.jsxs("div",{className:"flex justify-end gap-3",children:[I&&e.jsx(w,{onPress:V,startContent:e.jsx(Fe,{className:"w-4 h-4"}),color:"danger",variant:"flat",disabled:E,children:"Remove Picture"}),e.jsx(w,{onPress:M,variant:"flat",disabled:E,children:"Cancel"}),e.jsx(w,{onPress:R,color:"primary",disabled:!g||E,isLoading:E,children:E?"Uploading...":"Update Picture"})]})]})}):null},yt=({allUsers:C,departments:j,designations:a,attendanceTypes:b,setUsers:y,isMobile:g,isTablet:W,pagination:c,onPageChange:D,onRowsPerPageChange:E,totalUsers:L=0,loading:Z=!1,updateEmployeeOptimized:p,deleteEmployeeOptimized:T})=>{const[N,X]=s.useState(!1),[re,G]=s.useState(null),[q,K]=s.useState({}),[I,U]=s.useState(!1),[R,V]=s.useState(null),[M,_]=s.useState(!1),[i,m]=s.useState({isOpen:!1,employee:null}),x=()=>{var l;if(typeof window>"u")return"lg";const d=((l=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:l.trim())||"12px",f=parseInt(d);return f===0?"none":f<=4?"sm":f<=8?"md":f<=16?"lg":"full"},o=async(t,d)=>{const f=new Promise(async(l,$)=>{try{if((await Y.post(route("user.updateDepartment",{id:t}),{department:d})).status===200){const u=j.find(h=>h.id===parseInt(d))||null;p==null||p(t,{department_id:d,department_name:(u==null?void 0:u.name)||null,designation_id:null,designation_name:null}),l("Department updated successfully")}}catch(k){console.error("Error updating department:",k),$("Failed to update department")}});O.promise(f,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(J,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating department..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},success:{render({data:l}){return e.jsx("div",{children:l})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},error:{render({data:l}){return e.jsx("div",{children:l})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}}})},v=async(t,d)=>{const f=new Promise(async(l,$)=>{try{if((await Y.post(route("user.updateDesignation",{id:t}),{designation_id:d})).status===200){const u=a.find(h=>h.id===parseInt(d))||null;p==null||p(t,{designation_id:d,designation_name:(u==null?void 0:u.title)||null}),l("Designation updated successfully")}}catch(k){console.error("Error updating designation:",k),$("Failed to update designation")}});O.promise(f,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(J,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating designation..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},success:{render({data:l}){return e.jsx("div",{children:l})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},error:{render({data:l}){return e.jsx("div",{children:l})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}}})},P=async(t,d)=>{const f=new Promise(async(l,$)=>{try{if((await Y.post(route("user.updateAttendanceType",{id:t}),{attendance_type_id:d})).status===200){const u=b.find(h=>h.id===parseInt(d))||null;p&&p(t,{attendance_type_id:d,attendance_type_name:(u==null?void 0:u.name)||null}),l("Attendance type updated successfully")}}catch(k){console.error("Error updating attendance type:",k),$("Failed to update attendance type")}});O.promise(f,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(J,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Updating attendance type..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},success:{render({data:l}){return e.jsx("div",{children:l})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},error:{render({data:l}){return e.jsx("div",{children:l})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}}})},H=t=>{V(t),U(!0)},fe=async()=>{if(!R)return;_(!0);const t=new Promise(async(d,f)=>{var l,$,k,u;try{(await Y.delete(route("user.delete",{id:R.id}))).status===200&&(T&&T(R.id),U(!1),V(null),d("Employee deleted successfully"))}catch(h){console.error("Error deleting employee:",h);let B="Failed to delete employee";((l=h.response)==null?void 0:l.status)===403?B="You do not have permission to delete this employee":(($=h.response)==null?void 0:$.status)===404?B="Employee not found or already deleted":(u=(k=h.response)==null?void 0:k.data)!=null&&u.error&&(B=h.response.data.error),f(B)}finally{_(!1)}});O.promise(t,{pending:{render(){return e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(J,{size:"sm"}),e.jsx("span",{style:{marginLeft:"8px"},children:"Deleting employee..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},success:{render({data:d}){return e.jsx("div",{children:d})},icon:"âœ…",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}},error:{render({data:d}){return e.jsx("div",{children:d})},icon:"âŒ",style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-content1)",border:"1px solid var(--theme-divider)",color:"var(--theme-primary)"}}})},ae=()=>{U(!1),V(null)},ge=t=>{m({isOpen:!0,employee:t})},ue=()=>{m({isOpen:!1,employee:null})},be=(t,d)=>{p&&p(t,{profile_image_url:d})},ve=s.useMemo(()=>{const t=[{name:"#",uid:"sl",width:60},{name:"EMPLOYEE",uid:"employee",width:"auto",minWidth:200},{name:"DEPARTMENT",uid:"department",width:180},{name:"DESIGNATION",uid:"designation",width:180},{name:"ACTIONS",uid:"actions",width:80}];return g||t.splice(2,0,{name:"CONTACT",uid:"contact",width:220}),!g&&!W&&t.splice(t.length-1,0,{name:"ATTENDANCE TYPE",uid:"attendance_type",width:180}),t},[g,W]),je=(t,d,f)=>{const l=t[d],u=(c!=null&&c.currentPage&&(c!=null&&c.perPage)?Number((c.currentPage-1)*c.perPage):0)+(typeof f=="number"?f:0)+1;switch(d){case"sl":return e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-white/10 backdrop-blur-md rounded-lg border border-white/20",children:e.jsx("span",{className:"text-sm font-semibold text-foreground",children:u})})});case"employee":return e.jsxs("div",{className:"min-w-max",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Pe,{src:(t==null?void 0:t.profile_image_url)||(t==null?void 0:t.profile_image),name:t==null?void 0:t.name,size:g?"sm":"md",onClick:()=>ge(t)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"font-semibold text-foreground text-left whitespace-nowrap",children:t==null?void 0:t.name}),!g&&e.jsxs("p",{className:"text-default-500 text-left text-xs whitespace-nowrap",children:["ID: ",(t==null?void 0:t.employee_id)||"N/A"]})]})]}),g&&e.jsxs("div",{className:"flex flex-col gap-1 text-xs text-default-500 ml-10 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[e.jsx(at,{className:"w-3 h-3"}),(t==null?void 0:t.employee_id)||"N/A"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_e,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate max-w-[150px]",children:t==null?void 0:t.email})]}),(t==null?void 0:t.phone)&&e.jsxs("div",{className:"flex items-center gap-1 whitespace-nowrap",children:[e.jsx(we,{className:"w-3 h-3"}),t==null?void 0:t.phone]})]})]});case"contact":return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(_e,{className:"w-4 h-4 text-default-400"}),e.jsx("span",{className:"text-foreground",children:t==null?void 0:t.email})]}),(t==null?void 0:t.phone)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(we,{className:"w-4 h-4 text-default-400"}),e.jsx("span",{className:"text-foreground",children:t==null?void 0:t.phone})]})]});case"department":return e.jsx("div",{className:"flex flex-col gap-2 min-w-[150px]",children:e.jsxs(ne,{children:[e.jsx(le,{children:e.jsx(w,{variant:"bordered",size:"sm",className:"justify-between backdrop-blur-md border-white/20 min-w-[150px] bg-white/10 hover:bg-white/15 transition-all duration-300",startContent:e.jsx(he,{className:"w-4 h-4"}),endContent:e.jsx(de,{className:"w-4 h-4 rotate-90"}),children:e.jsx("span",{children:t.department_name||"Select Department"})})}),e.jsx(ie,{"aria-label":"Department options",children:j==null?void 0:j.map(F=>e.jsx(te,{onPress:()=>o(t.id,F.id),children:F.name},F.id.toString()))})]})});case"designation":const h=t.department_id,B=(a==null?void 0:a.filter(F=>F.department_id===parseInt(h)))||[];return e.jsx("div",{className:"flex flex-col gap-2 min-w-[150px]",children:e.jsxs(ne,{isDisabled:!h,children:[e.jsx(le,{children:e.jsx(w,{variant:"bordered",size:"sm",className:`justify-between backdrop-blur-md border-white/20 min-w-[150px] transition-all duration-300 ${h?"bg-white/10 hover:bg-white/15":"bg-gray-500/20 border-gray-400/40 opacity-50"}`,isDisabled:!h,startContent:e.jsx(pe,{className:"w-4 h-4"}),endContent:h&&e.jsx(de,{className:"w-4 h-4 rotate-90"}),children:e.jsx("span",{children:h?t.designation_name||"Select Designation":"Select Department First"})})}),e.jsx(ie,{"aria-label":"Designation options",children:B.map(F=>e.jsx(te,{onPress:()=>v(t.id,F.id),children:F.title},F.id.toString()))})]})});case"attendance_type":return e.jsx("div",{className:"flex flex-col gap-2 min-w-[150px]",children:e.jsxs(ne,{children:[e.jsx(le,{children:e.jsx(w,{variant:"bordered",size:"sm",className:"justify-between backdrop-blur-md border-white/20 min-w-[150px] bg-white/10 hover:bg-white/15 transition-all duration-300",startContent:e.jsx(Ne,{className:"w-4 h-4"}),endContent:e.jsx(de,{className:"w-4 h-4 rotate-90"}),children:e.jsx("span",{children:t.attendance_type_name||"Select Type"})})}),e.jsx(ie,{"aria-label":"Attendance Type options",children:b==null?void 0:b.map(F=>e.jsx(te,{onPress:()=>P(t.id,F.id),children:F.name},F.id.toString()))})]})});case"actions":return e.jsx("div",{className:"relative flex justify-center items-center",children:e.jsxs(ne,{children:[e.jsx(le,{children:e.jsx(w,{isIconOnly:!0,variant:"light",className:"text-default-400 hover:text-foreground transition-all duration-300",children:e.jsx(de,{className:"w-5 h-5"})})}),e.jsxs(ie,{"aria-label":"Employee Actions",children:[e.jsx(te,{startContent:e.jsx(Oe,{className:"w-4 h-4"}),onPress:()=>ye.visit(route("profile",{user:t.id})),children:"Edit Profile"},"edit"),e.jsx(te,{className:"text-danger",color:"danger",startContent:e.jsx(Fe,{className:"w-4 h-4"}),onPress:()=>H(t),children:"Delete"},"delete")]})]})});default:return l}},se=()=>!c||Z?null:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 py-2",style:{borderTop:"1px solid color-mix(in srgb, var(--theme-content3) 30%, transparent)",background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)",backdropFilter:"blur(16px)"},children:[e.jsxs("span",{className:"text-xs mb-3 sm:mb-0 opacity-70",style:{color:"var(--theme-foreground)"},children:["Showing ",(c.currentPage-1)*c.perPage+1," to ",Math.min(c.currentPage*c.perPage,c.total)," of ",c.total," employees"]}),e.jsx(Ge,{total:Math.ceil(c.total/c.perPage),initialPage:c.currentPage,page:c.currentPage,onChange:D,size:g?"sm":"md",variant:"bordered",showControls:!0,style:{"--pagination-item-bg":"color-mix(in srgb, var(--theme-content2) 50%, transparent)","--pagination-item-border":"color-mix(in srgb, var(--theme-content3) 50%, transparent)"}})]});return e.jsxs("div",{className:"w-full overflow-hidden flex flex-col relative",style:{maxHeight:"calc(100vh - 200px)",background:"color-mix(in srgb, var(--theme-content1) 85%, transparent)",backdropFilter:"blur(16px)",border:"1px solid color-mix(in srgb, var(--theme-content2) 50%, transparent)",borderRadius:x()},children:[Z&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-50",style:{background:"color-mix(in srgb, var(--theme-content1) 20%, transparent)",backdropFilter:"blur(8px)",borderRadius:x()},children:e.jsxs("div",{className:"flex flex-col items-center gap-4 p-6",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:x(),backdropFilter:"blur(16px)"},children:[e.jsx(J,{size:"lg",color:"primary"}),e.jsx("span",{className:"text-sm",style:{color:"var(--theme-foreground)"},children:"Loading employees..."})]})}),e.jsx("div",{className:"overflow-auto grow",children:e.jsxs(st,{"aria-label":"Employees table",removeWrapper:!0,classNames:{base:"bg-transparent min-w-[800px]",th:"backdrop-blur-md font-medium text-xs sticky top-0 z-10 whitespace-nowrap",td:"py-3 whitespace-nowrap",table:"border-collapse table-auto",thead:"",tr:"hover:opacity-80 transition-all duration-200"},style:{"--table-header-bg":"color-mix(in srgb, var(--theme-content2) 60%, transparent)","--table-row-hover":"color-mix(in srgb, var(--theme-content2) 30%, transparent)","--table-border":"color-mix(in srgb, var(--theme-content3) 30%, transparent)"},isHeaderSticky:!0,isCompact:g,children:[e.jsx(ot,{columns:ve,children:t=>e.jsx(dt,{align:t.uid==="actions"||t.uid==="sl"?"center":"start",width:t.width,minWidth:t.minWidth,className:`backdrop-blur-md ${t.uid==="employee"?"whitespace-nowrap":""}`,style:{backgroundColor:"color-mix(in srgb, var(--theme-content2) 60%, transparent)",color:"var(--theme-foreground)",borderBottom:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)"},children:t.name},t.uid)}),e.jsx(nt,{items:C||[],emptyContent:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(ke,{className:"w-12 h-12 mb-4 opacity-40",style:{color:"var(--theme-foreground)"}}),e.jsx("h6",{className:"text-lg font-semibold mb-2",style:{color:"var(--theme-foreground)"},children:"No employees found"}),e.jsx("p",{className:"text-sm opacity-70",style:{color:"var(--theme-foreground)"},children:"Try adjusting your search or filter criteria"})]}),loadingContent:e.jsx(J,{}),isLoading:Z,children:(t,d)=>{const f=C?C.findIndex(l=>l.id===t.id):d;return e.jsx(lt,{className:"transition-all duration-200 hover:scale-[1.01]",style:{color:"var(--theme-foreground)",borderBottom:"1px solid color-mix(in srgb, var(--theme-content3) 30%, transparent)"},children:l=>e.jsx(it,{className:"transition-all duration-300",children:e.jsx("div",{className:"transition-all duration-200",children:je(t,l,f)})})},t.id)}})]})}),se(),e.jsx(vt,{open:I,onClose:ae,employee:R,onConfirm:fe,loading:M}),e.jsx(jt,{isOpen:i.isOpen,onClose:ue,employee:i.employee,onImageUpdate:be})]})},wt=({title:C,departments:j,designations:a,attendanceTypes:b})=>{var se,t,d,f,l,$,k,u,h,B,F,Ce,Re,Se,De,Ee;const[y,g]=s.useState(!1),[W,c]=s.useState(!1),[D,E]=s.useState(!1),[L,Z]=s.useState(!1);s.useEffect(()=>{const r=()=>{g(window.innerWidth<640),c(window.innerWidth<768),E(window.innerWidth>=1025),Z(window.innerWidth>=641&&window.innerWidth<=1024)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]);const[p,T]=s.useState([]),[N,X]=s.useState(!0),[re,G]=s.useState(0),[q,K]=s.useState(1),[I,U]=s.useState({search:"",department:"all",designation:"all",attendanceType:"all"}),[R,V]=s.useState("table"),[M,_]=s.useState(!1),[i,m]=s.useState({currentPage:1,perPage:10,total:0}),x=()=>{var A;if(typeof window>"u")return"lg";const n=((A=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:A.trim())||"12px",S=parseInt(n);return S===0?"none":S<=4?"sm":S<=8?"md":S<=16?"lg":"full"},[o,v]=s.useState({overview:{total_employees:0,active_employees:0,inactive_employees:0,total_departments:0,total_designations:0,total_attendance_types:0},distribution:{by_department:[],by_designation:[],by_attendance_type:[]},hiring_trends:{recent_hires:{last_30_days:0,last_90_days:0,last_year:0},monthly_growth_rate:0,current_month_hires:0},workforce_health:{status_ratio:{active_percentage:0,inactive_percentage:0,retention_rate:0},retention_rate:0,turnover_rate:0},quick_metrics:{headcount:0,active_ratio:0,department_diversity:0,role_diversity:0,recent_activity:0}}),P=s.useCallback(async()=>{X(!0);try{const{data:r}=await Y.get(route("employees.paginate"),{params:{page:i.currentPage,perPage:i.perPage,search:I.search,department:I.department,designation:I.designation,attendanceType:I.attendanceType}});T(r.employees.data),G(r.employees.total),K(r.employees.last_page),m(n=>({...n,total:r.employees.total})),r.stats&&v(r.stats)}catch(r){console.error("Error fetching employees:",r),O.error("Failed to load employees data")}finally{X(!1)}},[i.currentPage,i.perPage,I]),H=s.useCallback(async()=>{try{const{data:r}=await Y.get(route("employees.stats"));r.stats&&v(r.stats)}catch(r){console.error("Error fetching employee stats:",r)}},[]);s.useEffect(()=>{P(),H()},[P,H]);const fe=s.useCallback(r=>{U(n=>({...n,search:r})),m(n=>({...n,currentPage:1}))},[]);s.useCallback(r=>{U(n=>({...n,department:r,designation:r!=="all"?"all":n.designation})),m(n=>({...n,currentPage:1}))},[]),s.useCallback(r=>{U(n=>({...n,designation:r})),m(n=>({...n,currentPage:1}))},[]),s.useCallback(r=>{U(n=>({...n,attendanceType:r})),m(n=>({...n,currentPage:1}))},[]);const ae=s.useCallback(r=>{m(n=>({...n,currentPage:r}))},[]),ge=s.useCallback(r=>{m(n=>({...n,perPage:r,currentPage:1}))},[]),ue=s.useCallback((r,n)=>{T(S=>S.map(A=>A.id===r?{...A,...n}:A))},[]),be=s.useCallback(r=>{T(n=>n.filter(S=>S.id!==r)),G(n=>n-1),m(n=>({...n,total:n.total-1})),H()},[H]);s.useMemo(()=>I.department==="all"?a:a.filter(r=>r.department_id===parseInt(I.department)),[a,I.department]);const ve=s.useMemo(()=>{var r,n,S,A,ee,z,Ie,$e,Ae,Me,Le;return[{title:"Total Employees",value:((r=o.overview)==null?void 0:r.total_employees)||0,icon:e.jsx(oe,{}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"Total Headcount"},{title:"Active Employees",value:((n=o.overview)==null?void 0:n.active_employees)||0,icon:e.jsx(Be,{}),color:"text-green-400",iconBg:"bg-green-500/20",description:`${((A=(S=o.workforce_health)==null?void 0:S.status_ratio)==null?void 0:A.active_percentage)||0}% Active`},{title:"Departments",value:((ee=o.overview)==null?void 0:ee.total_departments)||0,icon:e.jsx(he,{}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Department Diversity"},{title:"Designations",value:((z=o.overview)==null?void 0:z.total_designations)||0,icon:e.jsx(pe,{}),color:"text-orange-400",iconBg:"bg-orange-500/20",description:"Role Diversity"},{title:"Retention Rate",value:`${((Ie=o.workforce_health)==null?void 0:Ie.retention_rate)||0}%`,icon:e.jsx(ct,{}),color:"text-emerald-400",iconBg:"bg-emerald-500/20",description:"Employee Retention"},{title:"Recent Hires",value:((Ae=($e=o.hiring_trends)==null?void 0:$e.recent_hires)==null?void 0:Ae.last_30_days)||0,icon:e.jsx(Ue,{}),color:"text-cyan-400",iconBg:"bg-cyan-500/20",description:"Last 30 Days"},{title:"Growth Rate",value:`${((Me=o.hiring_trends)==null?void 0:Me.monthly_growth_rate)||0}%`,icon:e.jsx(mt,{}),color:"text-pink-400",iconBg:"bg-pink-500/20",description:"Monthly Growth"},{title:"Attendance Types",value:((Le=o.overview)==null?void 0:Le.total_attendance_types)||0,icon:e.jsx(Ne,{}),color:"text-indigo-400",iconBg:"bg-indigo-500/20",description:"Available Types"}]},[o]),je=({user:r,index:n})=>{const S=j==null?void 0:j.find(z=>z.id===r.department_id),A=a==null?void 0:a.find(z=>z.id===r.designation_id),ee=b==null?void 0:b.find(z=>z.id===r.attendance_type_id);return e.jsx(ce,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-200 cursor-pointer h-full",onPress:()=>ye.visit(route("profile",{user:r.id})),children:e.jsxs(me,{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3 pb-3 border-b border-white/10",children:[e.jsx("div",{className:"shrink-0",children:e.jsx(Pe,{src:(r==null?void 0:r.profile_image_url)||(r==null?void 0:r.profile_image),name:r==null?void 0:r.name,size:"md",fallback:e.jsx(ke,{className:"w-4 h-4"})})}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("span",{className:"font-semibold text-foreground text-left text-sm",children:r==null?void 0:r.name}),e.jsxs("span",{className:"text-default-500 text-left text-xs",children:["ID: ",(r==null?void 0:r.employee_id)||"N/A"]})]}),e.jsx("div",{className:"flex-1 min-w-0 flex justify-end",children:e.jsx(w,{isIconOnly:!0,size:"sm",variant:"light",className:"text-default-400 hover:text-foreground",onPress:z=>{z.stopPropagation(),ye.visit(route("profile",{user:r.id}))},children:e.jsx(Oe,{className:"w-4 h-4"})})})]}),e.jsx("div",{className:"flex-1 flex flex-col gap-3",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(_e,{className:"w-4 h-4 text-default-400 shrink-0"}),e.jsx("span",{className:"text-default-600 text-xs truncate",children:r==null?void 0:r.email})]}),(r==null?void 0:r.phone)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(we,{className:"w-4 h-4 text-default-400 shrink-0"}),e.jsx("span",{className:"text-default-600 text-xs",children:r==null?void 0:r.phone})]})]})}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex flex-wrap gap-2",children:[S&&e.jsx(Q,{size:"sm",variant:"flat",color:"primary",className:"text-xs",startContent:e.jsx(he,{className:"w-3 h-3"}),children:S.name}),A&&e.jsx(Q,{size:"sm",variant:"flat",color:"secondary",className:"text-xs",startContent:e.jsx(pe,{className:"w-3 h-3"}),children:A.title}),ee&&e.jsx(Q,{size:"sm",variant:"bordered",className:"text-xs",startContent:e.jsx(Ne,{className:"w-3 h-3"}),children:ee.name})]})]})})};return e.jsxs(e.Fragment,{children:[e.jsx(Ve,{title:C||"Employee Directory"}),e.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Employee Directory Management",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full",children:e.jsx(xt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.jsxs(ce,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                    var(--theme-content1, #FAFAFA) 20%, 
                    var(--theme-content2, #F4F4F5) 10%, 
                    var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(ze,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                      color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                      color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:e.jsx("div",{className:`${D?"p-6":L?"p-4":"p-3"} w-full`,children:e.jsx("div",{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx("div",{className:`
                              ${D?"p-3":L?"p-2.5":"p-2"} 
                              rounded-xl flex items-center justify-center
                            `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(oe,{className:`
                                ${D?"w-8 h-8":L?"w-6 h-6":"w-5 h-5"}
                              `,style:{color:"var(--theme-primary)"}})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:`
                                ${D?"text-2xl":L?"text-xl":"text-lg"}
                                font-bold text-foreground
                                ${D?"":"truncate"}
                              `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Employee Directory"}),e.jsx("p",{className:`
                                ${D?"text-sm":"text-xs"} 
                                text-default-500
                                ${D?"":"truncate"}
                              `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Manage employee information and organizational structure"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:e.jsx(w,{className:"text-white font-medium",style:{background:"linear-gradient(135deg, var(--theme-primary), color-mix(in srgb, var(--theme-primary) 80%, var(--theme-secondary)))",borderRadius:x()},startContent:e.jsx(Ue,{className:"w-4 h-4"}),children:y?"Add":"Add Employee"})})]})})})}),e.jsxs(me,{className:"p-6",children:[e.jsx(et,{stats:ve,className:"mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"p-4",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:x(),backdropFilter:"blur(16px)"},children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--theme-foreground)"},children:"Department Distribution"}),e.jsx("div",{className:"space-y-3",children:(t=(se=o.distribution)==null?void 0:se.by_department)==null?void 0:t.slice(0,5).map((r,n)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-80",style:{color:"var(--theme-foreground)"},children:r.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-2 rounded-full overflow-hidden",style:{background:"color-mix(in srgb, var(--theme-content3) 40%, transparent)"},children:e.jsx("div",{className:"h-full rounded-full",style:{width:`${r.percentage}%`,background:"linear-gradient(90deg, var(--theme-primary), color-mix(in srgb, var(--theme-primary) 80%, var(--theme-secondary)))"}})}),e.jsx("span",{className:"text-xs w-8 opacity-70",style:{color:"var(--theme-foreground)"},children:r.count})]})]},n))})]}),e.jsxs("div",{className:"p-4",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:x(),backdropFilter:"blur(16px)"},children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--theme-foreground)"},children:"Hiring Trends"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-80",style:{color:"var(--theme-foreground)"},children:"Last 30 Days"}),e.jsx("span",{className:"text-sm font-medium",style:{color:"var(--theme-foreground)"},children:((f=(d=o.hiring_trends)==null?void 0:d.recent_hires)==null?void 0:f.last_30_days)||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-80",style:{color:"var(--theme-foreground)"},children:"Last 90 Days"}),e.jsx("span",{className:"text-sm font-medium",style:{color:"var(--theme-foreground)"},children:(($=(l=o.hiring_trends)==null?void 0:l.recent_hires)==null?void 0:$.last_90_days)||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"This Year"}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:((u=(k=o.hiring_trends)==null?void 0:k.recent_hires)==null?void 0:u.last_year)||0})]}),e.jsx("div",{className:"pt-2 border-t border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Monthly Growth"}),e.jsxs("span",{className:`text-sm font-medium ${(((h=o.hiring_trends)==null?void 0:h.monthly_growth_rate)||0)>=0?"text-green-400":"text-red-400"}`,children:[((B=o.hiring_trends)==null?void 0:B.monthly_growth_rate)||0,"%"]})]})})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Workforce Health"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Retention Rate"}),e.jsxs("span",{className:"text-sm font-medium text-green-400",children:[((F=o.workforce_health)==null?void 0:F.retention_rate)||0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Turnover Rate"}),e.jsxs("span",{className:"text-sm font-medium text-orange-400",children:[((Ce=o.workforce_health)==null?void 0:Ce.turnover_rate)||0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Active Employees"}),e.jsxs("span",{className:"text-sm font-medium text-blue-400",children:[((Se=(Re=o.workforce_health)==null?void 0:Re.status_ratio)==null?void 0:Se.active_percentage)||0,"%"]})]})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Attendance Types"}),e.jsx("div",{className:"space-y-3",children:(Ee=(De=o.distribution)==null?void 0:De.by_attendance_type)==null?void 0:Ee.map((r,n)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-default-600",children:r.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-linear-to-r from-green-500 to-emerald-500 rounded-full",style:{width:`${r.percentage}%`}})}),e.jsx("span",{className:"text-xs text-default-500 w-8",children:r.count})]})]},n))})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[e.jsx("div",{className:"flex-1",children:e.jsx(gt,{label:"Search Employees",placeholder:"Search by name, email, or employee ID...",value:I.search,onChange:r=>fe(r.target.value),startContent:e.jsx(ht,{className:"w-4 h-4 text-default-400"}),variant:"bordered",size:"sm",radius:x(),classNames:{input:"text-sm"},style:{fontFamily:'var(--fontFamily, "Inter")'},"aria-label":"Search employees"})}),e.jsxs("div",{className:"flex gap-2 items-end",children:[e.jsxs(ut,{variant:"bordered",style:{background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",borderRadius:x()},children:[e.jsxs(w,{isIconOnly:y,color:R==="table"?"primary":"default",onPress:()=>V("table"),style:{background:R==="table"?"var(--theme-primary)":"transparent",color:R==="table"?"white":"var(--theme-foreground)"},children:[e.jsx(pt,{className:"w-4 h-4"}),!y&&e.jsx("span",{className:"ml-1",children:"Table"})]}),e.jsxs(w,{isIconOnly:y,color:R==="grid"?"primary":"default",onPress:()=>V("grid"),style:{background:R==="grid"?"var(--theme-primary)":"transparent",color:R==="grid"?"white":"var(--theme-foreground)"},children:[e.jsx(qe,{className:"w-4 h-4"}),!y&&e.jsx("span",{className:"ml-1",children:"Grid"})]})]}),e.jsx(w,{isIconOnly:!0,variant:"bordered",onPress:()=>_(!M),style:{background:M?"color-mix(in srgb, var(--theme-primary) 20%, transparent)":"color-mix(in srgb, var(--theme-content2) 30%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",color:M?"var(--theme-primary)":"var(--theme-foreground)",borderRadius:x()},children:e.jsx(ft,{className:"w-4 h-4"})})]})]})}),e.jsxs(ce,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',background:`linear-gradient(135deg, 
                      var(--theme-content1, #FAFAFA) 20%, 
                      var(--theme-content2, #F4F4F5) 10%, 
                      var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(ze,{className:"border-b pb-2",style:{borderColor:"var(--theme-divider, #E4E4E7)"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg flex items-center justify-center",style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)"},children:e.jsx(oe,{className:"w-6 h-6",style:{color:"var(--theme-primary)"}})}),e.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Employee Directory"})]})}),e.jsx(me,{children:e.jsx("div",{className:"max-h-[84vh] overflow-y-auto",children:N?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(J,{size:"lg",color:"primary"}),e.jsx("p",{className:"mt-4 text-default-500",children:"Loading employees data..."})]}):R==="table"?e.jsx(yt,{allUsers:p,departments:j,designations:a,attendanceTypes:b,setUsers:T,isMobile:y,isTablet:W,pagination:i,onPageChange:ae,onRowsPerPageChange:ge,totalUsers:re,loading:N,updateEmployeeOptimized:ue,deleteEmployeeOptimized:be}):e.jsxs("div",{className:"p-4",children:[p.length>0?e.jsx("div",{className:`grid gap-4 ${y?"grid-cols-1":W?"grid-cols-2":"grid-cols-3 xl:grid-cols-4"}`,children:p.map((r,n)=>e.jsx(je,{user:r,index:n},r.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(oe,{className:"w-12 h-12 mx-auto text-default-300 mb-2"}),e.jsx("p",{className:"text-base text-default-500",children:"No employees found"}),e.jsx("p",{className:"text-sm text-default-500",children:"Try adjusting your search or filters"})]}),p.length>0&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 py-2",style:{borderTop:"1px solid color-mix(in srgb, var(--theme-content3) 30%, transparent)",background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)",backdropFilter:"blur(16px)"},children:[e.jsxs("span",{className:"text-xs mb-3 sm:mb-0 opacity-70",style:{color:"var(--theme-foreground)"},children:["Showing ",(i.currentPage-1)*i.perPage+1," to ",Math.min(i.currentPage*i.perPage,i.total)," of ",i.total," employees"]}),e.jsx(Ge,{total:Math.ceil(i.total/i.perPage),initialPage:i.currentPage,page:i.currentPage,onChange:ae,size:y?"sm":"md",variant:"bordered",showControls:!0,style:{"--pagination-item-bg":"color-mix(in srgb, var(--theme-content2) 50%, transparent)","--pagination-item-border":"color-mix(in srgb, var(--theme-content3) 50%, transparent)"}})]})]})})})]})]})]})})})})})]})};wt.layout=C=>e.jsx(Ke,{children:C});export{wt as default};
