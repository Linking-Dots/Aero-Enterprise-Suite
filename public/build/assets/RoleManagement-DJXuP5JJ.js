import{r as t,u as na,j as s,a as ce,Q as oa,c as bs,b as me,d as x,F as da,S as ca}from"./app-DdqkxNqc.js";import{u as js,F as vs,a as Oe,b as ma,t as ua,c as ze,G as Ve,A as fa}from"./Dashboard-BuPTrs0M.js";import{G as Ne}from"./GlassCard-vGYquqmt.js";import{P as ha}from"./PageHeader-_xpjRRsV.js";import{S as xa}from"./StatsCards-BeaQQ3dr.js";import{s as w}from"./toastUtils-CnFY-NBf.js";import{F as ue}from"./UserGroupIcon-BIG-k9J4.js";import{F as fe}from"./KeyIcon-BmhM0cNB.js";import{F as pa}from"./FunnelIcon-Dd9iBhiv.js";import{F as ys}from"./ExclamationTriangleIcon-Cx_A3Cb8.js";import{m as ga}from"./proxy-9z4GQLrO.js";import{F as We}from"./AdjustmentsHorizontalIcon-TLZN605C.js";import{F as ba}from"./DocumentArrowDownIcon-suZUHV-f.js";import{F as ja}from"./ShieldCheckIcon-B6hjmrji.js";import{t as Ns}from"./chunk-QESP63UR-42i-Qcf0.js";import{i as Y}from"./chunk-SSA7SXE4-DfYsrAia.js";import{F as ws}from"./PlusIcon-BAEDVVHJ.js";import{F as Be}from"./MagnifyingGlassIcon-W8BRqm9S.js";import{F as Ss}from"./PencilSquareIcon-oJu8L-81.js";import{F as Rs}from"./TrashIcon-v4NIG3WI.js";import{p as Ps}from"./chunk-XVMALT6H-BiC5EGCk.js";import{s as he,l as _}from"./chunk-Y2AYO5NJ-BLCFxBeM.js";import{c as we}from"./chunk-D5XJWRAV-YNFBjQ4Q.js";import{c as M}from"./chunk-IHOGUXIG-DagAfNc7.js";import{t as Se}from"./XMarkIcon-Ez7IFvKs.js";import{s as va}from"./chunk-TQNYOUFX-DAhJMypB.js";import"./MapPinIcon-B1-gbW1C.js";import"./EnvelopeIcon-_pt5YOkt.js";import"./ClockIcon-9E0zJrPx.js";import"./UserIcon-CpRnXDGy.js";import"./index-CWMo2YAT.js";import"./logo-Pwvcz7fP.js";import"./features-animation-BAMlXg9a.js";import"./create-visual-element-DNTjixxh.js";import"./CheckCircleIcon-Dc6UHYyO.js";import"./chunk-TLYTI3QM-BW0INqF4.js";import"./useProgressBar-DDJFSv8t.js";import"./NumberFormatter-DNR9MAW-.js";import"./useToggleState-B6OsUovc.js";const qe=m=>Array.isArray(m)?[...m]:[],Cs=m=>m&&typeof m=="object"&&!Array.isArray(m)?{...m}:{},ya=m=>{const h={roles:qe(m.roles),permissions:qe(m.permissions),role_has_permissions:qe(m.role_has_permissions),permissionsGrouped:Cs(m.permissionsGrouped||m.permissions_grouped),enterprise_modules:Cs(m.enterprise_modules),errors:[]};if(h.roles.length===0&&h.errors.push("No roles data available"),h.permissions.length===0&&h.errors.push("No permissions data available"),h.roles.length>0&&h.permissions.length>0&&h.role_has_permissions.length===0&&h.errors.push("Role-permission relationships missing - this may indicate a cache or database issue"),h.role_has_permissions.length>0){const O=h.roles.map(E=>E.id),xe=h.permissions.map(E=>E.id),R=h.role_has_permissions.filter(E=>!O.includes(E.role_id)||!xe.includes(E.permission_id));R.length>0&&h.errors.push(`${R.length} invalid role-permission relationships found`)}return h},Qe=(m,h)=>{const[O,xe]=t.useState(m);return t.useEffect(()=>{const R=setTimeout(()=>{xe(m)},h);return()=>{clearTimeout(R)}},[m,h]),O},f={IDLE:"idle",LOADING:"loading",SUCCESS:"success",ERROR:"error"},Na=m=>{const h=t.useMemo(()=>ya(m),[m]),O=h.roles,xe=h.permissions,R=h.permissionsGrouped,E=h.role_has_permissions;h.enterprise_modules;const Ue=!!m.can_manage_super_admin,_s=m.title;m.error;const Ke=h.errors,pe=m.users||[],Z=t.useRef(new Map),ee=t.useRef(new Map),se=t.useRef(Date.now()),{themeSettings:Te}=na();Te==null||Te.mode;const Re=js("(max-width: 640px)");js("(max-width: 768px)");const p=()=>{var l;if(typeof window>"u")return"lg";const a=((l=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:l.trim())||"12px",r=parseInt(a);return r===0?"none":r<=4?"sm":r<=8?"md":r<=16?"lg":"full"},[ge,Ds]=t.useState(0),[g,He]=t.useState(O),[b,Xe]=t.useState(xe),[z,Pe]=t.useState(E),[U,As]=t.useState(O.length>0?O[0].id:null),[P,T]=t.useState(new Set),[v,F]=t.useState(!1),[D,y]=t.useState({permissions:{},modules:{},roles:f.IDLE,users:f.IDLE}),[ks,Je]=t.useState(!1),[Ms,Ye]=t.useState(!1),[wa,Ze]=t.useState(!1),[Sa,es]=t.useState(!1),[$,ss]=t.useState(null),[G,as]=t.useState(null),[Ra,ts]=t.useState(null),[Pa,rs]=t.useState(null),[Es,ae]=t.useState(!1),[te,ls]=t.useState(null),[Ce,is]=t.useState(null),[_e,ns]=t.useState(""),[De,os]=t.useState(""),[Ae,ds]=t.useState(""),[re,cs]=t.useState("all"),[V,ms]=t.useState("all"),[be,us]=t.useState("all"),ke=Qe(_e,300),Me=Qe(De,300),Ee=Qe(Ae,300),[le,Fe]=t.useState(0),[ie,Ie]=t.useState(0),[ne,Le]=t.useState(0),[W,Ca]=t.useState(10),[B,_a]=t.useState(10),[q,Da]=t.useState(10),[Aa,N]=t.useState(""),[ka,je]=t.useState(""),[I,oe]=t.useState({name:"",description:"",permissions:[],hierarchy_level:10,is_active:!0}),[A,Q]=t.useState({name:"",display_name:"",description:"",module:"",guard_name:"web"}),[k,C]=t.useState({}),[Ma,fs]=t.useState(new Set),[Ea,hs]=t.useState(new Set),[Fa,Ia]=t.useState(!1),o=t.useMemo(()=>g.find(e=>e.id===U)||null,[g,U]),K=t.useCallback(e=>{if(Array.isArray(z)){const a=z.filter(r=>r&&r.role_id===e).map(r=>r.permission_id).filter(Boolean);if(a.length>0)return a}if(Array.isArray(g)){const a=g.find(r=>r&&r.id===e);if(a&&Array.isArray(a.permissions))return a.permissions.map(r=>r.id).filter(Boolean)}return[]},[z,g]);t.useEffect(()=>{if(U){const e=K(U),a=new Set(e);(a.size!==P.size||[...a].some(r=>!P.has(r)))&&T(a)}else P.size>0&&T(new Set)},[U,z,g,K]),t.useMemo(()=>o,[o==null?void 0:o.id,o==null?void 0:o.name]),t.useMemo(()=>Ue,[Ue]);const H=t.useMemo(()=>({totalRoles:Array.isArray(g)?g.length:0,totalPermissions:Array.isArray(b)?b.length:0,activeRole:(o==null?void 0:o.name)||"None Selected",grantedPermissions:P.size}),[g,b,o,P]);t.useMemo(()=>[{title:"Total Roles",value:H.totalRoles,icon:s.jsx(ue,{}),color:"text-blue-600",iconBg:"bg-blue-500/20",description:"System roles"},{title:"Permissions",value:H.totalPermissions,icon:s.jsx(fe,{}),color:"text-green-600",iconBg:"bg-green-500/20",description:"Available permissions"},{title:"Active Role",value:H.activeRole==="None Selected"?"None":H.activeRole,icon:s.jsx(vs,{}),color:"text-purple-600",iconBg:"bg-purple-500/20",description:"Currently selected",customStyle:H.activeRole==="None Selected"?{fontSize:"1rem"}:{}},{title:"Granted",value:H.grantedPermissions,icon:s.jsx(pa,{}),color:"text-orange-600",iconBg:"bg-orange-500/20",description:"Active permissions"}],[H]);const X=t.useMemo(()=>g.filter(e=>{const a=ke===""||e.name.toLowerCase().includes(ke.toLowerCase())||e.description&&e.description.toLowerCase().includes(ke.toLowerCase()),r=re==="all"||re==="active"&&e.is_active!==!1||re==="inactive"&&e.is_active===!1;return a&&r}),[g,ke,re]),J=t.useMemo(()=>b.filter(e=>{const a=Me===""||e.name&&e.name.toLowerCase().includes(Me.toLowerCase())||e.display_name&&e.display_name.toLowerCase().includes(Me.toLowerCase()),r=V==="all"||e.module===V||e.name&&e.name.startsWith(V);return a&&r}),[b,Me,V]),de=t.useMemo(()=>pe.filter(e=>{var l,i;const a=Ee===""||((l=e.name)==null?void 0:l.toLowerCase().includes(Ee.toLowerCase()))||((i=e.email)==null?void 0:i.toLowerCase().includes(Ee.toLowerCase())),r=be==="all"||e.roles&&e.roles.some(u=>u.name===be);return a&&r}),[pe,Ee,be]),Fs=t.useMemo(()=>{const e=le*W;return X.slice(e,e+W)},[X,le,W]),Is=t.useMemo(()=>{const e=ie*B;return J.slice(e,e+B)},[J,ie,B]),Ls=t.useMemo(()=>{const e=ne*q;return de.slice(e,e+q)},[de,ne,q]),ve=t.useMemo(()=>{const e=new Set;return b.forEach(a=>{a.module?e.add(a.module):a.name&&a.name.includes(".")&&e.add(a.name.split(".")[0])}),Array.from(e).sort()},[b]),Os=t.useMemo(()=>g.map(e=>e.name).sort(),[g]),L=t.useCallback((e,a)=>{if(Array.isArray(z)&&Array.isArray(b)){const r=z.filter(i=>i&&i.role_id===e),l=b.find(i=>i&&i.name===a);if(l&&r.some(i=>i.permission_id===l.id))return!0}if(Array.isArray(g)){const r=g.find(l=>l&&l.id===e);if(r&&Array.isArray(r.permissions))return r.permissions.some(l=>l&&l.name===a)}if(o&&o.id===e&&P.size>0){const r=b.find(l=>l&&l.name===a);if(r)return P.has(r.id)}return!1},[z,b,g,o,P]);t.useCallback(e=>!o||!R[e]?!1:R[e].permissions.every(r=>L(o.id,r.name)),[o,R,L]),t.useCallback(e=>!o||!R[e]?!1:R[e].permissions.some(r=>L(o.id,r.name)),[o,R,L]);const xs=e=>e.name==="Super Administrator"?Ue:!0,zs=t.useCallback(e=>{try{As(e);const a=K(e);T(new Set(a)),N("")}catch(a){console.error("Error selecting role:",a),N("Failed to select role. Please try again.")}},[K]),Us=t.useCallback(e=>{ns(e),Fe(0)},[]),Ts=t.useCallback(e=>{os(e),Ie(0)},[]),$s=t.useCallback(e=>{ds(e),Le(0)},[]),Gs=t.useCallback(e=>{cs(e),Fe(0)},[]),Vs=t.useCallback(e=>{ms(e),Ie(0)},[]),Ws=t.useCallback(e=>{us(e),Le(0)},[]),ps=t.useCallback((e=null)=>{ss(e),oe({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",permissions:(e==null?void 0:e.permissions)||[],hierarchy_level:(e==null?void 0:e.hierarchy_level)||10,is_active:(e==null?void 0:e.is_active)??!0}),Je(!0),C({}),N("")},[]),$e=t.useCallback(()=>{Je(!1),ss(null),C({}),N(""),oe({name:"",description:"",permissions:[],hierarchy_level:10,is_active:!0})},[]),gs=t.useCallback((e=null)=>{as(e),Q({name:(e==null?void 0:e.name)||"",display_name:(e==null?void 0:e.display_name)||"",description:(e==null?void 0:e.description)||"",module:(e==null?void 0:e.module)||ve[0]||"users",guard_name:(e==null?void 0:e.guard_name)||"web"}),Ye(!0),C({}),N("")},[ve]),Ge=t.useCallback(()=>{Ye(!1),as(null),C({}),N(""),Q({name:"",display_name:"",description:"",module:"",guard_name:"web"})},[]);t.useCallback(e=>{ts(e),Ze(!0);const a=K(e.id);hs(new Set(a))},[K]),t.useCallback(()=>{Ze(!1),ts(null),hs(new Set)},[]);const Bs=t.useCallback(e=>{rs(e),es(!0);const a=e.roles?new Set(e.roles.map(r=>r.id)):new Set;fs(a)},[]);t.useCallback(()=>{es(!1),rs(null),fs(new Set)},[]);const qs=t.useCallback(e=>{ls(e),ae(!0)},[]),Qs=t.useCallback(e=>{is(e),ae(!0)},[]),Ks=async()=>{var e,a;if(te){F(!0);try{await ce.delete(`/api/roles/${te.id}`),w.success("Role deleted successfully"),je("Role deleted successfully"),ae(!1),ls(null),se.current=Date.now()}catch(r){console.error("Error deleting role:",r);const l=((a=(e=r.response)==null?void 0:e.data)==null?void 0:a.message)||"Failed to delete role";w.error(l),N(l)}finally{F(!1)}}},Hs=async()=>{var e,a;if(Ce){F(!0);try{await ce.delete(`/api/permissions/${Ce.id}`),w.success("Permission deleted successfully"),je("Permission deleted successfully"),ae(!1),is(null),se.current=Date.now()}catch(r){console.error("Error deleting permission:",r);const l=((a=(e=r.response)==null?void 0:e.data)==null?void 0:a.message)||"Failed to delete permission";w.error(l),N(l)}finally{F(!1)}}},Xs=async()=>{var a,r,l;C({}),N("");const e={};if(I.name.trim()||(e.name="Role name is required"),I.name.length>255&&(e.name="Role name must be less than 255 characters"),I.description&&I.description.length>500&&(e.description="Description must be less than 500 characters"),Object.keys(e).length>0){C(e);return}F(!0),y(i=>({...i,roles:f.LOADING}));try{const i=$?`/api/roles/${$.id}`:"/api/roles",n=await ce[$?"put":"post"](i,I);(n.status===200||n.status===201)&&($?(He(c=>c.map(d=>d.id===$.id?n.data.role:d)),w.success("Role updated successfully"),je("Role updated successfully")):(He(c=>[...c,n.data.role]),w.success("Role created successfully"),je("Role created successfully")),$e(),y(c=>({...c,roles:f.SUCCESS})),setTimeout(()=>{y(c=>({...c,roles:f.IDLE})),je("")},3e3),se.current=Date.now())}catch(i){if(console.error("Error saving role:",i),y(u=>({...u,roles:f.ERROR})),((a=i.response)==null?void 0:a.status)===422&&i.response.data.errors)C(i.response.data.errors);else{const u=((l=(r=i.response)==null?void 0:r.data)==null?void 0:l.message)||"Failed to save role";w.error(u),N(u)}setTimeout(()=>{y(u=>({...u,roles:f.IDLE}))},3e3)}finally{F(!1)}},Js=async()=>{var a,r,l;C({}),N("");const e={};if(A.name.trim()||(e.name="Permission name is required"),A.display_name.trim()||(e.display_name="Display name is required"),A.module.trim()||(e.module="Module is required"),Object.keys(e).length>0){C(e);return}F(!0);try{const i=G?`/api/permissions/${G.id}`:"/api/permissions",n=await ce[G?"put":"post"](i,A);(n.status===200||n.status===201)&&(G?(Xe(c=>c.map(d=>d.id===G.id?n.data.permission:d)),w.success("Permission updated successfully")):(Xe(c=>[...c,n.data.permission]),w.success("Permission created successfully")),Ge(),se.current=Date.now())}catch(i){if(console.error("Error saving permission:",i),((a=i.response)==null?void 0:a.status)===422&&i.response.data.errors)C(i.response.data.errors);else{const u=((l=(r=i.response)==null?void 0:r.data)==null?void 0:l.message)||"Failed to save permission";w.error(u),N(u)}}finally{F(!1)}},Ys=t.useCallback(async e=>{var r,l,i,u;if(!o||D.permissions[e]===f.LOADING)return;Z.current.has(e)&&Z.current.get(e).abort();const a=new AbortController;Z.current.set(e,a),y(n=>({...n,permissions:{...n.permissions,[e]:f.LOADING}}));try{const n=L(o.id,e),c=n?"revoke":"grant",d=await ce.post("/admin/roles/update-permission",{role_id:o.id,permission:e,action:c},{signal:a.signal});if(d.status===200){if(d.data.role_has_permissions){Pe(d.data.role_has_permissions);const j=d.data.role_has_permissions.filter(S=>S.role_id===o.id).map(S=>S.permission_id);T(new Set(j))}else{const j=b.find(S=>S.name===e);j&&(n?(Pe(S=>S.filter(ye=>!(ye.role_id===o.id&&ye.permission_id===j.id))),T(S=>{const ye=new Set(S);return ye.delete(j.id),ye})):(Pe(S=>[...S,{role_id:o.id,permission_id:j.id}]),T(S=>new Set([...S,j.id]))))}y(j=>({...j,permissions:{...j.permissions,[e]:f.SUCCESS}})),setTimeout(()=>{y(j=>({...j,permissions:{...j.permissions,[e]:f.IDLE}}))},2e3),w.success(`Permission ${c}ed successfully`),se.current=Date.now()}}catch(n){n.name==="AbortError"||n.name==="CanceledError"||n.code==="ERR_CANCELED"||(console.error("Error updating permission:",n),y(d=>({...d,permissions:{...d.permissions,[e]:f.ERROR}})),setTimeout(()=>{y(d=>({...d,permissions:{...d.permissions,[e]:f.IDLE}}))},3e3),w.error(((l=(r=n.response)==null?void 0:r.data)==null?void 0:l.message)||"Failed to update permission"),N(((u=(i=n.response)==null?void 0:i.data)==null?void 0:u.message)||"Failed to update permission"))}finally{Z.current.delete(e)}},[o,D.permissions,L,b]),Zs=t.useCallback(async e=>{var r,l,i,u;if(!o||D.modules[e]===f.LOADING)return;ee.current.has(e)&&ee.current.get(e).abort();const a=new AbortController;ee.current.set(e,a),y(n=>({...n,modules:{...n.modules,[e]:f.LOADING}}));try{const n=await ce.post("/admin/roles/update-module",{roleId:o.id,module:e,action:"toggle"},{signal:a.signal});if(n.status===200){Pe(n.data.role_has_permissions);const c=n.data.role_has_permissions.filter(d=>d.role_id===o.id).map(d=>d.permission_id);T(new Set(c)),y(d=>({...d,modules:{...d.modules,[e]:f.SUCCESS}})),setTimeout(()=>{y(d=>({...d,modules:{...d.modules,[e]:f.IDLE}}))},2e3),w.success("Module permissions updated successfully"),se.current=Date.now()}}catch(n){n.name==="AbortError"||n.name==="CanceledError"||n.code==="ERR_CANCELED"||(console.error("Error updating module permissions:",n),y(d=>({...d,modules:{...d.modules,[e]:f.ERROR}})),setTimeout(()=>{y(d=>({...d,modules:{...d.modules,[e]:f.IDLE}}))},3e3),w.error(((l=(r=n.response)==null?void 0:r.data)==null?void 0:l.message)||"Failed to update module permissions"),N(((u=(i=n.response)==null?void 0:i.data)==null?void 0:u.message)||"Failed to update module permissions"))}finally{ee.current.delete(e)}},[o,D.modules]);t.useCallback((e,a)=>{oe(r=>({...r,[e]:a})),k[e]&&C(r=>({...r,[e]:void 0}))},[k]),t.useEffect(()=>()=>{Z.current.forEach(e=>e.abort()),Z.current.clear(),ee.current.forEach(e=>e.abort()),ee.current.clear()},[]),t.useEffect(()=>{const e=a=>{if(a.key==="/"&&!a.ctrlKey&&!a.metaKey&&!a.altKey){const r=a.target;if(r.tagName!=="INPUT"&&r.tagName!=="TEXTAREA"&&!r.isContentEditable){a.preventDefault();const l=document.querySelector('input[placeholder*="Search"]');l&&l.focus()}}if(a.key==="Escape"&&(_e||De||Ae||V!=="all")&&(ns(""),os(""),ds(""),ms("all"),cs("all"),us("all")),(a.ctrlKey||a.metaKey)&&a.key==="k"){a.preventDefault();const r=document.querySelector('input[placeholder*="Search"]');r&&r.focus()}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[_e,De,Ae,V,re,be]);const ea=t.useCallback(e=>D.permissions[e]||f.IDLE,[D.permissions]),sa=t.useCallback(e=>D.modules[e]||f.IDLE,[D.modules]),aa=()=>s.jsxs(Ne,{className:"mt-4",children:[s.jsxs(we,{className:"p-4 border-b border-default-200/20",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[s.jsx(ue,{className:"w-5 h-5"}),"Roles Management"]}),s.jsx(x,{onPress:()=>ps(),startContent:s.jsx(ws,{className:"w-4 h-4"}),className:"bg-primary/20 hover:bg-primary/30 border border-primary/30",variant:"bordered",radius:p(),children:"Add Role"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[s.jsx(Y,{label:"Search Roles",placeholder:"Search by role name...",value:_e,onValueChange:Us,className:"flex-1",radius:p(),startContent:s.jsx(Be,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 backdrop-blur-md border border-default-200/20 hover:bg-default-100/70 dark:hover:bg-default-50/20",input:"text-foreground placeholder:text-default-400",label:"text-default-500"}}),s.jsxs(he,{label:"Status Filter",variant:"bordered",selectedKeys:[re],onSelectionChange:e=>Gs(Array.from(e)[0]),className:"min-w-[140px]",radius:p(),classNames:{trigger:"bg-default-100/50 dark:bg-default-50/10 backdrop-blur-md border-default-200/20 hover:bg-default-100/70 dark:hover:bg-default-50/20",label:"text-default-500",value:"text-foreground"},children:[s.jsx(_,{value:"all",children:"All Status"},"all"),s.jsx(_,{value:"active",children:"Active"},"active"),s.jsx(_,{value:"inactive",children:"Inactive"},"inactive")]})]})]}),s.jsxs(me,{className:"p-0",children:[s.jsx("div",{className:"divide-y divide-white/10",children:Fs.map(e=>{const a=K(e.id),r=a.map(l=>{var i;return(i=b.find(u=>u.id===l))==null?void 0:i.name}).filter(Boolean).slice(0,3);return s.jsx("div",{className:"p-4 hover:bg-default-100/50 dark:hover:bg-default-50/10 transition-colors",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center text-white font-bold",children:e.name.charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-foreground",children:e.name}),e.name==="Super Administrator"&&s.jsx(M,{size:"sm",color:"warning",variant:"flat",children:"System"}),s.jsx(M,{size:"sm",color:e.is_active!==!1?"success":"default",variant:"flat",children:e.is_active!==!1?"Active":"Inactive"})]}),e.description&&s.jsx("p",{className:"mt-1 text-sm text-default-500",children:e.description}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[r.map((l,i)=>s.jsx(M,{size:"sm",variant:"flat",color:"primary",className:"text-xs",children:l},i)),a.length>3&&s.jsxs(M,{size:"sm",variant:"flat",color:"secondary",className:"text-xs",children:["+",a.length-3," more"]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{content:"Edit Role",children:s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>ps(e),isDisabled:!xs(e),className:"text-primary hover:text-primary/80",children:s.jsx(Ss,{className:"w-4 h-4"})})}),s.jsx(Se,{content:"Delete Role",children:s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>qs(e),isDisabled:!xs(e),className:"text-danger hover:text-danger/80",children:s.jsx(Rs,{className:"w-4 h-4"})})})]})]})},e.id)})}),X.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ue,{className:"w-16 h-16 text-default-300 mx-auto mb-4"}),s.jsx("p",{className:"text-default-500",children:"No roles found matching your criteria"})]}),X.length>W&&s.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-default-200/20",children:[s.jsxs("span",{className:"text-sm text-default-500",children:["Showing ",le*W+1," to ",Math.min((le+1)*W,X.length)," of ",X.length," roles"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",isDisabled:le===0,onPress:()=>Fe(e=>Math.max(0,e-1)),children:"‹"}),s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",isDisabled:(le+1)*W>=X.length,onPress:()=>Fe(e=>e+1),children:"›"})]})]})]})]}),ta=()=>s.jsxs(Ne,{className:"mt-4",children:[s.jsxs(we,{className:"p-4 border-b border-default-200/20",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[s.jsx(fe,{className:"w-5 h-5"}),"Permissions Management"]}),s.jsx(x,{onPress:()=>gs(),startContent:s.jsx(ws,{className:"w-4 h-4"}),className:"bg-success/20 hover:bg-success/30 border border-success/30",variant:"bordered",radius:p(),children:"Add Permission"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[s.jsx(Y,{label:"Search Permissions",placeholder:"Search by permission name...",value:De,onValueChange:Ts,className:"flex-1",radius:p(),startContent:s.jsx(Be,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 backdrop-blur-md border border-default-200/20 hover:bg-default-100/70 dark:hover:bg-default-50/20",input:"text-foreground placeholder:text-default-400",label:"text-default-500"}}),s.jsxs(he,{label:"Module Filter",variant:"bordered",selectedKeys:[V],onSelectionChange:e=>Vs(Array.from(e)[0]),className:"min-w-[180px]",radius:p(),classNames:{trigger:"bg-default-100/50 dark:bg-default-50/10 backdrop-blur-md border-default-200/20 hover:bg-default-100/70 dark:hover:bg-default-50/20",label:"text-default-500",value:"text-foreground"},children:[s.jsx(_,{value:"all",children:"All Modules"},"all"),ve.map(e=>s.jsx(_,{value:e,children:e},e))]})]})]}),s.jsxs(me,{className:"p-0",children:[s.jsx("div",{className:"divide-y divide-default-200/20",children:Is.map(e=>s.jsx("div",{className:"p-4 hover:bg-default-100/50 dark:hover:bg-default-50/10 transition-colors",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-success to-success/70 flex items-center justify-center text-white font-bold",children:e.name?e.name.charAt(0).toUpperCase():"P"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-foreground",children:e.display_name||e.name}),s.jsx(M,{size:"sm",color:"secondary",variant:"flat",children:e.module||(e.name?e.name.split(".")[0]:"General")})]}),s.jsx("p",{className:"mt-1 text-sm text-default-500",children:e.name}),e.description&&s.jsx("p",{className:"mt-1 text-sm text-default-500 max-w-md",children:e.description})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{content:"Edit Permission",children:s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>gs(e),className:"text-primary hover:text-primary/80",children:s.jsx(Ss,{className:"w-4 h-4"})})}),s.jsx(Se,{content:"Delete Permission",children:s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>Qs(e),className:"text-danger hover:text-danger/80",children:s.jsx(Rs,{className:"w-4 h-4"})})})]})]})},e.id))}),J.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fe,{className:"w-16 h-16 text-default-300 mx-auto mb-4"}),s.jsx("p",{className:"text-default-500",children:"No permissions found matching your criteria"})]}),J.length>B&&s.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-default-200/20",children:[s.jsxs("span",{className:"text-sm text-default-500",children:["Showing ",ie*B+1," to ",Math.min((ie+1)*B,J.length)," of ",J.length," permissions"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",isDisabled:ie===0,onPress:()=>Ie(e=>Math.max(0,e-1)),children:"‹"}),s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",isDisabled:(ie+1)*B>=J.length,onPress:()=>Ie(e=>e+1),children:"›"})]})]})]})]}),ra=()=>s.jsxs(Ne,{className:"mt-4",children:[s.jsx(we,{className:"p-4 border-b border-default-200/20",children:s.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[s.jsx(We,{className:"w-5 h-5"}),"Role-Permission Assignment"]}),s.jsx(he,{label:"Select Role to Manage",variant:"bordered",selectedKeys:U?[U.toString()]:[],onSelectionChange:e=>{const a=Array.from(e)[0];a&&zs(parseInt(a))},className:"max-w-md",radius:p(),classNames:{trigger:"bg-default-100/50 dark:bg-default-50/10 backdrop-blur-md border-default-200/20 hover:bg-default-100/70 dark:hover:bg-default-50/20",label:"text-default-500",value:"text-foreground"},children:g.map(e=>s.jsx(_,{value:e.id.toString(),children:e.name},e.id.toString()))})]})}),s.jsx(me,{className:"p-4",children:o?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-default-100/50 dark:bg-default-50/10 rounded-lg border border-default-200/20",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-foreground",children:["Managing permissions for: ",o.name]}),s.jsxs("p",{className:"text-sm text-default-500",children:[P.size," of ",b.length," permissions granted"]})]}),s.jsx(Ps,{value:P.size/b.length*100,size:"sm",color:"primary",className:"w-32","aria-label":`${Math.round(P.size/b.length*100)}% permissions granted`})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(R).map(([e,a])=>{const r=a.permissions||[],l=r.filter(c=>L(o.id,c.name)).length,i=r.length,u=l===i,n=l>0&&l<i;return s.jsxs(bs,{className:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20",radius:p(),children:[s.jsxs(we,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{className:"font-medium capitalize text-foreground",children:e}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(M,{size:"sm",variant:"flat",color:u?"success":n?"warning":"default",children:[l,"/",i]}),s.jsx(x,{size:"sm",variant:"light",onPress:()=>Zs(e),isLoading:sa(e)===f.LOADING,className:"text-xs",children:u?"Revoke All":"Grant All"})]})]}),s.jsx(Ps,{value:l/i*100,size:"sm",color:u?"success":n?"warning":"default","aria-label":`${l} of ${i} permissions granted for ${e} module`})]}),s.jsx(me,{className:"pt-0",children:s.jsx("div",{className:"space-y-2",children:r.map(c=>{const d=L(o.id,c.name),j=ea(c.name);return s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-sm bg-default-100/50 dark:bg-default-50/10 hover:bg-default-100/70 dark:hover:bg-default-50/20 transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:c.display_name||c.name}),s.jsx("p",{className:"text-xs text-default-500",children:c.name})]}),s.jsx(va,{size:"sm",isSelected:d,onValueChange:()=>Ys(c.name),isDisabled:j===f.LOADING,color:"success","aria-label":`Toggle ${c.display_name||c.name} permission`},`${c.id}-${d}-${j}`)]},c.id)})})})]},e)})})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(We,{className:"w-16 h-16 text-default-300 mx-auto mb-4"}),s.jsx("p",{className:"mb-2 text-default-500",children:"Select a role to manage permissions"}),s.jsx("p",{className:"text-sm text-default-400",children:"Choose a role from the dropdown above to assign or revoke permissions"})]})})]}),la=()=>s.jsxs(Ne,{className:"mt-4",children:[s.jsxs(we,{className:"p-4 border-b border-default-200/20",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 w-full",children:s.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[s.jsx(Oe,{className:"w-5 h-5"}),"User-Role Assignment"]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[s.jsx(Y,{label:"Search Users",placeholder:"Search by user name or email...",value:Ae,onValueChange:$s,className:"flex-1",radius:p(),startContent:s.jsx(Be,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 backdrop-blur-md border border-default-200/20 hover:bg-default-100/70 dark:hover:bg-default-50/20",input:"text-foreground placeholder:text-default-400",label:"text-default-500"}}),s.jsxs(he,{label:"Filter by Role",variant:"bordered",selectedKeys:[be],onSelectionChange:e=>Ws(Array.from(e)[0]),className:"min-w-[160px]",classNames:{trigger:"bg-default-100/50 dark:bg-default-50/10 backdrop-blur-md border-default-200/20 hover:bg-default-100/70 dark:hover:bg-default-50/20",label:"text-default-500",value:"text-foreground"},children:[s.jsx(_,{value:"all",children:"All Roles"},"all"),Os.map(e=>s.jsx(_,{value:e,children:e},e))]})]})]}),s.jsxs(me,{className:"p-0",children:[pe&&pe.length>0?s.jsx("div",{className:"divide-y divide-default-200/20",children:Ls.map(e=>{var a;return s.jsx("div",{className:"p-4 hover:bg-default-100/50 dark:hover:bg-default-50/10 transition-colors",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-warning to-danger flex items-center justify-center text-white font-bold",children:((a=e.name)==null?void 0:a.charAt(0).toUpperCase())||"U"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:e.name||"Unknown User"}),s.jsx("p",{className:"text-sm text-default-500",children:e.email||"No email"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.roles&&e.roles.length>0?s.jsxs(s.Fragment,{children:[e.roles.slice(0,3).map((r,l)=>s.jsx(M,{size:"sm",variant:"flat",color:"primary",className:"text-xs",children:r.name},l)),e.roles.length>3&&s.jsxs(M,{size:"sm",variant:"flat",color:"secondary",className:"text-xs",children:["+",e.roles.length-3," more"]})]}):s.jsx(M,{size:"sm",variant:"flat",color:"default",className:"text-xs",children:"No roles assigned"})})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(Se,{content:"Assign Roles",children:s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>Bs(e),className:"text-warning hover:text-warning/80",children:s.jsx(vs,{className:"w-4 h-4"})})})})]})},e.id)})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Oe,{className:"w-16 h-16 text-default-300 mx-auto mb-4"}),s.jsx("p",{className:"text-foreground",children:"No users found"}),s.jsx("p",{className:"text-sm text-default-500",children:"Users data is not available. Please ensure users are loaded from the backend."})]}),de.length>q&&s.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-default-200/20",children:[s.jsxs("span",{className:"text-sm text-default-500",children:["Showing ",ne*q+1," to ",Math.min((ne+1)*q,de.length)," of ",de.length," users"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",isDisabled:ne===0,onPress:()=>Le(e=>Math.max(0,e-1)),children:"‹"}),s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",isDisabled:(ne+1)*q>=de.length,onPress:()=>Le(e=>e+1),children:"›"})]})]})]})]}),ia=()=>s.jsxs(s.Fragment,{children:[s.jsxs(Ve,{open:ks,onClose:v?void 0:$e,maxWidth:"md",title:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{className:"w-6 h-6"}),$?"Edit Role":"Create New Role",D.roles===f.LOADING&&s.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"})]}),actions:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(x,{variant:"light",onPress:$e,isDisabled:v,children:"Cancel"}),s.jsx(x,{color:"primary",onPress:Xs,isLoading:v,children:$?"Update Role":"Create Role"})]}),children:[D.roles===f.ERROR&&s.jsx("div",{className:"mb-4 p-3 bg-danger/10 border border-danger/20 rounded-lg",children:s.jsx("p",{className:"text-danger text-sm",children:"Failed to save role. Please check the form and try again."})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-1",children:[s.jsx("div",{className:"col-span-1",children:s.jsx(Y,{label:"Role Name",placeholder:"Enter role name",value:I.name,onValueChange:e=>oe(a=>({...a,name:e})),isInvalid:!!k.name,errorMessage:k.name,description:"Unique identifier for the role",isRequired:!0,isDisabled:v,variant:"bordered",radius:p(),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20 hover:border-default-300/30 focus-within:!border-primary/50",input:"text-foreground placeholder:text-default-400",label:"text-default-500",description:"text-default-400",errorMessage:"text-danger"}})}),s.jsx("div",{className:"col-span-1",children:s.jsxs(he,{label:"Guard Name",placeholder:"Select guard",selectedKeys:[I.guard_name],onSelectionChange:e=>{const a=Array.from(e)[0];oe(r=>({...r,guard_name:a}))},isDisabled:v,variant:"bordered",radius:p(),classNames:{trigger:"border-default-200/20 bg-default-100/50 dark:bg-default-50/10 hover:border-default-300/30 data-[open]:border-primary/50",value:"text-foreground",label:"text-default-500",popoverContent:"bg-content1 dark:bg-content1 backdrop-blur-xl border border-default-200/20"},children:[s.jsx(_,{value:"web",children:"Web"},"web"),s.jsx(_,{value:"api",children:"API"},"api")]})}),s.jsx("div",{className:"col-span-2",children:s.jsx(Ns,{label:"Description",placeholder:"Optional description of role responsibilities",value:I.description,onValueChange:e=>oe(a=>({...a,description:e})),isDisabled:v,variant:"bordered",minRows:2,radius:p(),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20 hover:border-default-300/30 focus-within:!border-primary/50",input:"text-foreground placeholder:text-default-400",label:"text-default-500"}})})]})]}),s.jsx(Ve,{open:Ms,onClose:v?void 0:Ge,maxWidth:"md",title:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{className:"w-6 h-6"}),G?"Edit Permission":"Create New Permission"]}),actions:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(x,{variant:"light",onPress:Ge,isDisabled:v,children:"Cancel"}),s.jsx(x,{color:"success",onPress:Js,isLoading:v,children:G?"Update Permission":"Create Permission"})]}),children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-1",children:[s.jsx("div",{className:"col-span-1",children:s.jsx(Y,{label:"Permission Name",placeholder:"e.g., users.create",value:A.name,onValueChange:e=>Q(a=>({...a,name:e})),isInvalid:!!k.name,errorMessage:k.name,description:"Use format: module.action (e.g., users.create)",isRequired:!0,isDisabled:v,variant:"bordered",radius:p(),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20 hover:border-default-300/30 focus-within:!border-primary/50",input:"text-foreground placeholder:text-default-400",label:"text-default-500",description:"text-default-400",errorMessage:"text-danger"}})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Y,{label:"Display Name",placeholder:"Human-readable name",value:A.display_name,onValueChange:e=>Q(a=>({...a,display_name:e})),isInvalid:!!k.display_name,errorMessage:k.display_name,description:"Human-readable name",isRequired:!0,isDisabled:v,variant:"bordered",radius:p(),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20 hover:border-default-300/30 focus-within:!border-primary/50",input:"text-foreground placeholder:text-default-400",label:"text-default-500",description:"text-default-400",errorMessage:"text-danger"}})}),s.jsx("div",{className:"col-span-1",children:s.jsx(he,{label:"Module",placeholder:"Select module",selectedKeys:A.module?[A.module]:[],onSelectionChange:e=>{const a=Array.from(e)[0];Q(r=>({...r,module:a}))},isInvalid:!!k.module,errorMessage:k.module,isDisabled:v,variant:"bordered",radius:p(),classNames:{trigger:"border-default-200/20 bg-default-100/50 dark:bg-default-50/10 hover:border-default-300/30 data-[open]:border-primary/50",value:"text-foreground",label:"text-default-500",popoverContent:"bg-content1 dark:bg-content1 backdrop-blur-xl border border-default-200/20"},children:ve.map(e=>s.jsx(_,{value:e,children:e},e))})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Y,{label:"Guard Name",placeholder:"Usually 'web'",value:A.guard_name,onValueChange:e=>Q(a=>({...a,guard_name:e})),description:"Usually 'web' for web permissions",isDisabled:v,variant:"bordered",radius:p(),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20 hover:border-default-300/30 focus-within:!border-primary/50",input:"text-foreground placeholder:text-default-400",label:"text-default-500",description:"text-default-400"}})}),s.jsx("div",{className:"col-span-2",children:s.jsx(Ns,{label:"Description",placeholder:"Optional description of what this permission allows",value:A.description,onValueChange:e=>Q(a=>({...a,description:e})),description:"Optional description of what this permission allows",isDisabled:v,variant:"bordered",minRows:2,radius:p(),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20 hover:border-default-300/30 focus-within:!border-primary/50",input:"text-foreground placeholder:text-default-400",label:"text-default-500",description:"text-default-400"}})})]})}),s.jsx(Ve,{open:Es,onClose:()=>ae(!1),maxWidth:"sm",title:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ys,{className:"w-6 h-6 text-danger"}),"Confirm Delete"]}),actions:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(x,{variant:"light",onPress:()=>ae(!1),children:"Cancel"}),s.jsxs(x,{color:"danger",onPress:te?Ks:Hs,isLoading:v,children:["Delete ",te?"Role":"Permission"]})]}),children:s.jsxs("p",{className:"text-foreground/90",children:["Are you sure you want to delete ",te?`the role "${te.name}"`:Ce?`the permission "${Ce.name}"`:"this item","? This action cannot be undone."]})})]});return s.jsxs(s.Fragment,{children:[s.jsx(oa,{title:_s}),Ke.length>0&&s.jsx("div",{className:"mb-4 p-4",children:s.jsx(bs,{className:"bg-warning/10 border border-warning/30",radius:p(),children:s.jsxs(me,{className:"flex flex-row items-start gap-4",children:[s.jsx(ys,{className:"w-6 h-6 text-warning flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-warning mb-2",children:"Data Integrity Issues Detected"}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-default-600",children:Ke.map((e,a)=>s.jsx("li",{children:e},a))}),s.jsx("p",{className:"text-sm text-default-500 italic mt-2",children:"This may indicate a cache or database synchronization issue on the server."})]}),s.jsx(x,{color:"warning",size:"sm",variant:"flat",onPress:()=>{ca.reload({only:["roles","permissions","users"]})},startContent:s.jsx(da,{className:"w-4 h-4"}),children:"Refresh Data"})]})})}),s.jsx(ga.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex justify-center p-2",children:s.jsx(Ne,{className:"w-full max-w-7xl",children:s.jsx(ha,{title:"Role & Permission Management",subtitle:"Comprehensive access control and permission management system",icon:s.jsx(ja,{className:"w-8 h-8"}),variant:"default",actionButtons:[{label:"Export Data",icon:s.jsx(ba,{className:"w-4 h-4"}),variant:"bordered",className:"border-success/30 bg-success/5 hover:bg-success/10"}],children:s.jsxs("div",{className:"p-6",children:[s.jsx(xa,{stats:[{title:"Total Roles",value:g.length,icon:s.jsx(ue,{}),color:"text-primary",iconBg:"bg-primary/20",description:"System roles"},{title:"Permissions",value:b.length,icon:s.jsx(fe,{}),color:"text-success",iconBg:"bg-success/20",description:"Available permissions"},{title:"Active Users",value:pe.length,icon:s.jsx(Oe,{}),color:"text-secondary",iconBg:"bg-secondary/20",description:"System users"},{title:"Modules",value:ve.length,icon:s.jsx(ma,{}),color:"text-warning",iconBg:"bg-warning/20",description:"Permission modules"}]}),s.jsxs("div",{className:"w-full mt-6",children:[s.jsxs(ua,{selectedKey:ge.toString(),onSelectionChange:e=>Ds(parseInt(e)),"aria-label":"Role management tabs",color:"primary",variant:"underlined",classNames:{tabList:"gap-6 w-full relative rounded-none p-0 border-b border-default-200/20",cursor:"w-full bg-primary",tab:"max-w-fit px-0 h-12 text-default-500 data-[selected=true]:text-primary",tabContent:"group-data-[selected=true]:text-primary"},children:[s.jsx(ze,{title:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ue,{className:"w-5 h-5"}),s.jsx("span",{className:Re?"sr-only":"",children:"Roles Management"})]})},"0"),s.jsx(ze,{title:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{className:"w-5 h-5"}),s.jsx("span",{className:Re?"sr-only":"",children:"Permissions Management"})]})},"1"),s.jsx(ze,{title:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(We,{className:"w-5 h-5"}),s.jsx("span",{className:Re?"sr-only":"",children:"Role-Permission Assignment"})]})},"2"),s.jsx(ze,{title:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{className:"w-5 h-5"}),s.jsx("span",{className:Re?"sr-only":"",children:"User-Role Assignment"})]})},"3")]}),ge===0&&s.jsx(aa,{}),ge===1&&s.jsx(ta,{}),ge===2&&s.jsx(ra,{}),ge===3&&s.jsx(la,{})]})]})})})}),ia()]})};Na.layout=m=>s.jsx(fa,{children:m});export{Na as default};
