import{O as Co,r as h,$ as _o,b4 as Zr,bx as wo,ba as Fo,a7 as No,l as Eo,cd as qt,ce as Ao,aq as So,cf as To,B as tr,D as Po,E as Io,h as nr,I as je,i as Ze,G as Ro,a3 as Zt,K as Xt,g as Do,j as n,b as he,A as Bo,s as Ft,t as rr,F as Ye,e as Je,cg as Xr,ch as Yr,ci as Oo,Q as Lo,a as Be,d as Oe,S as ar}from"./app-CXVy-AmZ.js";import{W as Mo,X as zo,Y as ko,i as rn,j as ot,d as an,a as on,b as sn,m as Ae,w as Ko,c as Vo,e as Uo,f as Go,g as Wo,v as or,G as Ct,D as Ho,A as qo}from"./Dashboard-T69k2ogy.js";import{S as Zo}from"./StatsCards-CjFqSzN1.js";import{a as Xo,s as fe}from"./toastUtils-D7LMmq7_.js";import{F as Yo}from"./HashtagIcon-BEZtJFSt.js";import{F as Et}from"./UserIcon-pC-qbD6I.js";import{F as ln}from"./EnvelopeIcon-lC1_DGJe.js";import{F as st,a as Jr}from"./DeviceTabletIcon-BrG1VuWT.js";import{F as Qr}from"./CheckCircleIcon-ELAb3fzt.js";import{F as it}from"./ShieldCheckIcon-DWIf3l99.js";import{F as un}from"./EllipsisVerticalIcon-4NjtrfyH.js";import{F as Jo}from"./UserGroupIcon-C289kc4l.js";import{F as ea}from"./PencilIcon-BVQ86Fio.js";import{F as At}from"./LockOpenIcon-Btw9DKnV.js";import{F as St}from"./LockClosedIcon-xo_NDPz_.js";import{F as ta}from"./ClockIcon-BZdFQI9v.js";import{t as cn,b as na}from"./XMarkIcon-vqEAiE0C.js";import{d as Yt,$ as Qo,t as es,a as ts,b as ns,c as rs}from"./chunk-F3UDT23P-XfTYxSwz.js";import{t as as,a as os}from"./chunk-YRZGWF2W-MHyJPKcB.js";import{p as ra}from"./chunk-EAPQ7RWQ-DSkgqx9G.js";import{c as Ee}from"./chunk-IHOGUXIG-CorBOu8W.js";import{u as aa}from"./chunk-S574QCAN-DOLZ_IFv.js";import{U as ss}from"./user-CmTfohOM.js";import{C as is}from"./camera-B_U-QMMH.js";import{j as ls,$ as us,k as cs,m as ds,n as ps,o as ms,f as fs,a as hs,p as xs,C as vs,s as Qe,l as be}from"./chunk-Y2AYO5NJ-Di_MG5Co.js";import{e as bs,n as gs,j as ys,l as sr,b as $s,F as js,u as Cs,i as ve}from"./chunk-SSA7SXE4-DhBPeL1m.js";import{$ as _s}from"./useFilter-s_S4r-W0.js";import{c as $n}from"./createLucideIcon-D_tA5a_W.js";import{s as oa}from"./chunk-TQNYOUFX-uWfpQPAC.js";import{m as ws}from"./chunk-O5MCAK4F-BRQDnucP.js";import{F as Fs}from"./XCircleIcon-D_wAPF3V.js";import{F as Ns}from"./TrophyIcon-Bn0-z0XE.js";import{F as Jt}from"./UserPlusIcon-CUAe2zk7.js";import{F as ir}from"./ChartBarIcon-CM_omqnX.js";import{m as Es}from"./proxy-Cdac7JMG.js";import{F as As}from"./DocumentArrowDownIcon-CpRfy8xn.js";import{F as Ss}from"./ChartPieIcon-dQwWg_kt.js";import{F as Ts}from"./MagnifyingGlassIcon-Bhzw0GfZ.js";import{F as Ps}from"./TableCellsIcon-DrweM0bD.js";import{c as Is}from"./chunk-D5XJWRAV-DU87gX_a.js";import{s as me}from"./chunk-TLYTI3QM-BSLAf0Ky.js";import{b as Rs}from"./chunk-57V4RE7B-BSJfmayW.js";import"./MapPinIcon-BzL_6d-5.js";import"./KeyIcon-B1jfTiTe.js";import"./index-De3GqDBO.js";import"./logo-Pwvcz7fP.js";import"./features-animation-D9Iafa5k.js";import"./create-visual-element-VSnojGb8.js";import"./ExclamationTriangleIcon-BatQCU_y.js";import"./chunk-XJ2YRSUP-jBVnJYql.js";import"./useToggleState-CoJmWfwq.js";var lr=Co({slots:{base:"group inline-flex flex-column w-full",listboxWrapper:"scroll-py-6 w-full",listbox:"",popoverContent:"w-full p-1 overflow-hidden",endContentWrapper:"relative flex h-full items-center -mr-2",clearButton:["text-medium","translate-x-1","cursor-text","opacity-0","pointer-events-none","text-default-500","group-data-[invalid=true]:text-danger","data-[visible=true]:opacity-100","data-[visible=true]:pointer-events-auto","data-[visible=true]:cursor-pointer","sm:data-[visible=true]:opacity-0","sm:data-[visible=true]:pointer-events-none","sm:group-data-[hover=true]:data-[visible=true]:opacity-100","sm:group-data-[hover=true]:data-[visible=true]:pointer-events-auto"],selectorButton:"text-medium"},variants:{isClearable:{true:{},false:{clearButton:"hidden"}},disableAnimation:{true:{selectorButton:"transition-none"},false:{selectorButton:"transition-transform duration-150 ease motion-reduce:transition-none"}},disableSelectorIconRotation:{true:{},false:{selectorButton:"data-[open=true]:rotate-180"}}},defaultVariants:{isClearable:!0,disableSelectorIconRotation:!1}});function Ds(e){var t;let{defaultFilter:r,menuTrigger:a="input",allowsEmptyCollection:s=!1,allowsCustomValue:i,shouldCloseOnBlur:d=!0}=e,[f,m]=h.useState(!1),[v,C]=h.useState(!1),[S,w]=h.useState(null),K=G=>{e.onSelectionChange&&e.onSelectionChange(G),G===y&&(U(),T())};var L;let{collection:I,selectionManager:P,selectedKey:y,setSelectedKey:q,selectedItem:z,disabledKeys:X}=Mo({...e,onSelectionChange:K,items:(L=e.items)!==null&&L!==void 0?L:e.defaultItems}),[E,R]=_o(e.inputValue,ur(e.defaultInputValue,y,I)||"",e.onInputChange),[D]=h.useState(y),[j]=h.useState(E),V=I,l=h.useMemo(()=>e.items!=null||!r?I:Bs(I,E,r),[I,E,r,e.items]),[b,_]=h.useState(l),o=h.useRef("focus"),A=Xo({...e,onOpenChange:G=>{e.onOpenChange&&e.onOpenChange(G,G?o.current:void 0),P.setFocused(G),G||P.setFocusedKey(null)},isOpen:void 0,defaultOpen:void 0}),O=(G=null,ee)=>{let te=ee==="manual"||ee==="focus"&&a==="focus";(s||l.size>0||te&&V.size>0||e.items)&&(te&&!A.isOpen&&e.items===void 0&&m(!0),o.current=ee,w(G),A.open())},N=(G=null,ee)=>{let te=ee==="manual"||ee==="focus"&&a==="focus";!(s||l.size>0||te&&V.size>0||e.items)&&!A.isOpen||(te&&!A.isOpen&&e.items===void 0&&m(!0),A.isOpen||(o.current=ee),F(G))},p=h.useCallback(()=>{_(f?V:l)},[f,V,l]),F=h.useCallback((G=null)=>{A.isOpen&&p(),w(G),A.toggle()},[A,p]),T=h.useCallback(()=>{A.isOpen&&(p(),A.close())},[A,p]),[c,W]=h.useState(E),U=()=>{var G,ee;let te=y!=null&&(ee=(G=I.getItem(y))===null||G===void 0?void 0:G.textValue)!==null&&ee!==void 0?ee:"";W(te),R(te)};var Q,oe;let Z=h.useRef((oe=(Q=e.selectedKey)!==null&&Q!==void 0?Q:e.defaultSelectedKey)!==null&&oe!==void 0?oe:null);var ue;let Pe=h.useRef(y!=null&&(ue=(t=I.getItem(y))===null||t===void 0?void 0:t.textValue)!==null&&ue!==void 0?ue:"");h.useEffect(()=>{var G;v&&(l.size>0||s)&&!A.isOpen&&E!==c&&a!=="manual"&&O(null,"input"),!f&&!s&&A.isOpen&&l.size===0&&T(),y!=null&&y!==Z.current&&T(),E!==c&&(P.setFocusedKey(null),m(!1),E===""&&(e.inputValue===void 0||e.selectedKey===void 0)&&q(null)),y!==Z.current&&(e.inputValue===void 0||e.selectedKey===void 0)?U():c!==E&&W(E);var ee;let te=y!=null&&(ee=(G=I.getItem(y))===null||G===void 0?void 0:G.textValue)!==null&&ee!==void 0?ee:"";!v&&y!=null&&e.inputValue===void 0&&y===Z.current&&Pe.current!==te&&(W(te),R(te)),Z.current=y,Pe.current=te});let ce=bs({...e,value:h.useMemo(()=>({inputValue:E,selectedKey:y}),[E,y])}),Ie=()=>{i&&y==null?x():H()},x=()=>{Z.current=null,q(null),T()},H=()=>{if(e.selectedKey!==void 0&&e.inputValue!==void 0){var G,ee;(G=e.onSelectionChange)===null||G===void 0||G.call(e,y);var te;let Fe=y!=null&&(te=(ee=I.getItem(y))===null||ee===void 0?void 0:ee.textValue)!==null&&te!==void 0?te:"";W(Fe),T()}else U(),T()};const Y=()=>{if(i){var G,ee;const te=y!=null&&(ee=(G=I.getItem(y))===null||G===void 0?void 0:G.textValue)!==null&&ee!==void 0?ee:"";E===te?H():x()}else H()};let se=()=>{A.isOpen&&P.focusedKey!=null?y===P.focusedKey?H():q(P.focusedKey):Y()},de=h.useRef(E),pe=G=>{G?(de.current=E,a==="focus"&&!e.isReadOnly&&O(null,"focus")):(d&&Y(),E!==de.current&&ce.commitValidation()),C(G)},ye=h.useMemo(()=>A.isOpen?f?V:l:b,[A.isOpen,V,l,f,b]);var Re;let De=(Re=e.defaultSelectedKey)!==null&&Re!==void 0?Re:D;var ke;return{...ce,...A,focusStrategy:S,toggle:N,open:O,close:Y,selectionManager:P,selectedKey:y,defaultSelectedKey:De,setSelectedKey:q,disabledKeys:X,isFocused:v,setFocused:pe,selectedItem:z,collection:ye,inputValue:E,defaultInputValue:(ke=ur(e.defaultInputValue,De,I))!==null&&ke!==void 0?ke:j,setInputValue:R,commit:se,revert:Ie}}function Bs(e,t,r){return new ls(sa(e,e,t,r))}function sa(e,t,r,a){let s=[];for(let i of t)if(i.type==="section"&&i.hasChildNodes){let d=sa(e,Zr(i,e),r,a);[...d].some(f=>f.type==="item")&&s.push({...i,childNodes:d})}else i.type==="item"&&a(i.textValue,r)?s.push({...i}):i.type!=="item"&&s.push({...i});return s}function ur(e,t,r){if(e==null){var a,s;if(t!=null)return(s=(a=r.getItem(t))===null||a===void 0?void 0:a.textValue)!==null&&s!==void 0?s:""}return e}var ia={};ia={buttonLabel:"عرض المقترحات",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} خيار`,other:()=>`${t.number(e.optionCount)} خيارات`})} متاحة.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`المجموعة المدخلة ${e.groupTitle}, مع ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} خيار`,other:()=>`${t.number(e.groupCount)} خيارات`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", محدد",other:""},e.isSelected)}`,listboxLabel:"مقترحات",selectedAnnouncement:e=>`${e.optionText}، محدد`};var la={};la={buttonLabel:"Покажи предложения",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} опция`,other:()=>`${t.number(e.optionCount)} опции`})} на разположение.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Въведена група ${e.groupTitle}, с ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} опция`,other:()=>`${t.number(e.groupCount)} опции`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", избрани",other:""},e.isSelected)}`,listboxLabel:"Предложения",selectedAnnouncement:e=>`${e.optionText}, избрани`};var ua={};ua={buttonLabel:"Zobrazit doporučení",countAnnouncement:(e,t)=>`K dispozici ${t.plural(e.optionCount,{one:()=>`je ${t.number(e.optionCount)} možnost`,other:()=>`jsou/je ${t.number(e.optionCount)} možnosti/-í`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Zadaná skupina „${e.groupTitle}“ ${t.plural(e.groupCount,{one:()=>`s ${t.number(e.groupCount)} možností`,other:()=>`se ${t.number(e.groupCount)} možnostmi`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:" (vybráno)",other:""},e.isSelected)}`,listboxLabel:"Návrhy",selectedAnnouncement:e=>`${e.optionText}, vybráno`};var ca={};ca={buttonLabel:"Vis forslag",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} mulighed tilgængelig`,other:()=>`${t.number(e.optionCount)} muligheder tilgængelige`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Angivet gruppe ${e.groupTitle}, med ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} mulighed`,other:()=>`${t.number(e.groupCount)} muligheder`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", valgt",other:""},e.isSelected)}`,listboxLabel:"Forslag",selectedAnnouncement:e=>`${e.optionText}, valgt`};var da={};da={buttonLabel:"Empfehlungen anzeigen",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} Option`,other:()=>`${t.number(e.optionCount)} Optionen`})} verfügbar.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Eingetretene Gruppe ${e.groupTitle}, mit ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} Option`,other:()=>`${t.number(e.groupCount)} Optionen`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", ausgewählt",other:""},e.isSelected)}`,listboxLabel:"Empfehlungen",selectedAnnouncement:e=>`${e.optionText}, ausgewählt`};var pa={};pa={buttonLabel:"Προβολή προτάσεων",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} επιλογή`,other:()=>`${t.number(e.optionCount)} επιλογές `})} διαθέσιμες.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Εισαγμένη ομάδα ${e.groupTitle}, με ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} επιλογή`,other:()=>`${t.number(e.groupCount)} επιλογές`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", επιλεγμένο",other:""},e.isSelected)}`,listboxLabel:"Προτάσεις",selectedAnnouncement:e=>`${e.optionText}, επιλέχθηκε`};var ma={};ma={focusAnnouncement:(e,t)=>`${t.select({true:()=>`Entered group ${e.groupTitle}, with ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} option`,other:()=>`${t.number(e.groupCount)} options`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", selected",other:""},e.isSelected)}`,countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} option`,other:()=>`${t.number(e.optionCount)} options`})} available.`,selectedAnnouncement:e=>`${e.optionText}, selected`,buttonLabel:"Show suggestions",listboxLabel:"Suggestions"};var fa={};fa={buttonLabel:"Mostrar sugerencias",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opción`,other:()=>`${t.number(e.optionCount)} opciones`})} disponible(s).`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Se ha unido al grupo ${e.groupTitle}, con ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opción`,other:()=>`${t.number(e.groupCount)} opciones`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", seleccionado",other:""},e.isSelected)}`,listboxLabel:"Sugerencias",selectedAnnouncement:e=>`${e.optionText}, seleccionado`};var ha={};ha={buttonLabel:"Kuva soovitused",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} valik`,other:()=>`${t.number(e.optionCount)} valikud`})} saadaval.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Sisestatud rühm ${e.groupTitle}, valikuga ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} valik`,other:()=>`${t.number(e.groupCount)} valikud`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", valitud",other:""},e.isSelected)}`,listboxLabel:"Soovitused",selectedAnnouncement:e=>`${e.optionText}, valitud`};var xa={};xa={buttonLabel:"Näytä ehdotukset",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} vaihtoehto`,other:()=>`${t.number(e.optionCount)} vaihtoehdot`})} saatavilla.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Mentiin ryhmään ${e.groupTitle}, ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} vaihtoehdon`,other:()=>`${t.number(e.groupCount)} vaihtoehdon`})} kanssa.`,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", valittu",other:""},e.isSelected)}`,listboxLabel:"Ehdotukset",selectedAnnouncement:e=>`${e.optionText}, valittu`};var va={};va={buttonLabel:"Afficher les suggestions",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} option`,other:()=>`${t.number(e.optionCount)} options`})} disponible(s).`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Groupe ${e.groupTitle} rejoint, avec ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} option`,other:()=>`${t.number(e.groupCount)} options`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", sélectionné(s)",other:""},e.isSelected)}`,listboxLabel:"Suggestions",selectedAnnouncement:e=>`${e.optionText}, sélectionné`};var ba={};ba={buttonLabel:"הצג הצעות",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`אפשרות ${t.number(e.optionCount)}`,other:()=>`${t.number(e.optionCount)} אפשרויות`})} במצב זמין.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`נכנס לקבוצה ${e.groupTitle}, עם ${t.plural(e.groupCount,{one:()=>`אפשרות ${t.number(e.groupCount)}`,other:()=>`${t.number(e.groupCount)} אפשרויות`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", נבחר",other:""},e.isSelected)}`,listboxLabel:"הצעות",selectedAnnouncement:e=>`${e.optionText}, נבחר`};var ga={};ga={buttonLabel:"Prikaži prijedloge",countAnnouncement:(e,t)=>`Dostupno još: ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opcija`,other:()=>`${t.number(e.optionCount)} opcije/a`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Unesena skupina ${e.groupTitle}, s ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opcijom`,other:()=>`${t.number(e.groupCount)} opcije/a`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", odabranih",other:""},e.isSelected)}`,listboxLabel:"Prijedlozi",selectedAnnouncement:e=>`${e.optionText}, odabrano`};var ya={};ya={buttonLabel:"Javaslatok megjelenítése",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} lehetőség`,other:()=>`${t.number(e.optionCount)} lehetőség`})} áll rendelkezésre.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Belépett a(z) ${e.groupTitle} csoportba, amely ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} lehetőséget`,other:()=>`${t.number(e.groupCount)} lehetőséget`})} tartalmaz. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", kijelölve",other:""},e.isSelected)}`,listboxLabel:"Javaslatok",selectedAnnouncement:e=>`${e.optionText}, kijelölve`};var $a={};$a={buttonLabel:"Mostra suggerimenti",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opzione disponibile`,other:()=>`${t.number(e.optionCount)} opzioni disponibili`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Ingresso nel gruppo ${e.groupTitle}, con ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opzione`,other:()=>`${t.number(e.groupCount)} opzioni`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", selezionato",other:""},e.isSelected)}`,listboxLabel:"Suggerimenti",selectedAnnouncement:e=>`${e.optionText}, selezionato`};var ja={};ja={buttonLabel:"候補を表示",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} 個のオプション`,other:()=>`${t.number(e.optionCount)} 個のオプション`})}を利用できます。`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`入力されたグループ ${e.groupTitle}、${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} 個のオプション`,other:()=>`${t.number(e.groupCount)} 個のオプション`})}を含む。`,other:""},e.isGroupChange)}${e.optionText}${t.select({true:"、選択済み",other:""},e.isSelected)}`,listboxLabel:"候補",selectedAnnouncement:e=>`${e.optionText}、選択済み`};var Ca={};Ca={buttonLabel:"제안 사항 표시",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)}개 옵션`,other:()=>`${t.number(e.optionCount)}개 옵션`})}을 사용할 수 있습니다.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`입력한 그룹 ${e.groupTitle}, ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)}개 옵션`,other:()=>`${t.number(e.groupCount)}개 옵션`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", 선택됨",other:""},e.isSelected)}`,listboxLabel:"제안",selectedAnnouncement:e=>`${e.optionText}, 선택됨`};var _a={};_a={buttonLabel:"Rodyti pasiūlymus",countAnnouncement:(e,t)=>`Yra ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} parinktis`,other:()=>`${t.number(e.optionCount)} parinktys (-ių)`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Įvesta grupė ${e.groupTitle}, su ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} parinktimi`,other:()=>`${t.number(e.groupCount)} parinktimis (-ių)`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", pasirinkta",other:""},e.isSelected)}`,listboxLabel:"Pasiūlymai",selectedAnnouncement:e=>`${e.optionText}, pasirinkta`};var wa={};wa={buttonLabel:"Rādīt ieteikumus",countAnnouncement:(e,t)=>`Pieejamo opciju skaits: ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opcija`,other:()=>`${t.number(e.optionCount)} opcijas`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Ievadīta grupa ${e.groupTitle}, ar ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opciju`,other:()=>`${t.number(e.groupCount)} opcijām`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", atlasīta",other:""},e.isSelected)}`,listboxLabel:"Ieteikumi",selectedAnnouncement:e=>`${e.optionText}, atlasīta`};var Fa={};Fa={buttonLabel:"Vis forslag",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} alternativ`,other:()=>`${t.number(e.optionCount)} alternativer`})} finnes.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Angitt gruppe ${e.groupTitle}, med ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} alternativ`,other:()=>`${t.number(e.groupCount)} alternativer`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", valgt",other:""},e.isSelected)}`,listboxLabel:"Forslag",selectedAnnouncement:e=>`${e.optionText}, valgt`};var Na={};Na={buttonLabel:"Suggesties weergeven",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} optie`,other:()=>`${t.number(e.optionCount)} opties`})} beschikbaar.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Groep ${e.groupTitle} ingevoerd met ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} optie`,other:()=>`${t.number(e.groupCount)} opties`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", geselecteerd",other:""},e.isSelected)}`,listboxLabel:"Suggesties",selectedAnnouncement:e=>`${e.optionText}, geselecteerd`};var Ea={};Ea={buttonLabel:"Wyświetlaj sugestie",countAnnouncement:(e,t)=>`dostępna/dostępne(-nych) ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opcja`,other:()=>`${t.number(e.optionCount)} opcje(-i)`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Dołączono do grupy ${e.groupTitle}, z ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opcją`,other:()=>`${t.number(e.groupCount)} opcjami`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", wybrano",other:""},e.isSelected)}`,listboxLabel:"Sugestie",selectedAnnouncement:e=>`${e.optionText}, wybrano`};var Aa={};Aa={buttonLabel:"Mostrar sugestões",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opção`,other:()=>`${t.number(e.optionCount)} opções`})} disponível.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Grupo inserido ${e.groupTitle}, com ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opção`,other:()=>`${t.number(e.groupCount)} opções`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", selecionado",other:""},e.isSelected)}`,listboxLabel:"Sugestões",selectedAnnouncement:e=>`${e.optionText}, selecionado`};var Sa={};Sa={buttonLabel:"Apresentar sugestões",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opção`,other:()=>`${t.number(e.optionCount)} opções`})} disponível.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Grupo introduzido ${e.groupTitle}, com ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opção`,other:()=>`${t.number(e.groupCount)} opções`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", selecionado",other:""},e.isSelected)}`,listboxLabel:"Sugestões",selectedAnnouncement:e=>`${e.optionText}, selecionado`};var Ta={};Ta={buttonLabel:"Afișare sugestii",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opțiune`,other:()=>`${t.number(e.optionCount)} opțiuni`})} disponibile.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Grup ${e.groupTitle} introdus, cu ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opțiune`,other:()=>`${t.number(e.groupCount)} opțiuni`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", selectat",other:""},e.isSelected)}`,listboxLabel:"Sugestii",selectedAnnouncement:e=>`${e.optionText}, selectat`};var Pa={};Pa={buttonLabel:"Показать предложения",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} параметр`,other:()=>`${t.number(e.optionCount)} параметров`})} доступно.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Введенная группа ${e.groupTitle}, с ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} параметром`,other:()=>`${t.number(e.groupCount)} параметрами`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", выбранными",other:""},e.isSelected)}`,listboxLabel:"Предложения",selectedAnnouncement:e=>`${e.optionText}, выбрано`};var Ia={};Ia={buttonLabel:"Zobraziť návrhy",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} možnosť`,other:()=>`${t.number(e.optionCount)} možnosti/-í`})} k dispozícii.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Zadaná skupina ${e.groupTitle}, s ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} možnosťou`,other:()=>`${t.number(e.groupCount)} možnosťami`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", vybraté",other:""},e.isSelected)}`,listboxLabel:"Návrhy",selectedAnnouncement:e=>`${e.optionText}, vybraté`};var Ra={};Ra={buttonLabel:"Prikaži predloge",countAnnouncement:(e,t)=>`Na voljo je ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opcija`,other:()=>`${t.number(e.optionCount)} opcije`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Vnesena skupina ${e.groupTitle}, z ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opcija`,other:()=>`${t.number(e.groupCount)} opcije`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", izbrano",other:""},e.isSelected)}`,listboxLabel:"Predlogi",selectedAnnouncement:e=>`${e.optionText}, izbrano`};var Da={};Da={buttonLabel:"Prikaži predloge",countAnnouncement:(e,t)=>`Dostupno još: ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} opcija`,other:()=>`${t.number(e.optionCount)} opcije/a`})}.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Unesena grupa ${e.groupTitle}, s ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} opcijom`,other:()=>`${t.number(e.groupCount)} optione/a`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", izabranih",other:""},e.isSelected)}`,listboxLabel:"Predlozi",selectedAnnouncement:e=>`${e.optionText}, izabrano`};var Ba={};Ba={buttonLabel:"Visa förslag",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} alternativ`,other:()=>`${t.number(e.optionCount)} alternativ`})} tillgängliga.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Ingick i gruppen ${e.groupTitle} med ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} alternativ`,other:()=>`${t.number(e.groupCount)} alternativ`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", valda",other:""},e.isSelected)}`,listboxLabel:"Förslag",selectedAnnouncement:e=>`${e.optionText}, valda`};var Oa={};Oa={buttonLabel:"Önerileri göster",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} seçenek`,other:()=>`${t.number(e.optionCount)} seçenekler`})} kullanılabilir.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Girilen grup ${e.groupTitle}, ile ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} seçenek`,other:()=>`${t.number(e.groupCount)} seçenekler`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", seçildi",other:""},e.isSelected)}`,listboxLabel:"Öneriler",selectedAnnouncement:e=>`${e.optionText}, seçildi`};var La={};La={buttonLabel:"Показати пропозиції",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} параметр`,other:()=>`${t.number(e.optionCount)} параметри(-ів)`})} доступно.`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`Введена група ${e.groupTitle}, з ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} параметр`,other:()=>`${t.number(e.groupCount)} параметри(-ів)`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", вибрано",other:""},e.isSelected)}`,listboxLabel:"Пропозиції",selectedAnnouncement:e=>`${e.optionText}, вибрано`};var Ma={};Ma={buttonLabel:"显示建议",countAnnouncement:(e,t)=>`有 ${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} 个选项`,other:()=>`${t.number(e.optionCount)} 个选项`})}可用。`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`进入了 ${e.groupTitle} 组，其中有 ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} 个选项`,other:()=>`${t.number(e.groupCount)} 个选项`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", 已选择",other:""},e.isSelected)}`,listboxLabel:"建议",selectedAnnouncement:e=>`${e.optionText}, 已选择`};var za={};za={buttonLabel:"顯示建議",countAnnouncement:(e,t)=>`${t.plural(e.optionCount,{one:()=>`${t.number(e.optionCount)} 選項`,other:()=>`${t.number(e.optionCount)} 選項`})} 可用。`,focusAnnouncement:(e,t)=>`${t.select({true:()=>`輸入的群組 ${e.groupTitle}, 有 ${t.plural(e.groupCount,{one:()=>`${t.number(e.groupCount)} 選項`,other:()=>`${t.number(e.groupCount)} 選項`})}. `,other:""},e.isGroupChange)}${e.optionText}${t.select({true:", 已選取",other:""},e.isSelected)}`,listboxLabel:"建議",selectedAnnouncement:e=>`${e.optionText}, 已選取`};var ka={};ka={"ar-AE":ia,"bg-BG":la,"cs-CZ":ua,"da-DK":ca,"de-DE":da,"el-GR":pa,"en-US":ma,"es-ES":fa,"et-EE":ha,"fi-FI":xa,"fr-FR":va,"he-IL":ba,"hr-HR":ga,"hu-HU":ya,"it-IT":$a,"ja-JP":ja,"ko-KR":Ca,"lt-LT":_a,"lv-LV":wa,"nb-NO":Fa,"nl-NL":Na,"pl-PL":Ea,"pt-BR":Aa,"pt-PT":Sa,"ro-RO":Ta,"ru-RU":Pa,"sk-SK":Ia,"sl-SI":Ra,"sr-SP":Da,"sv-SE":Ba,"tr-TR":Oa,"uk-UA":La,"zh-CN":Ma,"zh-TW":za};function Os(e){return e&&e.__esModule?e.default:e}function Ls(e,t){let{buttonRef:r,popoverRef:a,inputRef:s,listBoxRef:i,keyboardDelegate:d,layoutDelegate:f,shouldFocusWrap:m,isReadOnly:v,isDisabled:C}=e,S=h.useRef(null);r=r??S;let w=us(Os(ka),"@react-aria/combobox"),{menuTriggerProps:K,menuProps:L}=cs({type:"listbox",isDisabled:C||v},t,r);ds.set(t,{id:L.id});let{collection:I}=t,{disabledKeys:P}=t.selectionManager,y=h.useMemo(()=>d||new wo({collection:I,disabledKeys:P,ref:i,layoutDelegate:f}),[d,f,I,P,i]),{collectionProps:q}=Fo({selectionManager:t.selectionManager,keyboardDelegate:y,disallowTypeAhead:!0,disallowEmptySelection:!0,shouldFocusWrap:m,ref:s,isVirtualized:!0}),z=No(),X=x=>{if(!x.nativeEvent.isComposing)switch(x.key){case"Enter":case"Tab":if(t.isOpen&&x.key==="Enter"&&x.preventDefault(),t.isOpen&&i.current&&t.selectionManager.focusedKey!=null&&t.selectionManager.isLink(t.selectionManager.focusedKey)){let H=i.current.querySelector(`[data-key="${CSS.escape(t.selectionManager.focusedKey.toString())}"]`);if(x.key==="Enter"&&H instanceof HTMLAnchorElement){let Y=t.collection.getItem(t.selectionManager.focusedKey);Y&&z.open(H,x,Y.props.href,Y.props.routerOptions)}t.close()}else t.commit();break;case"Escape":(t.selectedKey!==null||t.inputValue===""||e.allowsCustomValue)&&x.continuePropagation(),t.revert();break;case"ArrowDown":t.open("first","manual");break;case"ArrowUp":t.open("last","manual");break;case"ArrowLeft":case"ArrowRight":t.selectionManager.setFocusedKey(null);break}},E=x=>{var H;let Y=(r==null?void 0:r.current)&&r.current===x.relatedTarget,se=(H=a.current)===null||H===void 0?void 0:H.contains(x.relatedTarget);Y||se||(e.onBlur&&e.onBlur(x),t.setFocused(!1))},R=x=>{t.isFocused||(e.onFocus&&e.onFocus(x),t.setFocused(!0))},{isInvalid:D,validationErrors:j,validationDetails:V}=t.displayValidation,{labelProps:l,inputProps:b,descriptionProps:_,errorMessageProps:o}=gs({...e,onChange:t.setInputValue,onKeyDown:v?e.onKeyDown:Eo(t.isOpen&&q.onKeyDown,X,e.onKeyDown),onBlur:E,value:t.inputValue,defaultValue:t.defaultInputValue,onFocus:R,autoComplete:"off",validate:void 0,[ys]:t},s),$=x=>{if(x.pointerType==="touch"){var H;(H=s.current)===null||H===void 0||H.focus(),t.toggle(null,"manual")}},A=x=>{if(x.pointerType!=="touch"){var H;(H=s.current)===null||H===void 0||H.focus(),t.toggle(x.pointerType==="keyboard"||x.pointerType==="virtual"?"first":null,"manual")}},O=sr({id:K.id,"aria-label":w.format("buttonLabel"),"aria-labelledby":e["aria-labelledby"]||l.id}),N=sr({id:L.id,"aria-label":w.format("listboxLabel"),"aria-labelledby":e["aria-labelledby"]||l.id}),p=h.useRef(0),F=x=>{if(C||v)return;if(x.timeStamp-p.current<500){var H;x.preventDefault(),(H=s.current)===null||H===void 0||H.focus();return}let Y=x.target.getBoundingClientRect(),se=x.changedTouches[0],de=Math.ceil(Y.left+.5*Y.width),pe=Math.ceil(Y.top+.5*Y.height);if(se.clientX===de&&se.clientY===pe){var ye;x.preventDefault(),(ye=s.current)===null||ye===void 0||ye.focus(),t.toggle(null,"manual"),p.current=x.timeStamp}},T=t.selectionManager.focusedKey!=null&&t.isOpen?t.collection.getItem(t.selectionManager.focusedKey):void 0;var c;let W=(c=T==null?void 0:T.parentKey)!==null&&c!==void 0?c:null;var U;let Q=(U=t.selectionManager.focusedKey)!==null&&U!==void 0?U:null,oe=h.useRef(W),Z=h.useRef(Q);h.useEffect(()=>{if(qt()&&T!=null&&Q!=null&&Q!==Z.current){let H=t.selectionManager.isSelected(Q),Y=W!=null?t.collection.getItem(W):null,se=(Y==null?void 0:Y["aria-label"])||(typeof(Y==null?void 0:Y.rendered)=="string"?Y.rendered:"")||"";var x;let de=w.format("focusAnnouncement",{isGroupChange:(x=Y&&W!==oe.current)!==null&&x!==void 0?x:!1,groupTitle:se,groupCount:Y?[...Zr(Y,t.collection)].length:0,optionText:T["aria-label"]||T.textValue||"",isSelected:H});Yt(de)}oe.current=W,Z.current=Q});let ue=ps(t.collection),Pe=h.useRef(ue),ce=h.useRef(t.isOpen);h.useEffect(()=>{let x=t.isOpen!==ce.current&&(t.selectionManager.focusedKey==null||qt());if(t.isOpen&&(x||ue!==Pe.current)){let H=w.format("countAnnouncement",{optionCount:ue});Yt(H)}Pe.current=ue,ce.current=t.isOpen});let Ie=h.useRef(t.selectedKey);return h.useEffect(()=>{if(qt()&&t.isFocused&&t.selectedItem&&t.selectedKey!==Ie.current){let x=t.selectedItem["aria-label"]||t.selectedItem.textValue||"",H=w.format("selectedAnnouncement",{optionText:x});Yt(H)}Ie.current=t.selectedKey}),h.useEffect(()=>{if(t.isOpen)return zo([s.current,a.current].filter(x=>x!=null))},[t.isOpen,s,a]),Qo(()=>{!T&&s.current&&Ao(So(s.current))===s.current&&To(s.current,null)},[T]),{labelProps:l,buttonProps:{...K,...O,excludeFromTabOrder:!0,preventFocusOnPress:!0,onPress:$,onPressStart:A,isDisabled:C||v},inputProps:tr(b,{role:"combobox","aria-expanded":K["aria-expanded"],"aria-controls":t.isOpen?L.id:void 0,"aria-autocomplete":"list","aria-activedescendant":T?ms(t,T.key):void 0,onTouchEnd:F,autoCorrect:"off",spellCheck:"false"}),listBoxProps:tr(L,N,{autoFocus:t.focusStrategy||!0,shouldUseVirtualFocus:!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,linkBehavior:"selection"}),descriptionProps:_,errorMessageProps:o,isInvalid:D,validationErrors:j,validationDetails:V}}function Ms(e){var t,r,a,s,i;const d=Po(),{validationBehavior:f}=$s(js)||{},[m,v]=Io(e,lr.variantKeys),C=(r=(t=e.disableAnimation)!=null?t:d==null?void 0:d.disableAnimation)!=null?r:!1,S=e.disableClearable!==void 0?!e.disableClearable:e.isReadOnly?!1:e.isClearable,{ref:w,as:K,label:L,isLoading:I,menuTrigger:P="focus",filterOptions:y={sensitivity:"base"},children:q,selectorIcon:z,clearIcon:X,scrollRef:E,defaultFilter:R,endContent:D,allowsEmptyCollection:j=!0,shouldCloseOnBlur:V=!0,popoverProps:l={},inputProps:b={},scrollShadowProps:_={},listboxProps:o={},selectorButtonProps:$={},clearButtonProps:A={},showScrollIndicators:O=!0,allowsCustomValue:N=!1,isVirtualized:p,maxListboxHeight:F=256,itemHeight:T=32,validationBehavior:c=(a=f??(d==null?void 0:d.validationBehavior))!=null?a:"native",className:W,classNames:U,errorMessage:Q,onOpenChange:oe,onClose:Z,onClear:ue,isReadOnly:Pe=!1,...ce}=m,{contains:Ie}=_s(y);let x=Ds({...e,children:q,menuTrigger:P,validationBehavior:c,shouldCloseOnBlur:V,allowsEmptyCollection:j,defaultFilter:R&&typeof R=="function"?R:Ie,onOpenChange:(k,M)=>{oe==null||oe(k,M),k||Z==null||Z()}});x={...x,...Pe&&{disabledKeys:new Set([...x.collection.getKeys()])}};const H=h.useRef(null),Y=h.useRef(null),se=h.useRef(null),de=h.useRef(null),pe=nr(w),ye=nr(E),{buttonProps:Re,inputProps:De,listBoxProps:ke,isInvalid:G,validationDetails:ee,validationErrors:te}=Ls({validationBehavior:c,...e,inputRef:pe,buttonRef:H,listBoxRef:se,popoverRef:de},x),Fe=e.isInvalid||G,ae={inputProps:je({label:L,ref:pe,wrapperRef:Y,onClick:()=>{!x.isOpen&&x.selectedItem&&x.open()},isClearable:!1,disableAnimation:C},b),popoverProps:je({offset:5,placement:"bottom",triggerScaleOnOpen:!1,disableAnimation:C},l),scrollShadowProps:je({ref:ye,isEnabled:(s=O&&x.collection.size>5)!=null?s:!0,hideScrollBar:!0,offset:15},_),listboxProps:je({hideEmptyContent:N,emptyContent:"No results found.",disableAnimation:C},o),selectorButtonProps:je({isLoading:I,size:"sm",variant:"light",radius:"full",color:Fe?"danger":e==null?void 0:e.color,isIconOnly:!0,disableAnimation:C},$),clearButtonProps:je({size:"sm",variant:"light",radius:"full",color:Fe?"danger":e==null?void 0:e.color,isIconOnly:!0,disableAnimation:C},A)},xt=Ze(U==null?void 0:U.base,W),He=(i=ae.listboxProps)!=null&&i.hideEmptyContent?x.isOpen&&!!x.collection.size:x.isOpen;if(Cs(()=>{if(!pe.current)return;const k=pe.current.value,M=x.collection.getItem(k);M&&x.inputValue!==M.textValue&&(x.setSelectedKey(k),x.setInputValue(M.textValue))},[pe.current]),h.useEffect(()=>{let k;if(x.selectedKey!==null&&x.collection.getItem(x.selectedKey)&&!x.disabledKeys.has(x.selectedKey))k=x.selectedKey;else{let M=x.collection.getFirstKey();for(;M&&x.disabledKeys.has(M);)M=x.collection.getKeyAfter(M);k=M}x.selectionManager.setFocusedKey(k)},[x.collection,x.disabledKeys,x.selectedKey]),h.useEffect(()=>{if(x.isOpen&&de.current&&se.current){let k=se.current.querySelector("[aria-selected=true] [data-label=true]"),M=ye.current;if(k&&M&&k.parentElement){let $e=(M==null?void 0:M.getBoundingClientRect()).height;M.scrollTop=k.parentElement.offsetTop-$e/2+k.parentElement.clientHeight/2,x.selectionManager.setFocusedKey(x.selectedKey)}}},[x.isOpen,C]),h.useEffect(()=>{if(He&&de.current&&Y.current){let k=Y.current.getBoundingClientRect(),M=de.current;M.style.width=k.width+"px"}},[He]),De.onKeyDown){const k=De.onKeyDown;De.onKeyDown=M=>("continuePropagation"in M&&(M.stopPropagation=()=>{}),k(M))}const vt=K||"div",Ne=h.useMemo(()=>lr({...v,isClearable:S,disableAnimation:C}),[Ro(v),S,C]),bt=()=>({"data-invalid":Xt(Fe),"data-open":Xt(x.isOpen),className:Ne.base({class:xt})}),gt=()=>{var k;return{ref:H,...je(Re,ae.selectorButtonProps),"data-open":Xt(x.isOpen),className:Ne.selectorButton({class:Ze(U==null?void 0:U.selectorButton,(k=ae.selectorButtonProps)==null?void 0:k.className)})}},yt=()=>{var k,M;return{...je(Re,ae.clearButtonProps),onPressStart:()=>{var ie;(ie=pe.current)==null||ie.focus()},onPress:ie=>{var $e,Ke;(Ke=($e=ae.clearButtonProps)==null?void 0:$e.onPress)==null||Ke.call($e,ie),x.selectedItem&&x.setSelectedKey(null),x.setInputValue(""),x.open(),ue==null||ue()},"data-visible":!!x.selectedItem||((k=x.inputValue)==null?void 0:k.length)>0,className:Ne.clearButton({class:Ze(U==null?void 0:U.clearButton,(M=ae.clearButtonProps)==null?void 0:M.className)})}},$t=c==="native"&&x.displayValidation.isInvalid===!1&&x.realtimeValidation.isInvalid===!0;return{Component:vt,inputRef:pe,label:L,state:x,slots:Ne,classNames:U,isLoading:I,clearIcon:X,isOpen:He,endContent:D,isClearable:S,disableAnimation:C,allowsCustomValue:N,selectorIcon:z,getBaseProps:bt,getInputProps:()=>({...ce,...De,...ae.inputProps,isInvalid:$t?void 0:Fe,validationBehavior:c,errorMessage:typeof Q=="function"?Q({isInvalid:Fe,validationErrors:te,validationDetails:ee}):Q||(te==null?void 0:te.join(" ")),onClick:Zt(ae.inputProps.onClick,ce.onClick)}),getListBoxProps:()=>{const k=p??x.collection.size>50;return{state:x,ref:se,isVirtualized:k,virtualization:k?{maxListboxHeight:F,itemHeight:T}:void 0,scrollShadowProps:ae.scrollShadowProps,...je(ae.listboxProps,ke,{shouldHighlightOnFocus:!0})}},getPopoverProps:(k={})=>{var M,ie,$e;const Ke=je(ae.popoverProps,k);return{state:x,ref:de,triggerRef:Y,scrollRef:se,triggerType:"listbox",...Ke,classNames:{...(M=ae.popoverProps)==null?void 0:M.classNames,content:Ne.popoverContent({class:Ze(U==null?void 0:U.popoverContent,($e=(ie=ae.popoverProps)==null?void 0:ie.classNames)==null?void 0:$e.content,k.className)})},disableDialogFocus:!0}},getEmptyPopoverProps:()=>({ref:de,className:"hidden"}),getClearButtonProps:yt,getSelectorButtonProps:gt,getListBoxWrapperProps:(k={})=>{var M,ie;return{...je(ae.scrollShadowProps,k),className:Ne.listboxWrapper({class:Ze(U==null?void 0:U.listboxWrapper,(M=ae.scrollShadowProps)==null?void 0:M.className,k==null?void 0:k.className)}),style:{maxHeight:(ie=e.maxListboxHeight)!=null?ie:256}}},getEndContentWrapperProps:(k={})=>({className:Ne.endContentWrapper({class:Ze(U==null?void 0:U.endContentWrapper,k==null?void 0:k.className)}),onPointerDown:Zt(k.onPointerDown,M=>{var ie;M.button===0&&M.currentTarget===M.target&&((ie=pe.current)==null||ie.focus())}),onMouseDown:Zt(k.onMouseDown,M=>{M.button===0&&M.currentTarget===M.target&&M.preventDefault()})})}}var zs=Do(function(t,r){var a;const{Component:s,isOpen:i,disableAnimation:d,selectorIcon:f=n.jsx(vs,{}),clearIcon:m=n.jsx(ko,{}),endContent:v,getBaseProps:C,getSelectorButtonProps:S,getInputProps:w,getListBoxProps:K,getPopoverProps:L,getEmptyPopoverProps:I,getClearButtonProps:P,getListBoxWrapperProps:y,getEndContentWrapperProps:q}=Ms({...t,ref:r}),z=K(),X=i?n.jsx(fs,{...L(),children:n.jsx(hs,{...y(),children:n.jsx(xs,{...z})})}):((a=z.state)==null?void 0:a.collection.size)===0?n.jsx("div",{...I()}):null;return n.jsxs(s,{...C(),children:[n.jsx(ve,{...w(),endContent:n.jsxs("div",{...q(),children:[v||n.jsx(he,{...P(),children:m}),f&&n.jsx(he,{...S(),children:f})]})}),d?X:n.jsx(Bo,{children:X})]})}),ks=zs;function Ks({title:e,titleId:t,...r},a){return h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?h.createElement("title",{id:t},e):null,h.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const cr=h.forwardRef(Ks);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dr=$n("eye-off",Vs);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pr=$n("eye",Us);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ws=$n("lock",Gs),Xe=()=>"var(--borderRadius, 12px)",Hs=({allUsers:e,roles:t,isMobile:r,isTablet:a,setUsers:s,pagination:i,onPageChange:d,onRowsPerPageChange:f,totalUsers:m=0,onEdit:v,loading:C=!1,updateUserOptimized:S,deleteUserOptimized:w,toggleUserStatusOptimized:K,updateUserRolesOptimized:L,toggleSingleDeviceLogin:I,resetUserDevice:P,deviceActions:y={}})=>{const[q,z]=h.useState({}),X=(o,$="w-5 h-5")=>{const A=(o==null?void 0:o.toLowerCase())||"";return A.includes("mobile")||A.includes("android")||A.includes("iphone")?n.jsx(st,{className:`${$} text-primary`}):A.includes("tablet")||A.includes("ipad")?n.jsx(Jr,{className:`${$} text-secondary`}):n.jsx(na,{className:`${$} text-default-500`})},E=o=>{const $=(o==null?void 0:o.toLowerCase())||"";return $.includes("mobile")||$.includes("android")||$.includes("iphone")?"Mobile Device":$.includes("tablet")||$.includes("ipad")?"Tablet":"Desktop"},R=(o,$,A)=>{z(O=>({...O,[`${o}-${$}`]:A}))},D=(o,$)=>q[`${o}-${$}`]||!1;async function j(o,$){R(o,"role",!0);const A=new Promise(async(O,N)=>{var p;try{const F=await axios.post(route("user.updateRole",{id:o}),{roles:$});F.status===200&&(L&&L(o,$),O([F.data.message||"Role updated successfully"]))}catch(F){((p=F.response)==null?void 0:p.status)===422?N(F.response.data.errors||["Failed to update user role."]):N(["An unexpected error occurred. Please try again later."])}finally{R(o,"role",!1)}});return fe.promise(A,{loading:"Updating employee role...",success:O=>O.join(", "),error:O=>Array.isArray(O)?O.join(", "):O}),A}const V=h.useMemo(()=>{const o=[{name:"#",uid:"sl"},{name:"USER",uid:"user"},{name:"EMAIL",uid:"email"},{name:"DEPARTMENT",uid:"department"},{name:"DEVICE STATUS",uid:"device_status"},{name:"STATUS",uid:"status"},{name:"ROLES",uid:"roles"},{name:"ACTIONS",uid:"actions"}];if(!r&&!a)o.splice(3,0,{name:"PHONE",uid:"phone"});else if(r)o.splice(o.findIndex($=>$.uid==="department"),1),o.splice(o.findIndex($=>$.uid==="device_status"),1);else if(a){const $=o.findIndex(A=>A.uid==="device_status");if($>-1){const A=o.splice($,1)[0];o.splice(2,0,A)}}return o},[r,a]),l=async(o,$)=>{if(!D(o,"status")){R(o,"status",!0);try{K?(K(o,!$),fe.success(`User status ${$?"deactivated":"activated"} successfully`)):s&&(s(A=>A.map(O=>O.id===o?{...O,active:!$}:O)),fe.success(`User status ${$?"deactivated":"activated"} successfully`))}catch(A){console.error("Error toggling user status:",A),fe.error("Failed to update user status")}finally{R(o,"status",!1)}}},b=(o,$,A)=>{var N,p;const O=o[$];switch($){case"sl":const c=(i!=null&&i.currentPage&&(i!=null&&i.perPage)?Number((i.currentPage-1)*i.perPage):0)+(typeof A=="number"?A:0)+1;return n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"flex items-center justify-center w-8 h-8 border shadow-sm",style:{background:"var(--theme-content2, #F4F4F5)",borderColor:"var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 8px)",color:"var(--theme-foreground, #000000)"},children:n.jsx("span",{className:"text-sm font-bold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:c})})});case"user":return n.jsx(aa,{className:"w-fit max-w-full",avatarProps:{src:(o==null?void 0:o.profile_image_url)||(o==null?void 0:o.profile_image),name:(o==null?void 0:o.name)||"Unnamed User",size:"sm",...Ko({name:(o==null?void 0:o.name)||"Unnamed User",size:"sm"})},name:n.jsx("span",{className:"text-sm font-semibold whitespace-nowrap text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:(o==null?void 0:o.name)||"Unnamed User"}),description:n.jsxs("span",{className:"text-xs text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["ID: ",o==null?void 0:o.id]})});case"email":return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 rounded-md",style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)"},children:n.jsx(ln,{className:"w-3.5 h-3.5"})}),n.jsx("span",{className:"text-sm font-medium text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:o.email})]});case"phone":return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 rounded-md",style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)"},children:n.jsx(rn,{className:"w-3.5 h-3.5"})}),n.jsx("span",{className:"text-sm font-medium text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:o.phone||"N/A"})]});case"department":return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 rounded-md",style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)"},children:n.jsx(ot,{className:"w-3.5 h-3.5"})}),n.jsx("span",{className:"text-sm font-medium text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((N=o==null?void 0:o.department)==null?void 0:N.name)||"N/A"})]});case"device_status":const W=D(o.id,"deviceToggle");return n.jsx("div",{className:"flex items-center space-x-2",children:o.single_device_login?n.jsxs(n.Fragment,{children:[n.jsx(Ee,{size:"sm",variant:"flat",color:o.active_device?"warning":"success",startContent:W?n.jsx("div",{className:"animate-spin",children:n.jsx(Ye,{className:"w-3 h-3"})}):o.active_device?n.jsx(St,{className:"w-3 h-3"}):n.jsx(At,{className:"w-3 h-3"}),children:W?"Loading...":o.active_device?"Locked":"Free"}),o.active_device&&!W&&n.jsx(cn,{content:n.jsxs("div",{className:"backdrop-blur-md border rounded-lg p-4 shadow-2xl max-w-sm",style:{background:"color-mix(in srgb, var(--theme-content1) 20%, transparent)",borderColor:"var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)"},children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[X(o.active_device.user_agent,"w-5 h-5"),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-foreground text-sm",style:{fontFamily:'var(--fontFamily, "Inter")'},children:o.active_device.device_name||"Unknown Device"}),n.jsx("div",{className:"text-xs text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:E(o.active_device.user_agent)})]})]}),n.jsx("div",{className:"space-y-2 text-xs",children:n.jsx("div",{className:"pt-2 mt-2 border-t",style:{borderColor:"color-mix(in srgb, var(--theme-divider) 20%, transparent)"},children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ta,{className:"w-3 h-3 text-success"}),n.jsx("span",{className:"text-success text-xs font-medium",style:{fontFamily:'var(--fontFamily, "Inter")'},children:o.active_device.is_active?"Currently Active":"Inactive"})]})})})]}),placement:"top",classNames:{content:"p-0 bg-transparent shadow-none border-none"},children:n.jsx("div",{className:"flex items-center p-1 rounded-sm hover:bg-content1/10 transition-colors cursor-default",children:X(o.active_device.user_agent,"w-4 h-4")})})]}):n.jsx(Ee,{size:"sm",variant:"flat",color:"default",startContent:W?n.jsx("div",{className:"animate-spin",children:n.jsx(Ye,{className:"w-3 h-3"})}):n.jsx(it,{className:"w-3 h-3"}),children:W?"Loading...":"Disabled"})});case"status":return n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o.active,onChange:()=>l(o.id,o.active),disabled:D(o.id,"status")}),n.jsx("div",{className:"w-11 h-6 peer-focus:outline-hidden peer-focus:ring-4 peer-focus:ring-opacity-30 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all",style:{backgroundColor:o.active?"var(--theme-success, #10B981)":"var(--theme-danger, #EF4444)"}}),D(o.id,"status")&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx(Ft,{size:"sm",color:"default"})})]}),n.jsx("span",{className:"text-xs font-medium",style:{color:o.active?"var(--theme-success, #10B981)":"var(--theme-danger, #EF4444)",fontFamily:'var(--fontFamily, "Inter")'},children:o.active?"Active":"Inactive"})]});case"roles":const U=((p=o.roles)==null?void 0:p.map(Z=>typeof Z=="object"&&Z!==null?Z.name:Z))||[],Q=new Set(U),oe=Array.from(Q).join(", ")||"No Roles";return n.jsx("div",{className:"flex items-center",children:n.jsxs(an,{isDisabled:D(o.id,"role"),className:"max-w-[220px]",children:[n.jsx(on,{children:n.jsx(he,{className:"capitalize",variant:"solid",size:"sm",radius:Xe(),startContent:D(o.id,"role")?n.jsx(Ft,{size:"sm"}):null,style:{background:"var(--theme-primary, #3B82F6)",color:"white",fontFamily:'var(--fontFamily, "Inter")',borderRadius:Xe()},children:oe})}),n.jsx(sn,{disallowEmptySelection:!1,"aria-label":"Role selection",closeOnSelect:!1,selectedKeys:Q,selectionMode:"multiple",variant:"flat",onSelectionChange:Z=>{const ue=Array.from(Z);j(o.id,ue)},children:(t||[]).map(Z=>n.jsx(Ae,{children:typeof Z=="object"&&Z!==null?Z.name:Z},typeof Z=="object"&&Z!==null?Z.name:Z))})]})});case"actions":return n.jsx("div",{className:"flex justify-center items-center",children:n.jsxs(an,{children:[n.jsx(on,{children:n.jsx(he,{isIconOnly:!0,size:"sm",variant:"solid",radius:Xe(),style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)",fontFamily:'var(--fontFamily, "Inter")',borderRadius:Xe()},className:"hover:opacity-80 transition-opacity",children:n.jsx(un,{className:"w-4 h-4"})})}),n.jsxs(sn,{style:{background:"var(--theme-content1, #FFFFFF)",border:"1px solid var(--theme-divider, #E5E7EB)",borderRadius:Xe()},children:[n.jsx(Ae,{textValue:"View Profile",href:route("profile",{user:o.id}),as:rr,className:"text-blue-500",startContent:n.jsx(Et,{className:"w-4 h-4"}),children:"View Profile"}),n.jsx(Ae,{textValue:"Edit User",onPress:()=>{v&&v(o)},className:"text-amber-500",startContent:n.jsx(ea,{className:"w-4 h-4"}),children:"Edit"}),n.jsx(Ae,{textValue:"Device Toggle",onPress:()=>{I&&!D(o.id,"deviceToggle")&&(R(o.id,"deviceToggle",!0),I(o.id,!o.single_device_login).finally(()=>{R(o.id,"deviceToggle",!1)}))},isDisabled:y[o.id]||D(o.id,"deviceToggle"),startContent:D(o.id,"deviceToggle")?n.jsx("div",{className:"animate-spin",children:n.jsx(Ye,{className:"w-4 h-4"})}):o.single_device_login?n.jsx(At,{className:"w-4 h-4"}):n.jsx(St,{className:"w-4 h-4"}),className:o.single_device_login?"text-orange-500":"text-green-500",children:D(o.id,"deviceToggle")?"Processing...":o.single_device_login?"Disable Device Lock":"Enable Device Lock"}),o.single_device_login&&o.active_device&&n.jsx(Ae,{textValue:"Reset Device",onPress:()=>{P&&!D(o.id,"deviceReset")&&(R(o.id,"deviceReset",!0),P(o.id).finally(()=>{R(o.id,"deviceReset",!1)}))},isDisabled:y[o.id]||D(o.id,"deviceReset"),startContent:D(o.id,"deviceReset")?n.jsx("div",{className:"animate-spin",children:n.jsx(Ye,{className:"w-4 h-4"})}):n.jsx(Ye,{className:"w-4 h-4"}),className:"text-red-500",children:D(o.id,"deviceReset")?"Resetting...":"Reset Device"}),n.jsx(Ae,{textValue:"View Devices",href:route("admin.users.devices",{userId:o.id}),as:rr,startContent:n.jsx(st,{className:"w-4 h-4"}),className:"text-blue-500",children:"View Device History"})]})]})});default:return O}},_=()=>!e||!m||C?null:n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-6 py-4 border-t",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:"var(--theme-content2, #F4F4F5)",borderRadius:"0 0 var(--borderRadius, 12px) var(--borderRadius, 12px)"},children:[n.jsxs("span",{className:"text-sm text-default-600 mb-3 sm:mb-0 font-medium",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["Showing"," ",n.jsx("span",{className:"font-semibold text-default-900",children:(i.currentPage-1)*i.perPage+1})," ","to"," ",n.jsx("span",{className:"font-semibold text-default-900",children:Math.min(i.currentPage*i.perPage,m)})," ","of"," ",n.jsx("span",{className:"font-semibold text-default-900",children:m})," ","users"]}),n.jsx(ra,{total:Math.ceil(m/i.perPage),initialPage:i.currentPage,page:i.currentPage,onChange:d,size:r?"sm":"md",variant:"flat",showControls:!0,radius:Xe(),style:{fontFamily:'var(--fontFamily, "Inter")'},classNames:{wrapper:"gap-1",item:"bg-default-100 hover:bg-default-200 text-default-700 font-medium border border-default-200",cursor:"bg-primary text-primary-foreground font-semibold shadow-md",prev:"bg-default-100 hover:bg-default-200 text-default-700 border border-default-200",next:"bg-default-100 hover:bg-default-200 text-default-700 border border-default-200"}})]});return n.jsxs("div",{className:"w-full flex flex-col border rounded-lg shadow-lg",style:{maxHeight:"calc(100vh - 240px)",borderColor:"var(--theme-divider, #E4E4E7)",background:"var(--theme-content1, #FFFFFF)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:[n.jsx("div",{className:"flex-1 overflow-auto",style:{scrollbarWidth:"thin",scrollbarColor:"var(--theme-divider, #E4E4E7) transparent"},children:n.jsxs(es,{removeWrapper:!0,selectionMode:"none",isCompact:r,classNames:{base:"min-w-[900px]",wrapper:"p-0 shadow-none",th:"text-default-600 border-b font-semibold text-xs sticky top-0 z-30",td:"border-b py-4 px-3",table:"border-collapse w-full",thead:"sticky top-0 z-30",tbody:"",tr:"hover:bg-default-50 transition-colors duration-150",emptyWrapper:"text-center h-32",loadingWrapper:"h-32"},style:{"--table-border-color":"var(--theme-divider, #E4E4E7)","--table-header-bg":"var(--theme-content2, #F4F4F5)","--table-row-hover":"var(--theme-default-50, #F9FAFB)"},children:[n.jsx(as,{columns:V,children:o=>n.jsx(os,{align:o.uid==="actions"||o.uid==="sl"?"center":"start",width:o.uid==="user"?280:o.uid==="email"?240:o.uid==="phone"?140:o.uid==="department"||o.uid==="device_status"?160:o.uid==="status"?120:o.uid==="roles"?180:o.uid==="actions"?120:void 0,style:{background:"var(--table-header-bg)",borderColor:"var(--table-border-color)",fontFamily:'var(--fontFamily, "Inter")',fontSize:"0.75rem",fontWeight:"600"},children:n.jsxs("div",{className:"flex items-center gap-2 py-1",children:[o.uid==="sl"&&n.jsx(Yo,{className:"w-3 h-3 text-default-400"}),o.uid==="user"&&n.jsx(Et,{className:"w-3 h-3 text-default-400"}),o.uid==="email"&&n.jsx(ln,{className:"w-3 h-3 text-default-400"}),o.uid==="phone"&&n.jsx(rn,{className:"w-3 h-3 text-default-400"}),o.uid==="department"&&n.jsx(ot,{className:"w-3 h-3 text-default-400"}),o.uid==="device_status"&&n.jsx(st,{className:"w-3 h-3 text-default-400"}),o.uid==="status"&&n.jsx(Qr,{className:"w-3 h-3 text-default-400"}),o.uid==="roles"&&n.jsx(it,{className:"w-3 h-3 text-default-400"}),o.uid==="actions"&&n.jsx(un,{className:"w-3 h-3 text-default-400"}),n.jsx("span",{children:o.name})]})},o.uid)}),n.jsx(ts,{items:e||[],emptyContent:n.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[n.jsx(Jo,{className:"w-12 h-12 text-default-300 mb-3"}),n.jsx("p",{className:"text-default-500 font-medium",children:"No users found"}),n.jsx("p",{className:"text-default-400 text-sm",children:"Try adjusting your search or filters"})]}),loadingContent:n.jsx("div",{className:"flex justify-center items-center py-8",children:n.jsx(Ft,{size:"lg",color:"primary"})}),isLoading:C,children:(o,$)=>{const A=e?e.findIndex(O=>O.id===o.id):$;return n.jsx(ns,{className:"group",style:{background:"var(--theme-content1, #FFFFFF)"},children:O=>n.jsx(rs,{style:{borderColor:"var(--table-border-color)",fontFamily:'var(--fontFamily, "Inter")',background:"inherit"},children:b(o,O,A)})},o.id)}})]})}),_()]})};var Ka=typeof global=="object"&&global&&global.Object===Object&&global,qs=typeof self=="object"&&self&&self.Object===Object&&self,we=Ka||qs||Function("return this")(),ge=we.Symbol,Va=Object.prototype,Zs=Va.hasOwnProperty,Xs=Va.toString,nt=ge?ge.toStringTag:void 0;function Ys(e){var t=Zs.call(e,nt),r=e[nt];try{e[nt]=void 0;var a=!0}catch{}var s=Xs.call(e);return a&&(t?e[nt]=r:delete e[nt]),s}var Js=Object.prototype,Qs=Js.toString;function ei(e){return Qs.call(e)}var ti="[object Null]",ni="[object Undefined]",mr=ge?ge.toStringTag:void 0;function Ue(e){return e==null?e===void 0?ni:ti:mr&&mr in Object(e)?Ys(e):ei(e)}function Te(e){return e!=null&&typeof e=="object"}var ri="[object Symbol]";function Ot(e){return typeof e=="symbol"||Te(e)&&Ue(e)==ri}function Ua(e,t){for(var r=-1,a=e==null?0:e.length,s=Array(a);++r<a;)s[r]=t(e[r],r,e);return s}var _e=Array.isArray,fr=ge?ge.prototype:void 0,hr=fr?fr.toString:void 0;function Ga(e){if(typeof e=="string")return e;if(_e(e))return Ua(e,Ga)+"";if(Ot(e))return hr?hr.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ai=/\s/;function oi(e){for(var t=e.length;t--&&ai.test(e.charAt(t)););return t}var si=/^\s+/;function ii(e){return e&&e.slice(0,oi(e)+1).replace(si,"")}function xe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var xr=NaN,li=/^[-+]0x[0-9a-f]+$/i,ui=/^0b[01]+$/i,ci=/^0o[0-7]+$/i,di=parseInt;function vr(e){if(typeof e=="number")return e;if(Ot(e))return xr;if(xe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ii(e);var r=ui.test(e);return r||ci.test(e)?di(e.slice(2),r?2:8):li.test(e)?xr:+e}function Wa(e){return e}var pi="[object AsyncFunction]",mi="[object Function]",fi="[object GeneratorFunction]",hi="[object Proxy]";function jn(e){if(!xe(e))return!1;var t=Ue(e);return t==mi||t==fi||t==pi||t==hi}var Qt=we["__core-js_shared__"],br=function(){var e=/[^.]+$/.exec(Qt&&Qt.keys&&Qt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function xi(e){return!!br&&br in e}var vi=Function.prototype,bi=vi.toString;function Ge(e){if(e!=null){try{return bi.call(e)}catch{}try{return e+""}catch{}}return""}var gi=/[\\^$.*+?()[\]{}|]/g,yi=/^\[object .+?Constructor\]$/,$i=Function.prototype,ji=Object.prototype,Ci=$i.toString,_i=ji.hasOwnProperty,wi=RegExp("^"+Ci.call(_i).replace(gi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Fi(e){if(!xe(e)||xi(e))return!1;var t=jn(e)?wi:yi;return t.test(Ge(e))}function Ni(e,t){return e==null?void 0:e[t]}function We(e,t){var r=Ni(e,t);return Fi(r)?r:void 0}var dn=We(we,"WeakMap"),gr=Object.create,Ei=function(){function e(){}return function(t){if(!xe(t))return{};if(gr)return gr(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Ai(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Ha(e,t){var r=-1,a=e.length;for(t||(t=Array(a));++r<a;)t[r]=e[r];return t}var Si=800,Ti=16,Pi=Date.now;function Ii(e){var t=0,r=0;return function(){var a=Pi(),s=Ti-(a-r);if(r=a,s>0){if(++t>=Si)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ri(e){return function(){return e}}var Tt=function(){try{var e=We(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Di=Tt?function(e,t){return Tt(e,"toString",{configurable:!0,enumerable:!1,value:Ri(t),writable:!0})}:Wa,qa=Ii(Di);function Bi(e,t){for(var r=-1,a=e==null?0:e.length;++r<a&&t(e[r],r,e)!==!1;);return e}var Oi=9007199254740991,Li=/^(?:0|[1-9]\d*)$/;function Cn(e,t){var r=typeof e;return t=t??Oi,!!t&&(r=="number"||r!="symbol"&&Li.test(e))&&e>-1&&e%1==0&&e<t}function _n(e,t,r){t=="__proto__"&&Tt?Tt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function ft(e,t){return e===t||e!==e&&t!==t}var Mi=Object.prototype,zi=Mi.hasOwnProperty;function wn(e,t,r){var a=e[t];(!(zi.call(e,t)&&ft(a,r))||r===void 0&&!(t in e))&&_n(e,t,r)}function tt(e,t,r,a){var s=!r;r||(r={});for(var i=-1,d=t.length;++i<d;){var f=t[i],m=void 0;m===void 0&&(m=e[f]),s?_n(r,f,m):wn(r,f,m)}return r}var yr=Math.max;function Za(e,t,r){return t=yr(t===void 0?e.length-1:t,0),function(){for(var a=arguments,s=-1,i=yr(a.length-t,0),d=Array(i);++s<i;)d[s]=a[t+s];s=-1;for(var f=Array(t+1);++s<t;)f[s]=a[s];return f[t]=r(d),Ai(e,this,f)}}function ki(e,t){return qa(Za(e,t,Wa),e+"")}var Ki=9007199254740991;function Xa(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ki}function Lt(e){return e!=null&&Xa(e.length)&&!jn(e)}function Vi(e,t,r){if(!xe(r))return!1;var a=typeof t;return(a=="number"?Lt(r)&&Cn(t,r.length):a=="string"&&t in r)?ft(r[t],e):!1}function Ui(e){return ki(function(t,r){var a=-1,s=r.length,i=s>1?r[s-1]:void 0,d=s>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(s--,i):void 0,d&&Vi(r[0],r[1],d)&&(i=s<3?void 0:i,s=1),t=Object(t);++a<s;){var f=r[a];f&&e(t,f,a,i)}return t})}var Gi=Object.prototype;function Fn(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Gi;return e===r}function Wi(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var Hi="[object Arguments]";function $r(e){return Te(e)&&Ue(e)==Hi}var Ya=Object.prototype,qi=Ya.hasOwnProperty,Zi=Ya.propertyIsEnumerable,Pt=$r(function(){return arguments}())?$r:function(e){return Te(e)&&qi.call(e,"callee")&&!Zi.call(e,"callee")};function Xi(){return!1}var Ja=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jr=Ja&&typeof module=="object"&&module&&!module.nodeType&&module,Yi=jr&&jr.exports===Ja,Cr=Yi?we.Buffer:void 0,Ji=Cr?Cr.isBuffer:void 0,ct=Ji||Xi,Qi="[object Arguments]",el="[object Array]",tl="[object Boolean]",nl="[object Date]",rl="[object Error]",al="[object Function]",ol="[object Map]",sl="[object Number]",il="[object Object]",ll="[object RegExp]",ul="[object Set]",cl="[object String]",dl="[object WeakMap]",pl="[object ArrayBuffer]",ml="[object DataView]",fl="[object Float32Array]",hl="[object Float64Array]",xl="[object Int8Array]",vl="[object Int16Array]",bl="[object Int32Array]",gl="[object Uint8Array]",yl="[object Uint8ClampedArray]",$l="[object Uint16Array]",jl="[object Uint32Array]",re={};re[fl]=re[hl]=re[xl]=re[vl]=re[bl]=re[gl]=re[yl]=re[$l]=re[jl]=!0;re[Qi]=re[el]=re[pl]=re[tl]=re[ml]=re[nl]=re[rl]=re[al]=re[ol]=re[sl]=re[il]=re[ll]=re[ul]=re[cl]=re[dl]=!1;function Cl(e){return Te(e)&&Xa(e.length)&&!!re[Ue(e)]}function Nn(e){return function(t){return e(t)}}var Qa=typeof exports=="object"&&exports&&!exports.nodeType&&exports,lt=Qa&&typeof module=="object"&&module&&!module.nodeType&&module,_l=lt&&lt.exports===Qa,en=_l&&Ka.process,et=function(){try{var e=lt&&lt.require&&lt.require("util").types;return e||en&&en.binding&&en.binding("util")}catch{}}(),_r=et&&et.isTypedArray,En=_r?Nn(_r):Cl,wl=Object.prototype,Fl=wl.hasOwnProperty;function eo(e,t){var r=_e(e),a=!r&&Pt(e),s=!r&&!a&&ct(e),i=!r&&!a&&!s&&En(e),d=r||a||s||i,f=d?Wi(e.length,String):[],m=f.length;for(var v in e)(t||Fl.call(e,v))&&!(d&&(v=="length"||s&&(v=="offset"||v=="parent")||i&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||Cn(v,m)))&&f.push(v);return f}function to(e,t){return function(r){return e(t(r))}}var Nl=to(Object.keys,Object),El=Object.prototype,Al=El.hasOwnProperty;function Sl(e){if(!Fn(e))return Nl(e);var t=[];for(var r in Object(e))Al.call(e,r)&&r!="constructor"&&t.push(r);return t}function An(e){return Lt(e)?eo(e):Sl(e)}function Tl(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Pl=Object.prototype,Il=Pl.hasOwnProperty;function Rl(e){if(!xe(e))return Tl(e);var t=Fn(e),r=[];for(var a in e)a=="constructor"&&(t||!Il.call(e,a))||r.push(a);return r}function ht(e){return Lt(e)?eo(e,!0):Rl(e)}var Dl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bl=/^\w*$/;function Ol(e,t){if(_e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ot(e)?!0:Bl.test(e)||!Dl.test(e)||t!=null&&e in Object(t)}var dt=We(Object,"create");function Ll(){this.__data__=dt?dt(null):{},this.size=0}function Ml(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var zl="__lodash_hash_undefined__",kl=Object.prototype,Kl=kl.hasOwnProperty;function Vl(e){var t=this.__data__;if(dt){var r=t[e];return r===zl?void 0:r}return Kl.call(t,e)?t[e]:void 0}var Ul=Object.prototype,Gl=Ul.hasOwnProperty;function Wl(e){var t=this.__data__;return dt?t[e]!==void 0:Gl.call(t,e)}var Hl="__lodash_hash_undefined__";function ql(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=dt&&t===void 0?Hl:t,this}function Ve(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Ve.prototype.clear=Ll;Ve.prototype.delete=Ml;Ve.prototype.get=Vl;Ve.prototype.has=Wl;Ve.prototype.set=ql;function Zl(){this.__data__=[],this.size=0}function Mt(e,t){for(var r=e.length;r--;)if(ft(e[r][0],t))return r;return-1}var Xl=Array.prototype,Yl=Xl.splice;function Jl(e){var t=this.__data__,r=Mt(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():Yl.call(t,r,1),--this.size,!0}function Ql(e){var t=this.__data__,r=Mt(t,e);return r<0?void 0:t[r][1]}function eu(e){return Mt(this.__data__,e)>-1}function tu(e,t){var r=this.__data__,a=Mt(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}function Me(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Me.prototype.clear=Zl;Me.prototype.delete=Jl;Me.prototype.get=Ql;Me.prototype.has=eu;Me.prototype.set=tu;var pt=We(we,"Map");function nu(){this.size=0,this.__data__={hash:new Ve,map:new(pt||Me),string:new Ve}}function ru(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function zt(e,t){var r=e.__data__;return ru(t)?r[typeof t=="string"?"string":"hash"]:r.map}function au(e){var t=zt(this,e).delete(e);return this.size-=t?1:0,t}function ou(e){return zt(this,e).get(e)}function su(e){return zt(this,e).has(e)}function iu(e,t){var r=zt(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}function ze(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}ze.prototype.clear=nu;ze.prototype.delete=au;ze.prototype.get=ou;ze.prototype.has=su;ze.prototype.set=iu;var lu="Expected a function";function Sn(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(lu);var r=function(){var a=arguments,s=t?t.apply(this,a):a[0],i=r.cache;if(i.has(s))return i.get(s);var d=e.apply(this,a);return r.cache=i.set(s,d)||i,d};return r.cache=new(Sn.Cache||ze),r}Sn.Cache=ze;var uu=500;function cu(e){var t=Sn(e,function(a){return r.size===uu&&r.clear(),a}),r=t.cache;return t}var du=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pu=/\\(\\)?/g,mu=cu(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(du,function(r,a,s,i){t.push(s?i.replace(pu,"$1"):a||r)}),t});function fu(e){return e==null?"":Ga(e)}function kt(e,t){return _e(e)?e:Ol(e,t)?[e]:mu(fu(e))}function Tn(e){if(typeof e=="string"||Ot(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function no(e,t){t=kt(t,e);for(var r=0,a=t.length;e!=null&&r<a;)e=e[Tn(t[r++])];return r&&r==a?e:void 0}function It(e,t,r){var a=e==null?void 0:no(e,t);return a===void 0?r:a}function Pn(e,t){for(var r=-1,a=t.length,s=e.length;++r<a;)e[s+r]=t[r];return e}var wr=ge?ge.isConcatSpreadable:void 0;function hu(e){return _e(e)||Pt(e)||!!(wr&&e&&e[wr])}function xu(e,t,r,a,s){var i=-1,d=e.length;for(r||(r=hu),s||(s=[]);++i<d;){var f=e[i];r(f)?Pn(s,f):s[s.length]=f}return s}function vu(e){var t=e==null?0:e.length;return t?xu(e):[]}function bu(e){return qa(Za(e,void 0,vu),e+"")}var In=to(Object.getPrototypeOf,Object),gu="[object Object]",yu=Function.prototype,$u=Object.prototype,ro=yu.toString,ju=$u.hasOwnProperty,Cu=ro.call(Object);function ao(e){if(!Te(e)||Ue(e)!=gu)return!1;var t=In(e);if(t===null)return!0;var r=ju.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ro.call(r)==Cu}function _u(e,t,r){var a=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++a<s;)i[a]=e[a+t];return i}function wu(){this.__data__=new Me,this.size=0}function Fu(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Nu(e){return this.__data__.get(e)}function Eu(e){return this.__data__.has(e)}var Au=200;function Su(e,t){var r=this.__data__;if(r instanceof Me){var a=r.__data__;if(!pt||a.length<Au-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new ze(a)}return r.set(e,t),this.size=r.size,this}function Se(e){var t=this.__data__=new Me(e);this.size=t.size}Se.prototype.clear=wu;Se.prototype.delete=Fu;Se.prototype.get=Nu;Se.prototype.has=Eu;Se.prototype.set=Su;function Tu(e,t){return e&&tt(t,An(t),e)}function Pu(e,t){return e&&tt(t,ht(t),e)}var oo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Fr=oo&&typeof module=="object"&&module&&!module.nodeType&&module,Iu=Fr&&Fr.exports===oo,Nr=Iu?we.Buffer:void 0,Er=Nr?Nr.allocUnsafe:void 0;function so(e,t){if(t)return e.slice();var r=e.length,a=Er?Er(r):new e.constructor(r);return e.copy(a),a}function Ru(e,t){for(var r=-1,a=e==null?0:e.length,s=0,i=[];++r<a;){var d=e[r];t(d,r,e)&&(i[s++]=d)}return i}function io(){return[]}var Du=Object.prototype,Bu=Du.propertyIsEnumerable,Ar=Object.getOwnPropertySymbols,Rn=Ar?function(e){return e==null?[]:(e=Object(e),Ru(Ar(e),function(t){return Bu.call(e,t)}))}:io;function Ou(e,t){return tt(e,Rn(e),t)}var Lu=Object.getOwnPropertySymbols,lo=Lu?function(e){for(var t=[];e;)Pn(t,Rn(e)),e=In(e);return t}:io;function Mu(e,t){return tt(e,lo(e),t)}function uo(e,t,r){var a=t(e);return _e(e)?a:Pn(a,r(e))}function pn(e){return uo(e,An,Rn)}function co(e){return uo(e,ht,lo)}var mn=We(we,"DataView"),fn=We(we,"Promise"),hn=We(we,"Set"),Sr="[object Map]",zu="[object Object]",Tr="[object Promise]",Pr="[object Set]",Ir="[object WeakMap]",Rr="[object DataView]",ku=Ge(mn),Ku=Ge(pt),Vu=Ge(fn),Uu=Ge(hn),Gu=Ge(dn),Ce=Ue;(mn&&Ce(new mn(new ArrayBuffer(1)))!=Rr||pt&&Ce(new pt)!=Sr||fn&&Ce(fn.resolve())!=Tr||hn&&Ce(new hn)!=Pr||dn&&Ce(new dn)!=Ir)&&(Ce=function(e){var t=Ue(e),r=t==zu?e.constructor:void 0,a=r?Ge(r):"";if(a)switch(a){case ku:return Rr;case Ku:return Sr;case Vu:return Tr;case Uu:return Pr;case Gu:return Ir}return t});var Wu=Object.prototype,Hu=Wu.hasOwnProperty;function qu(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Hu.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Rt=we.Uint8Array;function Dn(e){var t=new e.constructor(e.byteLength);return new Rt(t).set(new Rt(e)),t}function Zu(e,t){var r=t?Dn(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Xu=/\w*$/;function Yu(e){var t=new e.constructor(e.source,Xu.exec(e));return t.lastIndex=e.lastIndex,t}var Dr=ge?ge.prototype:void 0,Br=Dr?Dr.valueOf:void 0;function Ju(e){return Br?Object(Br.call(e)):{}}function po(e,t){var r=t?Dn(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Qu="[object Boolean]",ec="[object Date]",tc="[object Map]",nc="[object Number]",rc="[object RegExp]",ac="[object Set]",oc="[object String]",sc="[object Symbol]",ic="[object ArrayBuffer]",lc="[object DataView]",uc="[object Float32Array]",cc="[object Float64Array]",dc="[object Int8Array]",pc="[object Int16Array]",mc="[object Int32Array]",fc="[object Uint8Array]",hc="[object Uint8ClampedArray]",xc="[object Uint16Array]",vc="[object Uint32Array]";function bc(e,t,r){var a=e.constructor;switch(t){case ic:return Dn(e);case Qu:case ec:return new a(+e);case lc:return Zu(e,r);case uc:case cc:case dc:case pc:case mc:case fc:case hc:case xc:case vc:return po(e,r);case tc:return new a;case nc:case oc:return new a(e);case rc:return Yu(e);case ac:return new a;case sc:return Ju(e)}}function mo(e){return typeof e.constructor=="function"&&!Fn(e)?Ei(In(e)):{}}var gc="[object Map]";function yc(e){return Te(e)&&Ce(e)==gc}var Or=et&&et.isMap,$c=Or?Nn(Or):yc,jc="[object Set]";function Cc(e){return Te(e)&&Ce(e)==jc}var Lr=et&&et.isSet,_c=Lr?Nn(Lr):Cc,wc=1,Fc=2,Nc=4,fo="[object Arguments]",Ec="[object Array]",Ac="[object Boolean]",Sc="[object Date]",Tc="[object Error]",ho="[object Function]",Pc="[object GeneratorFunction]",Ic="[object Map]",Rc="[object Number]",xo="[object Object]",Dc="[object RegExp]",Bc="[object Set]",Oc="[object String]",Lc="[object Symbol]",Mc="[object WeakMap]",zc="[object ArrayBuffer]",kc="[object DataView]",Kc="[object Float32Array]",Vc="[object Float64Array]",Uc="[object Int8Array]",Gc="[object Int16Array]",Wc="[object Int32Array]",Hc="[object Uint8Array]",qc="[object Uint8ClampedArray]",Zc="[object Uint16Array]",Xc="[object Uint32Array]",ne={};ne[fo]=ne[Ec]=ne[zc]=ne[kc]=ne[Ac]=ne[Sc]=ne[Kc]=ne[Vc]=ne[Uc]=ne[Gc]=ne[Wc]=ne[Ic]=ne[Rc]=ne[xo]=ne[Dc]=ne[Bc]=ne[Oc]=ne[Lc]=ne[Hc]=ne[qc]=ne[Zc]=ne[Xc]=!0;ne[Tc]=ne[ho]=ne[Mc]=!1;function ut(e,t,r,a,s,i){var d,f=t&wc,m=t&Fc,v=t&Nc;if(r&&(d=s?r(e,a,s,i):r(e)),d!==void 0)return d;if(!xe(e))return e;var C=_e(e);if(C){if(d=qu(e),!f)return Ha(e,d)}else{var S=Ce(e),w=S==ho||S==Pc;if(ct(e))return so(e,f);if(S==xo||S==fo||w&&!s){if(d=m||w?{}:mo(e),!f)return m?Mu(e,Pu(d,e)):Ou(e,Tu(d,e))}else{if(!ne[S])return s?e:{};d=bc(e,S,f)}}i||(i=new Se);var K=i.get(e);if(K)return K;i.set(e,d),_c(e)?e.forEach(function(P){d.add(ut(P,t,r,P,e,i))}):$c(e)&&e.forEach(function(P,y){d.set(y,ut(P,t,r,y,e,i))});var L=v?m?co:pn:m?ht:An,I=C?void 0:L(e);return Bi(I||e,function(P,y){I&&(y=P,P=e[y]),wn(d,y,ut(P,t,r,y,e,i))}),d}var Yc=1,Jc=4;function _t(e){return ut(e,Yc|Jc)}var Qc="__lodash_hash_undefined__";function ed(e){return this.__data__.set(e,Qc),this}function td(e){return this.__data__.has(e)}function Dt(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ze;++t<r;)this.add(e[t])}Dt.prototype.add=Dt.prototype.push=ed;Dt.prototype.has=td;function nd(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}function rd(e,t){return e.has(t)}var ad=1,od=2;function vo(e,t,r,a,s,i){var d=r&ad,f=e.length,m=t.length;if(f!=m&&!(d&&m>f))return!1;var v=i.get(e),C=i.get(t);if(v&&C)return v==t&&C==e;var S=-1,w=!0,K=r&od?new Dt:void 0;for(i.set(e,t),i.set(t,e);++S<f;){var L=e[S],I=t[S];if(a)var P=d?a(I,L,S,t,e,i):a(L,I,S,e,t,i);if(P!==void 0){if(P)continue;w=!1;break}if(K){if(!nd(t,function(y,q){if(!rd(K,q)&&(L===y||s(L,y,r,a,i)))return K.push(q)})){w=!1;break}}else if(!(L===I||s(L,I,r,a,i))){w=!1;break}}return i.delete(e),i.delete(t),w}function sd(e){var t=-1,r=Array(e.size);return e.forEach(function(a,s){r[++t]=[s,a]}),r}function id(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r}var ld=1,ud=2,cd="[object Boolean]",dd="[object Date]",pd="[object Error]",md="[object Map]",fd="[object Number]",hd="[object RegExp]",xd="[object Set]",vd="[object String]",bd="[object Symbol]",gd="[object ArrayBuffer]",yd="[object DataView]",Mr=ge?ge.prototype:void 0,tn=Mr?Mr.valueOf:void 0;function $d(e,t,r,a,s,i,d){switch(r){case yd:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case gd:return!(e.byteLength!=t.byteLength||!i(new Rt(e),new Rt(t)));case cd:case dd:case fd:return ft(+e,+t);case pd:return e.name==t.name&&e.message==t.message;case hd:case vd:return e==t+"";case md:var f=sd;case xd:var m=a&ld;if(f||(f=id),e.size!=t.size&&!m)return!1;var v=d.get(e);if(v)return v==t;a|=ud,d.set(e,t);var C=vo(f(e),f(t),a,s,i,d);return d.delete(e),C;case bd:if(tn)return tn.call(e)==tn.call(t)}return!1}var jd=1,Cd=Object.prototype,_d=Cd.hasOwnProperty;function wd(e,t,r,a,s,i){var d=r&jd,f=pn(e),m=f.length,v=pn(t),C=v.length;if(m!=C&&!d)return!1;for(var S=m;S--;){var w=f[S];if(!(d?w in t:_d.call(t,w)))return!1}var K=i.get(e),L=i.get(t);if(K&&L)return K==t&&L==e;var I=!0;i.set(e,t),i.set(t,e);for(var P=d;++S<m;){w=f[S];var y=e[w],q=t[w];if(a)var z=d?a(q,y,w,t,e,i):a(y,q,w,e,t,i);if(!(z===void 0?y===q||s(y,q,r,a,i):z)){I=!1;break}P||(P=w=="constructor")}if(I&&!P){var X=e.constructor,E=t.constructor;X!=E&&"constructor"in e&&"constructor"in t&&!(typeof X=="function"&&X instanceof X&&typeof E=="function"&&E instanceof E)&&(I=!1)}return i.delete(e),i.delete(t),I}var Fd=1,zr="[object Arguments]",kr="[object Array]",wt="[object Object]",Nd=Object.prototype,Kr=Nd.hasOwnProperty;function Ed(e,t,r,a,s,i){var d=_e(e),f=_e(t),m=d?kr:Ce(e),v=f?kr:Ce(t);m=m==zr?wt:m,v=v==zr?wt:v;var C=m==wt,S=v==wt,w=m==v;if(w&&ct(e)){if(!ct(t))return!1;d=!0,C=!1}if(w&&!C)return i||(i=new Se),d||En(e)?vo(e,t,r,a,s,i):$d(e,t,m,r,a,s,i);if(!(r&Fd)){var K=C&&Kr.call(e,"__wrapped__"),L=S&&Kr.call(t,"__wrapped__");if(K||L){var I=K?e.value():e,P=L?t.value():t;return i||(i=new Se),s(I,P,r,a,i)}}return w?(i||(i=new Se),wd(e,t,r,a,s,i)):!1}function bo(e,t,r,a,s){return e===t?!0:e==null||t==null||!Te(e)&&!Te(t)?e!==e&&t!==t:Ed(e,t,r,a,bo,s)}function Ad(e){return function(t,r,a){for(var s=-1,i=Object(t),d=a(t),f=d.length;f--;){var m=d[++s];if(r(i[m],m,i)===!1)break}return t}}var Sd=Ad(),nn=function(){return we.Date.now()},Td="Expected a function",Pd=Math.max,Id=Math.min;function Rd(e,t,r){var a,s,i,d,f,m,v=0,C=!1,S=!1,w=!0;if(typeof e!="function")throw new TypeError(Td);t=vr(t)||0,xe(r)&&(C=!0,S="maxWait"in r,i=S?Pd(vr(r.maxWait)||0,t):i,w="trailing"in r?!0:w);function K(R){var D=a,j=s;return a=s=void 0,v=R,d=e.apply(j,D),d}function L(R){return v=R,f=setTimeout(y,t),C?K(R):d}function I(R){var D=R-m,j=R-v,V=t-D;return S?Id(V,i-j):V}function P(R){var D=R-m,j=R-v;return m===void 0||D>=t||D<0||S&&j>=i}function y(){var R=nn();if(P(R))return q(R);f=setTimeout(y,I(R))}function q(R){return f=void 0,w&&a?K(R):(a=s=void 0,d)}function z(){f!==void 0&&clearTimeout(f),v=0,a=m=s=f=void 0}function X(){return f===void 0?d:q(nn())}function E(){var R=nn(),D=P(R);if(a=arguments,s=this,m=R,D){if(f===void 0)return L(m);if(S)return clearTimeout(f),f=setTimeout(y,t),K(m)}return f===void 0&&(f=setTimeout(y,t)),d}return E.cancel=z,E.flush=X,E}function xn(e,t,r){(r!==void 0&&!ft(e[t],r)||r===void 0&&!(t in e))&&_n(e,t,r)}function Dd(e){return Te(e)&&Lt(e)}function vn(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Bd(e){return tt(e,ht(e))}function Od(e,t,r,a,s,i,d){var f=vn(e,r),m=vn(t,r),v=d.get(m);if(v){xn(e,r,v);return}var C=i?i(f,m,r+"",e,t,d):void 0,S=C===void 0;if(S){var w=_e(m),K=!w&&ct(m),L=!w&&!K&&En(m);C=m,w||K||L?_e(f)?C=f:Dd(f)?C=Ha(f):K?(S=!1,C=so(m,!0)):L?(S=!1,C=po(m,!0)):C=[]:ao(m)||Pt(m)?(C=f,Pt(f)?C=Bd(f):(!xe(f)||jn(f))&&(C=mo(m))):S=!1}S&&(d.set(m,C),s(C,m,a,i,d),d.delete(m)),xn(e,r,C)}function go(e,t,r,a,s){e!==t&&Sd(t,function(i,d){if(s||(s=new Se),xe(i))Od(e,t,d,r,go,a,s);else{var f=a?a(vn(e,d),i,d+"",e,t,s):void 0;f===void 0&&(f=i),xn(e,d,f)}},ht)}function Ld(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function Md(e,t){return t.length<2?e:no(e,_u(t,0,-1))}function zd(e,t){return bo(e,t)}var bn=Ui(function(e,t,r){go(e,t,r)});function kd(e,t){return t=kt(t,e),e=Md(e,t),e==null||delete e[Tn(Ld(t))]}function Kd(e){return ao(e)?void 0:e}var Vd=1,Ud=2,Gd=4,Vr=bu(function(e,t){var r={};if(e==null)return r;var a=!1;t=Ua(t,function(i){return i=kt(i,e),a||(a=i.length>1),i}),tt(e,co(e),r),a&&(r=ut(r,Vd|Ud|Gd,Kd));for(var s=t.length;s--;)kd(r,t[s]);return r});function Wd(e,t,r,a){if(!xe(e))return e;t=kt(t,e);for(var s=-1,i=t.length,d=i-1,f=e;f!=null&&++s<i;){var m=Tn(t[s]),v=r;if(m==="__proto__"||m==="constructor"||m==="prototype")return e;if(s!=d){var C=f[m];v=void 0,v===void 0&&(v=xe(C)?C:Cn(t[s+1])?[]:{})}wn(f,m,v),f=f[m]}return e}function gn(e,t,r){return e==null?e:Wd(e,t,r)}let mt=Je.create(),yo=(e,t)=>`${e.method}:${e.baseURL??t.defaults.baseURL??""}${e.url}`,$o=e=>e.status===204&&e.headers["precognition-success"]==="true";const Bt={},Le={get:(e,t={},r={})=>at(rt("get",e,t,r)),post:(e,t={},r={})=>at(rt("post",e,t,r)),patch:(e,t={},r={})=>at(rt("patch",e,t,r)),put:(e,t={},r={})=>at(rt("put",e,t,r)),delete:(e,t={},r={})=>at(rt("delete",e,t,r)),use(e){return mt=e,Le},axios(){return mt},fingerprintRequestsUsing(e){return yo=e===null?()=>null:e,Le},determineSuccessUsing(e){return $o=e,Le}},rt=(e,t,r,a)=>({url:t,method:e,...a,...["get","delete"].includes(e)?{params:bn({},r,a==null?void 0:a.params)}:{data:bn({},r,a==null?void 0:a.data)}}),at=(e={})=>{const t=[Hd,Zd,Xd].reduce((r,a)=>a(r),e);return(t.onBefore??(()=>!0))()===!1?Promise.resolve(null):((t.onStart??(()=>null))(),mt.request(t).then(async r=>{t.precognitive&&Ur(r);const a=r.status;let s=r;return t.precognitive&&t.onPrecognitionSuccess&&$o(s)&&(s=await Promise.resolve(t.onPrecognitionSuccess(s)??s)),t.onSuccess&&qd(a)&&(s=await Promise.resolve(t.onSuccess(s)??s)),(Gr(t,a)??(d=>d))(s)??s},r=>Yd(r)?Promise.reject(r):(t.precognitive&&Ur(r.response),(Gr(t,r.response.status)??((s,i)=>Promise.reject(i)))(r.response,r))).finally(t.onFinish??(()=>null)))},Hd=e=>{const t=e.only??e.validate;return{...e,timeout:e.timeout??mt.defaults.timeout??3e4,precognitive:e.precognitive!==!1,fingerprint:typeof e.fingerprint>"u"?yo(e,mt):e.fingerprint,headers:{...e.headers,"Content-Type":Jd(e),...e.precognitive!==!1?{Precognition:!0}:{},...t?{"Precognition-Validate-Only":Array.from(t).join()}:{}}}},qd=e=>e>=200&&e<300,Zd=e=>{var t;return typeof e.fingerprint!="string"||((t=Bt[e.fingerprint])==null||t.abort(),delete Bt[e.fingerprint]),e},Xd=e=>typeof e.fingerprint!="string"||e.signal||e.cancelToken||!e.precognitive?e:(Bt[e.fingerprint]=new AbortController,{...e,signal:Bt[e.fingerprint].signal}),Ur=e=>{var t;if(((t=e.headers)==null?void 0:t.precognition)!=="true")throw Error("Did not receive a Precognition response. Ensure you have the Precognition middleware in place for the route.")},Yd=e=>{var t;return!Yr(e)||typeof((t=e.response)==null?void 0:t.status)!="number"||Xr(e)},Gr=(e,t)=>({401:e.onUnauthorized,403:e.onForbidden,404:e.onNotFound,409:e.onConflict,422:e.onValidationError,423:e.onLocked})[t],Jd=e=>{var t,r,a;return((t=e.headers)==null?void 0:t["Content-Type"])??((r=e.headers)==null?void 0:r["Content-type"])??((a=e.headers)==null?void 0:a["content-type"])??(jo(e.data)?"multipart/form-data":"application/json")},jo=e=>Bn(e)||typeof e=="object"&&e!==null&&Object.values(e).some(t=>jo(t)),Bn=e=>typeof File<"u"&&e instanceof File||e instanceof Blob||typeof FileList<"u"&&e instanceof FileList&&e.length>0,Wr=e=>typeof e=="string"?e:e(),Hr=e=>typeof e=="string"?e.toLowerCase():e(),Qd=(e,t={})=>{const r={errorsChanged:[],touchedChanged:[],validatingChanged:[],validatedChanged:[]};let a=!1,s=!1;const i=b=>b!==s?(s=b,r.validatingChanged):[];let d=[];const f=b=>{const _=[...new Set(b)];return d.length!==_.length||!_.every(o=>d.includes(o))?(d=_,r.validatedChanged):[]},m=()=>d.filter(b=>typeof S[b]>"u");let v=[];const C=b=>{const _=[...new Set(b)];return v.length!==_.length||!_.every(o=>v.includes(o))?(v=_,r.touchedChanged):[]};let S={};const w=b=>{const _=tp(b);return zd(S,_)?[]:(S=_,r.errorsChanged)},K=b=>{const _={...S};return delete _[Nt(b)],w(_)},L=()=>Object.keys(S).length>0;let I=1500;const P=b=>{I=b,R.cancel(),R=E()};let y=t,q=null,z=[],X=null;const E=()=>Rd(b=>{e({get:(_,o={},$={})=>Le.get(_,V(o),D($,b,o)),post:(_,o={},$={})=>Le.post(_,V(o),D($,b,o)),patch:(_,o={},$={})=>Le.patch(_,V(o),D($,b,o)),put:(_,o={},$={})=>Le.put(_,V(o),D($,b,o)),delete:(_,o={},$={})=>Le.delete(_,V(o),D($,b,o))}).catch(_=>{var o;return Xr(_)||Yr(_)&&((o=_.response)==null?void 0:o.status)===422?null:Promise.reject(_)})},I,{leading:!0,trailing:!0});let R=E();const D=(b,_,o={})=>{const $={...b,..._},A=Array.from($.only??$.validate??v);return{..._,...Oo(b,_),only:A,timeout:$.timeout??5e3,onValidationError:(O,N)=>([...f([...d,...A]),...w(bn(Vr({...S},A),O.data.errors))].forEach(p=>p()),$.onValidationError?$.onValidationError(O,N):Promise.reject(N)),onSuccess:O=>(f([...d,...A]).forEach(N=>N()),$.onSuccess?$.onSuccess(O):O),onPrecognitionSuccess:O=>([...f([...d,...A]),...w(Vr({...S},A))].forEach(N=>N()),$.onPrecognitionSuccess?$.onPrecognitionSuccess(O):O),onBefore:()=>$.onBeforeValidation&&$.onBeforeValidation({data:o,touched:v},{data:y,touched:z})===!1||($.onBefore||(()=>!0))()===!1?!1:(X=v,q=o,!0),onStart:()=>{i(!0).forEach(O=>O()),($.onStart??(()=>null))()},onFinish:()=>{i(!1).forEach(O=>O()),z=X,y=q,X=q=null,($.onFinish??(()=>null))()}}},j=(b,_,o)=>{if(typeof b>"u"){const $=Array.from((o==null?void 0:o.only)??(o==null?void 0:o.validate)??[]);C([...v,...$]).forEach(A=>A()),R(o??{});return}if(Bn(_)&&!a){console.warn('Precognition file validation is not active. Call the "validateFiles" function on your form to enable it.');return}b=Nt(b),It(y,b)!==_&&(C([b,...v]).forEach($=>$()),R(o??{}))},V=b=>a===!1?yn(b):b,l={touched:()=>v,validate(b,_,o){return typeof b=="object"&&!("target"in b)&&(o=b,b=_=void 0),j(b,_,o),l},touch(b){const _=Array.isArray(b)?b:[Nt(b)];return C([...v,..._]).forEach(o=>o()),l},validating:()=>s,valid:m,errors:()=>S,hasErrors:L,setErrors(b){return w(b).forEach(_=>_()),l},forgetError(b){return K(b).forEach(_=>_()),l},reset(...b){if(b.length===0)C([]).forEach(_=>_());else{const _=[...v];b.forEach(o=>{_.includes(o)&&_.splice(_.indexOf(o),1),gn(y,o,It(t,o))}),C(_).forEach(o=>o())}return l},setTimeout(b){return P(b),l},on(b,_){return r[b].push(_),l},validateFiles(){return a=!0,l}};return l},ep=e=>Object.keys(e).reduce((t,r)=>({...t,[r]:Array.isArray(e[r])?e[r][0]:e[r]}),{}),tp=e=>Object.keys(e).reduce((t,r)=>({...t,[r]:typeof e[r]=="string"?[e[r]]:e[r]}),{}),Nt=e=>typeof e!="string"?e.target.name:e,yn=e=>{const t={...e};return Object.keys(t).forEach(r=>{const a=t[r];if(a!==null){if(Bn(a)){delete t[r];return}if(Array.isArray(a)){t[r]=Object.values(yn({...a}));return}if(typeof a=="object"){t[r]=yn(t[r]);return}}}),t},np=(e,t,r,a={})=>{const s=h.useRef(null);s.current===null&&(s.current=_t(r));const i=h.useRef(null);i.current===null&&(i.current=Object.keys(s));const d=h.useRef(s.current),[f,m]=h.useState([]),[v,C]=h.useState([]),[S,w]=h.useState(!1),[K,L]=h.useState(!1),[I,P]=h.useState({}),[y,q]=h.useState(!1),[z,X]=h.useState(()=>_t(s.current)),E=h.useRef(null);E.current===null&&(E.current=Qd(j=>j[Hr(e)](Wr(t),d.current,a),r).on("validatingChanged",()=>{w(E.current.validating())}).on("validatedChanged",()=>{m(E.current.valid())}).on("touchedChanged",()=>{C(E.current.touched())}).on("errorsChanged",()=>{q(E.current.hasErrors()),P(ep(E.current.errors())),m(E.current.valid())}));const R=j=>({...j,precognitive:!1,onStart:()=>{L(!0),(j.onStart??(()=>null))()},onFinish:()=>{L(!1),(j.onFinish??(()=>null))()},onValidationError:(V,l)=>(E.current.setErrors(V.data.errors),j.onValidationError?j.onValidationError(V):Promise.reject(l))}),D={data:z,setData(j,V){if(typeof j=="object")d.current=j,X(j);else{const l=_t(d.current);d.current=gn(l,j,V),X(d.current)}return D},touched(j){return typeof j=="string"?v.includes(j):v.length>0},touch(j){return E.current.touch(j),D},validate(j,V){return typeof j=="object"&&!("target"in j)&&(V=j,j=void 0),typeof j>"u"?E.current.validate(V):(j=Nt(j),E.current.validate(j,It(d.current,j),V)),D},validating:S,valid(j){return f.includes(j)},invalid(j){return typeof I[j]<"u"},errors:I,hasErrors:y,setErrors(j){return E.current.setErrors(j),D},forgetError(j){return E.current.forgetError(j),D},reset(...j){const V=_t(s.current);return j.length===0?(d.current=V,X(V)):(j.forEach(l=>gn(d.current,l,It(V,l))),X(d.current)),E.current.reset(...j),D},setValidationTimeout(j){return E.current.setTimeout(j),D},processing:K,async submit(j={}){return Le[Hr(e)](Wr(t),d.current,R(j))},validateFiles(){return E.current.validateFiles(),D},validator(){return E.current}};return D},qr=({user:e,allUsers:t,departments:r,designations:a,roles:s,setUsers:i,open:d,closeModal:f,editMode:m=!1})=>{var O;const[v,C]=h.useState(!1),[S,w]=h.useState(!1),[K,L]=h.useState((e==null?void 0:e.profile_image_url)||(e==null?void 0:e.profile_image)||null),[I,P]=h.useState(null),[y,q]=h.useState(t),[z,X]=h.useState("lg"),[E,R]=h.useState(a||[]),[D,j]=h.useState(t||[]),V=()=>{var T;if(typeof window>"u")return"lg";const p=((T=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:T.trim())||"12px",F=parseInt(p);return F===0?"none":F<=4?"sm":F<=8?"md":F<=16?"lg":"full"};h.useEffect(()=>{typeof window<"u"&&X(V())},[]);const l=np(m?"put":"post",m&&(e!=null&&e.id)?route("users.update",{user:e.id}):route("users.store"),{id:(e==null?void 0:e.id)||"",name:(e==null?void 0:e.name)||"",user_name:(e==null?void 0:e.user_name)||"",gender:(e==null?void 0:e.gender)||"",birthday:(e==null?void 0:e.birthday)||"",date_of_joining:(e==null?void 0:e.date_of_joining)||"",address:(e==null?void 0:e.address)||"",employee_id:(e==null?void 0:e.employee_id)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||"",department_id:(e==null?void 0:e.department_id)||"",designation_id:(e==null?void 0:e.designation_id)||"",report_to:(e==null?void 0:e.report_to)||"",password:"",password_confirmation:"",roles:((O=e==null?void 0:e.roles)==null?void 0:O.map(N=>typeof N=="object"?N.name:N))||[],single_device_login_enabled:(e==null?void 0:e.single_device_login_enabled)||(e==null?void 0:e.single_device_login)||!1,profile_image:null});h.useEffect(()=>{if(l.data.department_id){const N=(a==null?void 0:a.filter(p=>String(p.department_id)===String(l.data.department_id)))||[];R(N),l.data.designation_id&&(N.some(F=>String(F.id)===String(l.data.designation_id))||o("designation_id",""))}else R(a||[])},[l.data.department_id,a]),h.useEffect(()=>{if(l.data.department_id&&l.data.designation_id){const N=a==null?void 0:a.find(F=>String(F.id)===String(l.data.designation_id));if(!N){j([]),o("report_to","");return}if(N.hierarchy_level===1){j([]),o("report_to","");return}const p=(t==null?void 0:t.filter(F=>{var oe;const T=F.department_id||((oe=F.department)==null?void 0:oe.id),c=String(T)===String(l.data.department_id),W=a==null?void 0:a.find(Z=>String(Z.id)===String(F.designation_id)),U=W&&W.hierarchy_level<N.hierarchy_level,Q=!m||!l.data.id||F.id!==l.data.id;return c&&U&&Q}))||[];console.log("Selected designation:",N.title,"Level:",N.hierarchy_level),console.log("Filtered supervisors (higher hierarchy):",p.length,p),j(p),l.data.report_to&&(p.some(T=>String(T.id)===String(l.data.report_to))||o("report_to",""))}else if(l.data.department_id){const N=(t==null?void 0:t.filter(p=>{var W;const F=p.department_id||((W=p.department)==null?void 0:W.id),T=String(F)===String(l.data.department_id),c=!m||!l.data.id||p.id!==l.data.id;return T&&c}))||[];j(N)}else{const N=(t==null?void 0:t.filter(p=>!m||!l.data.id||p.id!==l.data.id))||[];j(N)}},[l.data.department_id,l.data.designation_id,t,l.data.id,m,a]),h.useEffect(()=>{(e!=null&&e.profile_image_url||e!=null&&e.profile_image)&&L(e.profile_image_url||e.profile_image)},[e]);const b=async()=>{if(I){const p=I.type;if(!["image/jpeg","image/jpg","image/png"].includes(p)){fe.error("Invalid file type. Only JPEG and PNG are allowed.",{icon:"🔴"});return}l.setData("profile_image",I)}const N=new Promise(async(p,F)=>{try{await l.submit({preserveScroll:!0,transform:T=>({...T,single_device_login_enabled:T.single_device_login_enabled?1:0}),onSuccess:T=>{i&&i(m?c=>c.map(W=>W.id===T.data.user.id?T.data.user:W):c=>[...c,T.data.user]),f(),p([T.data.message||`User ${m?"updated":"created"} successfully`])},onError:T=>{const c=Object.values(T).flat();c.length>0?F(c.join(", ")):F(`Failed to ${m?"update":"create"} user. Please check the form for errors.`)}})}catch(T){if(console.error("Form submission error:",T),T.response)if(T.response.status===422){const c=T.response.data.errors||{},W=Object.values(c).flat();F(W.length>0?W.join(", "):"Validation failed. Please check the form.")}else T.response.status===500?F(T.response.data.message||"Server error occurred. Please try again later."):F(`HTTP Error ${T.response.status}: ${T.response.data.message||"An unexpected error occurred."}`);else T.request?F("No response received from the server. Please check your internet connection."):F("An error occurred while setting up the request.")}});fe.promise(N,{pending:`${m?"Updating":"Creating"} user...`,success:{render({data:p}){return p.join(", ")}},error:{render({data:p}){return p}}})},_=N=>{const p=N.target.files[0];if(p){const F=URL.createObjectURL(p);L(F),P(p)}},o=(N,p)=>{l.setData(N,p),l.touched(N)&&l.validate(N)},$=()=>{C(!v)},A=()=>{var N,p,F,T,c;if(m)return l.isDirty&&!l.processing;{const W=((N=l.data.name)==null?void 0:N.trim())&&((p=l.data.user_name)==null?void 0:p.trim())&&((F=l.data.email)==null?void 0:F.trim())&&((T=l.data.password)==null?void 0:T.trim())&&((c=l.data.password_confirmation)==null?void 0:c.trim()),U=l.data.password===l.data.password_confirmation;return W&&U&&!l.processing}};return n.jsx(Vo,{isOpen:d,onClose:f,size:"3xl",radius:z,scrollBehavior:"inside",classNames:{base:"backdrop-blur-md max-h-[95vh] my-2",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider flex-shrink-0",body:"overflow-y-auto max-h-[calc(95vh-160px)]",footer:"border-t border-divider flex-shrink-0",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:n.jsx(Uo,{children:N=>n.jsxs(n.Fragment,{children:[n.jsx(Go,{className:"flex flex-col gap-1 py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ss,{className:"w-5 h-5 sm:w-6 sm:h-6",style:{color:"var(--theme-primary)"}}),n.jsxs("div",{children:[n.jsx("span",{className:"text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:m?"Edit User":"Add New User"}),n.jsx("p",{className:"text-sm text-default-500 mt-0.5",style:{fontFamily:'var(--fontFamily, "Inter")'},children:m?"Update user information":"Create a new user account"})]})]})}),n.jsx(Wo,{className:"py-4 px-4 sm:py-6 sm:px-6 overflow-y-auto",style:{fontFamily:'var(--fontFamily, "Inter")'},children:n.jsxs("form",{onSubmit:b,className:"space-y-4",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsxs("div",{className:"relative group cursor-pointer",onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:[n.jsx(or,{src:K,alt:"Profile",className:"w-32 h-32 text-large transition-all duration-300",style:{border:"4px solid var(--theme-divider, #E4E4E7)",filter:S?"brightness(70%)":"brightness(100%)"}}),n.jsxs("label",{htmlFor:"icon-button-file",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-opacity duration-300",style:{opacity:S?1:0},children:[n.jsx("input",{accept:"image/*",id:"icon-button-file",type:"file",className:"hidden",onChange:_}),n.jsx(is,{className:"w-8 h-8 text-white"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(ve,{label:"Full Name",placeholder:"Enter full name",value:l.data.name,onChange:p=>o("name",p.target.value),onBlur:()=>l.validate("name"),isInvalid:l.invalid("name"),errorMessage:l.errors.name,isRequired:!0,variant:"bordered",size:"sm",radius:z,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx(ve,{label:"Username",placeholder:"Enter username",value:l.data.user_name,onChange:p=>o("user_name",p.target.value),onBlur:()=>l.validate("user_name"),isInvalid:l.invalid("user_name"),errorMessage:l.errors.user_name,isRequired:!0,variant:"bordered",size:"sm",radius:z,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx(ve,{label:"Email",type:"email",placeholder:"Enter email address",value:l.data.email,onChange:p=>o("email",p.target.value),onBlur:()=>l.validate("email"),isInvalid:l.invalid("email"),errorMessage:l.errors.email,isRequired:!0,variant:"bordered",size:"sm",radius:z,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx(ve,{label:"Phone",placeholder:"Enter phone number",value:l.data.phone,onChange:p=>o("phone",p.target.value),onBlur:()=>l.validate("phone"),isInvalid:l.invalid("phone"),errorMessage:l.errors.phone,variant:"bordered",size:"sm",radius:z,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx(Qe,{label:"Department",placeholder:"Select department",selectedKeys:l.data.department_id?new Set([String(l.data.department_id)]):new Set,onSelectionChange:p=>{const F=Array.from(p)[0];o("department_id",F||"")},onClose:()=>l.validate("department_id"),isInvalid:l.invalid("department_id"),errorMessage:l.errors.department_id,variant:"bordered",size:"sm",radius:z,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:r==null?void 0:r.map(p=>n.jsx(be,{value:p.id,children:p.name},p.id))}),n.jsx(Qe,{label:"Designation",placeholder:"Select designation",selectedKeys:l.data.designation_id?new Set([String(l.data.designation_id)]):new Set,onSelectionChange:p=>{const F=Array.from(p)[0];o("designation_id",F||"")},onClose:()=>l.validate("designation_id"),isInvalid:l.invalid("designation_id"),errorMessage:l.errors.designation_id,isDisabled:!l.data.department_id||E.length===0,variant:"bordered",size:"sm",radius:z,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:E==null?void 0:E.map(p=>n.jsx(be,{value:p.id,children:p.title||p.name},p.id))}),n.jsxs(Qe,{label:"Gender",placeholder:"Select gender",selectedKeys:l.data.gender?new Set([l.data.gender]):new Set,onSelectionChange:p=>{const F=Array.from(p)[0];o("gender",F||"")},onClose:()=>l.validate("gender"),isInvalid:l.invalid("gender"),errorMessage:l.errors.gender,variant:"bordered",size:"sm",radius:z,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:[n.jsx(be,{value:"male",children:"Male"},"male"),n.jsx(be,{value:"female",children:"Female"},"female"),n.jsx(be,{value:"other",children:"Other"},"other")]}),n.jsx(ve,{label:"Employee ID",placeholder:"Enter employee ID",value:l.data.employee_id,onChange:p=>o("employee_id",p.target.value),onBlur:()=>l.validate("employee_id"),isInvalid:l.invalid("employee_id"),errorMessage:l.errors.employee_id,variant:"bordered",size:"sm",radius:z,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx(ve,{label:"Date of Birth",type:"date",value:l.data.birthday,onChange:p=>o("birthday",p.target.value),onBlur:()=>l.validate("birthday"),isInvalid:l.invalid("birthday"),errorMessage:l.errors.birthday,variant:"bordered",size:"sm",radius:z,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx(ve,{label:"Date of Joining",type:"date",value:l.data.date_of_joining,onChange:p=>o("date_of_joining",p.target.value),onBlur:()=>l.validate("date_of_joining"),isInvalid:l.invalid("date_of_joining"),errorMessage:l.errors.date_of_joining,variant:"bordered",size:"sm",radius:z,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(ks,{label:"Reports To",placeholder:l.data.department_id?l.data.designation_id?D.length===0?"No supervisor needed (Top-level position)":"Search for a supervisor...":"Select designation first":"Select department first",selectedKey:l.data.report_to?String(l.data.report_to):null,onSelectionChange:p=>{o("report_to",p||"")},isInvalid:l.invalid("report_to"),errorMessage:l.errors.report_to,isDisabled:!l.data.department_id||!l.data.designation_id||D.length===0,variant:"bordered",size:"sm",radius:z,classNames:{base:"w-full"},style:{fontFamily:'var(--fontFamily, "Inter")'},allowsCustomValue:!1,items:D||[],children:p=>n.jsx(be,{textValue:p.name,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(or,{src:p.profile_image_url||p.profile_image,name:p.name,size:"sm",className:"flex-shrink-0"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-small font-medium",children:p.name}),p.email&&n.jsx("span",{className:"text-tiny text-default-400",children:p.email})]})]})},p.id)}),l.data.designation_id&&D.length===0&&n.jsx("p",{className:"text-xs text-default-400 px-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"This designation is at the top of the hierarchy and doesn't require a supervisor."})]})]}),n.jsx(ve,{label:"Address",placeholder:"Enter address",value:l.data.address,onChange:p=>o("address",p.target.value),onBlur:()=>l.validate("address"),isInvalid:l.invalid("address"),errorMessage:l.errors.address,variant:"bordered",size:"sm",radius:z,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx("div",{className:"col-span-full",children:n.jsx(Qe,{label:"Roles",placeholder:"Select user roles",selectionMode:"multiple",selectedKeys:new Set(l.data.roles),onSelectionChange:p=>{const F=Array.from(p);o("roles",F)},onClose:()=>l.validate("roles"),isInvalid:l.invalid("roles"),errorMessage:l.errors.roles,variant:"bordered",size:"sm",radius:z,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},renderValue:p=>n.jsx("div",{className:"flex flex-wrap gap-1",children:p.map(F=>n.jsx(Ee,{size:"sm",color:"secondary",variant:"flat",children:F.textValue},F.key))}),children:s==null?void 0:s.map(p=>{const F=typeof p=="object"?p.name:p;return n.jsx(be,{value:F,textValue:F,children:F},F)})})}),n.jsx("div",{className:"col-span-full",children:n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)"},children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ws,{className:"w-4 h-4",style:{color:"var(--theme-primary)"}}),n.jsx("span",{className:"text-sm font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Single Device Login"})]}),n.jsx("p",{className:"text-xs text-default-500 mt-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Restrict user to login from only one device at a time"})]}),n.jsx(oa,{isSelected:l.data.single_device_login_enabled,onValueChange:p=>o("single_device_login_enabled",p),color:l.data.single_device_login_enabled?"warning":"default",size:"sm"})]})}),!m&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(ve,{label:"Password",type:v?"text":"password",placeholder:"Enter password",value:l.data.password,onChange:p=>o("password",p.target.value),onBlur:()=>l.validate("password"),isInvalid:l.invalid("password"),errorMessage:l.errors.password,isRequired:!m,variant:"bordered",size:"sm",radius:z,endContent:n.jsx("button",{className:"focus:outline-none",type:"button",onClick:$,children:v?n.jsx(dr,{className:"w-4 h-4 text-default-400"}):n.jsx(pr,{className:"w-4 h-4 text-default-400"})}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),n.jsx(ve,{label:"Confirm Password",type:v?"text":"password",placeholder:"Confirm password",value:l.data.password_confirmation,onChange:p=>o("password_confirmation",p.target.value),onBlur:()=>l.validate("password_confirmation"),isInvalid:l.invalid("password_confirmation")||l.data.password!==l.data.password_confirmation&&l.data.password_confirmation,errorMessage:l.errors.password_confirmation||(l.data.password!==l.data.password_confirmation&&l.data.password_confirmation?"Passwords do not match":""),isRequired:!m,variant:"bordered",size:"sm",radius:z,endContent:n.jsx("button",{className:"focus:outline-none",type:"button",onClick:$,children:v?n.jsx(dr,{className:"w-4 h-4 text-default-400"}):n.jsx(pr,{className:"w-4 h-4 text-default-400"})}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})]})]})}),n.jsxs(ws,{className:"flex justify-between px-4 sm:px-6 py-3 sm:py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[n.jsx(he,{variant:"light",onPress:f,isDisabled:l.processing,radius:z,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),n.jsx(he,{variant:"solid",color:"primary",onPress:b,isLoading:l.processing,isDisabled:!A(),radius:z,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:m?"Update User":"Add User"})]})]})})})},rp=({title:e,roles:t,departments:r,designations:a})=>{var ee,te,Fe,ae,xt,He,vt,Ne,bt,gt,yt,$t,Kt,Vt,Ut,Gt,Wt,Ht,k,M,ie,$e,Ke,On,Ln,Mn,zn,kn,Kn,Vn,Un,Gn,Wn,Hn;const[s,i]=h.useState(!1),[d,f]=h.useState(!1),[m,v]=h.useState(!1),[C,S]=h.useState(!1),[w,K]=h.useState("lg"),L=()=>{var J;if(typeof window>"u")return"lg";const g=((J=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:J.trim())||"12px",B=parseInt(g);return B===0?"none":B<=4?"sm":B<=8?"md":B<=12?"lg":"xl"};h.useEffect(()=>{typeof window<"u"&&K(L())},[]),h.useEffect(()=>{const u=()=>{i(window.innerWidth<640),f(window.innerWidth<768),v(window.innerWidth>=1025),S(window.innerWidth>=641&&window.innerWidth<=1024)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const[I,P]=h.useState([]),[y,q]=h.useState(!0),[z,X]=h.useState(null),[E,R]=h.useState(0),[D,j]=h.useState(1),[V,l]=h.useState(null),[b,_]=h.useState({search:"",role:"all",status:"all",department:"all"}),[o,$]=h.useState(!1),[A,O]=h.useState("table"),[N,p]=h.useState({currentPage:1,perPage:10,total:I.length}),[F,T]=h.useState({}),[c,W]=h.useState({overview:{total_users:0,active_users:0,inactive_users:0,deleted_users:0,total_roles:0,total_departments:0},distribution:{by_role:[],by_department:[],by_status:[]},activity:{recent_registrations:{new_users_30_days:0,new_users_90_days:0,new_users_year:0,recently_active:0},user_growth_rate:0,current_month_registrations:0},security:{access_metrics:{users_with_roles:0,users_without_roles:0,admin_users:0,regular_users:0},role_distribution:[]},health:{status_ratio:{active_percentage:0,inactive_percentage:0,deleted_percentage:0},system_metrics:{user_activation_rate:0,role_coverage:0,department_coverage:0}},quick_metrics:{total_users:0,active_ratio:0,role_diversity:0,department_diversity:0,recent_activity:0,system_health_score:0}}),U=h.useMemo(()=>({data:I,total:E,current_page:N.currentPage,per_page:N.perPage,last_page:D}),[I,E,N.currentPage,N.perPage,D]),Q=h.useCallback(async()=>{try{const{data:u}=await Je.get(route("users.stats"));u.stats&&W(u.stats)}catch(u){console.error("Error fetching user stats:",u)}},[]),oe=h.useCallback(async()=>{q(!0);try{const u=await Je.get(route("users.paginate"),{params:{page:N.currentPage,perPage:N.perPage,search:b.search||void 0,role:b.role!=="all"?b.role:void 0,status:b.status!=="all"?b.status:void 0,department:b.department!=="all"?b.department:void 0}});if(u.status===200){const{users:g}=u.data;g.data&&Array.isArray(g.data)?(P(g.data),g.meta?(R(g.meta.total||0),j(g.meta.last_page||1)):(R(g.total||g.data.length),j(g.last_page||1))):Array.isArray(g)?(P(g),R(g.length),j(1)):(console.error("Unexpected users data format:",g),P([]),R(0),j(1))}}catch(u){console.error("Error fetching users:",u),fe.error("Failed to load users data"),P([])}finally{q(!1)}},[b,N.currentPage,N.perPage]);h.useEffect(()=>{oe()},[oe]),h.useEffect(()=>{Q();const u=setInterval(Q,6e4);return()=>clearInterval(u)},[Q]);const Z=(u,g)=>{_(B=>({...B,[u]:g})),p(B=>({...B,currentPage:1}))},ue=u=>{p(g=>({...g,currentPage:u})),window.scrollTo({top:0,behavior:"smooth"})},Pe=u=>{p(g=>({...g,currentPage:1,perPage:u}))},ce=h.useCallback((u,g=null)=>{l(u),X(g)},[]),Ie=h.useCallback(()=>{l(null),X(null)},[]),x=h.useCallback(u=>{P(u)},[]),H=h.useCallback(u=>{P(g=>g.map(B=>B.id===u.id?{...B,...u}:B))},[]),Y=h.useCallback(u=>{P(g=>g.filter(B=>B.id!==u)),Q()},[Q]),se=h.useCallback((u,g)=>{P(B=>B.map(J=>J.id===u?{...J,active:g}:J)),Q()},[Q]),de=h.useCallback((u,g)=>{P(B=>B.map(J=>J.id===u?{...J,roles:g}:J)),Q()},[Q]),pe=h.useCallback(async(u,g)=>{var B,J;T(le=>({...le,[u]:!0}));try{const le=await Je.post(route("admin.users.devices.toggle",{userId:u}));le.data.success&&(P(jt=>jt.map(qe=>qe.id===u?{...qe,single_device_login_enabled:le.data.single_device_login_enabled}:qe)),fe.success(le.data.message))}catch(le){console.error("Error toggling single device login:",le),fe.error(((J=(B=le.response)==null?void 0:B.data)==null?void 0:J.message)||"Failed to toggle single device login")}finally{T(le=>({...le,[u]:!1}))}},[]),ye=h.useCallback(async u=>{T(g=>({...g,[u]:!0}));try{const g=await Je.post(route("admin.users.devices.reset",{userId:u}),{reason:"Admin reset via user management"});g.data.success&&(P(B=>B.map(J=>J.id===u?{...J,active_device:null}:J)),fe.success(g.data.message||"User devices have been reset"))}catch(g){console.error("Error resetting user devices:",g),fe.error("Failed to reset user devices")}finally{T(g=>({...g,[u]:!1}))}},[]);h.useCallback(async u=>{try{const g=await Je.get(route("admin.users.devices",{userId:u}));if(g.data.success){const B=g.data.devices;if(B.length===0)fe.info("User has no registered devices");else{const J=B.filter(le=>le.is_active).length;fe.info(`User has ${B.length} device(s): ${J} active, ${B.length-J} inactive`)}}}catch(g){console.error("Error fetching user devices:",g),fe.error("Failed to fetch device information")}},[]);const Re=(u,g="w-4 h-4")=>{const B=(u==null?void 0:u.toLowerCase())||"";return B.includes("mobile")||B.includes("android")||B.includes("iphone")?n.jsx(st,{className:`${g} text-primary`}):B.includes("tablet")||B.includes("ipad")?n.jsx(Jr,{className:`${g} text-secondary`}):n.jsx(na,{className:`${g} text-default-500`})},De=u=>{const g=(u==null?void 0:u.toLowerCase())||"";return g.includes("mobile")||g.includes("android")||g.includes("iphone")?"Mobile":g.includes("tablet")||g.includes("ipad")?"Tablet":"Desktop"},ke=({user:u,index:g})=>n.jsx(Be,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-200 h-full min-h-[320px]",style:{background:`linear-gradient(135deg, 
          color-mix(in srgb, var(--theme-content1) 90%, transparent) 20%, 
          color-mix(in srgb, var(--theme-content2) 80%, transparent) 80%)`,borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(Oe,{className:"p-3 flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-start gap-2 mb-3 pb-2 border-b border-white/10",children:[n.jsx(aa,{avatarProps:{radius:"md",src:(u==null?void 0:u.profile_image_url)||(u==null?void 0:u.profile_image),size:"sm",fallback:n.jsx(Et,{className:"w-4 h-4"}),style:{borderColor:"var(--theme-primary)",borderWidth:"2px"}},name:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-semibold text-foreground text-sm line-clamp-1",children:u.name}),n.jsxs("span",{className:"text-default-500 text-xs line-clamp-1",children:["ID: ",u.id]})]}),classNames:{wrapper:"flex-1 min-w-0",name:"text-sm font-semibold",description:"text-xs text-default-500"}}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(cn,{content:"Edit User",size:"sm",children:n.jsx(he,{isIconOnly:!0,size:"sm",variant:"light",className:"text-default-400 hover:text-primary min-w-6 w-6 h-6",onPress:()=>ce("edit",u),children:n.jsx(ea,{className:"w-3 h-3"})})}),n.jsxs(an,{placement:"bottom-end",children:[n.jsx(on,{children:n.jsx(he,{isIconOnly:!0,size:"sm",variant:"ghost",radius:w,isDisabled:F[u.id],className:"min-w-6 w-6 h-6",style:{background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)"},children:n.jsx(un,{className:"w-3 h-3"})})}),n.jsxs(sn,{"aria-label":"Device management actions",variant:"bordered",className:"min-w-[180px]",style:{background:"color-mix(in srgb, var(--theme-content1) 95%, transparent)",backdropFilter:"blur(16px)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:[n.jsx(Ae,{startContent:u.single_device_login?n.jsx(At,{className:"w-3 h-3"}):n.jsx(St,{className:"w-3 h-3"}),onPress:()=>pe(u.id,!u.single_device_login),isDisabled:F[u.id],className:"text-xs",children:u.single_device_login?"Disable Lock":"Enable Lock"},"toggle-device-lock"),u.single_device_login&&u.active_device&&n.jsx(Ae,{startContent:n.jsx(Ye,{className:"w-3 h-3"}),onPress:()=>ye(u.id),isDisabled:F[u.id],className:"text-xs",children:"Reset Device"},"reset-device"),n.jsx(Ae,{startContent:n.jsx(st,{className:"w-3 h-3"}),onPress:()=>ar.visit(route("admin.users.devices",{userId:u.id})),className:"text-xs",children:"Device History"},"view-devices"),n.jsx(Ae,{startContent:n.jsx(Et,{className:"w-3 h-3"}),onPress:()=>ar.visit(route("profile",{user:u.id})),className:"text-xs",children:"View Profile"},"view-profile")]})]})]})]}),n.jsxs("div",{className:"space-y-2 mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx(ln,{className:"w-3 h-3 text-default-400 shrink-0"}),n.jsx("span",{className:"text-default-600 line-clamp-1 flex-1",children:u.email})]}),u.phone&&n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx(rn,{className:"w-3 h-3 text-default-400 shrink-0"}),n.jsx("span",{className:"text-default-600 line-clamp-1",children:u.phone})]}),(u.department||u.department_id)&&n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx(ot,{className:"w-3 h-3 text-default-400 shrink-0"}),n.jsx("span",{className:"text-default-600 line-clamp-1",children:typeof u.department=="string"?u.department:"N/A"})]})]}),n.jsxs("div",{className:"mb-3 p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-content2) 40%, transparent)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:"text-xs font-medium text-default-700",children:"Device Status"}),u.single_device_login&&u.active_device&&n.jsx(cn,{content:n.jsxs("div",{className:"p-2 max-w-xs",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Re(u.active_device.user_agent,"w-4 h-4"),n.jsx("span",{className:"font-medium text-xs",children:u.active_device.device_name||"Unknown Device"})]}),n.jsxs("div",{className:"text-xs text-default-500",children:[De(u.active_device.user_agent)," •",u.active_device.is_active?" Active":" Inactive"]})]}),size:"sm",children:n.jsx("div",{className:"cursor-help",children:Re(u.active_device.user_agent,"w-4 h-4")})})]}),n.jsx(Ee,{size:"sm",variant:"flat",color:u.single_device_login?u.active_device?"warning":"success":"default",startContent:u.single_device_login?u.active_device?n.jsx(St,{className:"w-3 h-3"}):n.jsx(At,{className:"w-3 h-3"}):n.jsx(it,{className:"w-3 h-3"}),className:"text-xs",children:u.single_device_login?u.active_device?"Locked":"Free":"Disabled"})]}),n.jsxs("div",{className:"mt-auto space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs font-medium text-default-700",children:"Status"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oa,{size:"sm",isSelected:u.active,onValueChange:B=>se(u.id,B),color:u.active?"success":"danger",classNames:{wrapper:"group-data-[selected=true]:bg-success",thumb:"group-data-[selected=true]:ml-4"}}),n.jsx("span",{className:`text-xs font-medium ${u.active?"text-success":"text-danger"}`,children:u.active?"Active":"Inactive"})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-medium text-default-700 mb-1 block",children:"Roles"}),n.jsxs("div",{className:"flex flex-wrap gap-1",children:[u.roles&&u.roles.length>0?u.roles.slice(0,3).map((B,J)=>{const le=typeof B=="object"&&B!==null?B.name:B;return n.jsx(Ee,{size:"sm",variant:"flat",color:"secondary",className:"text-xs h-5",children:le},J)}):n.jsx(Ee,{size:"sm",variant:"bordered",color:"default",className:"text-xs h-5",children:"No Roles"}),u.roles&&u.roles.length>3&&n.jsxs(Ee,{size:"sm",variant:"bordered",color:"primary",className:"text-xs h-5",children:["+",u.roles.length-3]})]})]})]})]})}),G=h.useMemo(()=>{var u,g,B,J,le,jt,qe,qn,Zn,Xn,Yn,Jn,Qn,er;return[{title:"Total Users",value:((u=c==null?void 0:c.overview)==null?void 0:u.total_users)||0,icon:n.jsx(Ct,{className:"w-5 h-5"}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"All users"},{title:"Active Users",value:((g=c==null?void 0:c.overview)==null?void 0:g.active_users)||0,icon:n.jsx(Qr,{className:"w-5 h-5"}),color:"text-green-400",iconBg:"bg-green-500/20",description:`${((J=(B=c==null?void 0:c.health)==null?void 0:B.status_ratio)==null?void 0:J.active_percentage)||0}% Active`},{title:"Inactive Users",value:((le=c==null?void 0:c.overview)==null?void 0:le.inactive_users)||0,icon:n.jsx(Fs,{className:"w-5 h-5"}),color:"text-red-400",iconBg:"bg-red-500/20",description:`${((qe=(jt=c==null?void 0:c.health)==null?void 0:jt.status_ratio)==null?void 0:qe.inactive_percentage)||0}% Inactive`},{title:"Total Roles",value:((qn=c==null?void 0:c.overview)==null?void 0:qn.total_roles)||0,icon:n.jsx(it,{className:"w-5 h-5"}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Role diversity"},{title:"Role Coverage",value:`${((Xn=(Zn=c==null?void 0:c.health)==null?void 0:Zn.system_metrics)==null?void 0:Xn.role_coverage)||0}%`,icon:n.jsx(Ns,{className:"w-5 h-5"}),color:"text-emerald-400",iconBg:"bg-emerald-500/20",description:"Users with roles"},{title:"Recent Activity",value:((Jn=(Yn=c==null?void 0:c.activity)==null?void 0:Yn.recent_registrations)==null?void 0:Jn.recently_active)||0,icon:n.jsx(ta,{className:"w-5 h-5"}),color:"text-cyan-400",iconBg:"bg-cyan-500/20",description:"Active last 7 days"},{title:"System Health",value:`${((Qn=c==null?void 0:c.quick_metrics)==null?void 0:Qn.system_health_score)||0}%`,icon:n.jsx(cr,{className:"w-5 h-5"}),color:"text-pink-400",iconBg:"bg-pink-500/20",description:"Overall health"},{title:"Departments",value:((er=c==null?void 0:c.overview)==null?void 0:er.total_departments)||0,icon:n.jsx(ot,{className:"w-5 h-5"}),color:"text-indigo-400",iconBg:"bg-indigo-500/20",description:"Department diversity"}]},[c]);return h.useMemo(()=>{const u=[];return u.push({label:s?"Add":"Add User",icon:n.jsx(Jt,{className:"w-4 h-4"}),onPress:()=>ce("add"),className:"bg-linear-to-r from-(--theme-primary) to-(--theme-secondary) text-white font-medium hover:opacity-90"}),u.push({label:s?"":"Export",isIconOnly:s,icon:n.jsx(ir,{className:"w-4 h-4"}),variant:"bordered",className:"border-[rgba(var(--theme-primary-rgb),0.3)] bg-[rgba(var(--theme-primary-rgb),0.05)] hover:bg-[rgba(var(--theme-primary-rgb),0.1)]"}),u},[s,ce]),n.jsxs(n.Fragment,{children:[n.jsx(Lo,{title:e||"Users Management"}),V==="add"&&n.jsx(qr,{user:null,allUsers:I,departments:r,designations:a,roles:t,open:V==="add",setUsers:x,closeModal:Ie,editMode:!1}),V==="edit"&&z&&n.jsx(qr,{user:z,allUsers:I,departments:r,designations:a,roles:t,open:V==="edit",setUsers:x,closeModal:Ie,editMode:!0}),n.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Users Management",children:n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"w-full",children:n.jsx(Es.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:n.jsxs(Be,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                    var(--theme-content1, #FAFAFA) 20%, 
                    var(--theme-content2, #F4F4F5) 10%, 
                    var(--theme-content3, #F1F3F4) 20%)`},children:[n.jsx(Is,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                      color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                      color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:n.jsx("div",{className:`${m?"p-6":C?"p-4":"p-3"} w-full`,children:n.jsx("div",{className:"flex flex-col space-y-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[y?n.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[n.jsx(me,{className:"w-12 h-12 rounded-xl"}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx(me,{className:"w-64 h-6 rounded mb-2"}),n.jsx(me,{className:"w-48 h-4 rounded"})]})]}):n.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[n.jsx("div",{className:`
                                ${m?"p-3":C?"p-2.5":"p-2"} 
                                rounded-xl flex items-center justify-center
                              `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsx(Ct,{className:`
                                  ${m?"w-8 h-8":C?"w-6 h-6":"w-5 h-5"}
                                `,style:{color:"var(--theme-primary)"}})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h4",{className:`
                                  ${m?"text-2xl":C?"text-xl":"text-lg"}
                                  font-bold text-foreground
                                  ${m?"":"truncate"}
                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Users Management"}),n.jsx("p",{className:`
                                  ${m?"text-sm":"text-xs"} 
                                  text-default-500
                                  ${m?"":"truncate"}
                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Manage user accounts, roles and permissions"})]})]}),y?n.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[n.jsx(me,{className:"w-24 h-8 rounded"}),n.jsx(me,{className:"w-20 h-8 rounded"})]}):n.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[n.jsx(he,{size:s?"sm":"md",color:"primary",startContent:n.jsx(Jt,{className:"w-4 h-4"}),onPress:()=>ce("add"),radius:w,style:{fontFamily:'var(--fontFamily, "Inter")'},className:"min-w-0",children:s?"Add":"Add User"}),n.jsx(he,{size:s?"sm":"md",variant:"bordered",startContent:n.jsx(As,{className:"w-4 h-4"}),radius:w,style:{background:"color-mix(in srgb, var(--theme-primary) 10%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-primary) 30%, transparent)",color:"var(--theme-primary)",fontFamily:'var(--fontFamily, "Inter")'},className:"min-w-0",children:s?"Export":"Export Users"})]})]})})})}),n.jsxs(Oe,{className:"p-6",children:[n.jsx(Zo,{stats:G,className:"mb-6",isLoading:y}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-6",children:y?n.jsx(n.Fragment,{children:Array.from({length:6}).map((u,g)=>n.jsx(Be,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-default) 10%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(Oe,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(me,{className:"w-9 h-9 rounded-lg"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(me,{className:"w-24 h-4 rounded mb-1"}),n.jsx(me,{className:"w-32 h-3 rounded"})]})]}),n.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((B,J)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(me,{className:"w-20 h-3 rounded"}),n.jsx(me,{className:"w-12 h-3 rounded"})]},J))})]})},g))}):n.jsxs(n.Fragment,{children:[n.jsx(Be,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(Oe,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:n.jsx(Ss,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}})}),n.jsxs("div",{children:[n.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role Distribution"}),n.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User roles breakdown"})]})]}),n.jsx("div",{className:"space-y-3",children:((te=(ee=c==null?void 0:c.distribution)==null?void 0:ee.by_role)==null?void 0:te.length)>0?c.distribution.by_role.slice(0,4).map((u,g)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:`color-mix(in srgb, var(--theme-primary) ${80-g*15}%, var(--theme-secondary) ${20+g*15}%)`}}),n.jsx("span",{className:"text-sm text-foreground truncate",style:{fontFamily:'var(--fontFamily, "Inter")'},children:u.name})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-sm font-medium text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:u.count}),n.jsxs("span",{className:"text-xs text-default-500 ml-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["(",u.percentage,"%)"]})]})]},g)):n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-sm text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No role data available"})})})]})}),n.jsx(Be,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-secondary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(Oe,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-secondary) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:n.jsx(Ct,{className:"w-5 h-5",style:{color:"var(--theme-secondary)"}})}),n.jsxs("div",{children:[n.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User Status"}),n.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Active vs inactive users"})]})]}),n.jsx("div",{className:"space-y-3",children:((ae=(Fe=c==null?void 0:c.distribution)==null?void 0:Fe.by_status)==null?void 0:ae.length)>0?c.distribution.by_status.map((u,g)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:u.name==="Active"?"var(--theme-success)":u.name==="Inactive"?"var(--theme-danger)":"var(--theme-default)"}}),n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:u.name})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-sm font-medium text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:u.count}),n.jsxs("span",{className:"text-xs text-default-500 ml-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["(",u.percentage,"%)"]})]})]},g)):n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-sm text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No status data available"})})})]})}),n.jsx(Be,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-warning) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(Oe,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-warning) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:n.jsx(ot,{className:"w-5 h-5",style:{color:"var(--theme-warning)"}})}),n.jsxs("div",{children:[n.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Departments"}),n.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Users by department"})]})]}),n.jsx("div",{className:"space-y-3",children:((He=(xt=c==null?void 0:c.distribution)==null?void 0:xt.by_department)==null?void 0:He.length)>0?c.distribution.by_department.slice(0,4).map((u,g)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:`color-mix(in srgb, var(--theme-warning) ${80-g*15}%, var(--theme-primary) ${20+g*15}%)`}}),n.jsx("span",{className:"text-sm text-foreground truncate",style:{fontFamily:'var(--fontFamily, "Inter")'},children:u.name})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-sm font-medium text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:u.count}),n.jsxs("span",{className:"text-xs text-default-500 ml-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["(",u.percentage,"%)"]})]})]},g)):n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-sm text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No department data available"})})})]})}),n.jsx(Be,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-success) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(Oe,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-success) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:n.jsx(ir,{className:"w-5 h-5",style:{color:"var(--theme-success)"}})}),n.jsxs("div",{children:[n.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User Growth"}),n.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Registration trends"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"New (30 days)"}),n.jsx("span",{className:"text-sm font-medium text-success",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((Ne=(vt=c==null?void 0:c.activity)==null?void 0:vt.recent_registrations)==null?void 0:Ne.new_users_30_days)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"New (90 days)"}),n.jsx("span",{className:"text-sm font-medium text-primary",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((gt=(bt=c==null?void 0:c.activity)==null?void 0:bt.recent_registrations)==null?void 0:gt.new_users_90_days)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Recently Active"}),n.jsx("span",{className:"text-sm font-medium text-secondary",style:{fontFamily:'var(--fontFamily, "Inter")'},children:(($t=(yt=c==null?void 0:c.activity)==null?void 0:yt.recent_registrations)==null?void 0:$t.recently_active)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Growth Rate"}),n.jsx(Ee,{size:"sm",color:(((Kt=c==null?void 0:c.activity)==null?void 0:Kt.user_growth_rate)||0)>0?"success":(((Vt=c==null?void 0:c.activity)==null?void 0:Vt.user_growth_rate)||0)<0?"danger":"default",variant:"flat",radius:w,children:n.jsxs("span",{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((Ut=c==null?void 0:c.activity)==null?void 0:Ut.user_growth_rate)||0,"%"]})})]})]})]})}),n.jsx(Be,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(Oe,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:n.jsx(it,{className:"w-5 h-5",style:{color:"var(--theme-danger)"}})}),n.jsxs("div",{children:[n.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Access Control"}),n.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role assignments"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"With Roles"}),n.jsx("span",{className:"text-sm font-medium text-success",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((Wt=(Gt=c==null?void 0:c.security)==null?void 0:Gt.access_metrics)==null?void 0:Wt.users_with_roles)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Without Roles"}),n.jsx("span",{className:"text-sm font-medium text-danger",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((k=(Ht=c==null?void 0:c.security)==null?void 0:Ht.access_metrics)==null?void 0:k.users_without_roles)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Admin Users"}),n.jsx("span",{className:"text-sm font-medium text-warning",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((ie=(M=c==null?void 0:c.security)==null?void 0:M.access_metrics)==null?void 0:ie.admin_users)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role Coverage"}),n.jsx(Ee,{size:"sm",color:(((Ke=($e=c==null?void 0:c.health)==null?void 0:$e.system_metrics)==null?void 0:Ke.role_coverage)||0)>80?"success":(((Ln=(On=c==null?void 0:c.health)==null?void 0:On.system_metrics)==null?void 0:Ln.role_coverage)||0)>60?"warning":"danger",variant:"flat",radius:w,children:n.jsxs("span",{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((zn=(Mn=c==null?void 0:c.health)==null?void 0:Mn.system_metrics)==null?void 0:zn.role_coverage)||0,"%"]})})]})]})]})}),n.jsx(Be,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-default) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:n.jsxs(Oe,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-default) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:n.jsx(cr,{className:"w-5 h-5",style:{color:"var(--theme-default)"}})}),n.jsxs("div",{children:[n.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"System Health"}),n.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Overall metrics"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Health Score"}),n.jsx(Ee,{size:"sm",color:(((kn=c==null?void 0:c.quick_metrics)==null?void 0:kn.system_health_score)||0)>80?"success":(((Kn=c==null?void 0:c.quick_metrics)==null?void 0:Kn.system_health_score)||0)>60?"warning":"danger",variant:"flat",radius:w,children:n.jsxs("span",{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((Vn=c==null?void 0:c.quick_metrics)==null?void 0:Vn.system_health_score)||0,"%"]})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Activation Rate"}),n.jsxs("span",{className:"text-sm font-medium text-success",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((Gn=(Un=c==null?void 0:c.health)==null?void 0:Un.system_metrics)==null?void 0:Gn.user_activation_rate)||0,"%"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Total Roles"}),n.jsx("span",{className:"text-sm font-medium text-primary",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((Wn=c==null?void 0:c.overview)==null?void 0:Wn.total_roles)||0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Total Departments"}),n.jsx("span",{className:"text-sm font-medium text-warning",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((Hn=c==null?void 0:c.overview)==null?void 0:Hn.total_departments)||0})]})]})]})})]})}),n.jsx("div",{className:"mb-6",children:y?n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[n.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(me,{className:"w-24 h-4 rounded"}),n.jsx(me,{className:"w-full h-10 rounded-lg"})]})}),n.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(me,{className:"w-20 h-4 rounded"}),n.jsx(me,{className:"w-full h-10 rounded-lg"})]})})]}):n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-end",children:[n.jsx("div",{className:"flex-1",children:n.jsx(ve,{label:"Search Users",placeholder:"Search by name, email or phone...",value:b.search,onValueChange:u=>Z("search",u),variant:"bordered",size:s?"sm":"md",radius:w,startContent:n.jsx(Ts,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"border-default-200 hover:border-default-300"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),n.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[n.jsxs(Qe,{label:"Status",selectedKeys:b.status?[b.status]:[],onSelectionChange:u=>Z("status",Array.from(u)[0]),variant:"bordered",size:s?"sm":"md",radius:w,className:"w-32",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[n.jsx(be,{children:"All Status"},"all"),n.jsx(be,{children:"Active"},"active"),n.jsx(be,{children:"Inactive"},"inactive")]}),n.jsxs(Qe,{label:"Role",selectedKeys:b.role?[b.role]:[],onSelectionChange:u=>Z("role",Array.from(u)[0]),variant:"bordered",size:s?"sm":"md",radius:w,className:"w-32",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[n.jsx(be,{children:"All Roles"},"all"),t==null?void 0:t.map((u,g)=>{const B=typeof u=="object"&&u!==null?u.name:u,J=typeof B=="string"?B.toLowerCase():String(B||`role-${g}`).toLowerCase();return n.jsx(be,{children:B||"Unknown Role"},J)})]}),n.jsxs(Rs,{variant:"bordered",radius:w,children:[n.jsx(he,{isIconOnly:!0,color:A==="table"?"primary":"default",onPress:()=>O("table"),size:s?"sm":"md",children:n.jsx(Ps,{className:"w-4 h-4"})}),n.jsx(he,{isIconOnly:!0,color:A==="grid"?"primary":"default",onPress:()=>O("grid"),size:s?"sm":"md",children:n.jsx(Ho,{className:"w-4 h-4"})})]})]})]})}),n.jsx("div",{className:"overflow-hidden",children:y?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx(Ft,{size:"lg"})}):A==="table"?n.jsx(Hs,{allUsers:U.data,roles:t,setUsers:x,isMobile:s,isTablet:d,pagination:N,onPageChange:ue,onRowsPerPageChange:Pe,totalUsers:U.total,loading:y,onEdit:u=>ce("edit",u),updateUserOptimized:H,deleteUserOptimized:Y,toggleUserStatusOptimized:se,updateUserRolesOptimized:de,toggleSingleDeviceLogin:pe,resetUserDevice:ye,deviceActions:F}):n.jsxs("div",{children:[U.data&&U.data.length>0?n.jsx("div",{className:`grid gap-4 ${s?"grid-cols-1":d?"grid-cols-2":"grid-cols-3 xl:grid-cols-4"}`,children:U.data.map((u,g)=>n.jsx(ke,{user:u,index:g},u.id))}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ct,{className:"w-16 h-16 mx-auto text-default-300 mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No users found"}),n.jsx("p",{className:"text-default-500 mb-4",children:"Try adjusting your search criteria or filters"}),n.jsx(he,{color:"primary",startContent:n.jsx(Jt,{className:"w-4 h-4"}),onPress:()=>ce("add"),children:"Add First User"})]}),U.data&&U.data.length>0&&n.jsx("div",{className:"flex justify-center mt-6 border-t pt-4",style:{borderColor:"var(--theme-divider, #E4E4E7)"},children:n.jsx(ra,{total:Math.ceil(U.total/N.perPage),initialPage:N.currentPage,page:N.currentPage,onChange:ue,size:s?"sm":"md",variant:"bordered",showControls:!0,radius:w,style:{fontFamily:'var(--fontFamily, "Inter")'}})})]})})]})]})})})})})]})};rp.layout=e=>n.jsx(qo,{children:e});export{rp as default};
