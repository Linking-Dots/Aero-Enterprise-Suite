import{r as i,j as e,F as Re,R as v,A as Ae,u as Oe,T as B,b as Ie,H as $e,c as S,d as C,f as b,g as U}from"./app-DAM6xFci.js";import{Q as Ee}from"./react-toastify.esm-DKLNLV_8.js";import{q as ve,r as k,j as X,s as Z,a as ee,H as Be,S as Ue,v as Te,u as Ve,A as De,B as ke,w as ze,T as He,U as Le,t as We,c as se,k as ae,l as te,n as ne,o as T,m as ie,d as re,e as le,f as oe,g as ce}from"./serviceWorkerManager-D4sbfQWe.js";import{F as _e}from"./BuildingOfficeIcon-CdHlVT0F.js";import{F as J}from"./ShieldCheckIcon-DIOUr86x.js";import{F as Y}from"./CogIcon-DHHry7j5.js";import{F as V}from"./DocumentChartBarIcon-CRMXXOjS.js";import{F as Q}from"./ExclamationTriangleIcon-BoJZLUxa.js";import{F as de}from"./ClipboardDocumentListIcon-BU2XNciQ.js";import{F as D}from"./ChartBarIcon-CEIpPViy.js";import{a as Ne}from"./UsersIcon-BdrRaxv3.js";import{F as Ge}from"./ServerIcon-BaQATpGS.js";import{m as qe}from"./proxy-BfZUgj-o.js";import{a as Je}from"./chunk-Y2AYO5NJ-B8eMLiG9.js";import{u as me}from"./index-D4tMDUSw.js";import{F as Qe}from"./PlusIcon-CUcGJo64.js";import{F as ue}from"./EllipsisVerticalIcon-D3tA355Y.js";import{F as pe}from"./PencilIcon-DKxrEhI5.js";import{F as he}from"./TrashIcon-B6EoZ6Be.js";import{t as xe}from"./chunk-QESP63UR-DP8V2Khu.js";import{i as g}from"./chunk-SSA7SXE4-gcc4yHhI.js";import{c as Xe}from"./chunk-D5XJWRAV-YMOmPBd4.js";import{t as ge,a as fe,b as je,c as h}from"./chunk-F3UDT23P-D0GFSETy.js";import{t as ye,a as x}from"./chunk-YRZGWF2W-UClh-wUG.js";import{c as M}from"./chunk-IHOGUXIG-C3_Ej4JK.js";import{s as q}from"./chunk-TQNYOUFX-tpe-eQR-.js";import"./index-DfKNtmRa.js";import"./logo-Pwvcz7fP.js";import"./features-animation-CdRSmZyR.js";import"./create-visual-element-C3-YBUtD.js";import"./CheckCircleIcon-_Wj3zYan.js";import"./chunk-M3MASYO7-DQVDvDmK.js";import"./chunk-XJ2YRSUP-BvHKRcQd.js";import"./useToggleState-jUijjYXn.js";function Ye({title:a,titleId:n,...d},l){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":n},d),a?i.createElement("title",{id:n},a):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const we=i.forwardRef(Ye),Ke=(a=[])=>{const n=[];return a.includes("admin.dashboard.view")&&n.push({name:"Admin Dashboard",icon:e.jsx(ve,{className:""}),route:"admin.dashboard",priority:1,module:"admin-core"}),a.includes("admin.subscriptions.view")&&n.push({name:"Subscription Management",icon:e.jsx(X,{className:""}),priority:2,module:"subscriptions",subMenu:[...a.includes("admin.subscription-plans.view")?[{name:"Subscription Plans",icon:e.jsx(Z,{}),route:"admin.subscription.management"}]:[],...a.includes("admin.modules.view")?[{name:"Feature Modules",icon:e.jsx(Y,{}),route:"admin.subscription.management"}]:[],...a.includes("admin.billing.view")?[{name:"Billing & Payments",icon:e.jsx(de,{}),route:"admin.billing.dashboard"}]:[],...a.includes("admin.revenue.view")?[{name:"Revenue Analytics",icon:e.jsx(D,{}),route:"admin.revenue.analytics"}]:[]]}),a.includes("admin.tenants.view")&&n.push({name:"Tenant Management",icon:e.jsx(_e,{className:""}),priority:3,module:"tenants",subMenu:[...a.includes("admin.tenants.list")?[{name:"All Tenants",icon:e.jsx(ee,{}),route:"admin.tenants"}]:[],...a.includes("admin.tenants.create")?[{name:"Create Tenant",icon:e.jsx(Ne,{}),route:"admin.tenants.create"}]:[],...a.includes("admin.tenant-analytics.view")?[{name:"Usage Analytics",icon:e.jsx(V,{}),route:"admin.tenant.analytics"}]:[],...a.includes("admin.tenant-health.view")?[{name:"Health Monitoring",icon:e.jsx(Q,{}),route:"admin.tenant.health"}]:[]]}),a.includes("admin.system.view")&&n.push({name:"System Administration",icon:e.jsx(Ge,{className:""}),priority:4,module:"system",subMenu:[...a.includes("admin.system.health")?[{name:"System Health",icon:e.jsx(Q,{}),route:"admin.system.health"}]:[],...a.includes("admin.system.configuration")?[{name:"Configuration",icon:e.jsx(k,{}),route:"admin.system.config"}]:[],...a.includes("admin.system.updates")?[{name:"System Updates",icon:e.jsx(Re,{}),route:"admin.system.updates"}]:[],...a.includes("admin.system.backups")?[{name:"Backups",icon:e.jsx(we,{}),route:"admin.system.backups"}]:[]]}),a.includes("admin.security.view")&&n.push({name:"Security & Access",icon:e.jsx(J,{className:""}),priority:5,module:"security",subMenu:[...a.includes("admin.users.view")?[{name:"Admin Users",icon:e.jsx(ee,{}),route:"admin.users"}]:[],...a.includes("admin.roles.view")?[{name:"Roles & Permissions",icon:e.jsx(J,{}),route:"admin.roles"}]:[],...a.includes("admin.audit.view")?[{name:"Audit Logs",icon:e.jsx(V,{}),route:"admin.audit.logs"}]:[],...a.includes("admin.security.settings")?[{name:"Security Settings",icon:e.jsx(k,{}),route:"admin.security.settings"}]:[]]}),a.includes("admin.analytics.view")&&n.push({name:"Analytics & Reporting",icon:e.jsx(D,{className:""}),priority:6,module:"analytics",subMenu:[...a.includes("admin.analytics.revenue")?[{name:"Revenue Reports",icon:e.jsx(Z,{}),route:"admin.analytics.revenue"}]:[],...a.includes("admin.analytics.usage")?[{name:"Usage Statistics",icon:e.jsx(V,{}),route:"admin.analytics.usage"}]:[],...a.includes("admin.analytics.performance")?[{name:"Performance Metrics",icon:e.jsx(D,{}),route:"admin.analytics.performance"}]:[],...a.includes("admin.analytics.custom")?[{name:"Custom Reports",icon:e.jsx(de,{}),route:"admin.analytics.custom"}]:[]]}),n},Ze=(a=[])=>{const n=[];return a.includes("admin.dashboard.view")&&n.push({name:"Return to Admin Dashboard",icon:e.jsx(ve,{className:"w-5 h-5"}),route:"admin.dashboard",category:"navigation",priority:1}),a.includes("admin.platform.settings")&&n.push({name:"Platform Configuration",icon:e.jsx(k,{className:"w-5 h-5"}),route:"admin.settings.platform",category:"platform",priority:2,description:"Configure platform-wide settings and branding"}),a.includes("admin.subscription.settings")&&n.push({name:"Subscription Settings",icon:e.jsx(X,{className:"w-5 h-5"}),route:"admin.settings.subscriptions",category:"platform",priority:3,description:"Configure subscription plans, billing cycles, and payment settings"}),a.includes("admin.tenant.settings")&&n.push({name:"Tenant Configuration",icon:e.jsx(_e,{className:"w-5 h-5"}),route:"admin.settings.tenants",category:"platform",priority:4,description:"Configure tenant creation, limits, and default settings"}),a.includes("admin.security.settings")&&n.push({name:"Security Settings",icon:e.jsx(J,{className:"w-5 h-5"}),route:"admin.settings.security",category:"security",priority:5,description:"Configure security policies, authentication, and access controls"}),a.includes("admin.backup.settings")&&n.push({name:"Backup & Recovery",icon:e.jsx(we,{className:"w-5 h-5"}),route:"admin.settings.backup",category:"security",priority:6,description:"Configure automated backups and disaster recovery"}),a.includes("admin.integrations.settings")&&n.push({name:"Third-party Integrations",icon:e.jsx(Y,{className:"w-5 h-5"}),route:"admin.settings.integrations",category:"integrations",priority:7,description:"Configure payment gateways, email services, and other integrations"}),a.includes("admin.notifications.settings")&&n.push({name:"Notification Settings",icon:e.jsx(V,{className:"w-5 h-5"}),route:"admin.settings.notifications",category:"integrations",priority:8,description:"Configure system notifications and communication templates"}),a.includes("admin.monitoring.settings")&&n.push({name:"Monitoring & Alerts",icon:e.jsx(Q,{className:"w-5 h-5"}),route:"admin.settings.monitoring",category:"maintenance",priority:9,description:"Configure system monitoring, alerts, and performance thresholds"}),a.includes("admin.maintenance.settings")&&n.push({name:"Maintenance Mode",icon:e.jsx(k,{className:"w-5 h-5"}),route:"admin.settings.maintenance",category:"maintenance",priority:10,description:"Configure scheduled maintenance and system updates"}),n},be=()=>["admin.dashboard.view","admin.subscriptions.view","admin.subscription-plans.view","admin.modules.view","admin.billing.view","admin.revenue.view","admin.tenants.view","admin.tenants.list","admin.tenants.create","admin.tenant-analytics.view","admin.tenant-health.view","admin.system.view","admin.system.health","admin.system.configuration","admin.system.updates","admin.system.backups","admin.security.view","admin.users.view","admin.roles.view","admin.audit.view","admin.security.settings","admin.analytics.view","admin.analytics.revenue","admin.analytics.usage","admin.analytics.performance","admin.analytics.custom","admin.platform.settings","admin.subscription.settings","admin.tenant.settings","admin.backup.settings","admin.integrations.settings","admin.notifications.settings","admin.monitoring.settings","admin.maintenance.settings"],K=v.createContext({sideBarOpen:!1,toggleSideBar:()=>{},currentUrl:"",pages:[],auth:null,app:null}),Se=v.memo(()=>{const a=v.useContext(K),[n,d]=i.useState(!1),l=i.useRef(a);return i.useEffect(()=>{d(!0)},[]),n?e.jsx(Be,{url:l.current.currentUrl,pages:l.current.pages,toggleSideBar:l.current.toggleSideBar,sideBarOpen:l.current.sideBarOpen}):null},()=>!0);Se.displayName="StaticHeaderWrapper";const Ce=v.memo(()=>{const a=v.useContext(K),[n,d]=i.useState(!1),l=i.useRef(a);return i.useEffect(()=>{d(!0)},[]),n?e.jsx(Ue,{url:l.current.currentUrl,pages:l.current.pages,toggleSideBar:l.current.toggleSideBar,sideBarOpen:l.current.sideBarOpen}):null},()=>!0);Ce.displayName="StaticSidebarWrapper";const Me=v.memo(({children:a,url:n})=>e.jsx(Ae,{mode:"wait",children:e.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,y:-10,transition:{duration:.2,ease:"easeIn"}},className:"w-full",children:a},n)}));Me.displayName="AdminPageContent";const Pe=v.memo(({children:a})=>{const[n,d]=i.useState(!1),[l,P]=i.useState(!1),[F,_]=i.useState(()=>{try{const r=localStorage.getItem("sidebarOpen");return r?JSON.parse(r):!1}catch{return!1}}),[N,z]=i.useState(!1),[R,A]=i.useState(!1),{auth:u,app:O,url:f}=Oe().props,{currentVersion:I,isUpdateAvailable:p,forceUpdate:m,dismissUpdate:j}=Te(),o=i.useMemo(()=>{var t;const r={user:u==null?void 0:u.user,permissions:be(),id:(t=u==null?void 0:u.user)==null?void 0:t.id,permissionCount:be().length},c=(r==null?void 0:r.permissions)||[],s=f.startsWith("/admin/settings")||f.includes("admin/settings")?Ze(c):Ke(c);return{currentAuth:r,permissions:c,pages:s,app:O,url:f}},[]),w=Ve("(max-width: 768px)"),H=i.useRef(null),L=i.useRef(null);i.useRef(null);const $=i.useRef(!1),E=i.useCallback(()=>{_(r=>{const c=!r;try{localStorage.setItem("sidebarOpen",JSON.stringify(c)),localStorage.setItem("sidebar_has_interacted","true")}catch(y){console.warn("Failed to save sidebar state to localStorage:",y)}return c})},[]),W=i.useCallback(()=>{z(r=>!r)},[]),G=i.useMemo(()=>({sideBarOpen:F,toggleSideBar:E,currentUrl:o.url,pages:o.pages,auth:o.currentAuth,app:o.app}),[F,E,o]);return i.useEffect(()=>{$.current||($.current=!0)},[]),i.useEffect(()=>{const r=async()=>{var y;try{(await Ie.get("/api/auth/check",{timeout:5e3,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})).data.authenticated||d(!0)}catch(s){((y=s.response)==null?void 0:y.status)===401&&d(!0)}};r();const c=setInterval(r,300*1e3);return()=>clearInterval(c)},[]),i.useEffect(()=>{const r=()=>P(!0),c=()=>P(!1);return B.Inertia.on("start",r),B.Inertia.on("finish",c),()=>{B.Inertia.off("start",r),B.Inertia.off("finish",c)}},[]),i.useEffect(()=>{if(!localStorage.getItem("sidebar_has_interacted")&&!w){_(!0);try{localStorage.setItem("sidebarOpen","true")}catch(c){console.warn("Failed to save sidebar state:",c)}}},[w]),e.jsx(K.Provider,{value:G,children:e.jsx(De,{children:e.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[e.jsxs("div",{className:"flex h-screen",children:[e.jsx(Ce,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Se,{}),e.jsx("main",{ref:L,className:"flex-1 overflow-y-auto bg-content1",children:e.jsx("div",{className:"h-full w-full",children:e.jsx(Je,{className:"h-full w-full",children:e.jsx("div",{ref:H,className:"min-h-full",children:e.jsx(Me,{url:o.url,children:a})})})})})]})]}),w&&e.jsx(ke,{pages:o.pages,currentUrl:o.url}),e.jsx(ze,{isOpen:n,onClose:()=>d(!1)}),e.jsx(He,{isOpen:N,onClose:W}),e.jsx(Le,{isVisible:p,currentVersion:I,onUpdate:m,onDismiss:j,isUpdating:R}),e.jsx(Ee,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored",className:"toast-container"})]})})})});Pe.displayName="AdminApp";function $s({subscriptionPlans:a=[],modules:n=[],stats:d={}}){var c,y;const[l,P]=i.useState("plans"),{isOpen:F,onOpen:_,onClose:N}=me(),{isOpen:z,onOpen:R,onClose:A}=me(),[u,O]=i.useState(null),[f,I]=i.useState(null),[p,m]=i.useState({name:"",description:"",base_monthly_price:0,base_yearly_price:0,max_employees:null,max_storage_gb:null,module_discount_percentage:0,is_popular:!1,is_active:!0,features:[]}),[j,o]=i.useState({name:"",description:"",monthly_price:0,yearly_price:0,features:[],dependencies:[],icon:"",is_active:!0}),w=()=>{const s=u?`/admin/subscription-plans/${u.id}`:"/admin/subscription-plans";U[u?"put":"post"](s,p,{onSuccess:()=>{N(),L()}})},H=()=>{const s=f?`/admin/modules/${f.id}`:"/admin/modules";U[f?"put":"post"](s,j,{onSuccess:()=>{A(),$()}})},L=()=>{m({name:"",description:"",base_monthly_price:0,base_yearly_price:0,max_employees:null,max_storage_gb:null,module_discount_percentage:0,is_popular:!1,is_active:!0,features:[]}),O(null)},$=()=>{o({name:"",description:"",monthly_price:0,yearly_price:0,features:[],dependencies:[],icon:"",is_active:!0}),I(null)},E=s=>{O(s),m({name:s.name,description:s.description,base_monthly_price:s.base_monthly_price,base_yearly_price:s.base_yearly_price,max_employees:s.max_employees,max_storage_gb:s.max_storage_gb,module_discount_percentage:s.module_discount_percentage,is_popular:s.is_popular,is_active:s.is_active,features:s.features||[]}),_()},W=s=>{I(s),o({name:s.name,description:s.description,monthly_price:s.monthly_price,yearly_price:s.yearly_price,features:s.features||[],dependencies:s.dependencies||[],icon:s.icon||"",is_active:s.is_active}),R()},G=s=>{confirm("Are you sure you want to delete this plan?")&&U.delete(`/admin/subscription-plans/${s}`)},r=s=>{confirm("Are you sure you want to delete this module?")&&U.delete(`/admin/modules/${s}`)};return e.jsxs(e.Fragment,{children:[e.jsx($e,{title:"Subscription Management"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Subscription Management"}),e.jsx("p",{className:"text-foreground-500",children:"Manage subscription plans, modules, and pricing for your SaaS platform"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(S,{className:"border-small border-divider",children:e.jsx(C,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:e.jsx(X,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-foreground-500",children:"Active Plans"}),e.jsx("p",{className:"text-2xl font-semibold text-foreground",children:d.activePlans||a.filter(s=>s.is_active).length})]})]})})}),e.jsx(S,{className:"border-small border-divider",children:e.jsx(C,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-success/10 rounded-lg",children:e.jsx(Y,{className:"w-6 h-6 text-success"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-foreground-500",children:"Active Modules"}),e.jsx("p",{className:"text-2xl font-semibold text-foreground",children:d.activeModules||n.filter(s=>s.is_active).length})]})]})})}),e.jsx(S,{className:"border-small border-divider",children:e.jsx(C,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-secondary/10 rounded-lg",children:e.jsx(Ne,{className:"w-6 h-6 text-secondary"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-foreground-500",children:"Total Subscribers"}),e.jsx("p",{className:"text-2xl font-semibold text-foreground",children:d.totalSubscribers||0})]})]})})}),e.jsx(S,{className:"border-small border-divider",children:e.jsx(C,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-warning/10 rounded-lg",children:e.jsx(D,{className:"w-6 h-6 text-warning"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-foreground-500",children:"Monthly Revenue"}),e.jsxs("p",{className:"text-2xl font-semibold text-foreground",children:["$",d.monthlyRevenue||"0"]})]})]})})})]}),e.jsxs(S,{className:"border-small border-divider",children:[e.jsx(Xe,{className:"border-b border-divider",children:e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs(We,{selectedKey:l,onSelectionChange:P,variant:"underlined",color:"primary",children:[e.jsx(se,{title:"Subscription Plans"},"plans"),e.jsx(se,{title:"Modules"},"modules")]}),e.jsxs(b,{color:"primary",startContent:e.jsx(Qe,{className:"w-4 h-4"}),onPress:l==="plans"?_:R,children:["Add ",l==="plans"?"Plan":"Module"]})]})}),e.jsxs(C,{className:"p-0",children:[l==="plans"&&e.jsxs(ge,{"aria-label":"Subscription plans table",children:[e.jsxs(ye,{children:[e.jsx(x,{children:"PLAN"}),e.jsx(x,{children:"PRICING"}),e.jsx(x,{children:"LIMITS"}),e.jsx(x,{children:"DISCOUNT"}),e.jsx(x,{children:"STATUS"}),e.jsx(x,{children:"ACTIONS"})]}),e.jsx(fe,{children:a.map(s=>e.jsxs(je,{children:[e.jsx(h,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold",children:s.name}),s.is_popular&&e.jsx(M,{size:"sm",color:"warning",variant:"flat",children:"Popular"})]}),e.jsx("p",{className:"text-sm text-foreground-500",children:s.description})]})}),e.jsx(h,{children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{children:["$",s.base_monthly_price,"/month"]}),e.jsxs("div",{className:"text-foreground-500",children:["$",s.base_yearly_price,"/year"]})]})}),e.jsx(h,{children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{children:s.max_employees?`${s.max_employees} employees`:"Unlimited"}),e.jsx("div",{className:"text-foreground-500",children:s.max_storage_gb?`${s.max_storage_gb}GB storage`:"Unlimited"})]})}),e.jsx(h,{children:e.jsxs(M,{size:"sm",color:"success",variant:"flat",children:[s.module_discount_percentage,"%"]})}),e.jsx(h,{children:e.jsx(M,{size:"sm",color:s.is_active?"success":"default",variant:"flat",children:s.is_active?"Active":"Inactive"})}),e.jsx(h,{children:e.jsxs(ae,{children:[e.jsx(te,{children:e.jsx(b,{isIconOnly:!0,size:"sm",variant:"light",children:e.jsx(ue,{className:"w-4 h-4"})})}),e.jsxs(ne,{children:[e.jsx(T,{startContent:e.jsx(pe,{className:"w-4 h-4"}),onPress:()=>E(s),children:"Edit"},"edit"),e.jsx(T,{className:"text-danger",color:"danger",startContent:e.jsx(he,{className:"w-4 h-4"}),onPress:()=>G(s.id),children:"Delete"},"delete")]})]})})]},s.id))})]}),l==="modules"&&e.jsxs(ge,{"aria-label":"Modules table",children:[e.jsxs(ye,{children:[e.jsx(x,{children:"MODULE"}),e.jsx(x,{children:"PRICING"}),e.jsx(x,{children:"DEPENDENCIES"}),e.jsx(x,{children:"STATUS"}),e.jsx(x,{children:"ACTIONS"})]}),e.jsx(fe,{children:n.map(s=>e.jsxs(je,{children:[e.jsx(h,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-foreground-500",children:s.description})]})}),e.jsx(h,{children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{children:["$",s.monthly_price,"/month"]}),e.jsxs("div",{className:"text-foreground-500",children:["$",s.yearly_price,"/year"]})]})}),e.jsx(h,{children:e.jsx("div",{className:"flex flex-wrap gap-1",children:s.dependencies&&s.dependencies.length>0?s.dependencies.map((t,Fe)=>e.jsx(M,{size:"sm",variant:"flat",children:t},Fe)):e.jsx("span",{className:"text-foreground-500 text-sm",children:"None"})})}),e.jsx(h,{children:e.jsx(M,{size:"sm",color:s.is_active?"success":"default",variant:"flat",children:s.is_active?"Active":"Inactive"})}),e.jsx(h,{children:e.jsxs(ae,{children:[e.jsx(te,{children:e.jsx(b,{isIconOnly:!0,size:"sm",variant:"light",children:e.jsx(ue,{className:"w-4 h-4"})})}),e.jsxs(ne,{children:[e.jsx(T,{startContent:e.jsx(pe,{className:"w-4 h-4"}),onPress:()=>W(s),children:"Edit"},"edit"),e.jsx(T,{className:"text-danger",color:"danger",startContent:e.jsx(he,{className:"w-4 h-4"}),onPress:()=>r(s.id),children:"Delete"},"delete")]})]})})]},s.id))})]})]})]})]}),e.jsx(ie,{isOpen:F,onClose:N,size:"2xl",scrollBehavior:"inside",children:e.jsxs(re,{children:[e.jsx(le,{children:u?"Edit Subscription Plan":"Create New Subscription Plan"}),e.jsx(oe,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(g,{label:"Plan Name",placeholder:"e.g., Professional",value:p.name,onValueChange:s=>m(t=>({...t,name:s}))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{isSelected:p.is_popular,onValueChange:s=>m(t=>({...t,is_popular:s})),children:"Popular Plan"}),e.jsx(q,{isSelected:p.is_active,onValueChange:s=>m(t=>({...t,is_active:s})),children:"Active"})]})]}),e.jsx(xe,{label:"Description",placeholder:"Describe this plan...",value:p.description,onValueChange:s=>m(t=>({...t,description:s}))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(g,{type:"number",label:"Monthly Price ($)",value:p.base_monthly_price.toString(),onValueChange:s=>m(t=>({...t,base_monthly_price:parseFloat(s)||0}))}),e.jsx(g,{type:"number",label:"Yearly Price ($)",value:p.base_yearly_price.toString(),onValueChange:s=>m(t=>({...t,base_yearly_price:parseFloat(s)||0}))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(g,{type:"number",label:"Max Employees",placeholder:"Leave empty for unlimited",value:((c=p.max_employees)==null?void 0:c.toString())||"",onValueChange:s=>m(t=>({...t,max_employees:s?parseInt(s):null}))}),e.jsx(g,{type:"number",label:"Storage (GB)",placeholder:"Leave empty for unlimited",value:((y=p.max_storage_gb)==null?void 0:y.toString())||"",onValueChange:s=>m(t=>({...t,max_storage_gb:s?parseInt(s):null}))}),e.jsx(g,{type:"number",label:"Module Discount (%)",value:p.module_discount_percentage.toString(),onValueChange:s=>m(t=>({...t,module_discount_percentage:parseFloat(s)||0}))})]})]})}),e.jsxs(ce,{children:[e.jsx(b,{variant:"light",onPress:N,children:"Cancel"}),e.jsx(b,{color:"primary",onPress:w,children:u?"Update Plan":"Create Plan"})]})]})}),e.jsx(ie,{isOpen:z,onClose:A,size:"2xl",scrollBehavior:"inside",children:e.jsxs(re,{children:[e.jsx(le,{children:f?"Edit Module":"Create New Module"}),e.jsx(oe,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(g,{label:"Module Name",placeholder:"e.g., HR Management",value:j.name,onValueChange:s=>o(t=>({...t,name:s}))}),e.jsx("div",{className:"flex items-center",children:e.jsx(q,{isSelected:j.is_active,onValueChange:s=>o(t=>({...t,is_active:s})),children:"Active"})})]}),e.jsx(xe,{label:"Description",placeholder:"Describe this module...",value:j.description,onValueChange:s=>o(t=>({...t,description:s}))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(g,{type:"number",label:"Monthly Price ($)",value:j.monthly_price.toString(),onValueChange:s=>o(t=>({...t,monthly_price:parseFloat(s)||0}))}),e.jsx(g,{type:"number",label:"Yearly Price ($)",value:j.yearly_price.toString(),onValueChange:s=>o(t=>({...t,yearly_price:parseFloat(s)||0}))})]}),e.jsx(g,{label:"Icon",placeholder:"e.g., user-group",value:j.icon,onValueChange:s=>o(t=>({...t,icon:s}))})]})}),e.jsxs(ce,{children:[e.jsx(b,{variant:"light",onPress:A,children:"Cancel"}),e.jsx(b,{color:"primary",onPress:H,children:f?"Update Module":"Create Module"})]})]})})]})}SubscriptionManagement.layout=a=>e.jsx(Pe,{children:a});export{$s as default};
