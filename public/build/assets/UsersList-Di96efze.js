import{r as y,j as r,s as Ke,d as Q,t as Br,F as _e,a as we,bX as Ea,bY as Ia,bZ as Sn,Q as Tn,c as oe,b as ce,S as Wr}from"./app-DnfpQPfd.js";import{y as vt,e as $e,c as Cn,C as xt,D as gt,E as yt,H as se,m as En,j as In,k as $n,n as Rn,x as Pn,s as Ne,l as ee,o as An,w as He,f as On,I as Dn,A as Un}from"./Dashboard-CzIhsGyD.js";import{S as Ln}from"./StatsCards-DSyRMVt2.js";import{c as de,t as bt,F as $a,B as k,b as Ra}from"./react-toastify.esm-qSr9_Ost.js";import{F as Mn}from"./HashtagIcon-Ce7sNzmv.js";import{F as Ze}from"./UserIcon-HAFIsIZ5.js";import{F as jt}from"./EnvelopeIcon-xjoZlk7K.js";import{F as Re,a as Pa}from"./DeviceTabletIcon-B6gpE1_9.js";import{F as Aa}from"./CheckCircleIcon-Lqo4iNPV.js";import{F as Pe}from"./ShieldCheckIcon-BLWziJ8F.js";import{F as _t}from"./EllipsisVerticalIcon-JtC2hOZ7.js";import{F as Oa}from"./PencilIcon-C7NEHfq1.js";import{F as Ye}from"./LockOpenIcon-ByL6AobA.js";import{F as Je}from"./LockClosedIcon-D7MnIOBZ.js";import{t as zn,a as Bn,b as Wn,c as kn}from"./chunk-F3UDT23P-DO00kaKz.js";import{t as Gn,a as Hn}from"./chunk-YRZGWF2W-CieXhKfc.js";import{p as Da}from"./chunk-EAPQ7RWQ-JkQshXaO.js";import{u as Ua}from"./chunk-S574QCAN-DNSgHvqK.js";import{U as Vn}from"./user-phcY7KmJ.js";import{C as qn}from"./camera-CuFTJUxy.js";import{c as Pt}from"./createLucideIcon-CvPsdOu9.js";import{i as J}from"./chunk-SSA7SXE4-CpNTvlDK.js";import{F as Kn}from"./XCircleIcon-DkI13FAx.js";import{F as Xn}from"./TrophyIcon-zzzuT_Sp.js";import{F as mt}from"./UserPlusIcon-B_whxxuF.js";import{F as kr}from"./ChartBarIcon-DUO_qmTX.js";import{m as Zn}from"./proxy-C66qU2CO.js";import{F as Yn}from"./DocumentArrowDownIcon-CvOweqmP.js";import{F as Jn}from"./ChartPieIcon-64tK13G5.js";import{F as Qn}from"./TableCellsIcon-zb7cDu3_.js";import{c as es}from"./chunk-D5XJWRAV-C0d1qnps.js";import{s as V}from"./chunk-TLYTI3QM-DN0qaK6m.js";import{b as ts}from"./chunk-57V4RE7B-DK3bk8qR.js";import{s as rs}from"./chunk-TQNYOUFX-BlJSxS8K.js";import"./KeyIcon-Imu8E6kK.js";import"./logo-Pwvcz7fP.js";import"./ExclamationTriangleIcon-CtXkYEJS.js";import"./features-animation-DUKyBnxh.js";import"./create-visual-element-Cid2C_5j.js";import"./chunk-XJ2YRSUP-CZjQ0oGD.js";import"./useToggleState-BcxUgylY.js";function as({title:e,titleId:t,...a},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?y.createElement("title",{id:t},e):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Gr=y.forwardRef(as);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Hr=Pt("eye-off",ns);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vr=Pt("eye",ss);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ls=Pt("lock",is),pe=()=>"var(--borderRadius, 12px)",os=({allUsers:e,roles:t,isMobile:a,isTablet:s,setUsers:l,pagination:o,onPageChange:m,onRowsPerPageChange:f,totalUsers:h=0,onEdit:g,loading:j=!1,updateUserOptimized:N,deleteUserOptimized:_,toggleUserStatusOptimized:O,updateUserRolesOptimized:P,toggleSingleDeviceLogin:A,resetUserDevice:S,deviceActions:E={}})=>{const[I,H]=y.useState({}),B=(n,x="w-5 h-5")=>{const $=(n==null?void 0:n.toLowerCase())||"";return $.includes("mobile")||$.includes("android")||$.includes("iphone")?r.jsx(Re,{className:`${x} text-primary`}):$.includes("tablet")||$.includes("ipad")?r.jsx(Pa,{className:`${x} text-secondary`}):r.jsx(Ra,{className:`${x} text-default-500`})},d=n=>{const x=(n==null?void 0:n.toLowerCase())||"";return x.includes("mobile")||x.includes("android")||x.includes("iphone")?"Mobile Device":x.includes("tablet")||x.includes("ipad")?"Tablet":"Desktop"},T=(n,x,$)=>{H(R=>({...R,[`${n}-${x}`]:$}))},F=(n,x)=>I[`${n}-${x}`]||!1;async function b(n,x){T(n,"role",!0);const $=new Promise(async(R,L)=>{var Z;try{const Y=await axios.post(route("user.updateRole",{id:n}),{roles:x});Y.status===200&&(P&&P(n,x),R([Y.data.message||"Role updated successfully"]))}catch(Y){((Z=Y.response)==null?void 0:Z.status)===422?L(Y.response.data.errors||["Failed to update user role."]):L(["An unexpected error occurred. Please try again later."])}finally{T(n,"role",!1)}});return k.promise($,{pending:"Updating employee role...",success:{render({data:R}){return R.join(", ")}},error:{render({data:R}){return Array.isArray(R)?R.join(", "):R}}}),$}const C=y.useMemo(()=>{const n=[{name:"#",uid:"sl"},{name:"USER",uid:"user"},{name:"EMAIL",uid:"email"},{name:"DEPARTMENT",uid:"department"},{name:"DEVICE STATUS",uid:"device_status"},{name:"STATUS",uid:"status"},{name:"ROLES",uid:"roles"},{name:"ACTIONS",uid:"actions"}];if(!a&&!s)n.splice(3,0,{name:"PHONE",uid:"phone"});else if(a)n.splice(n.findIndex(x=>x.uid==="department"),1),n.splice(n.findIndex(x=>x.uid==="device_status"),1);else if(s){const x=n.findIndex($=>$.uid==="device_status");if(x>-1){const $=n.splice(x,1)[0];n.splice(2,0,$)}}return n},[a,s]),z=async(n,x)=>{if(!F(n,"status")){T(n,"status",!0);try{O?(O(n,!x),k.success(`User status ${x?"deactivated":"activated"} successfully`)):l&&(l($=>$.map(R=>R.id===n?{...R,active:!x}:R)),k.success(`User status ${x?"deactivated":"activated"} successfully`))}catch($){console.error("Error toggling user status:",$),k.error("Failed to update user status")}finally{T(n,"status",!1)}}},p=(n,x,$)=>{var L,Z;const R=n[x];switch(x){case"sl":const u=(o!=null&&o.currentPage&&(o!=null&&o.perPage)?Number((o.currentPage-1)*o.perPage):0)+(typeof $=="number"?$:0)+1;return r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"flex items-center justify-center w-8 h-8 border shadow-sm",style:{background:"var(--theme-content2, #F4F4F5)",borderColor:"var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 8px)",color:"var(--theme-foreground, #000000)"},children:r.jsx("span",{className:"text-sm font-bold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:u})})});case"user":return r.jsx(Ua,{className:"w-fit max-w-full",avatarProps:{radius:pe(),size:"sm",src:(n==null?void 0:n.profile_image_url)||(n==null?void 0:n.profile_image),showFallback:!0,name:(n==null?void 0:n.name)||"Unnamed User",isBordered:!0,style:{borderColor:"var(--theme-primary, #3B82F6)",borderWidth:"2px"}},name:r.jsx("span",{className:"text-sm font-semibold whitespace-nowrap text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:(n==null?void 0:n.name)||"Unnamed User"}),description:r.jsxs("span",{className:"text-xs text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["ID: ",n==null?void 0:n.id]})});case"email":return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 rounded-md",style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)"},children:r.jsx(jt,{className:"w-3.5 h-3.5"})}),r.jsx("span",{className:"text-sm font-medium text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:n.email})]});case"phone":return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 rounded-md",style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)"},children:r.jsx(vt,{className:"w-3.5 h-3.5"})}),r.jsx("span",{className:"text-sm font-medium text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:n.phone||"N/A"})]});case"department":return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 rounded-md",style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)"},children:r.jsx($e,{className:"w-3.5 h-3.5"})}),r.jsx("span",{className:"text-sm font-medium text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((L=n==null?void 0:n.department)==null?void 0:L.name)||"N/A"})]});case"device_status":const he=F(n.id,"deviceToggle");return r.jsx("div",{className:"flex items-center space-x-2",children:n.single_device_login?r.jsxs(r.Fragment,{children:[r.jsx(de,{size:"sm",variant:"flat",color:n.active_device?"warning":"success",startContent:he?r.jsx("div",{className:"animate-spin",children:r.jsx(_e,{className:"w-3 h-3"})}):n.active_device?r.jsx(Je,{className:"w-3 h-3"}):r.jsx(Ye,{className:"w-3 h-3"}),children:he?"Loading...":n.active_device?"Locked":"Free"}),n.active_device&&!he&&r.jsx(bt,{content:r.jsxs("div",{className:"backdrop-blur-md border rounded-lg p-4 shadow-2xl max-w-sm",style:{background:"color-mix(in srgb, var(--theme-content1) 20%, transparent)",borderColor:"var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)"},children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[B(n.active_device.user_agent,"w-5 h-5"),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-foreground text-sm",style:{fontFamily:'var(--fontFamily, "Inter")'},children:n.active_device.device_name||"Unknown Device"}),r.jsx("div",{className:"text-xs text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:d(n.active_device.user_agent)})]})]}),r.jsx("div",{className:"space-y-2 text-xs",children:r.jsx("div",{className:"pt-2 mt-2 border-t",style:{borderColor:"color-mix(in srgb, var(--theme-divider) 20%, transparent)"},children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx($a,{className:"w-3 h-3 text-success"}),r.jsx("span",{className:"text-success text-xs font-medium",style:{fontFamily:'var(--fontFamily, "Inter")'},children:n.active_device.is_active?"Currently Active":"Inactive"})]})})})]}),placement:"top",classNames:{content:"p-0 bg-transparent shadow-none border-none"},children:r.jsx("div",{className:"flex items-center p-1 rounded-sm hover:bg-content1/10 transition-colors cursor-default",children:B(n.active_device.user_agent,"w-4 h-4")})})]}):r.jsx(de,{size:"sm",variant:"flat",color:"default",startContent:he?r.jsx("div",{className:"animate-spin",children:r.jsx(_e,{className:"w-3 h-3"})}):r.jsx(Pe,{className:"w-3 h-3"}),children:he?"Loading...":"Disabled"})});case"status":return r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",checked:n.active,onChange:()=>z(n.id,n.active),disabled:F(n.id,"status")}),r.jsx("div",{className:"w-11 h-6 peer-focus:outline-hidden peer-focus:ring-4 peer-focus:ring-opacity-30 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all",style:{backgroundColor:n.active?"var(--theme-success, #10B981)":"var(--theme-danger, #EF4444)"}}),F(n.id,"status")&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(Ke,{size:"sm",color:"default"})})]}),r.jsx("span",{className:"text-xs font-medium",style:{color:n.active?"var(--theme-success, #10B981)":"var(--theme-danger, #EF4444)",fontFamily:'var(--fontFamily, "Inter")'},children:n.active?"Active":"Inactive"})]});case"roles":const ne=((Z=n.roles)==null?void 0:Z.map(W=>typeof W=="object"&&W!==null?W.name:W))||[],K=new Set(ne),We=Array.from(K).join(", ")||"No Roles";return r.jsx("div",{className:"flex items-center",children:r.jsxs(xt,{isDisabled:F(n.id,"role"),className:"max-w-[220px]",children:[r.jsx(gt,{children:r.jsx(Q,{className:"capitalize",variant:"solid",size:"sm",radius:pe(),startContent:F(n.id,"role")?r.jsx(Ke,{size:"sm"}):null,style:{background:"var(--theme-primary, #3B82F6)",color:"white",fontFamily:'var(--fontFamily, "Inter")',borderRadius:pe()},children:We})}),r.jsx(yt,{disallowEmptySelection:!1,"aria-label":"Role selection",closeOnSelect:!1,selectedKeys:K,selectionMode:"multiple",variant:"flat",onSelectionChange:W=>{const ke=Array.from(W);b(n.id,ke)},children:(t||[]).map(W=>r.jsx(se,{children:typeof W=="object"&&W!==null?W.name:W},typeof W=="object"&&W!==null?W.name:W))})]})});case"actions":return r.jsx("div",{className:"flex justify-center items-center",children:r.jsxs(xt,{children:[r.jsx(gt,{children:r.jsx(Q,{isIconOnly:!0,size:"sm",variant:"solid",radius:pe(),style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)",fontFamily:'var(--fontFamily, "Inter")',borderRadius:pe()},className:"hover:opacity-80 transition-opacity",children:r.jsx(_t,{className:"w-4 h-4"})})}),r.jsxs(yt,{style:{background:"var(--theme-content1, #FFFFFF)",border:"1px solid var(--theme-divider, #E5E7EB)",borderRadius:pe()},children:[r.jsx(se,{textValue:"View Profile",href:route("profile",{user:n.id}),as:Br,className:"text-blue-500",startContent:r.jsx(Ze,{className:"w-4 h-4"}),children:"View Profile"}),r.jsx(se,{textValue:"Edit User",onPress:()=>{g&&g(n)},className:"text-amber-500",startContent:r.jsx(Oa,{className:"w-4 h-4"}),children:"Edit"}),r.jsx(se,{textValue:"Device Toggle",onPress:()=>{A&&!F(n.id,"deviceToggle")&&(T(n.id,"deviceToggle",!0),A(n.id,!n.single_device_login).finally(()=>{T(n.id,"deviceToggle",!1)}))},isDisabled:E[n.id]||F(n.id,"deviceToggle"),startContent:F(n.id,"deviceToggle")?r.jsx("div",{className:"animate-spin",children:r.jsx(_e,{className:"w-4 h-4"})}):n.single_device_login?r.jsx(Ye,{className:"w-4 h-4"}):r.jsx(Je,{className:"w-4 h-4"}),className:n.single_device_login?"text-orange-500":"text-green-500",children:F(n.id,"deviceToggle")?"Processing...":n.single_device_login?"Disable Device Lock":"Enable Device Lock"}),n.single_device_login&&n.active_device&&r.jsx(se,{textValue:"Reset Device",onPress:()=>{S&&!F(n.id,"deviceReset")&&(T(n.id,"deviceReset",!0),S(n.id).finally(()=>{T(n.id,"deviceReset",!1)}))},isDisabled:E[n.id]||F(n.id,"deviceReset"),startContent:F(n.id,"deviceReset")?r.jsx("div",{className:"animate-spin",children:r.jsx(_e,{className:"w-4 h-4"})}):r.jsx(_e,{className:"w-4 h-4"}),className:"text-red-500",children:F(n.id,"deviceReset")?"Resetting...":"Reset Device"}),r.jsx(se,{textValue:"View Devices",href:route("admin.users.devices",{userId:n.id}),as:Br,startContent:r.jsx(Re,{className:"w-4 h-4"}),className:"text-blue-500",children:"View Device History"})]})]})});default:return R}},c=()=>!e||!h||j?null:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-6 py-4 border-t",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:"var(--theme-content2, #F4F4F5)",borderRadius:"0 0 var(--borderRadius, 12px) var(--borderRadius, 12px)"},children:[r.jsxs("span",{className:"text-sm text-default-600 mb-3 sm:mb-0 font-medium",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["Showing"," ",r.jsx("span",{className:"font-semibold text-default-900",children:(o.currentPage-1)*o.perPage+1})," ","to"," ",r.jsx("span",{className:"font-semibold text-default-900",children:Math.min(o.currentPage*o.perPage,h)})," ","of"," ",r.jsx("span",{className:"font-semibold text-default-900",children:h})," ","users"]}),r.jsx(Da,{total:Math.ceil(h/o.perPage),initialPage:o.currentPage,page:o.currentPage,onChange:m,size:a?"sm":"md",variant:"flat",showControls:!0,radius:pe(),style:{fontFamily:'var(--fontFamily, "Inter")'},classNames:{wrapper:"gap-1",item:"bg-default-100 hover:bg-default-200 text-default-700 font-medium border border-default-200",cursor:"bg-primary text-primary-foreground font-semibold shadow-md",prev:"bg-default-100 hover:bg-default-200 text-default-700 border border-default-200",next:"bg-default-100 hover:bg-default-200 text-default-700 border border-default-200"}})]});return r.jsxs("div",{className:"w-full flex flex-col border rounded-lg shadow-lg",style:{maxHeight:"calc(100vh - 240px)",borderColor:"var(--theme-divider, #E4E4E7)",background:"var(--theme-content1, #FFFFFF)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:[r.jsx("div",{className:"flex-1 overflow-auto",style:{scrollbarWidth:"thin",scrollbarColor:"var(--theme-divider, #E4E4E7) transparent"},children:r.jsxs(zn,{removeWrapper:!0,selectionMode:"none",isCompact:a,classNames:{base:"min-w-[900px]",wrapper:"p-0 shadow-none",th:"text-default-600 border-b font-semibold text-xs sticky top-0 z-30",td:"border-b py-4 px-3",table:"border-collapse w-full",thead:"sticky top-0 z-30",tbody:"",tr:"hover:bg-default-50 transition-colors duration-150",emptyWrapper:"text-center h-32",loadingWrapper:"h-32"},style:{"--table-border-color":"var(--theme-divider, #E4E4E7)","--table-header-bg":"var(--theme-content2, #F4F4F5)","--table-row-hover":"var(--theme-default-50, #F9FAFB)"},children:[r.jsx(Gn,{columns:C,children:n=>r.jsx(Hn,{align:n.uid==="actions"||n.uid==="sl"?"center":"start",width:n.uid==="user"?280:n.uid==="email"?240:n.uid==="phone"?140:n.uid==="department"||n.uid==="device_status"?160:n.uid==="status"?120:n.uid==="roles"?180:n.uid==="actions"?120:void 0,style:{background:"var(--table-header-bg)",borderColor:"var(--table-border-color)",fontFamily:'var(--fontFamily, "Inter")',fontSize:"0.75rem",fontWeight:"600"},children:r.jsxs("div",{className:"flex items-center gap-2 py-1",children:[n.uid==="sl"&&r.jsx(Mn,{className:"w-3 h-3 text-default-400"}),n.uid==="user"&&r.jsx(Ze,{className:"w-3 h-3 text-default-400"}),n.uid==="email"&&r.jsx(jt,{className:"w-3 h-3 text-default-400"}),n.uid==="phone"&&r.jsx(vt,{className:"w-3 h-3 text-default-400"}),n.uid==="department"&&r.jsx($e,{className:"w-3 h-3 text-default-400"}),n.uid==="device_status"&&r.jsx(Re,{className:"w-3 h-3 text-default-400"}),n.uid==="status"&&r.jsx(Aa,{className:"w-3 h-3 text-default-400"}),n.uid==="roles"&&r.jsx(Pe,{className:"w-3 h-3 text-default-400"}),n.uid==="actions"&&r.jsx(_t,{className:"w-3 h-3 text-default-400"}),r.jsx("span",{children:n.name})]})},n.uid)}),r.jsx(Bn,{items:e||[],emptyContent:r.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[r.jsx(Cn,{className:"w-12 h-12 text-default-300 mb-3"}),r.jsx("p",{className:"text-default-500 font-medium",children:"No users found"}),r.jsx("p",{className:"text-default-400 text-sm",children:"Try adjusting your search or filters"})]}),loadingContent:r.jsx("div",{className:"flex justify-center items-center py-8",children:r.jsx(Ke,{size:"lg",color:"primary"})}),isLoading:j,children:(n,x)=>{const $=e?e.findIndex(R=>R.id===n.id):x;return r.jsx(Wn,{className:"group",style:{background:"var(--theme-content1, #FFFFFF)"},children:R=>r.jsx(kn,{style:{borderColor:"var(--table-border-color)",fontFamily:'var(--fontFamily, "Inter")',background:"inherit"},children:p(n,R,$)})},n.id)}})]})}),c()]})};var La=typeof global=="object"&&global&&global.Object===Object&&global,cs=typeof self=="object"&&self&&self.Object===Object&&self,ae=La||cs||Function("return this")(),X=ae.Symbol,Ma=Object.prototype,ds=Ma.hasOwnProperty,ms=Ma.toString,Ce=X?X.toStringTag:void 0;function us(e){var t=ds.call(e,Ce),a=e[Ce];try{e[Ce]=void 0;var s=!0}catch{}var l=ms.call(e);return s&&(t?e[Ce]=a:delete e[Ce]),l}var fs=Object.prototype,hs=fs.toString;function ps(e){return hs.call(e)}var vs="[object Null]",xs="[object Undefined]",qr=X?X.toStringTag:void 0;function xe(e){return e==null?e===void 0?xs:vs:qr&&qr in Object(e)?us(e):ps(e)}function le(e){return e!=null&&typeof e=="object"}var gs="[object Symbol]";function st(e){return typeof e=="symbol"||le(e)&&xe(e)==gs}function za(e,t){for(var a=-1,s=e==null?0:e.length,l=Array(s);++a<s;)l[a]=t(e[a],a,e);return l}var re=Array.isArray,Kr=X?X.prototype:void 0,Xr=Kr?Kr.toString:void 0;function Ba(e){if(typeof e=="string")return e;if(re(e))return za(e,Ba)+"";if(st(e))return Xr?Xr.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ys=/\s/;function bs(e){for(var t=e.length;t--&&ys.test(e.charAt(t)););return t}var js=/^\s+/;function _s(e){return e&&e.slice(0,bs(e)+1).replace(js,"")}function q(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Zr=NaN,ws=/^[-+]0x[0-9a-f]+$/i,Ns=/^0b[01]+$/i,Fs=/^0o[0-7]+$/i,Ss=parseInt;function Yr(e){if(typeof e=="number")return e;if(st(e))return Zr;if(q(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=q(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=_s(e);var a=Ns.test(e);return a||Fs.test(e)?Ss(e.slice(2),a?2:8):ws.test(e)?Zr:+e}function Wa(e){return e}var Ts="[object AsyncFunction]",Cs="[object Function]",Es="[object GeneratorFunction]",Is="[object Proxy]";function At(e){if(!q(e))return!1;var t=xe(e);return t==Cs||t==Es||t==Ts||t==Is}var ut=ae["__core-js_shared__"],Jr=function(){var e=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function $s(e){return!!Jr&&Jr in e}var Rs=Function.prototype,Ps=Rs.toString;function ge(e){if(e!=null){try{return Ps.call(e)}catch{}try{return e+""}catch{}}return""}var As=/[\\^$.*+?()[\]{}|]/g,Os=/^\[object .+?Constructor\]$/,Ds=Function.prototype,Us=Object.prototype,Ls=Ds.toString,Ms=Us.hasOwnProperty,zs=RegExp("^"+Ls.call(Ms).replace(As,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Bs(e){if(!q(e)||$s(e))return!1;var t=At(e)?zs:Os;return t.test(ge(e))}function Ws(e,t){return e==null?void 0:e[t]}function ye(e,t){var a=Ws(e,t);return Bs(a)?a:void 0}var wt=ye(ae,"WeakMap"),Qr=Object.create,ks=function(){function e(){}return function(t){if(!q(t))return{};if(Qr)return Qr(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();function Gs(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function ka(e,t){var a=-1,s=e.length;for(t||(t=Array(s));++a<s;)t[a]=e[a];return t}var Hs=800,Vs=16,qs=Date.now;function Ks(e){var t=0,a=0;return function(){var s=qs(),l=Vs-(s-a);if(a=s,l>0){if(++t>=Hs)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Xs(e){return function(){return e}}var Qe=function(){try{var e=ye(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Zs=Qe?function(e,t){return Qe(e,"toString",{configurable:!0,enumerable:!1,value:Xs(t),writable:!0})}:Wa,Ga=Ks(Zs);function Ys(e,t){for(var a=-1,s=e==null?0:e.length;++a<s&&t(e[a],a,e)!==!1;);return e}var Js=9007199254740991,Qs=/^(?:0|[1-9]\d*)$/;function Ot(e,t){var a=typeof e;return t=t??Js,!!t&&(a=="number"||a!="symbol"&&Qs.test(e))&&e>-1&&e%1==0&&e<t}function Dt(e,t,a){t=="__proto__"&&Qe?Qe(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function ze(e,t){return e===t||e!==e&&t!==t}var ei=Object.prototype,ti=ei.hasOwnProperty;function Ut(e,t,a){var s=e[t];(!(ti.call(e,t)&&ze(s,a))||a===void 0&&!(t in e))&&Dt(e,t,a)}function Se(e,t,a,s){var l=!a;a||(a={});for(var o=-1,m=t.length;++o<m;){var f=t[o],h=void 0;h===void 0&&(h=e[f]),l?Dt(a,f,h):Ut(a,f,h)}return a}var ea=Math.max;function Ha(e,t,a){return t=ea(t===void 0?e.length-1:t,0),function(){for(var s=arguments,l=-1,o=ea(s.length-t,0),m=Array(o);++l<o;)m[l]=s[t+l];l=-1;for(var f=Array(t+1);++l<t;)f[l]=s[l];return f[t]=a(m),Gs(e,this,f)}}function ri(e,t){return Ga(Ha(e,t,Wa),e+"")}var ai=9007199254740991;function Va(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ai}function it(e){return e!=null&&Va(e.length)&&!At(e)}function ni(e,t,a){if(!q(a))return!1;var s=typeof t;return(s=="number"?it(a)&&Ot(t,a.length):s=="string"&&t in a)?ze(a[t],e):!1}function si(e){return ri(function(t,a){var s=-1,l=a.length,o=l>1?a[l-1]:void 0,m=l>2?a[2]:void 0;for(o=e.length>3&&typeof o=="function"?(l--,o):void 0,m&&ni(a[0],a[1],m)&&(o=l<3?void 0:o,l=1),t=Object(t);++s<l;){var f=a[s];f&&e(t,f,s,o)}return t})}var ii=Object.prototype;function Lt(e){var t=e&&e.constructor,a=typeof t=="function"&&t.prototype||ii;return e===a}function li(e,t){for(var a=-1,s=Array(e);++a<e;)s[a]=t(a);return s}var oi="[object Arguments]";function ta(e){return le(e)&&xe(e)==oi}var qa=Object.prototype,ci=qa.hasOwnProperty,di=qa.propertyIsEnumerable,et=ta(function(){return arguments}())?ta:function(e){return le(e)&&ci.call(e,"callee")&&!di.call(e,"callee")};function mi(){return!1}var Ka=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ra=Ka&&typeof module=="object"&&module&&!module.nodeType&&module,ui=ra&&ra.exports===Ka,aa=ui?ae.Buffer:void 0,fi=aa?aa.isBuffer:void 0,De=fi||mi,hi="[object Arguments]",pi="[object Array]",vi="[object Boolean]",xi="[object Date]",gi="[object Error]",yi="[object Function]",bi="[object Map]",ji="[object Number]",_i="[object Object]",wi="[object RegExp]",Ni="[object Set]",Fi="[object String]",Si="[object WeakMap]",Ti="[object ArrayBuffer]",Ci="[object DataView]",Ei="[object Float32Array]",Ii="[object Float64Array]",$i="[object Int8Array]",Ri="[object Int16Array]",Pi="[object Int32Array]",Ai="[object Uint8Array]",Oi="[object Uint8ClampedArray]",Di="[object Uint16Array]",Ui="[object Uint32Array]",M={};M[Ei]=M[Ii]=M[$i]=M[Ri]=M[Pi]=M[Ai]=M[Oi]=M[Di]=M[Ui]=!0;M[hi]=M[pi]=M[Ti]=M[vi]=M[Ci]=M[xi]=M[gi]=M[yi]=M[bi]=M[ji]=M[_i]=M[wi]=M[Ni]=M[Fi]=M[Si]=!1;function Li(e){return le(e)&&Va(e.length)&&!!M[xe(e)]}function Mt(e){return function(t){return e(t)}}var Xa=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ae=Xa&&typeof module=="object"&&module&&!module.nodeType&&module,Mi=Ae&&Ae.exports===Xa,ft=Mi&&La.process,Fe=function(){try{var e=Ae&&Ae.require&&Ae.require("util").types;return e||ft&&ft.binding&&ft.binding("util")}catch{}}(),na=Fe&&Fe.isTypedArray,zt=na?Mt(na):Li,zi=Object.prototype,Bi=zi.hasOwnProperty;function Za(e,t){var a=re(e),s=!a&&et(e),l=!a&&!s&&De(e),o=!a&&!s&&!l&&zt(e),m=a||s||l||o,f=m?li(e.length,String):[],h=f.length;for(var g in e)(t||Bi.call(e,g))&&!(m&&(g=="length"||l&&(g=="offset"||g=="parent")||o&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||Ot(g,h)))&&f.push(g);return f}function Ya(e,t){return function(a){return e(t(a))}}var Wi=Ya(Object.keys,Object),ki=Object.prototype,Gi=ki.hasOwnProperty;function Hi(e){if(!Lt(e))return Wi(e);var t=[];for(var a in Object(e))Gi.call(e,a)&&a!="constructor"&&t.push(a);return t}function Bt(e){return it(e)?Za(e):Hi(e)}function Vi(e){var t=[];if(e!=null)for(var a in Object(e))t.push(a);return t}var qi=Object.prototype,Ki=qi.hasOwnProperty;function Xi(e){if(!q(e))return Vi(e);var t=Lt(e),a=[];for(var s in e)s=="constructor"&&(t||!Ki.call(e,s))||a.push(s);return a}function Be(e){return it(e)?Za(e,!0):Xi(e)}var Zi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yi=/^\w*$/;function Ji(e,t){if(re(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||st(e)?!0:Yi.test(e)||!Zi.test(e)||t!=null&&e in Object(t)}var Ue=ye(Object,"create");function Qi(){this.__data__=Ue?Ue(null):{},this.size=0}function el(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var tl="__lodash_hash_undefined__",rl=Object.prototype,al=rl.hasOwnProperty;function nl(e){var t=this.__data__;if(Ue){var a=t[e];return a===tl?void 0:a}return al.call(t,e)?t[e]:void 0}var sl=Object.prototype,il=sl.hasOwnProperty;function ll(e){var t=this.__data__;return Ue?t[e]!==void 0:il.call(t,e)}var ol="__lodash_hash_undefined__";function cl(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=Ue&&t===void 0?ol:t,this}function ve(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}ve.prototype.clear=Qi;ve.prototype.delete=el;ve.prototype.get=nl;ve.prototype.has=ll;ve.prototype.set=cl;function dl(){this.__data__=[],this.size=0}function lt(e,t){for(var a=e.length;a--;)if(ze(e[a][0],t))return a;return-1}var ml=Array.prototype,ul=ml.splice;function fl(e){var t=this.__data__,a=lt(t,e);if(a<0)return!1;var s=t.length-1;return a==s?t.pop():ul.call(t,a,1),--this.size,!0}function hl(e){var t=this.__data__,a=lt(t,e);return a<0?void 0:t[a][1]}function pl(e){return lt(this.__data__,e)>-1}function vl(e,t){var a=this.__data__,s=lt(a,e);return s<0?(++this.size,a.push([e,t])):a[s][1]=t,this}function ue(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}ue.prototype.clear=dl;ue.prototype.delete=fl;ue.prototype.get=hl;ue.prototype.has=pl;ue.prototype.set=vl;var Le=ye(ae,"Map");function xl(){this.size=0,this.__data__={hash:new ve,map:new(Le||ue),string:new ve}}function gl(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ot(e,t){var a=e.__data__;return gl(t)?a[typeof t=="string"?"string":"hash"]:a.map}function yl(e){var t=ot(this,e).delete(e);return this.size-=t?1:0,t}function bl(e){return ot(this,e).get(e)}function jl(e){return ot(this,e).has(e)}function _l(e,t){var a=ot(this,e),s=a.size;return a.set(e,t),this.size+=a.size==s?0:1,this}function fe(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}fe.prototype.clear=xl;fe.prototype.delete=yl;fe.prototype.get=bl;fe.prototype.has=jl;fe.prototype.set=_l;var wl="Expected a function";function Wt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(wl);var a=function(){var s=arguments,l=t?t.apply(this,s):s[0],o=a.cache;if(o.has(l))return o.get(l);var m=e.apply(this,s);return a.cache=o.set(l,m)||o,m};return a.cache=new(Wt.Cache||fe),a}Wt.Cache=fe;var Nl=500;function Fl(e){var t=Wt(e,function(s){return a.size===Nl&&a.clear(),s}),a=t.cache;return t}var Sl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tl=/\\(\\)?/g,Cl=Fl(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Sl,function(a,s,l,o){t.push(l?o.replace(Tl,"$1"):s||a)}),t});function El(e){return e==null?"":Ba(e)}function ct(e,t){return re(e)?e:Ji(e,t)?[e]:Cl(El(e))}function kt(e){if(typeof e=="string"||st(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Ja(e,t){t=ct(t,e);for(var a=0,s=t.length;e!=null&&a<s;)e=e[kt(t[a++])];return a&&a==s?e:void 0}function tt(e,t,a){var s=e==null?void 0:Ja(e,t);return s===void 0?a:s}function Gt(e,t){for(var a=-1,s=t.length,l=e.length;++a<s;)e[l+a]=t[a];return e}var sa=X?X.isConcatSpreadable:void 0;function Il(e){return re(e)||et(e)||!!(sa&&e&&e[sa])}function $l(e,t,a,s,l){var o=-1,m=e.length;for(a||(a=Il),l||(l=[]);++o<m;){var f=e[o];a(f)?Gt(l,f):l[l.length]=f}return l}function Rl(e){var t=e==null?0:e.length;return t?$l(e):[]}function Pl(e){return Ga(Ha(e,void 0,Rl),e+"")}var Ht=Ya(Object.getPrototypeOf,Object),Al="[object Object]",Ol=Function.prototype,Dl=Object.prototype,Qa=Ol.toString,Ul=Dl.hasOwnProperty,Ll=Qa.call(Object);function en(e){if(!le(e)||xe(e)!=Al)return!1;var t=Ht(e);if(t===null)return!0;var a=Ul.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&Qa.call(a)==Ll}function Ml(e,t,a){var s=-1,l=e.length;t<0&&(t=-t>l?0:l+t),a=a>l?l:a,a<0&&(a+=l),l=t>a?0:a-t>>>0,t>>>=0;for(var o=Array(l);++s<l;)o[s]=e[s+t];return o}function zl(){this.__data__=new ue,this.size=0}function Bl(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}function Wl(e){return this.__data__.get(e)}function kl(e){return this.__data__.has(e)}var Gl=200;function Hl(e,t){var a=this.__data__;if(a instanceof ue){var s=a.__data__;if(!Le||s.length<Gl-1)return s.push([e,t]),this.size=++a.size,this;a=this.__data__=new fe(s)}return a.set(e,t),this.size=a.size,this}function ie(e){var t=this.__data__=new ue(e);this.size=t.size}ie.prototype.clear=zl;ie.prototype.delete=Bl;ie.prototype.get=Wl;ie.prototype.has=kl;ie.prototype.set=Hl;function Vl(e,t){return e&&Se(t,Bt(t),e)}function ql(e,t){return e&&Se(t,Be(t),e)}var tn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ia=tn&&typeof module=="object"&&module&&!module.nodeType&&module,Kl=ia&&ia.exports===tn,la=Kl?ae.Buffer:void 0,oa=la?la.allocUnsafe:void 0;function rn(e,t){if(t)return e.slice();var a=e.length,s=oa?oa(a):new e.constructor(a);return e.copy(s),s}function Xl(e,t){for(var a=-1,s=e==null?0:e.length,l=0,o=[];++a<s;){var m=e[a];t(m,a,e)&&(o[l++]=m)}return o}function an(){return[]}var Zl=Object.prototype,Yl=Zl.propertyIsEnumerable,ca=Object.getOwnPropertySymbols,Vt=ca?function(e){return e==null?[]:(e=Object(e),Xl(ca(e),function(t){return Yl.call(e,t)}))}:an;function Jl(e,t){return Se(e,Vt(e),t)}var Ql=Object.getOwnPropertySymbols,nn=Ql?function(e){for(var t=[];e;)Gt(t,Vt(e)),e=Ht(e);return t}:an;function eo(e,t){return Se(e,nn(e),t)}function sn(e,t,a){var s=t(e);return re(e)?s:Gt(s,a(e))}function Nt(e){return sn(e,Bt,Vt)}function ln(e){return sn(e,Be,nn)}var Ft=ye(ae,"DataView"),St=ye(ae,"Promise"),Tt=ye(ae,"Set"),da="[object Map]",to="[object Object]",ma="[object Promise]",ua="[object Set]",fa="[object WeakMap]",ha="[object DataView]",ro=ge(Ft),ao=ge(Le),no=ge(St),so=ge(Tt),io=ge(wt),te=xe;(Ft&&te(new Ft(new ArrayBuffer(1)))!=ha||Le&&te(new Le)!=da||St&&te(St.resolve())!=ma||Tt&&te(new Tt)!=ua||wt&&te(new wt)!=fa)&&(te=function(e){var t=xe(e),a=t==to?e.constructor:void 0,s=a?ge(a):"";if(s)switch(s){case ro:return ha;case ao:return da;case no:return ma;case so:return ua;case io:return fa}return t});var lo=Object.prototype,oo=lo.hasOwnProperty;function co(e){var t=e.length,a=new e.constructor(t);return t&&typeof e[0]=="string"&&oo.call(e,"index")&&(a.index=e.index,a.input=e.input),a}var rt=ae.Uint8Array;function qt(e){var t=new e.constructor(e.byteLength);return new rt(t).set(new rt(e)),t}function mo(e,t){var a=t?qt(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}var uo=/\w*$/;function fo(e){var t=new e.constructor(e.source,uo.exec(e));return t.lastIndex=e.lastIndex,t}var pa=X?X.prototype:void 0,va=pa?pa.valueOf:void 0;function ho(e){return va?Object(va.call(e)):{}}function on(e,t){var a=t?qt(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}var po="[object Boolean]",vo="[object Date]",xo="[object Map]",go="[object Number]",yo="[object RegExp]",bo="[object Set]",jo="[object String]",_o="[object Symbol]",wo="[object ArrayBuffer]",No="[object DataView]",Fo="[object Float32Array]",So="[object Float64Array]",To="[object Int8Array]",Co="[object Int16Array]",Eo="[object Int32Array]",Io="[object Uint8Array]",$o="[object Uint8ClampedArray]",Ro="[object Uint16Array]",Po="[object Uint32Array]";function Ao(e,t,a){var s=e.constructor;switch(t){case wo:return qt(e);case po:case vo:return new s(+e);case No:return mo(e,a);case Fo:case So:case To:case Co:case Eo:case Io:case $o:case Ro:case Po:return on(e,a);case xo:return new s;case go:case jo:return new s(e);case yo:return fo(e);case bo:return new s;case _o:return ho(e)}}function cn(e){return typeof e.constructor=="function"&&!Lt(e)?ks(Ht(e)):{}}var Oo="[object Map]";function Do(e){return le(e)&&te(e)==Oo}var xa=Fe&&Fe.isMap,Uo=xa?Mt(xa):Do,Lo="[object Set]";function Mo(e){return le(e)&&te(e)==Lo}var ga=Fe&&Fe.isSet,zo=ga?Mt(ga):Mo,Bo=1,Wo=2,ko=4,dn="[object Arguments]",Go="[object Array]",Ho="[object Boolean]",Vo="[object Date]",qo="[object Error]",mn="[object Function]",Ko="[object GeneratorFunction]",Xo="[object Map]",Zo="[object Number]",un="[object Object]",Yo="[object RegExp]",Jo="[object Set]",Qo="[object String]",ec="[object Symbol]",tc="[object WeakMap]",rc="[object ArrayBuffer]",ac="[object DataView]",nc="[object Float32Array]",sc="[object Float64Array]",ic="[object Int8Array]",lc="[object Int16Array]",oc="[object Int32Array]",cc="[object Uint8Array]",dc="[object Uint8ClampedArray]",mc="[object Uint16Array]",uc="[object Uint32Array]",U={};U[dn]=U[Go]=U[rc]=U[ac]=U[Ho]=U[Vo]=U[nc]=U[sc]=U[ic]=U[lc]=U[oc]=U[Xo]=U[Zo]=U[un]=U[Yo]=U[Jo]=U[Qo]=U[ec]=U[cc]=U[dc]=U[mc]=U[uc]=!0;U[qo]=U[mn]=U[tc]=!1;function Oe(e,t,a,s,l,o){var m,f=t&Bo,h=t&Wo,g=t&ko;if(a&&(m=l?a(e,s,l,o):a(e)),m!==void 0)return m;if(!q(e))return e;var j=re(e);if(j){if(m=co(e),!f)return ka(e,m)}else{var N=te(e),_=N==mn||N==Ko;if(De(e))return rn(e,f);if(N==un||N==dn||_&&!l){if(m=h||_?{}:cn(e),!f)return h?eo(e,ql(m,e)):Jl(e,Vl(m,e))}else{if(!U[N])return l?e:{};m=Ao(e,N,f)}}o||(o=new ie);var O=o.get(e);if(O)return O;o.set(e,m),zo(e)?e.forEach(function(S){m.add(Oe(S,t,a,S,e,o))}):Uo(e)&&e.forEach(function(S,E){m.set(E,Oe(S,t,a,E,e,o))});var P=g?h?ln:Nt:h?Be:Bt,A=j?void 0:P(e);return Ys(A||e,function(S,E){A&&(E=S,S=e[E]),Ut(m,E,Oe(S,t,a,E,e,o))}),m}var fc=1,hc=4;function Ve(e){return Oe(e,fc|hc)}var pc="__lodash_hash_undefined__";function vc(e){return this.__data__.set(e,pc),this}function xc(e){return this.__data__.has(e)}function at(e){var t=-1,a=e==null?0:e.length;for(this.__data__=new fe;++t<a;)this.add(e[t])}at.prototype.add=at.prototype.push=vc;at.prototype.has=xc;function gc(e,t){for(var a=-1,s=e==null?0:e.length;++a<s;)if(t(e[a],a,e))return!0;return!1}function yc(e,t){return e.has(t)}var bc=1,jc=2;function fn(e,t,a,s,l,o){var m=a&bc,f=e.length,h=t.length;if(f!=h&&!(m&&h>f))return!1;var g=o.get(e),j=o.get(t);if(g&&j)return g==t&&j==e;var N=-1,_=!0,O=a&jc?new at:void 0;for(o.set(e,t),o.set(t,e);++N<f;){var P=e[N],A=t[N];if(s)var S=m?s(A,P,N,t,e,o):s(P,A,N,e,t,o);if(S!==void 0){if(S)continue;_=!1;break}if(O){if(!gc(t,function(E,I){if(!yc(O,I)&&(P===E||l(P,E,a,s,o)))return O.push(I)})){_=!1;break}}else if(!(P===A||l(P,A,a,s,o))){_=!1;break}}return o.delete(e),o.delete(t),_}function _c(e){var t=-1,a=Array(e.size);return e.forEach(function(s,l){a[++t]=[l,s]}),a}function wc(e){var t=-1,a=Array(e.size);return e.forEach(function(s){a[++t]=s}),a}var Nc=1,Fc=2,Sc="[object Boolean]",Tc="[object Date]",Cc="[object Error]",Ec="[object Map]",Ic="[object Number]",$c="[object RegExp]",Rc="[object Set]",Pc="[object String]",Ac="[object Symbol]",Oc="[object ArrayBuffer]",Dc="[object DataView]",ya=X?X.prototype:void 0,ht=ya?ya.valueOf:void 0;function Uc(e,t,a,s,l,o,m){switch(a){case Dc:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Oc:return!(e.byteLength!=t.byteLength||!o(new rt(e),new rt(t)));case Sc:case Tc:case Ic:return ze(+e,+t);case Cc:return e.name==t.name&&e.message==t.message;case $c:case Pc:return e==t+"";case Ec:var f=_c;case Rc:var h=s&Nc;if(f||(f=wc),e.size!=t.size&&!h)return!1;var g=m.get(e);if(g)return g==t;s|=Fc,m.set(e,t);var j=fn(f(e),f(t),s,l,o,m);return m.delete(e),j;case Ac:if(ht)return ht.call(e)==ht.call(t)}return!1}var Lc=1,Mc=Object.prototype,zc=Mc.hasOwnProperty;function Bc(e,t,a,s,l,o){var m=a&Lc,f=Nt(e),h=f.length,g=Nt(t),j=g.length;if(h!=j&&!m)return!1;for(var N=h;N--;){var _=f[N];if(!(m?_ in t:zc.call(t,_)))return!1}var O=o.get(e),P=o.get(t);if(O&&P)return O==t&&P==e;var A=!0;o.set(e,t),o.set(t,e);for(var S=m;++N<h;){_=f[N];var E=e[_],I=t[_];if(s)var H=m?s(I,E,_,t,e,o):s(E,I,_,e,t,o);if(!(H===void 0?E===I||l(E,I,a,s,o):H)){A=!1;break}S||(S=_=="constructor")}if(A&&!S){var B=e.constructor,d=t.constructor;B!=d&&"constructor"in e&&"constructor"in t&&!(typeof B=="function"&&B instanceof B&&typeof d=="function"&&d instanceof d)&&(A=!1)}return o.delete(e),o.delete(t),A}var Wc=1,ba="[object Arguments]",ja="[object Array]",qe="[object Object]",kc=Object.prototype,_a=kc.hasOwnProperty;function Gc(e,t,a,s,l,o){var m=re(e),f=re(t),h=m?ja:te(e),g=f?ja:te(t);h=h==ba?qe:h,g=g==ba?qe:g;var j=h==qe,N=g==qe,_=h==g;if(_&&De(e)){if(!De(t))return!1;m=!0,j=!1}if(_&&!j)return o||(o=new ie),m||zt(e)?fn(e,t,a,s,l,o):Uc(e,t,h,a,s,l,o);if(!(a&Wc)){var O=j&&_a.call(e,"__wrapped__"),P=N&&_a.call(t,"__wrapped__");if(O||P){var A=O?e.value():e,S=P?t.value():t;return o||(o=new ie),l(A,S,a,s,o)}}return _?(o||(o=new ie),Bc(e,t,a,s,l,o)):!1}function hn(e,t,a,s,l){return e===t?!0:e==null||t==null||!le(e)&&!le(t)?e!==e&&t!==t:Gc(e,t,a,s,hn,l)}function Hc(e){return function(t,a,s){for(var l=-1,o=Object(t),m=s(t),f=m.length;f--;){var h=m[++l];if(a(o[h],h,o)===!1)break}return t}}var Vc=Hc(),pt=function(){return ae.Date.now()},qc="Expected a function",Kc=Math.max,Xc=Math.min;function Zc(e,t,a){var s,l,o,m,f,h,g=0,j=!1,N=!1,_=!0;if(typeof e!="function")throw new TypeError(qc);t=Yr(t)||0,q(a)&&(j=!0,N="maxWait"in a,o=N?Kc(Yr(a.maxWait)||0,t):o,_="trailing"in a?!0:_);function O(T){var F=s,b=l;return s=l=void 0,g=T,m=e.apply(b,F),m}function P(T){return g=T,f=setTimeout(E,t),j?O(T):m}function A(T){var F=T-h,b=T-g,C=t-F;return N?Xc(C,o-b):C}function S(T){var F=T-h,b=T-g;return h===void 0||F>=t||F<0||N&&b>=o}function E(){var T=pt();if(S(T))return I(T);f=setTimeout(E,A(T))}function I(T){return f=void 0,_&&s?O(T):(s=l=void 0,m)}function H(){f!==void 0&&clearTimeout(f),g=0,s=h=l=f=void 0}function B(){return f===void 0?m:I(pt())}function d(){var T=pt(),F=S(T);if(s=arguments,l=this,h=T,F){if(f===void 0)return P(h);if(N)return clearTimeout(f),f=setTimeout(E,t),O(h)}return f===void 0&&(f=setTimeout(E,t)),m}return d.cancel=H,d.flush=B,d}function Ct(e,t,a){(a!==void 0&&!ze(e[t],a)||a===void 0&&!(t in e))&&Dt(e,t,a)}function Yc(e){return le(e)&&it(e)}function Et(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Jc(e){return Se(e,Be(e))}function Qc(e,t,a,s,l,o,m){var f=Et(e,a),h=Et(t,a),g=m.get(h);if(g){Ct(e,a,g);return}var j=o?o(f,h,a+"",e,t,m):void 0,N=j===void 0;if(N){var _=re(h),O=!_&&De(h),P=!_&&!O&&zt(h);j=h,_||O||P?re(f)?j=f:Yc(f)?j=ka(f):O?(N=!1,j=rn(h,!0)):P?(N=!1,j=on(h,!0)):j=[]:en(h)||et(h)?(j=f,et(f)?j=Jc(f):(!q(f)||At(f))&&(j=cn(h))):N=!1}N&&(m.set(h,j),l(j,h,s,o,m),m.delete(h)),Ct(e,a,j)}function pn(e,t,a,s,l){e!==t&&Vc(t,function(o,m){if(l||(l=new ie),q(o))Qc(e,t,m,a,pn,s,l);else{var f=s?s(Et(e,m),o,m+"",e,t,l):void 0;f===void 0&&(f=o),Ct(e,m,f)}},Be)}function ed(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function td(e,t){return t.length<2?e:Ja(e,Ml(t,0,-1))}function rd(e,t){return hn(e,t)}var It=si(function(e,t,a){pn(e,t,a)});function ad(e,t){return t=ct(t,e),e=td(e,t),e==null||delete e[kt(ed(t))]}function nd(e){return en(e)?void 0:e}var sd=1,id=2,ld=4,wa=Pl(function(e,t){var a={};if(e==null)return a;var s=!1;t=za(t,function(o){return o=ct(o,e),s||(s=o.length>1),o}),Se(e,ln(e),a),s&&(a=Oe(a,sd|id|ld,nd));for(var l=t.length;l--;)ad(a,t[l]);return a});function od(e,t,a,s){if(!q(e))return e;t=ct(t,e);for(var l=-1,o=t.length,m=o-1,f=e;f!=null&&++l<o;){var h=kt(t[l]),g=a;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(l!=m){var j=f[h];g=void 0,g===void 0&&(g=q(j)?j:Ot(t[l+1])?[]:{})}Ut(f,h,g),f=f[h]}return e}function $t(e,t,a){return e==null?e:od(e,t,a)}let Me=we.create(),vn=(e,t)=>`${e.method}:${e.baseURL??t.defaults.baseURL??""}${e.url}`,xn=e=>e.status===204&&e.headers["precognition-success"]==="true";const nt={},me={get:(e,t={},a={})=>Ie(Ee("get",e,t,a)),post:(e,t={},a={})=>Ie(Ee("post",e,t,a)),patch:(e,t={},a={})=>Ie(Ee("patch",e,t,a)),put:(e,t={},a={})=>Ie(Ee("put",e,t,a)),delete:(e,t={},a={})=>Ie(Ee("delete",e,t,a)),use(e){return Me=e,me},axios(){return Me},fingerprintRequestsUsing(e){return vn=e===null?()=>null:e,me},determineSuccessUsing(e){return xn=e,me}},Ee=(e,t,a,s)=>({url:t,method:e,...s,...["get","delete"].includes(e)?{params:It({},a,s==null?void 0:s.params)}:{data:It({},a,s==null?void 0:s.data)}}),Ie=(e={})=>{const t=[cd,md,ud].reduce((a,s)=>s(a),e);return(t.onBefore??(()=>!0))()===!1?Promise.resolve(null):((t.onStart??(()=>null))(),Me.request(t).then(async a=>{t.precognitive&&Na(a);const s=a.status;let l=a;return t.precognitive&&t.onPrecognitionSuccess&&xn(l)&&(l=await Promise.resolve(t.onPrecognitionSuccess(l)??l)),t.onSuccess&&dd(s)&&(l=await Promise.resolve(t.onSuccess(l)??l)),(Fa(t,s)??(m=>m))(l)??l},a=>fd(a)?Promise.reject(a):(t.precognitive&&Na(a.response),(Fa(t,a.response.status)??((l,o)=>Promise.reject(o)))(a.response,a))).finally(t.onFinish??(()=>null)))},cd=e=>{const t=e.only??e.validate;return{...e,timeout:e.timeout??Me.defaults.timeout??3e4,precognitive:e.precognitive!==!1,fingerprint:typeof e.fingerprint>"u"?vn(e,Me):e.fingerprint,headers:{...e.headers,"Content-Type":hd(e),...e.precognitive!==!1?{Precognition:!0}:{},...t?{"Precognition-Validate-Only":Array.from(t).join()}:{}}}},dd=e=>e>=200&&e<300,md=e=>{var t;return typeof e.fingerprint!="string"||((t=nt[e.fingerprint])==null||t.abort(),delete nt[e.fingerprint]),e},ud=e=>typeof e.fingerprint!="string"||e.signal||e.cancelToken||!e.precognitive?e:(nt[e.fingerprint]=new AbortController,{...e,signal:nt[e.fingerprint].signal}),Na=e=>{var t;if(((t=e.headers)==null?void 0:t.precognition)!=="true")throw Error("Did not receive a Precognition response. Ensure you have the Precognition middleware in place for the route.")},fd=e=>{var t;return!Ia(e)||typeof((t=e.response)==null?void 0:t.status)!="number"||Ea(e)},Fa=(e,t)=>({401:e.onUnauthorized,403:e.onForbidden,404:e.onNotFound,409:e.onConflict,422:e.onValidationError,423:e.onLocked})[t],hd=e=>{var t,a,s;return((t=e.headers)==null?void 0:t["Content-Type"])??((a=e.headers)==null?void 0:a["Content-type"])??((s=e.headers)==null?void 0:s["content-type"])??(gn(e.data)?"multipart/form-data":"application/json")},gn=e=>Kt(e)||typeof e=="object"&&e!==null&&Object.values(e).some(t=>gn(t)),Kt=e=>typeof File<"u"&&e instanceof File||e instanceof Blob||typeof FileList<"u"&&e instanceof FileList&&e.length>0,Sa=e=>typeof e=="string"?e:e(),Ta=e=>typeof e=="string"?e.toLowerCase():e(),pd=(e,t={})=>{const a={errorsChanged:[],touchedChanged:[],validatingChanged:[],validatedChanged:[]};let s=!1,l=!1;const o=p=>p!==l?(l=p,a.validatingChanged):[];let m=[];const f=p=>{const c=[...new Set(p)];return m.length!==c.length||!c.every(n=>m.includes(n))?(m=c,a.validatedChanged):[]},h=()=>m.filter(p=>typeof N[p]>"u");let g=[];const j=p=>{const c=[...new Set(p)];return g.length!==c.length||!c.every(n=>g.includes(n))?(g=c,a.touchedChanged):[]};let N={};const _=p=>{const c=xd(p);return rd(N,c)?[]:(N=c,a.errorsChanged)},O=p=>{const c={...N};return delete c[Xe(p)],_(c)},P=()=>Object.keys(N).length>0;let A=1500;const S=p=>{A=p,T.cancel(),T=d()};let E=t,I=null,H=[],B=null;const d=()=>Zc(p=>{e({get:(c,n={},x={})=>me.get(c,C(n),F(x,p,n)),post:(c,n={},x={})=>me.post(c,C(n),F(x,p,n)),patch:(c,n={},x={})=>me.patch(c,C(n),F(x,p,n)),put:(c,n={},x={})=>me.put(c,C(n),F(x,p,n)),delete:(c,n={},x={})=>me.delete(c,C(n),F(x,p,n))}).catch(c=>{var n;return Ea(c)||Ia(c)&&((n=c.response)==null?void 0:n.status)===422?null:Promise.reject(c)})},A,{leading:!0,trailing:!0});let T=d();const F=(p,c,n={})=>{const x={...p,...c},$=Array.from(x.only??x.validate??g);return{...c,...Sn(p,c),only:$,timeout:x.timeout??5e3,onValidationError:(R,L)=>([...f([...m,...$]),..._(It(wa({...N},$),R.data.errors))].forEach(Z=>Z()),x.onValidationError?x.onValidationError(R,L):Promise.reject(L)),onSuccess:R=>(f([...m,...$]).forEach(L=>L()),x.onSuccess?x.onSuccess(R):R),onPrecognitionSuccess:R=>([...f([...m,...$]),..._(wa({...N},$))].forEach(L=>L()),x.onPrecognitionSuccess?x.onPrecognitionSuccess(R):R),onBefore:()=>x.onBeforeValidation&&x.onBeforeValidation({data:n,touched:g},{data:E,touched:H})===!1||(x.onBefore||(()=>!0))()===!1?!1:(B=g,I=n,!0),onStart:()=>{o(!0).forEach(R=>R()),(x.onStart??(()=>null))()},onFinish:()=>{o(!1).forEach(R=>R()),H=B,E=I,B=I=null,(x.onFinish??(()=>null))()}}},b=(p,c,n)=>{if(typeof p>"u"){const x=Array.from((n==null?void 0:n.only)??(n==null?void 0:n.validate)??[]);j([...g,...x]).forEach($=>$()),T(n??{});return}if(Kt(c)&&!s){console.warn('Precognition file validation is not active. Call the "validateFiles" function on your form to enable it.');return}p=Xe(p),tt(E,p)!==c&&(j([p,...g]).forEach(x=>x()),T(n??{}))},C=p=>s===!1?Rt(p):p,z={touched:()=>g,validate(p,c,n){return typeof p=="object"&&!("target"in p)&&(n=p,p=c=void 0),b(p,c,n),z},touch(p){const c=Array.isArray(p)?p:[Xe(p)];return j([...g,...c]).forEach(n=>n()),z},validating:()=>l,valid:h,errors:()=>N,hasErrors:P,setErrors(p){return _(p).forEach(c=>c()),z},forgetError(p){return O(p).forEach(c=>c()),z},reset(...p){if(p.length===0)j([]).forEach(c=>c());else{const c=[...g];p.forEach(n=>{c.includes(n)&&c.splice(c.indexOf(n),1),$t(E,n,tt(t,n))}),j(c).forEach(n=>n())}return z},setTimeout(p){return S(p),z},on(p,c){return a[p].push(c),z},validateFiles(){return s=!0,z}};return z},vd=e=>Object.keys(e).reduce((t,a)=>({...t,[a]:Array.isArray(e[a])?e[a][0]:e[a]}),{}),xd=e=>Object.keys(e).reduce((t,a)=>({...t,[a]:typeof e[a]=="string"?[e[a]]:e[a]}),{}),Xe=e=>typeof e!="string"?e.target.name:e,Rt=e=>{const t={...e};return Object.keys(t).forEach(a=>{const s=t[a];if(s!==null){if(Kt(s)){delete t[a];return}if(Array.isArray(s)){t[a]=Object.values(Rt({...s}));return}if(typeof s=="object"){t[a]=Rt(t[a]);return}}}),t},gd=(e,t,a,s={})=>{const l=y.useRef(null);l.current===null&&(l.current=Ve(a));const o=y.useRef(null);o.current===null&&(o.current=Object.keys(l));const m=y.useRef(l.current),[f,h]=y.useState([]),[g,j]=y.useState([]),[N,_]=y.useState(!1),[O,P]=y.useState(!1),[A,S]=y.useState({}),[E,I]=y.useState(!1),[H,B]=y.useState(()=>Ve(l.current)),d=y.useRef(null);d.current===null&&(d.current=pd(b=>b[Ta(e)](Sa(t),m.current,s),a).on("validatingChanged",()=>{_(d.current.validating())}).on("validatedChanged",()=>{h(d.current.valid())}).on("touchedChanged",()=>{j(d.current.touched())}).on("errorsChanged",()=>{I(d.current.hasErrors()),S(vd(d.current.errors())),h(d.current.valid())}));const T=b=>({...b,precognitive:!1,onStart:()=>{P(!0),(b.onStart??(()=>null))()},onFinish:()=>{P(!1),(b.onFinish??(()=>null))()},onValidationError:(C,z)=>(d.current.setErrors(C.data.errors),b.onValidationError?b.onValidationError(C):Promise.reject(z))}),F={data:H,setData(b,C){if(typeof b=="object")m.current=b,B(b);else{const z=Ve(m.current);m.current=$t(z,b,C),B(m.current)}return F},touched(b){return typeof b=="string"?g.includes(b):g.length>0},touch(b){return d.current.touch(b),F},validate(b,C){return typeof b=="object"&&!("target"in b)&&(C=b,b=void 0),typeof b>"u"?d.current.validate(C):(b=Xe(b),d.current.validate(b,tt(m.current,b),C)),F},validating:N,valid(b){return f.includes(b)},invalid(b){return typeof A[b]<"u"},errors:A,hasErrors:E,setErrors(b){return d.current.setErrors(b),F},forgetError(b){return d.current.forgetError(b),F},reset(...b){const C=Ve(l.current);return b.length===0?(m.current=C,B(C)):(b.forEach(z=>$t(m.current,z,tt(C,z))),B(m.current)),d.current.reset(...b),F},setValidationTimeout(b){return d.current.setTimeout(b),F},processing:O,async submit(b={}){return me[Ta(e)](Sa(t),m.current,T(b))},validateFiles(){return d.current.validateFiles(),F},validator(){return d.current}};return F},Ca=({user:e,allUsers:t,departments:a,designations:s,setUsers:l,open:o,closeModal:m,editMode:f=!1})=>{const[h,g]=y.useState(!1),[j,N]=y.useState(!1),[_,O]=y.useState((e==null?void 0:e.profile_image_url)||(e==null?void 0:e.profile_image)||null),[P,A]=y.useState(null),[S,E]=y.useState(t),[I,H]=y.useState("lg"),B=()=>{var x;if(typeof window>"u")return"lg";const c=((x=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:x.trim())||"12px",n=parseInt(c);return n===0?"none":n<=4?"sm":n<=8?"md":n<=16?"lg":"full"};y.useEffect(()=>{typeof window<"u"&&H(B())},[]);const d=gd(f?"put":"post",f&&(e!=null&&e.id)?route("users.update",{user:e.id}):route("users.store"),{id:(e==null?void 0:e.id)||"",name:(e==null?void 0:e.name)||"",user_name:(e==null?void 0:e.user_name)||"",gender:(e==null?void 0:e.gender)||"",birthday:(e==null?void 0:e.birthday)||"",date_of_joining:(e==null?void 0:e.date_of_joining)||"",address:(e==null?void 0:e.address)||"",employee_id:(e==null?void 0:e.employee_id)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||"",department_id:(e==null?void 0:e.department_id)||"",designation_id:(e==null?void 0:e.designation_id)||"",report_to:(e==null?void 0:e.report_to)||"",password:"",password_confirmation:"",roles:(e==null?void 0:e.roles)||[],profile_image:null});y.useEffect(()=>{(e!=null&&e.profile_image_url||e!=null&&e.profile_image)&&O(e.profile_image_url||e.profile_image)},[e]);const T=async p=>{if(p.preventDefault(),P){const c=P.type;if(!["image/jpeg","image/jpg","image/png"].includes(c)){k.error("Invalid file type. Only JPEG and PNG are allowed.",{icon:""});return}d.setData("profile_image",P)}try{await d.submit({onSuccess:c=>{var n;l&&l(f?x=>x.map($=>$.id===c.data.user.id?c.data.user:$):x=>[...x,c.data.user]),k.success(((n=c.data.messages)==null?void 0:n.length)>0?c.data.messages.join(" "):`User ${f?"updated":"added"} successfully`,{icon:""}),m()},onError:c=>{F(c)}})}catch(c){F(c)}},F=p=>{p.response?p.response.status===422?k.error(p.response.data.message||`Failed to ${f?"update":"add"} user.`,{icon:""}):k.error("An unexpected error occurred. Please try again later.",{icon:""}):p.request?k.error("No response received from the server. Please check your internet connection.",{icon:""}):k.error("An error occurred while setting up the request.",{icon:""})},b=p=>{const c=p.target.files[0];if(c){const n=URL.createObjectURL(c);O(n),A(c)}},C=(p,c)=>{d.setData(p,c),d.touched(p)&&d.validate(p)},z=()=>{g(!h)};return r.jsx(En,{isOpen:o,onClose:m,size:"3xl",radius:I,scrollBehavior:"inside",classNames:{base:"backdrop-blur-md max-h-[95vh] my-2",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider flex-shrink-0",body:"overflow-y-auto max-h-[calc(95vh-160px)]",footer:"border-t border-divider flex-shrink-0",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:r.jsx(In,{children:p=>r.jsxs(r.Fragment,{children:[r.jsx($n,{className:"flex flex-col gap-1 py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vn,{className:"w-5 h-5 sm:w-6 sm:h-6",style:{color:"var(--theme-primary)"}}),r.jsxs("div",{children:[r.jsx("span",{className:"text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:f?"Edit User":"Add New User"}),r.jsx("p",{className:"text-sm text-default-500 mt-0.5",style:{fontFamily:'var(--fontFamily, "Inter")'},children:f?"Update user information":"Create a new user account"})]})]})}),r.jsx(Rn,{className:"py-4 px-4 sm:py-6 sm:px-6 overflow-y-auto",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r.jsxs("form",{onSubmit:T,className:"space-y-4",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("div",{className:"relative group cursor-pointer",onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),children:[r.jsx(Pn,{src:_,alt:"Profile",className:"w-32 h-32 text-large transition-all duration-300",style:{border:"4px solid var(--theme-divider, #E4E4E7)",filter:j?"brightness(70%)":"brightness(100%)"}}),r.jsxs("label",{htmlFor:"icon-button-file",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-opacity duration-300",style:{opacity:j?1:0},children:[r.jsx("input",{accept:"image/*",id:"icon-button-file",type:"file",className:"hidden",onChange:b}),r.jsx(qn,{className:"w-8 h-8 text-white"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(J,{label:"Full Name",placeholder:"Enter full name",value:d.data.name,onChange:c=>C("name",c.target.value),onBlur:()=>d.validate("name"),isInvalid:d.invalid("name"),errorMessage:d.errors.name,isRequired:!0,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(J,{label:"Username",placeholder:"Enter username",value:d.data.user_name,onChange:c=>C("user_name",c.target.value),onBlur:()=>d.validate("user_name"),isInvalid:d.invalid("user_name"),errorMessage:d.errors.user_name,isRequired:!0,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(J,{label:"Email",type:"email",placeholder:"Enter email address",value:d.data.email,onChange:c=>C("email",c.target.value),onBlur:()=>d.validate("email"),isInvalid:d.invalid("email"),errorMessage:d.errors.email,isRequired:!0,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(J,{label:"Phone",placeholder:"Enter phone number",value:d.data.phone,onChange:c=>C("phone",c.target.value),onBlur:()=>d.validate("phone"),isInvalid:d.invalid("phone"),errorMessage:d.errors.phone,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Ne,{label:"Department",placeholder:"Select department",selectedKeys:d.data.department_id?new Set([String(d.data.department_id)]):new Set,onSelectionChange:c=>{const n=Array.from(c)[0];C("department_id",n||"")},onClose:()=>d.validate("department_id"),isInvalid:d.invalid("department_id"),errorMessage:d.errors.department_id,variant:"bordered",size:"sm",radius:I,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:a==null?void 0:a.map(c=>r.jsx(ee,{value:c.id,children:c.name},c.id))}),r.jsx(Ne,{label:"Designation",placeholder:"Select designation",selectedKeys:d.data.designation_id?new Set([String(d.data.designation_id)]):new Set,onSelectionChange:c=>{const n=Array.from(c)[0];C("designation_id",n||"")},onClose:()=>d.validate("designation_id"),isInvalid:d.invalid("designation_id"),errorMessage:d.errors.designation_id,variant:"bordered",size:"sm",radius:I,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:s==null?void 0:s.map(c=>r.jsx(ee,{value:c.id,children:c.name},c.id))}),r.jsxs(Ne,{label:"Gender",placeholder:"Select gender",selectedKeys:d.data.gender?new Set([d.data.gender]):new Set,onSelectionChange:c=>{const n=Array.from(c)[0];C("gender",n||"")},onClose:()=>d.validate("gender"),isInvalid:d.invalid("gender"),errorMessage:d.errors.gender,variant:"bordered",size:"sm",radius:I,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:[r.jsx(ee,{value:"male",children:"Male"},"male"),r.jsx(ee,{value:"female",children:"Female"},"female"),r.jsx(ee,{value:"other",children:"Other"},"other")]}),r.jsx(J,{label:"Employee ID",placeholder:"Enter employee ID",value:d.data.employee_id,onChange:c=>C("employee_id",c.target.value),onBlur:()=>d.validate("employee_id"),isInvalid:d.invalid("employee_id"),errorMessage:d.errors.employee_id,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(J,{label:"Date of Birth",type:"date",value:d.data.birthday,onChange:c=>C("birthday",c.target.value),onBlur:()=>d.validate("birthday"),isInvalid:d.invalid("birthday"),errorMessage:d.errors.birthday,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(J,{label:"Date of Joining",type:"date",value:d.data.date_of_joining,onChange:c=>C("date_of_joining",c.target.value),onBlur:()=>d.validate("date_of_joining"),isInvalid:d.invalid("date_of_joining"),errorMessage:d.errors.date_of_joining,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Ne,{label:"Reports To",placeholder:"Select supervisor",selectedKeys:d.data.report_to?new Set([String(d.data.report_to)]):new Set,onSelectionChange:c=>{const n=Array.from(c)[0];C("report_to",n||"")},onClose:()=>d.validate("report_to"),isInvalid:d.invalid("report_to"),errorMessage:d.errors.report_to,variant:"bordered",size:"sm",radius:I,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:S==null?void 0:S.filter(c=>c.id!==d.data.id).map(c=>r.jsx(ee,{value:c.id,children:c.name},c.id))})]}),r.jsx(J,{label:"Address",placeholder:"Enter address",value:d.data.address,onChange:c=>C("address",c.target.value),onBlur:()=>d.validate("address"),isInvalid:d.invalid("address"),errorMessage:d.errors.address,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),!f&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(J,{label:"Password",type:h?"text":"password",placeholder:"Enter password",value:d.data.password,onChange:c=>C("password",c.target.value),onBlur:()=>d.validate("password"),isInvalid:d.invalid("password"),errorMessage:d.errors.password,isRequired:!f,variant:"bordered",size:"sm",radius:I,endContent:r.jsx("button",{className:"focus:outline-none",type:"button",onClick:z,children:h?r.jsx(Hr,{className:"w-4 h-4 text-default-400"}):r.jsx(Vr,{className:"w-4 h-4 text-default-400"})}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(J,{label:"Confirm Password",type:h?"text":"password",placeholder:"Confirm password",value:d.data.password_confirmation,onChange:c=>C("password_confirmation",c.target.value),onBlur:()=>d.validate("password_confirmation"),isInvalid:d.invalid("password_confirmation")||d.data.password!==d.data.password_confirmation&&d.data.password_confirmation,errorMessage:d.errors.password_confirmation||(d.data.password!==d.data.password_confirmation&&d.data.password_confirmation?"Passwords do not match":""),isRequired:!f,variant:"bordered",size:"sm",radius:I,endContent:r.jsx("button",{className:"focus:outline-none",type:"button",onClick:z,children:h?r.jsx(Hr,{className:"w-4 h-4 text-default-400"}):r.jsx(Vr,{className:"w-4 h-4 text-default-400"})}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})]})]})}),r.jsxs(An,{className:"flex justify-between px-4 sm:px-6 py-3 sm:py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[r.jsx(Q,{variant:"light",onPress:m,isDisabled:d.processing,radius:I,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),r.jsx(Q,{variant:"solid",color:"primary",onPress:T,isLoading:d.processing,isDisabled:!d.isDirty||d.processing,startContent:!d.processing&&r.jsx(ls,{className:"w-4 h-4"}),radius:I,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:f?"Update User":"Add User"})]})]})})})},yd=({title:e,roles:t,departments:a,designations:s})=>{var er,tr,rr,ar,nr,sr,ir,lr,or,cr,dr,mr,ur,fr,hr,pr,vr,xr,gr,yr,br,jr,_r,wr,Nr,Fr,Sr,Tr,Cr,Er,Ir,$r,Rr,Pr;const[l,o]=y.useState(!1),[m,f]=y.useState(!1),[h,g]=y.useState(!1),[j,N]=y.useState(!1),[_,O]=y.useState("lg"),P=()=>{var D;if(typeof window>"u")return"lg";const v=((D=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:D.trim())||"12px",w=parseInt(v);return w===0?"none":w<=4?"sm":w<=8?"md":w<=12?"lg":"xl"};y.useEffect(()=>{typeof window<"u"&&O(P())},[]),y.useEffect(()=>{const i=()=>{o(window.innerWidth<640),f(window.innerWidth<768),g(window.innerWidth>=1025),N(window.innerWidth>=641&&window.innerWidth<=1024)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const[A,S]=y.useState([]),[E,I]=y.useState(!0),[H,B]=y.useState(null),[d,T]=y.useState(0),[F,b]=y.useState(1),[C,z]=y.useState(null),[p,c]=y.useState({search:"",role:"all",status:"all",department:"all"}),[n,x]=y.useState(!1),[$,R]=y.useState("table"),[L,Z]=y.useState({currentPage:1,perPage:10,total:A.length}),[Y,Te]=y.useState({}),[u,he]=y.useState({overview:{total_users:0,active_users:0,inactive_users:0,deleted_users:0,total_roles:0,total_departments:0},distribution:{by_role:[],by_department:[],by_status:[]},activity:{recent_registrations:{new_users_30_days:0,new_users_90_days:0,new_users_year:0,recently_active:0},user_growth_rate:0,current_month_registrations:0},security:{access_metrics:{users_with_roles:0,users_without_roles:0,admin_users:0,regular_users:0},role_distribution:[]},health:{status_ratio:{active_percentage:0,inactive_percentage:0,deleted_percentage:0},system_metrics:{user_activation_rate:0,role_coverage:0,department_coverage:0}},quick_metrics:{total_users:0,active_ratio:0,role_diversity:0,department_diversity:0,recent_activity:0,system_health_score:0}}),ne=y.useMemo(()=>({data:A,total:d,current_page:L.currentPage,per_page:L.perPage,last_page:F}),[A,d,L.currentPage,L.perPage,F]),K=y.useCallback(async()=>{try{const{data:i}=await we.get(route("users.stats"));i.stats&&he(i.stats)}catch(i){console.error("Error fetching user stats:",i)}},[]),We=y.useCallback(async()=>{I(!0);try{const i=await we.get(route("users.paginate"),{params:{page:L.currentPage,perPage:L.perPage,search:p.search||void 0,role:p.role!=="all"?p.role:void 0,status:p.status!=="all"?p.status:void 0,department:p.department!=="all"?p.department:void 0}});if(i.status===200){const{users:v}=i.data;v.data&&Array.isArray(v.data)?(S(v.data),v.meta?(T(v.meta.total||0),b(v.meta.last_page||1)):(T(v.total||v.data.length),b(v.last_page||1))):Array.isArray(v)?(S(v),T(v.length),b(1)):(console.error("Unexpected users data format:",v),S([]),T(0),b(1))}}catch(i){console.error("Error fetching users:",i),k.error("Failed to load users data"),S([])}finally{I(!1)}},[p,L.currentPage,L.perPage]);y.useEffect(()=>{We()},[We]),y.useEffect(()=>{K();const i=setInterval(K,6e4);return()=>clearInterval(i)},[K]);const W=(i,v)=>{c(w=>({...w,[i]:v})),Z(w=>({...w,currentPage:1}))},ke=i=>{Z(v=>({...v,currentPage:i})),window.scrollTo({top:0,behavior:"smooth"})},yn=i=>{Z(v=>({...v,currentPage:1,perPage:i}))},be=y.useCallback((i,v=null)=>{z(i),B(v)},[]),Xt=y.useCallback(()=>{z(null),B(null)},[]),dt=y.useCallback(i=>{S(i)},[]),bn=y.useCallback(i=>{S(v=>v.map(w=>w.id===i.id?{...w,...i}:w))},[]),jn=y.useCallback(i=>{S(v=>v.filter(w=>w.id!==i)),K()},[K]),Zt=y.useCallback((i,v)=>{S(w=>w.map(D=>D.id===i?{...D,active:v}:D)),K()},[K]),_n=y.useCallback((i,v)=>{S(w=>w.map(D=>D.id===i?{...D,roles:v}:D)),K()},[K]),Yt=y.useCallback(async(i,v)=>{var w,D;Te(G=>({...G,[i]:!0}));try{const G=await we.post(route("admin.users.devices.toggle",{userId:i}));G.data.success&&(S(Ge=>Ge.map(je=>je.id===i?{...je,single_device_login_enabled:G.data.single_device_login_enabled}:je)),k.success(G.data.message))}catch(G){console.error("Error toggling single device login:",G),k.error(((D=(w=G.response)==null?void 0:w.data)==null?void 0:D.message)||"Failed to toggle single device login")}finally{Te(G=>({...G,[i]:!1}))}},[]),Jt=y.useCallback(async i=>{Te(v=>({...v,[i]:!0}));try{const v=await we.post(route("admin.users.devices.reset",{userId:i}),{reason:"Admin reset via user management"});v.data.success&&(S(w=>w.map(D=>D.id===i?{...D,active_device:null}:D)),k.success(v.data.message||"User devices have been reset"))}catch(v){console.error("Error resetting user devices:",v),k.error("Failed to reset user devices")}finally{Te(v=>({...v,[i]:!1}))}},[]);y.useCallback(async i=>{try{const v=await we.get(route("admin.users.devices",{userId:i}));if(v.data.success){const w=v.data.devices;if(w.length===0)k.info("User has no registered devices");else{const D=w.filter(G=>G.is_active).length;k.info(`User has ${w.length} device(s): ${D} active, ${w.length-D} inactive`)}}}catch(v){console.error("Error fetching user devices:",v),k.error("Failed to fetch device information")}},[]);const Qt=(i,v="w-4 h-4")=>{const w=(i==null?void 0:i.toLowerCase())||"";return w.includes("mobile")||w.includes("android")||w.includes("iphone")?r.jsx(Re,{className:`${v} text-primary`}):w.includes("tablet")||w.includes("ipad")?r.jsx(Pa,{className:`${v} text-secondary`}):r.jsx(Ra,{className:`${v} text-default-500`})},wn=i=>{const v=(i==null?void 0:i.toLowerCase())||"";return v.includes("mobile")||v.includes("android")||v.includes("iphone")?"Mobile":v.includes("tablet")||v.includes("ipad")?"Tablet":"Desktop"},Nn=({user:i,index:v})=>r.jsx(oe,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-200 h-full min-h-[320px]",style:{background:`linear-gradient(135deg, 
          color-mix(in srgb, var(--theme-content1) 90%, transparent) 20%, 
          color-mix(in srgb, var(--theme-content2) 80%, transparent) 80%)`,borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(ce,{className:"p-3 flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-start gap-2 mb-3 pb-2 border-b border-white/10",children:[r.jsx(Ua,{avatarProps:{radius:"md",src:(i==null?void 0:i.profile_image_url)||(i==null?void 0:i.profile_image),size:"sm",fallback:r.jsx(Ze,{className:"w-4 h-4"}),style:{borderColor:"var(--theme-primary)",borderWidth:"2px"}},name:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-semibold text-foreground text-sm line-clamp-1",children:i.name}),r.jsxs("span",{className:"text-default-500 text-xs line-clamp-1",children:["ID: ",i.id]})]}),classNames:{wrapper:"flex-1 min-w-0",name:"text-sm font-semibold",description:"text-xs text-default-500"}}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(bt,{content:"Edit User",size:"sm",children:r.jsx(Q,{isIconOnly:!0,size:"sm",variant:"light",className:"text-default-400 hover:text-primary min-w-6 w-6 h-6",onPress:()=>be("edit",i),children:r.jsx(Oa,{className:"w-3 h-3"})})}),r.jsxs(xt,{placement:"bottom-end",children:[r.jsx(gt,{children:r.jsx(Q,{isIconOnly:!0,size:"sm",variant:"ghost",radius:_,isDisabled:Y[i.id],className:"min-w-6 w-6 h-6",style:{background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)"},children:r.jsx(_t,{className:"w-3 h-3"})})}),r.jsxs(yt,{"aria-label":"Device management actions",variant:"bordered",className:"min-w-[180px]",style:{background:"color-mix(in srgb, var(--theme-content1) 95%, transparent)",backdropFilter:"blur(16px)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:[r.jsx(se,{startContent:i.single_device_login?r.jsx(Ye,{className:"w-3 h-3"}):r.jsx(Je,{className:"w-3 h-3"}),onPress:()=>Yt(i.id,!i.single_device_login),isDisabled:Y[i.id],className:"text-xs",children:i.single_device_login?"Disable Lock":"Enable Lock"},"toggle-device-lock"),i.single_device_login&&i.active_device&&r.jsx(se,{startContent:r.jsx(_e,{className:"w-3 h-3"}),onPress:()=>Jt(i.id),isDisabled:Y[i.id],className:"text-xs",children:"Reset Device"},"reset-device"),r.jsx(se,{startContent:r.jsx(Re,{className:"w-3 h-3"}),onPress:()=>Wr.visit(route("admin.users.devices",{userId:i.id})),className:"text-xs",children:"Device History"},"view-devices"),r.jsx(se,{startContent:r.jsx(Ze,{className:"w-3 h-3"}),onPress:()=>Wr.visit(route("profile",{user:i.id})),className:"text-xs",children:"View Profile"},"view-profile")]})]})]})]}),r.jsxs("div",{className:"space-y-2 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx(jt,{className:"w-3 h-3 text-default-400 shrink-0"}),r.jsx("span",{className:"text-default-600 line-clamp-1 flex-1",children:i.email})]}),i.phone&&r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx(vt,{className:"w-3 h-3 text-default-400 shrink-0"}),r.jsx("span",{className:"text-default-600 line-clamp-1",children:i.phone})]}),(i.department||i.department_id)&&r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx($e,{className:"w-3 h-3 text-default-400 shrink-0"}),r.jsx("span",{className:"text-default-600 line-clamp-1",children:typeof i.department=="string"?i.department:"N/A"})]})]}),r.jsxs("div",{className:"mb-3 p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-content2) 40%, transparent)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-xs font-medium text-default-700",children:"Device Status"}),i.single_device_login&&i.active_device&&r.jsx(bt,{content:r.jsxs("div",{className:"p-2 max-w-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Qt(i.active_device.user_agent,"w-4 h-4"),r.jsx("span",{className:"font-medium text-xs",children:i.active_device.device_name||"Unknown Device"})]}),r.jsxs("div",{className:"text-xs text-default-500",children:[wn(i.active_device.user_agent)," ",i.active_device.is_active?" Active":" Inactive"]})]}),size:"sm",children:r.jsx("div",{className:"cursor-help",children:Qt(i.active_device.user_agent,"w-4 h-4")})})]}),r.jsx(de,{size:"sm",variant:"flat",color:i.single_device_login?i.active_device?"warning":"success":"default",startContent:i.single_device_login?i.active_device?r.jsx(Je,{className:"w-3 h-3"}):r.jsx(Ye,{className:"w-3 h-3"}):r.jsx(Pe,{className:"w-3 h-3"}),className:"text-xs",children:i.single_device_login?i.active_device?"Locked":"Free":"Disabled"})]}),r.jsxs("div",{className:"mt-auto space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs font-medium text-default-700",children:"Status"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rs,{size:"sm",isSelected:i.active,onValueChange:w=>Zt(i.id,w),color:i.active?"success":"danger",classNames:{wrapper:"group-data-[selected=true]:bg-success",thumb:"group-data-[selected=true]:ml-4"}}),r.jsx("span",{className:`text-xs font-medium ${i.active?"text-success":"text-danger"}`,children:i.active?"Active":"Inactive"})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-default-700 mb-1 block",children:"Roles"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.roles&&i.roles.length>0?i.roles.slice(0,3).map((w,D)=>{const G=typeof w=="object"&&w!==null?w.name:w;return r.jsx(de,{size:"sm",variant:"flat",color:"secondary",className:"text-xs h-5",children:G},D)}):r.jsx(de,{size:"sm",variant:"bordered",color:"default",className:"text-xs h-5",children:"No Roles"}),i.roles&&i.roles.length>3&&r.jsxs(de,{size:"sm",variant:"bordered",color:"primary",className:"text-xs h-5",children:["+",i.roles.length-3]})]})]})]})]})}),Fn=y.useMemo(()=>{var i,v,w,D,G,Ge,je,Ar,Or,Dr,Ur,Lr,Mr,zr;return[{title:"Total Users",value:((i=u==null?void 0:u.overview)==null?void 0:i.total_users)||0,icon:r.jsx(He,{className:"w-5 h-5"}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"All users"},{title:"Active Users",value:((v=u==null?void 0:u.overview)==null?void 0:v.active_users)||0,icon:r.jsx(Aa,{className:"w-5 h-5"}),color:"text-green-400",iconBg:"bg-green-500/20",description:`${((D=(w=u==null?void 0:u.health)==null?void 0:w.status_ratio)==null?void 0:D.active_percentage)||0}% Active`},{title:"Inactive Users",value:((G=u==null?void 0:u.overview)==null?void 0:G.inactive_users)||0,icon:r.jsx(Kn,{className:"w-5 h-5"}),color:"text-red-400",iconBg:"bg-red-500/20",description:`${((je=(Ge=u==null?void 0:u.health)==null?void 0:Ge.status_ratio)==null?void 0:je.inactive_percentage)||0}% Inactive`},{title:"Total Roles",value:((Ar=u==null?void 0:u.overview)==null?void 0:Ar.total_roles)||0,icon:r.jsx(Pe,{className:"w-5 h-5"}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Role diversity"},{title:"Role Coverage",value:`${((Dr=(Or=u==null?void 0:u.health)==null?void 0:Or.system_metrics)==null?void 0:Dr.role_coverage)||0}%`,icon:r.jsx(Xn,{className:"w-5 h-5"}),color:"text-emerald-400",iconBg:"bg-emerald-500/20",description:"Users with roles"},{title:"Recent Activity",value:((Lr=(Ur=u==null?void 0:u.activity)==null?void 0:Ur.recent_registrations)==null?void 0:Lr.recently_active)||0,icon:r.jsx($a,{className:"w-5 h-5"}),color:"text-cyan-400",iconBg:"bg-cyan-500/20",description:"Active last 7 days"},{title:"System Health",value:`${((Mr=u==null?void 0:u.quick_metrics)==null?void 0:Mr.system_health_score)||0}%`,icon:r.jsx(Gr,{className:"w-5 h-5"}),color:"text-pink-400",iconBg:"bg-pink-500/20",description:"Overall health"},{title:"Departments",value:((zr=u==null?void 0:u.overview)==null?void 0:zr.total_departments)||0,icon:r.jsx($e,{className:"w-5 h-5"}),color:"text-indigo-400",iconBg:"bg-indigo-500/20",description:"Department diversity"}]},[u]);return y.useMemo(()=>{const i=[];return i.push({label:l?"Add":"Add User",icon:r.jsx(mt,{className:"w-4 h-4"}),onPress:()=>be("add"),className:"bg-linear-to-r from-(--theme-primary) to-(--theme-secondary) text-white font-medium hover:opacity-90"}),i.push({label:l?"":"Export",isIconOnly:l,icon:r.jsx(kr,{className:"w-4 h-4"}),variant:"bordered",className:"border-[rgba(var(--theme-primary-rgb),0.3)] bg-[rgba(var(--theme-primary-rgb),0.05)] hover:bg-[rgba(var(--theme-primary-rgb),0.1)]"}),i},[l,be]),r.jsxs(r.Fragment,{children:[r.jsx(Tn,{title:e||"Users Management"}),C==="add"&&r.jsx(Ca,{user:null,allUsers:A,departments:a,designations:s,open:C==="add",setUsers:dt,closeModal:Xt,editMode:!1}),C==="edit"&&H&&r.jsx(Ca,{user:H,allUsers:A,departments:a,designations:s,open:C==="edit",setUsers:dt,closeModal:Xt,editMode:!0}),r.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Users Management",children:r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"w-full",children:r.jsx(Zn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:r.jsxs(oe,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                    var(--theme-content1, #FAFAFA) 20%, 
                    var(--theme-content2, #F4F4F5) 10%, 
                    var(--theme-content3, #F1F3F4) 20%)`},children:[r.jsx(es,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                      color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                      color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:r.jsx("div",{className:`${h?"p-6":j?"p-4":"p-3"} w-full`,children:r.jsx("div",{className:"flex flex-col space-y-4",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[E?r.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[r.jsx(V,{className:"w-12 h-12 rounded-xl"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx(V,{className:"w-64 h-6 rounded mb-2"}),r.jsx(V,{className:"w-48 h-4 rounded"})]})]}):r.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[r.jsx("div",{className:`
                                ${h?"p-3":j?"p-2.5":"p-2"} 
                                rounded-xl flex items-center justify-center
                              `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsx(He,{className:`
                                  ${h?"w-8 h-8":j?"w-6 h-6":"w-5 h-5"}
                                `,style:{color:"var(--theme-primary)"}})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("h4",{className:`
                                  ${h?"text-2xl":j?"text-xl":"text-lg"}
                                  font-bold text-foreground
                                  ${h?"":"truncate"}
                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Users Management"}),r.jsx("p",{className:`
                                  ${h?"text-sm":"text-xs"} 
                                  text-default-500
                                  ${h?"":"truncate"}
                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Manage user accounts, roles and permissions"})]})]}),E?r.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[r.jsx(V,{className:"w-24 h-8 rounded"}),r.jsx(V,{className:"w-20 h-8 rounded"})]}):r.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[r.jsx(Q,{size:l?"sm":"md",color:"primary",startContent:r.jsx(mt,{className:"w-4 h-4"}),onPress:()=>be("add"),radius:_,style:{fontFamily:'var(--fontFamily, "Inter")'},className:"min-w-0",children:l?"Add":"Add User"}),r.jsx(Q,{size:l?"sm":"md",variant:"bordered",startContent:r.jsx(Yn,{className:"w-4 h-4"}),radius:_,style:{background:"color-mix(in srgb, var(--theme-primary) 10%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-primary) 30%, transparent)",color:"var(--theme-primary)",fontFamily:'var(--fontFamily, "Inter")'},className:"min-w-0",children:l?"Export":"Export Users"})]})]})})})}),r.jsxs(ce,{className:"p-6",children:[r.jsx(Ln,{stats:Fn,className:"mb-6",isLoading:E}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-6",children:E?r.jsx(r.Fragment,{children:Array.from({length:6}).map((i,v)=>r.jsx(oe,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-default) 10%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(ce,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(V,{className:"w-9 h-9 rounded-lg"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(V,{className:"w-24 h-4 rounded mb-1"}),r.jsx(V,{className:"w-32 h-3 rounded"})]})]}),r.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((w,D)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(V,{className:"w-20 h-3 rounded"}),r.jsx(V,{className:"w-12 h-3 rounded"})]},D))})]})},v))}):r.jsxs(r.Fragment,{children:[r.jsx(oe,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(ce,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(Jn,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role Distribution"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User roles breakdown"})]})]}),r.jsx("div",{className:"space-y-3",children:((tr=(er=u==null?void 0:u.distribution)==null?void 0:er.by_role)==null?void 0:tr.length)>0?u.distribution.by_role.slice(0,4).map((i,v)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:`color-mix(in srgb, var(--theme-primary) ${80-v*15}%, var(--theme-secondary) ${20+v*15}%)`}}),r.jsx("span",{className:"text-sm text-foreground truncate",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.count}),r.jsxs("span",{className:"text-xs text-default-500 ml-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["(",i.percentage,"%)"]})]})]},v)):r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-sm text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No role data available"})})})]})}),r.jsx(oe,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-secondary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(ce,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-secondary) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(He,{className:"w-5 h-5",style:{color:"var(--theme-secondary)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User Status"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Active vs inactive users"})]})]}),r.jsx("div",{className:"space-y-3",children:((ar=(rr=u==null?void 0:u.distribution)==null?void 0:rr.by_status)==null?void 0:ar.length)>0?u.distribution.by_status.map((i,v)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:i.name==="Active"?"var(--theme-success)":i.name==="Inactive"?"var(--theme-danger)":"var(--theme-default)"}}),r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.count}),r.jsxs("span",{className:"text-xs text-default-500 ml-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["(",i.percentage,"%)"]})]})]},v)):r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-sm text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No status data available"})})})]})}),r.jsx(oe,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-warning) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(ce,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-warning) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx($e,{className:"w-5 h-5",style:{color:"var(--theme-warning)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Departments"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Users by department"})]})]}),r.jsx("div",{className:"space-y-3",children:((sr=(nr=u==null?void 0:u.distribution)==null?void 0:nr.by_department)==null?void 0:sr.length)>0?u.distribution.by_department.slice(0,4).map((i,v)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:`color-mix(in srgb, var(--theme-warning) ${80-v*15}%, var(--theme-primary) ${20+v*15}%)`}}),r.jsx("span",{className:"text-sm text-foreground truncate",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.count}),r.jsxs("span",{className:"text-xs text-default-500 ml-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["(",i.percentage,"%)"]})]})]},v)):r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-sm text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No department data available"})})})]})}),r.jsx(oe,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-success) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(ce,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-success) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(kr,{className:"w-5 h-5",style:{color:"var(--theme-success)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User Growth"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Registration trends"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"New (30 days)"}),r.jsx("span",{className:"text-sm font-medium text-success",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((lr=(ir=u==null?void 0:u.activity)==null?void 0:ir.recent_registrations)==null?void 0:lr.new_users_30_days)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"New (90 days)"}),r.jsx("span",{className:"text-sm font-medium text-primary",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((cr=(or=u==null?void 0:u.activity)==null?void 0:or.recent_registrations)==null?void 0:cr.new_users_90_days)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Recently Active"}),r.jsx("span",{className:"text-sm font-medium text-secondary",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((mr=(dr=u==null?void 0:u.activity)==null?void 0:dr.recent_registrations)==null?void 0:mr.recently_active)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Growth Rate"}),r.jsx(de,{size:"sm",color:(((ur=u==null?void 0:u.activity)==null?void 0:ur.user_growth_rate)||0)>0?"success":(((fr=u==null?void 0:u.activity)==null?void 0:fr.user_growth_rate)||0)<0?"danger":"default",variant:"flat",radius:_,children:r.jsxs("span",{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((hr=u==null?void 0:u.activity)==null?void 0:hr.user_growth_rate)||0,"%"]})})]})]})]})}),r.jsx(oe,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(ce,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(Pe,{className:"w-5 h-5",style:{color:"var(--theme-danger)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Access Control"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role assignments"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"With Roles"}),r.jsx("span",{className:"text-sm font-medium text-success",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((vr=(pr=u==null?void 0:u.security)==null?void 0:pr.access_metrics)==null?void 0:vr.users_with_roles)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Without Roles"}),r.jsx("span",{className:"text-sm font-medium text-danger",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((gr=(xr=u==null?void 0:u.security)==null?void 0:xr.access_metrics)==null?void 0:gr.users_without_roles)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Admin Users"}),r.jsx("span",{className:"text-sm font-medium text-warning",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((br=(yr=u==null?void 0:u.security)==null?void 0:yr.access_metrics)==null?void 0:br.admin_users)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role Coverage"}),r.jsx(de,{size:"sm",color:(((_r=(jr=u==null?void 0:u.health)==null?void 0:jr.system_metrics)==null?void 0:_r.role_coverage)||0)>80?"success":(((Nr=(wr=u==null?void 0:u.health)==null?void 0:wr.system_metrics)==null?void 0:Nr.role_coverage)||0)>60?"warning":"danger",variant:"flat",radius:_,children:r.jsxs("span",{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((Sr=(Fr=u==null?void 0:u.health)==null?void 0:Fr.system_metrics)==null?void 0:Sr.role_coverage)||0,"%"]})})]})]})]})}),r.jsx(oe,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-default) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(ce,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-default) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(Gr,{className:"w-5 h-5",style:{color:"var(--theme-default)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"System Health"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Overall metrics"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Health Score"}),r.jsx(de,{size:"sm",color:(((Tr=u==null?void 0:u.quick_metrics)==null?void 0:Tr.system_health_score)||0)>80?"success":(((Cr=u==null?void 0:u.quick_metrics)==null?void 0:Cr.system_health_score)||0)>60?"warning":"danger",variant:"flat",radius:_,children:r.jsxs("span",{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((Er=u==null?void 0:u.quick_metrics)==null?void 0:Er.system_health_score)||0,"%"]})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Activation Rate"}),r.jsxs("span",{className:"text-sm font-medium text-success",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[(($r=(Ir=u==null?void 0:u.health)==null?void 0:Ir.system_metrics)==null?void 0:$r.user_activation_rate)||0,"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Total Roles"}),r.jsx("span",{className:"text-sm font-medium text-primary",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((Rr=u==null?void 0:u.overview)==null?void 0:Rr.total_roles)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Total Departments"}),r.jsx("span",{className:"text-sm font-medium text-warning",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((Pr=u==null?void 0:u.overview)==null?void 0:Pr.total_departments)||0})]})]})]})})]})}),r.jsx("div",{className:"mb-6",children:E?r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[r.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{className:"w-24 h-4 rounded"}),r.jsx(V,{className:"w-full h-10 rounded-lg"})]})}),r.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(V,{className:"w-20 h-4 rounded"}),r.jsx(V,{className:"w-full h-10 rounded-lg"})]})})]}):r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-end",children:[r.jsx("div",{className:"flex-1",children:r.jsx(J,{label:"Search Users",placeholder:"Search by name, email or phone...",value:p.search,onValueChange:i=>W("search",i),variant:"bordered",size:l?"sm":"md",radius:_,startContent:r.jsx(On,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"border-default-200 hover:border-default-300"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),r.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[r.jsxs(Ne,{label:"Status",selectedKeys:p.status?[p.status]:[],onSelectionChange:i=>W("status",Array.from(i)[0]),variant:"bordered",size:l?"sm":"md",radius:_,className:"w-32",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[r.jsx(ee,{children:"All Status"},"all"),r.jsx(ee,{children:"Active"},"active"),r.jsx(ee,{children:"Inactive"},"inactive")]}),r.jsxs(Ne,{label:"Role",selectedKeys:p.role?[p.role]:[],onSelectionChange:i=>W("role",Array.from(i)[0]),variant:"bordered",size:l?"sm":"md",radius:_,className:"w-32",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[r.jsx(ee,{children:"All Roles"},"all"),t==null?void 0:t.map((i,v)=>{const w=typeof i=="object"&&i!==null?i.name:i,D=typeof w=="string"?w.toLowerCase():String(w||`role-${v}`).toLowerCase();return r.jsx(ee,{children:w||"Unknown Role"},D)})]}),r.jsxs(ts,{variant:"bordered",radius:_,children:[r.jsx(Q,{isIconOnly:!0,color:$==="table"?"primary":"default",onPress:()=>R("table"),size:l?"sm":"md",children:r.jsx(Qn,{className:"w-4 h-4"})}),r.jsx(Q,{isIconOnly:!0,color:$==="grid"?"primary":"default",onPress:()=>R("grid"),size:l?"sm":"md",children:r.jsx(Dn,{className:"w-4 h-4"})})]})]})]})}),r.jsx("div",{className:"overflow-hidden",children:E?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx(Ke,{size:"lg"})}):$==="table"?r.jsx(os,{allUsers:ne.data,roles:t,setUsers:dt,isMobile:l,isTablet:m,pagination:L,onPageChange:ke,onRowsPerPageChange:yn,totalUsers:ne.total,loading:E,onEdit:i=>be("edit",i),updateUserOptimized:bn,deleteUserOptimized:jn,toggleUserStatusOptimized:Zt,updateUserRolesOptimized:_n,toggleSingleDeviceLogin:Yt,resetUserDevice:Jt,deviceActions:Y}):r.jsxs("div",{children:[ne.data&&ne.data.length>0?r.jsx("div",{className:`grid gap-4 ${l?"grid-cols-1":m?"grid-cols-2":"grid-cols-3 xl:grid-cols-4"}`,children:ne.data.map((i,v)=>r.jsx(Nn,{user:i,index:v},i.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(He,{className:"w-16 h-16 mx-auto text-default-300 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No users found"}),r.jsx("p",{className:"text-default-500 mb-4",children:"Try adjusting your search criteria or filters"}),r.jsx(Q,{color:"primary",startContent:r.jsx(mt,{className:"w-4 h-4"}),onPress:()=>be("add"),children:"Add First User"})]}),ne.data&&ne.data.length>0&&r.jsx("div",{className:"flex justify-center mt-6 border-t pt-4",style:{borderColor:"var(--theme-divider, #E4E4E7)"},children:r.jsx(Da,{total:Math.ceil(ne.total/L.perPage),initialPage:L.currentPage,page:L.currentPage,onChange:ke,size:l?"sm":"md",variant:"bordered",showControls:!0,radius:_,style:{fontFamily:'var(--fontFamily, "Inter")'}})})]})})]})]})})})})})]})};yd.layout=e=>r.jsx(Un,{children:e});export{yd as default};
