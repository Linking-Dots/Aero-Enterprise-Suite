import{b as S,r as u,j as e,H as R,c as W}from"./app-C1U45Ebj.js";import{A as V}from"./AuthLayout-D-IYjBsC.js";import"./Button-BUbOsEPF.js";import{u as A,m as t}from"./logo-CfQNLy2U.js";import{F as I,a as $}from"./ShieldCheckIcon-BOaBImyC.js";import{F as h}from"./EyeSlashIcon-B4007kW2.js";import{F as w}from"./EyeIcon-CRCsgu04.js";import{F as y}from"./LockClosedIcon-CyayZHE1.js";import{i as m}from"./chunk-SSA7SXE4-CwjhqkNF.js";import"./create-visual-element-BuHeE9lo.js";function G({token:g,email:f}){const{data:o,setData:n,post:b,processing:l,errors:i,reset:v}=S({token:g,email:f,verification_code:"",password:"",password_confirmation:""}),[d,j]=u.useState(0),[c,k]=u.useState(!1),[p,N]=u.useState(!1),r=A(),C=a=>{let s=0;return a.length>=8&&(s+=1),/[a-z]/.test(a)&&(s+=1),/[A-Z]/.test(a)&&(s+=1),/[0-9]/.test(a)&&(s+=1),/[^A-Za-z0-9]/.test(a)&&(s+=1),s},F=a=>{const s=a.target.value;n("password",s),j(C(s))},_=()=>{switch(d){case 0:case 1:return"Very weak";case 2:return"Weak";case 3:return"Fair";case 4:return"Good";case 5:return"Strong";default:return""}},x=()=>{switch(d){case 0:case 1:return r.palette.error.main;case 2:return"#f59e0b";case 3:return"#eab308";case 4:return r.palette.primary.main;case 5:return r.palette.success.main;default:return r.palette.grey[300]}},P=a=>{a.preventDefault(),b(route("password.update"),{onFinish:()=>v("password","password_confirmation")})};return e.jsxs(V,{title:"Set new password",subtitle:"Enter the verification code and create a new secure password",children:[e.jsx(R,{title:"Reset Password"}),e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsx(t.div,{className:"p-4 rounded-xl border",style:{background:r.palette.mode==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(255, 255, 255, 0.8)",borderColor:r.palette.mode==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs("p",{className:"text-sm",style:{color:r.palette.text.secondary},children:["Resetting password for: ",e.jsx("span",{className:"font-medium",style:{color:r.palette.text.primary},children:f})]})}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsx(m,{type:"text",label:"Verification code",placeholder:"Enter 6-digit code from email",value:o.verification_code,onChange:a=>n("verification_code",a.target.value),isInvalid:!!i.verification_code,errorMessage:i.verification_code,autoComplete:"one-time-code",autoFocus:!0,maxLength:6,required:!0,startContent:e.jsx(I,{className:"w-4 h-4 text-default-400 pointer-events-none shrink-0"}),classNames:{base:"w-full",mainWrapper:"w-full",input:["bg-transparent","text-black dark:text-white","placeholder:text-default-700/50 dark:placeholder:text-white/60"],innerWrapper:"bg-transparent",inputWrapper:["shadow-xl","bg-default-200/50","dark:bg-default/60","backdrop-blur-xl","backdrop-saturate-200","hover:bg-default-200/70","dark:hover:bg-default/70","group-data-[focused=true]:bg-default-200/50","dark:group-data-[focused=true]:bg-default/60","cursor-text!"]}}),e.jsx(t.p,{className:"text-xs mt-2",style:{color:r.palette.text.secondary},initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"Check your email for the 6-digit verification code"})]}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsxs("div",{children:[e.jsx(m,{type:c?"text":"password",label:"New password",placeholder:"Create a strong password",value:o.password,onChange:F,isInvalid:!!i.password,errorMessage:i.password,autoComplete:"new-password",required:!0,startContent:e.jsx(y,{className:"w-4 h-4 text-default-400 pointer-events-none shrink-0"}),endContent:e.jsx("button",{className:"focus:outline-hidden",type:"button",onClick:()=>k(!c),children:c?e.jsx(h,{className:"w-4 h-4 text-default-400 pointer-events-none"}):e.jsx(w,{className:"w-4 h-4 text-default-400 pointer-events-none"})}),classNames:{base:"w-full",mainWrapper:"w-full",input:["bg-transparent","text-black dark:text-white","placeholder:text-default-700/50 dark:placeholder:text-white/60"],innerWrapper:"bg-transparent",inputWrapper:["shadow-xl","bg-default-200/50","dark:bg-default/60","backdrop-blur-xl","backdrop-saturate-200","hover:bg-default-200/70","dark:hover:bg-default/70","group-data-[focused=true]:bg-default-200/50","dark:group-data-[focused=true]:bg-default/60","cursor-text!"]}}),o.password&&e.jsxs(t.div,{className:"mt-3 space-y-2",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.4},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-1 h-2 rounded-full overflow-hidden",style:{backgroundColor:r.palette.grey[200]},children:e.jsx(t.div,{className:"h-full rounded-full transition-all duration-500",style:{backgroundColor:x()},initial:{width:0},animate:{width:`${d/5*100}%`}})}),e.jsx(t.span,{className:"text-xs font-medium w-20 text-right",style:{color:x()},initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:_()})]}),e.jsx(t.p,{className:"text-xs",style:{color:r.palette.text.secondary},initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{delay:.3},children:"Use 8+ characters with uppercase, lowercase, numbers, and symbols"})]})]})}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsx(m,{type:p?"text":"password",label:"Confirm new password",placeholder:"Confirm your new password",value:o.password_confirmation,onChange:a=>n("password_confirmation",a.target.value),isInvalid:!!i.password_confirmation,errorMessage:i.password_confirmation,autoComplete:"new-password",required:!0,startContent:e.jsx(y,{className:"w-4 h-4 text-default-400 pointer-events-none shrink-0"}),endContent:e.jsx("button",{className:"focus:outline-hidden",type:"button",onClick:()=>N(!p),children:p?e.jsx(h,{className:"w-4 h-4 text-default-400 pointer-events-none"}):e.jsx(w,{className:"w-4 h-4 text-default-400 pointer-events-none"})}),classNames:{base:"w-full",mainWrapper:"w-full",input:["bg-transparent","text-black dark:text-white","placeholder:text-default-700/50 dark:placeholder:text-white/60"],innerWrapper:"bg-transparent",inputWrapper:["shadow-xl","bg-default-200/50","dark:bg-default/60","backdrop-blur-xl","backdrop-saturate-200","hover:bg-default-200/70","dark:hover:bg-default/70","group-data-[focused=true]:bg-default-200/50","dark:group-data-[focused=true]:bg-default/60","cursor-text!"]}})}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:e.jsx(W,{type:"submit",color:"primary",size:"lg",className:"w-full",isLoading:l,disabled:l,children:l?"Updating password...":"Update password"})})]}),e.jsx(t.div,{className:"mt-8 p-4 rounded-xl border",style:{background:"rgba(34, 197, 94, 0.1)",borderColor:"rgba(34, 197, 94, 0.2)",backdropFilter:"blur(10px)"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(t.div,{className:"shrink-0",initial:{scale:0},animate:{scale:1},transition:{delay:.7,type:"spring",stiffness:500},children:e.jsx($,{className:"w-5 h-5 text-green-500"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx(t.h3,{className:"text-sm font-medium text-green-800",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.8},children:"Secure Password Reset"}),e.jsxs(t.div,{className:"text-sm text-green-700 mt-2 space-y-1",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.9},children:[e.jsx("p",{children:"• Your password reset is protected with two-factor verification"}),e.jsx("p",{children:"• All sessions will be invalidated after password change"}),e.jsx("p",{children:"• This activity is logged for security monitoring"})]})]})]})})]})}export{G as default};
