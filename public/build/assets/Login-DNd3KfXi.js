<<<<<<<< Updated upstream:public/build/assets/Login-DqlaLxbY.js
import{r as a,a as G,w as Y,x as K,h as Q,j as e,H as X,c as D,A as ee,f as k,L as z,s as re,i as se}from"./app-DXVmVWfT.js";import{s as V}from"./toastUtils-6YNuLodH.js";import{m}from"./proxy-CGLX1-DN.js";import{F as ae}from"./CheckCircleIcon-DC8cSzAY.js";import{a as B,b as I,F as te,t as ie}from"./XMarkIcon-CZXGrTVE.js";import{F as oe}from"./ExclamationTriangleIcon-nydRqaXF.js";import{F as ne,a as le}from"./DeviceTabletIcon-CsXC8cJ3.js";import{F as O}from"./LockClosedIcon-j9EWiTgZ.js";import{F as de}from"./ClockIcon-EFeSvc7X.js";import{F as ce}from"./InformationCircleIcon-CK6sOZT6.js";import{F as me}from"./EnvelopeIcon-D9i0PDbo.js";import{F as ue}from"./EyeSlashIcon-B0mquRtz.js";import{F as he}from"./EyeIcon-DF2DudMh.js";import{F as ge}from"./ShieldCheckIcon-0qxwy5hJ.js";import{c as W}from"./chunk-IHOGUXIG-Bvz9okur.js";import{i as H}from"./chunk-SSA7SXE4-BJoh4X-s.js";import{c as pe}from"./chunk-XJ2YRSUP-D09CMxFA.js";import"./create-visual-element-OeeLNUjW.js";import"./useToggleState-DJ-cC1ex.js";function xe({title:i,titleId:u,...o},d){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":u},o),i?a.createElement("title",{id:u},i):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const be=a.forwardRef(xe),E={email:{maxLength:254,pattern:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/},password:{minLength:6,maxLength:128}},q={success:8e3,error:12e3},ve=i=>{if(!i||typeof i!="string")return{isValid:!1,message:"Email is required"};const u=i.trim();return u.length===0?{isValid:!1,message:"Email is required"}:u.length>E.email.maxLength?{isValid:!1,message:"Email address is too long"}:E.email.pattern.test(u)?{isValid:!0,message:null}:{isValid:!1,message:"Please enter a valid email address"}},fe=i=>!i||typeof i!="string"?{isValid:!1,message:"Password is required"}:i.length<E.password.minLength?{isValid:!1,message:`Password must be at least ${E.password.minLength} characters`}:i.length>E.password.maxLength?{isValid:!1,message:"Password is too long"}:{isValid:!0,message:null},we=(i,u)=>{let o;return function(...v){const f=()=>{clearTimeout(o),i(...v)};clearTimeout(o),o=setTimeout(f,u)}},ye=()=>{const[i,u]=a.useState({isMobile:!1,isTablet:!1,isDesktop:!1}),o=a.useCallback(()=>{const d=window.innerWidth,v={isMobile:d<=768,isTablet:d>768&&d<=1024,isDesktop:d>1024};u(f=>JSON.stringify(f)!==JSON.stringify(v)?v:f)},[]);return a.useEffect(()=>{o();const d=we(o,150);return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[o]),i};function Oe({status:i,canResetPassword:u,deviceBlocked:o,deviceMessage:d,blockedDeviceInfo:v}){var $,P;const{themeSettings:f}=G(),_=()=>{var x;const r=(x=f.layout)==null?void 0:x.borderRadius;if(!r)return"lg";const s=parseInt(r);return s===0?"none":s<=4?"sm":s<=8?"md":s<=16?"lg":"full"},{isMobile:y}=ye(),A=a.useRef(null),C=a.useRef(null),N=a.useRef(null),[c,R]=a.useState({email:"",password:"",remember:!1}),[t,h]=a.useState({isPasswordVisible:!1,isSubmitting:!1,isLoaded:!1,showSuccessAlert:!!i,showDeviceAlert:!!o,deviceBlockingData:null}),[n,S]=a.useState({email:null,password:null,hasAttemptedSubmit:!1}),l=a.useMemo(()=>{const r=ve(c.email),s=fe(c.password);return{email:r,password:s,isFormValid:r.isValid&&s.isValid&&c.email.trim()!==""&&c.password!==""}},[c.email,c.password]),L=a.useCallback((r,s)=>{R(x=>({...x,[r]:s})),n.hasAttemptedSubmit&&n[r]&&S(x=>({...x,[r]:null}))},[n.hasAttemptedSubmit]),M=a.useCallback(()=>{h(r=>({...r,isPasswordVisible:!r.isPasswordVisible}))},[]),Z=a.useCallback(r=>{R(s=>({...s,remember:r}))},[]),w=a.useCallback(r=>{h(s=>({...s,[`show${r}Alert`]:!1}))},[]),T=a.useCallback(()=>{!l.email.isValid&&A.current?A.current.focus():!l.password.isValid&&C.current&&C.current.focus()},[l.email.isValid,l.password.isValid]),U=a.useCallback(async r=>{if(r.preventDefault(),N.current&&clearTimeout(N.current),!t.isSubmitting){if(S(s=>({...s,hasAttemptedSubmit:!0})),!l.isFormValid){S(s=>({...s,email:l.email.message,password:l.password.message})),setTimeout(T,0);return}h(s=>({...s,isSubmitting:!0}));try{const s={email:c.email.trim(),password:c.password,remember:c.remember,device_id:Y()},x=K();Q.post(route("login"),s,{preserveState:!0,preserveScroll:!0,headers:{...x},onError:p=>{if(console.error("Login validation errors:",p),p.device_blocking){console.log("Device blocking error detected:",p.device_blocking),console.log("Current uiState before update:",t),h(g=>{const F={...g,showDeviceAlert:!0,deviceBlockingData:{message:p.device_blocking.device_message||"Login blocked: Account is active on another device",blockedDeviceInfo:p.device_blocking.blocked_device_info||null}};return console.log("Setting new uiState:",F),F}),h(g=>({...g,isSubmitting:!1}));return}const j={...n};p.email&&(j.email=p.email),p.password&&(j.password=p.password),S(j),Object.entries(p).forEach(([g,F])=>{g!=="email"&&g!=="password"&&g!=="device_blocked"&&g!=="device_blocked_data"&&typeof F=="string"&&V.error(F,{style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-danger)",color:"var(--theme-danger-foreground)"}})}),h(g=>({...g,isSubmitting:!1})),R(g=>({...g,password:""}))},onFinish:p=>{h(j=>({...j,isSubmitting:!1}))}})}catch(s){console.error("Login submission error:",s),V.error("An unexpected error occurred. Please try again.",{style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-danger)",color:"var(--theme-danger-foreground)"}}),h(x=>({...x,isSubmitting:!1}))}}},[t.isSubmitting,l.isFormValid,c,l.email.message,l.password.message,T,n]);a.useEffect(()=>{h(r=>({...r,isLoaded:!0})),setTimeout(()=>{typeof window<"u"&&window.document&&console.log("Login component mounted, theme background should be applied")},100)},[]),a.useEffect(()=>{if(i){h(s=>({...s,showSuccessAlert:!0}));const r=setTimeout(()=>{w("Success")},q.success);return()=>clearTimeout(r)}},[i,w]),a.useEffect(()=>{if(o){h(s=>({...s,showDeviceAlert:!0})),V.error(d||"Device access blocked");const r=setTimeout(()=>{w("Device")},q.error);return()=>clearTimeout(r)}},[o,d,w]),a.useEffect(()=>{o&&h(r=>({...r,showDeviceAlert:!0}))},[o]),a.useEffect(()=>()=>{N.current&&clearTimeout(N.current)},[]);const J={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.1}}},b={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.4,0,.2,1]}}};return e.jsxs(e.Fragment,{children:[e.jsx(X,{title:"Sign In"}),e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative",style:{fontFamily:"var(--fontFamily, 'Inter')",transform:"scale(var(--scale, 1))",transformOrigin:"center center"},children:[e.jsx(m.div,{className:"absolute top-20 left-20 w-20 h-20 rounded-full hidden lg:block",style:{background:`linear-gradient(135deg, 
========
import{r as a,u as Q,q as G,v as Y,S as K,j as e,Q as X,c as D,A as ee,d as k,t as z,s as re,f as se}from"./app-Bzvwrd0H.js";import{s as V}from"./toastUtils-Iz8RhFxm.js";import{m}from"./proxy-ByMbOVRp.js";import{F as ae}from"./CheckCircleIcon-mncIOFUm.js";import{a as B,b as I,F as te,t as ie}from"./XMarkIcon-B57lrNTs.js";import{F as oe}from"./ExclamationTriangleIcon-BEZKRPCj.js";import{F as ne,a as le}from"./DeviceTabletIcon-D5tDUgpR.js";import{F as O}from"./LockClosedIcon-C-3g3zEf.js";import{F as de}from"./ClockIcon-4Z87G53P.js";import{F as ce}from"./InformationCircleIcon-CKXmugUi.js";import{F as me}from"./EnvelopeIcon-CfR7cmdn.js";import{F as ue}from"./EyeSlashIcon-CXkoOyiP.js";import{F as ge}from"./EyeIcon-DWfYEIX7.js";import{F as he}from"./ShieldCheckIcon-Ci88VqTr.js";import{c as W}from"./chunk-IHOGUXIG-qQB_28Ca.js";import{i as q}from"./chunk-SSA7SXE4-kGhgEhoz.js";import{c as pe}from"./chunk-XJ2YRSUP-BBCnKNhp.js";import"./create-visual-element-CeiJpb04.js";import"./useToggleState-Cbk3iJwk.js";function xe({title:i,titleId:u,...o},d){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":u},o),i?a.createElement("title",{id:u},i):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const be=a.forwardRef(xe),E={email:{maxLength:254,pattern:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/},password:{minLength:6,maxLength:128}},H={success:8e3,error:12e3},ve=i=>{if(!i||typeof i!="string")return{isValid:!1,message:"Email is required"};const u=i.trim();return u.length===0?{isValid:!1,message:"Email is required"}:u.length>E.email.maxLength?{isValid:!1,message:"Email address is too long"}:E.email.pattern.test(u)?{isValid:!0,message:null}:{isValid:!1,message:"Please enter a valid email address"}},fe=i=>!i||typeof i!="string"?{isValid:!1,message:"Password is required"}:i.length<E.password.minLength?{isValid:!1,message:`Password must be at least ${E.password.minLength} characters`}:i.length>E.password.maxLength?{isValid:!1,message:"Password is too long"}:{isValid:!0,message:null},we=(i,u)=>{let o;return function(...v){const f=()=>{clearTimeout(o),i(...v)};clearTimeout(o),o=setTimeout(f,u)}},ye=()=>{const[i,u]=a.useState({isMobile:!1,isTablet:!1,isDesktop:!1}),o=a.useCallback(()=>{const d=window.innerWidth,v={isMobile:d<=768,isTablet:d>768&&d<=1024,isDesktop:d>1024};u(f=>JSON.stringify(f)!==JSON.stringify(v)?v:f)},[]);return a.useEffect(()=>{o();const d=we(o,150);return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[o]),i};function Oe({status:i,canResetPassword:u,deviceBlocked:o,deviceMessage:d,blockedDeviceInfo:v}){var $,P;const{themeSettings:f}=Q(),_=()=>{var x;const r=(x=f.layout)==null?void 0:x.borderRadius;if(!r)return"lg";const s=parseInt(r);return s===0?"none":s<=4?"sm":s<=8?"md":s<=16?"lg":"full"},{isMobile:y}=ye(),A=a.useRef(null),C=a.useRef(null),N=a.useRef(null),[c,R]=a.useState({email:"",password:"",remember:!1}),[t,g]=a.useState({isPasswordVisible:!1,isSubmitting:!1,isLoaded:!1,showSuccessAlert:!!i,showDeviceAlert:!!o,deviceBlockingData:null}),[n,S]=a.useState({email:null,password:null,hasAttemptedSubmit:!1}),l=a.useMemo(()=>{const r=ve(c.email),s=fe(c.password);return{email:r,password:s,isFormValid:r.isValid&&s.isValid&&c.email.trim()!==""&&c.password!==""}},[c.email,c.password]),L=a.useCallback((r,s)=>{R(x=>({...x,[r]:s})),n.hasAttemptedSubmit&&n[r]&&S(x=>({...x,[r]:null}))},[n.hasAttemptedSubmit]),M=a.useCallback(()=>{g(r=>({...r,isPasswordVisible:!r.isPasswordVisible}))},[]),Z=a.useCallback(r=>{R(s=>({...s,remember:r}))},[]),w=a.useCallback(r=>{g(s=>({...s,[`show${r}Alert`]:!1}))},[]),T=a.useCallback(()=>{!l.email.isValid&&A.current?A.current.focus():!l.password.isValid&&C.current&&C.current.focus()},[l.email.isValid,l.password.isValid]),U=a.useCallback(async r=>{if(r.preventDefault(),N.current&&clearTimeout(N.current),!t.isSubmitting){if(S(s=>({...s,hasAttemptedSubmit:!0})),!l.isFormValid){S(s=>({...s,email:l.email.message,password:l.password.message})),setTimeout(T,0);return}g(s=>({...s,isSubmitting:!0}));try{const s={email:c.email.trim(),password:c.password,remember:c.remember,device_id:G()},x=Y();K.post(route("login"),s,{preserveState:!0,preserveScroll:!0,headers:{...x},onError:p=>{if(console.error("Login validation errors:",p),p.device_blocking){console.log("Device blocking error detected:",p.device_blocking),console.log("Current uiState before update:",t),g(h=>{const F={...h,showDeviceAlert:!0,deviceBlockingData:{message:p.device_blocking.device_message||"Login blocked: Account is active on another device",blockedDeviceInfo:p.device_blocking.blocked_device_info||null}};return console.log("Setting new uiState:",F),F}),g(h=>({...h,isSubmitting:!1}));return}const j={...n};p.email&&(j.email=p.email),p.password&&(j.password=p.password),S(j),Object.entries(p).forEach(([h,F])=>{h!=="email"&&h!=="password"&&h!=="device_blocked"&&h!=="device_blocked_data"&&typeof F=="string"&&V.error(F,{style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-danger)",color:"var(--theme-danger-foreground)"}})}),g(h=>({...h,isSubmitting:!1})),R(h=>({...h,password:""}))},onFinish:p=>{g(j=>({...j,isSubmitting:!1}))}})}catch(s){console.error("Login submission error:",s),V.error("An unexpected error occurred. Please try again.",{style:{backdropFilter:"blur(16px) saturate(200%)",background:"var(--theme-danger)",color:"var(--theme-danger-foreground)"}}),g(x=>({...x,isSubmitting:!1}))}}},[t.isSubmitting,l.isFormValid,c,l.email.message,l.password.message,T,n]);a.useEffect(()=>{g(r=>({...r,isLoaded:!0})),setTimeout(()=>{typeof window<"u"&&window.document&&console.log("Login component mounted, theme background should be applied")},100)},[]),a.useEffect(()=>{if(i){g(s=>({...s,showSuccessAlert:!0}));const r=setTimeout(()=>{w("Success")},H.success);return()=>clearTimeout(r)}},[i,w]),a.useEffect(()=>{if(o){g(s=>({...s,showDeviceAlert:!0})),V.error(d||"Device access blocked");const r=setTimeout(()=>{w("Device")},H.error);return()=>clearTimeout(r)}},[o,d,w]),a.useEffect(()=>{o&&g(r=>({...r,showDeviceAlert:!0}))},[o]),a.useEffect(()=>()=>{N.current&&clearTimeout(N.current)},[]);const J={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.1}}},b={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.4,0,.2,1]}}};return e.jsxs(e.Fragment,{children:[e.jsx(X,{title:"Sign In"}),e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative",style:{fontFamily:"var(--fontFamily, 'Inter')",transform:"scale(var(--scale, 1))",transformOrigin:"center center"},children:[e.jsx(m.div,{className:"absolute top-20 left-20 w-20 h-20 rounded-full hidden lg:block",style:{background:`linear-gradient(135deg, 
>>>>>>>> Stashed changes:public/build/assets/Login-DNd3KfXi.js
                            color-mix(in srgb, var(--theme-primary, #006FEE) 15%, transparent),
                            color-mix(in srgb, var(--theme-secondary, #7C3AED) 12%, transparent)
                        )`,backdropFilter:"blur(20px)",border:"1px solid color-mix(in srgb, var(--theme-primary, #006FEE) 20%, transparent)",transform:"scale(var(--scale, 1))"},animate:{y:[-10,10,-10],rotate:[0,180,360],scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),e.jsx(m.div,{className:"absolute bottom-20 right-20 w-16 h-16 rounded-full hidden lg:block",style:{background:`linear-gradient(135deg,
                            color-mix(in srgb, var(--theme-secondary, #7C3AED) 18%, transparent),
                            color-mix(in srgb, var(--theme-primary, #006FEE) 12%, transparent)
                        )`,backdropFilter:"blur(20px)",border:"1px solid color-mix(in srgb, var(--theme-secondary, #7C3AED) 20%, transparent)",transform:"scale(var(--scale, 1))"},animate:{x:[-8,8,-8],scale:[1,1.1,1],rotate:[0,-180,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut",delay:5}}),e.jsx(m.div,{variants:J,initial:"hidden",animate:t.isLoaded?"visible":"hidden",className:`w-full ${y?"max-w-sm":"max-w-md"}`,children:e.jsx(D,{className:"backdrop-blur-xl border-none shadow-2xl",style:{background:`linear-gradient(to bottom right, 
                                color-mix(in srgb, var(--theme-content1, #FAFAFA) 98%, transparent), 
                                color-mix(in srgb, var(--theme-content2, #F4F4F5) 95%, transparent)
                            )`,borderColor:"color-mix(in srgb, var(--theme-divider, #E4E4E7) 50%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderStyle:"solid",borderRadius:`var(--borderRadius, ${y?"20px":"24px"})`,fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",boxShadow:`
                                0 20px 40px color-mix(in srgb, var(--theme-shadow, #000000) 15%, transparent),
                                0 8px 16px color-mix(in srgb, var(--theme-shadow, #000000) 10%, transparent),
                                inset 0 1px 0 color-mix(in srgb, var(--theme-background, #FFFFFF) 50%, transparent)
                            `},children:e.jsxs("div",{className:`${y?"p-6":"p-8"}`,children:[e.jsxs(m.div,{variants:b,className:"text-center mb-8",children:[e.jsx(m.div,{className:"flex justify-center mb-6",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:30},children:e.jsx("img",{src:"/assets/images/logo.png",alt:"Logo",className:`${y?"w-40 h-40":"w-52 h-52"} object-contain`,onError:r=>{r.target.style.display="none",r.target.nextSibling.style.display="flex"}})}),e.jsx("h1",{className:`${y?"text-2xl":"text-3xl"} font-bold mb-2`,style:{color:"var(--theme-foreground, #11181C)",background:`linear-gradient(135deg, 
                                            var(--theme-foreground, #11181C), 
                                            color-mix(in srgb, var(--theme-foreground, #11181C) 80%, var(--theme-primary, #006FEE))
                                        )`,backgroundClip:"text",WebkitBackgroundClip:"text"},children:"Welcome Back"})]}),e.jsxs(ee,{children:[i&&t.showSuccessAlert&&e.jsx(m.div,{variants:b,initial:"hidden",animate:"visible",exit:"hidden",className:"mb-6",children:e.jsx(D,{className:"border-none",style:{background:"color-mix(in srgb, var(--theme-success, #22C55E) 12%, transparent)",borderColor:"color-mix(in srgb, var(--theme-success, #22C55E) 30%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderStyle:"solid",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ae,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--theme-success, #22C55E)"}}),e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--theme-success-foreground, #166534)"},children:i}),e.jsx(k,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>w("Success"),className:"ml-auto",children:e.jsx(B,{className:"w-4 h-4"})})]})})})}),(()=>{const r=(o||t.deviceBlockingData)&&t.showDeviceAlert;return console.log("Device alert render check:",{deviceBlocked:o,deviceBlockingData:t.deviceBlockingData,showDeviceAlert:t.showDeviceAlert,shouldShowAlert:r}),r})()&&e.jsx(m.div,{variants:b,initial:"hidden",animate:"visible",exit:"hidden",className:"mb-6",children:e.jsxs(D,{className:"border-none overflow-hidden",style:{background:`linear-gradient(135deg, 
                                                    color-mix(in srgb, var(--theme-danger, #EF4444) 8%, transparent),
                                                    color-mix(in srgb, var(--theme-danger, #EF4444) 4%, transparent)
                                                )`,borderColor:"color-mix(in srgb, var(--theme-danger, #EF4444) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderStyle:"solid",borderRadius:"var(--borderRadius, 16px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",boxShadow:`
                                                    0 10px 25px color-mix(in srgb, var(--theme-danger, #EF4444) 15%, transparent),
                                                    0 4px 12px color-mix(in srgb, var(--theme-danger, #EF4444) 10%, transparent)
                                                `},children:[e.jsx("div",{className:"px-6 py-4",style:{background:`linear-gradient(135deg, 
                                                        color-mix(in srgb, var(--theme-danger, #EF4444) 15%, transparent),
                                                        color-mix(in srgb, var(--theme-danger, #EF4444) 8%, transparent)
                                                    )`,borderBottom:"1px solid color-mix(in srgb, var(--theme-danger, #EF4444) 20%, transparent)"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full",style:{background:"color-mix(in srgb, var(--theme-danger, #EF4444) 20%, transparent)"},children:e.jsx(oe,{className:"w-5 h-5",style:{color:"var(--theme-danger, #EF4444)"}})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-1",style:{color:"var(--theme-danger-foreground, #991B1B)"},children:"ðŸš« Device Access Blocked"}),e.jsx("p",{className:"text-sm opacity-90",style:{color:"var(--theme-danger-foreground, #991B1B)"},children:"Single device policy violation detected"})]})]}),e.jsx(k,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>w("Device"),className:"text-danger hover:bg-danger/10",children:e.jsx(B,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"px-6 py-5",children:[e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-sm leading-relaxed",style:{color:"var(--theme-danger-foreground, #991B1B)"},children:(($=t.deviceBlockingData)==null?void 0:$.message)||d||"Your account is currently active on another device. For security reasons, you can only be logged in from one device at a time."})}),(((P=t.deviceBlockingData)==null?void 0:P.blockedDeviceInfo)||v)&&e.jsxs("div",{className:"p-4 rounded-xl",style:{background:`linear-gradient(135deg, 
                                                                color-mix(in srgb, var(--theme-content1, #FAFAFA) 95%, transparent),
                                                                color-mix(in srgb, var(--theme-content2, #F4F4F5) 90%, transparent)
                                                            )`,border:"1px solid color-mix(in srgb, var(--theme-danger, #EF4444) 15%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(I,{className:"w-4 h-4",style:{color:"var(--theme-danger, #EF4444)"}}),e.jsx("span",{className:"text-sm font-semibold",style:{color:"var(--theme-danger-foreground, #991B1B)"},children:"Currently Active Device:"})]}),(()=>{var s;const r=((s=t.deviceBlockingData)==null?void 0:s.blockedDeviceInfo)||v;return e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-content1, #FAFAFA) 80%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-divider, #E4E4E7) 50%, transparent)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full",style:{background:"color-mix(in srgb, var(--theme-primary, #006FEE) 10%, transparent)"},children:(r==null?void 0:r.device_type)==="mobile"?e.jsx(ne,{className:"w-4 h-4 text-primary"}):(r==null?void 0:r.device_type)==="tablet"?e.jsx(le,{className:"w-4 h-4 text-secondary"}):e.jsx(I,{className:"w-4 h-4 text-default-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm text-foreground",children:(r==null?void 0:r.device_name)||"Unknown Device"}),e.jsxs("p",{className:"text-xs text-foreground/70",children:[r==null?void 0:r.browser," ",r==null?void 0:r.browser_version," â€¢ ",r==null?void 0:r.platform]})]})]}),e.jsx(W,{size:"sm",color:"warning",variant:"flat",startContent:e.jsx(O,{className:"w-3 h-3"}),children:"Active"})]}),(r==null?void 0:r.last_activity)&&e.jsxs("div",{className:"flex items-center gap-2 text-xs",style:{color:"var(--theme-foreground, #11181C)60"},children:[e.jsx(de,{className:"w-3 h-3"}),e.jsxs("span",{children:["Last active: ",r.last_activity]})]}),(r==null?void 0:r.ip_address)&&e.jsxs("div",{className:"flex items-center gap-2 text-xs",style:{color:"var(--theme-foreground, #11181C)60"},children:[e.jsx(te,{className:"w-3 h-3"}),e.jsxs("span",{children:["IP Address: ",r.ip_address]})]})]})})()]}),e.jsxs("div",{className:"flex flex-col gap-3 mt-5 pt-4",style:{borderTop:"1px solid color-mix(in srgb, var(--theme-danger, #EF4444) 15%, transparent)"},children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--theme-danger-foreground, #991B1B)"},children:[e.jsx(ce,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"What can you do?"})]}),e.jsxs("div",{className:"text-xs space-y-2",style:{color:"var(--theme-danger-foreground, #991B1B)80"},children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"inline-block w-1 h-1 rounded-full mt-2 bg-current opacity-60"}),e.jsx("span",{children:"Contact your administrator to reset your device access"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"inline-block w-1 h-1 rounded-full mt-2 bg-current opacity-60"}),e.jsx("span",{children:"Request to disable single device restriction for your account"})]})]})]})]})]})})]}),e.jsxs("form",{onSubmit:U,className:"space-y-6",noValidate:!0,children:[e.jsx(m.div,{variants:b,children:e.jsx(H,{ref:A,type:"email",label:"Email Address",placeholder:"Enter your email",value:c.email,onChange:r=>L("email",r.target.value),isInvalid:!!(n.email||n.hasAttemptedSubmit&&!l.email.isValid),errorMessage:n.email||n.hasAttemptedSubmit&&l.email.message,autoComplete:"username",autoFocus:!0,isRequired:!0,size:"lg",radius:_(),variant:"bordered",color:n.email||n.hasAttemptedSubmit&&!l.email.isValid?"danger":"primary",startContent:e.jsx(me,{className:"w-4 h-4",style:{color:"var(--theme-foreground, #11181C)60"}})})}),e.jsx(m.div,{variants:b,children:e.jsx(H,{ref:C,type:t.isPasswordVisible?"text":"password",label:"Password",placeholder:"Enter your password",value:c.password,onChange:r=>L("password",r.target.value),isInvalid:!!(n.password||n.hasAttemptedSubmit&&!l.password.isValid),errorMessage:n.password||n.hasAttemptedSubmit&&l.password.message,autoComplete:"current-password",isRequired:!0,size:"lg",radius:_(),variant:"bordered",color:n.password||n.hasAttemptedSubmit&&!l.password.isValid?"danger":"primary",startContent:e.jsx(O,{className:"w-4 h-4",style:{color:"var(--theme-foreground, #11181C)60"}}),endContent:e.jsx(ie,{content:t.isPasswordVisible?"Hide password":"Show password",children:e.jsx(k,{isIconOnly:!0,variant:"light",size:"sm",onPress:M,"aria-label":t.isPasswordVisible?"Hide password":"Show password",children:t.isPasswordVisible?e.jsx(ue,{className:"w-4 h-4 text-foreground/60"}):e.jsx(he,{className:"w-4 h-4 text-foreground/60"})})})})}),e.jsxs(m.div,{variants:b,className:"flex items-center justify-between",children:[e.jsx(pe,{isSelected:c.remember,onValueChange:Z,size:"sm",color:"primary",style:{"--checkbox-color":"var(--theme-primary, #006FEE)","--checkbox-border":"var(--theme-divider, #E4E4E7)"},children:e.jsx("span",{className:"text-sm",style:{color:"var(--theme-foreground, #11181C)80"},children:"Remember me"})}),u&&e.jsx(z,{href:route("password.request"),className:"text-sm font-medium transition-colors duration-200 hover:underline",style:{color:"var(--theme-primary, #006FEE)"},children:"Forgot password?"})]}),e.jsx(m.div,{variants:b,children:e.jsx(k,{type:"submit",color:"primary",size:"lg",className:"w-full font-semibold transition-all duration-300",isLoading:t.isSubmitting,disabled:t.isSubmitting,spinner:e.jsx(re,{size:"sm",color:"white"}),endContent:!t.isSubmitting&&e.jsx(be,{className:"w-4 h-4"}),style:{background:t.isSubmitting?"color-mix(in srgb, var(--theme-primary, #006FEE) 70%, transparent)":`linear-gradient(135deg, 
                                                    var(--theme-primary, #006FEE), 
                                                    color-mix(in srgb, var(--theme-primary, #006FEE) 90%, var(--theme-secondary, #7C3AED))
                                                  )`,boxShadow:t.isSubmitting?"none":"0 8px 24px color-mix(in srgb, var(--theme-primary, #006FEE) 30%, transparent)",transform:t.isSubmitting?"scale(0.98)":"scale(var(--scale, 1))",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',borderWidth:"var(--borderWidth, 2px)",borderStyle:"solid",borderColor:"transparent"},children:t.isSubmitting?"Signing in...":"Sign In"})}),e.jsx(se,{className:"my-6",style:{borderColor:"color-mix(in srgb, var(--theme-divider, #E4E4E7) 60%, transparent)"}}),e.jsx(m.div,{variants:b,className:"text-center",children:e.jsxs("p",{className:"text-sm",style:{color:"var(--theme-foreground, #11181C)70"},children:["Don't have an account?"," ",e.jsx(z,{href:route("register"),className:"font-semibold transition-colors duration-200 hover:underline",style:{color:"var(--theme-primary, #006FEE)"},children:"Sign up here"})]})}),e.jsxs(m.div,{variants:b,className:"pt-4",style:{borderTop:"1px solid color-mix(in srgb, var(--theme-divider, #E4E4E7) 50%, transparent)"},children:[e.jsx("div",{className:"flex items-center justify-center gap-2 mb-3",children:e.jsx(W,{size:"sm",variant:"flat",color:"success",startContent:e.jsx(ge,{className:"w-3 h-3"}),children:"Secure Login"})}),e.jsx("p",{className:"text-xs text-center opacity-60",style:{color:"var(--theme-foreground, #11181C)"},children:"Â© 2025 Emam Hosen. All rights reserved."})]})]})]})})})]})]})}export{Oe as default};
