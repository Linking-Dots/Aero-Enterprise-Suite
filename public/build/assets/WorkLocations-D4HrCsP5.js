import{J as de,r as d,S as ce,j as e,b as w,F as J,c as z,g as T,d as O,R as me,Q as ue}from"./app-Bc-vtDbX.js";import{u as W,h as D,r as I,z as Q,j as P,e as Z,C as xe,D as he,E as fe,H,m as ee,n as ae,o as te,p as re,s as ge,l as pe,f as be,A as je}from"./App-B7gdTY0y.js";import{B as E,t as K,c as U}from"./react-toastify.esm-BWJPZwaA.js";import{F as X}from"./PencilIcon-D_93JdxL.js";import{F as G}from"./TrashIcon-aqZERF0u.js";import{F as $}from"./UserIcon-BjkTGiLb.js";import{F as se}from"./CheckCircleIcon-hqm2mv-H.js";import{F as ve}from"./CheckCircleIcon-CYnJuCSP.js";import{F as ye}from"./ExclamationTriangleIcon-Cb1_ULVg.js";import{F as Ne}from"./EllipsisVerticalIcon-BKY_rS-C.js";import{u as we}from"./chunk-S574QCAN-_oqaAitJ.js";import{t as _e,a as Fe,b as ke,c as Ce}from"./chunk-F3UDT23P-CWmCHRKz.js";import{t as Le}from"./chunk-YRZGWF2W-DWGe8FlR.js";import{t as Se}from"./chunk-TSPNSPCL-fUqxaodg.js";import{c as Re}from"./chunk-3W7Y7B3B-BDyomAZH.js";import{S as We}from"./StatsCards-DhSLFoTT.js";import{i as M}from"./chunk-SSA7SXE4-CIJDVDWg.js";import{m as ne}from"./chunk-O5MCAK4F-CHDrKDXg.js";import{F as Ie}from"./ExclamationTriangleIcon-HmDIcmhn.js";import{F as Pe}from"./ChartBarIcon-DcjqPenT.js";import{F as Ee}from"./PlusIcon-Dwsy93O8.js";import{m as $e}from"./proxy-xeVcZshG.js";import"./EnvelopeIcon-BRYG4FkO.js";import"./ShieldCheckIcon-Cyd1WzjX.js";import"./KeyIcon-Cbg8AdEj.js";import"./logo-BFkdqDjN.js";import"./features-animation-t7xfZI87.js";import"./create-visual-element-BNxGOuZO.js";import"./chunk-XJ2YRSUP-B6242VCM.js";import"./useToggleState-D3PLugdr.js";import"./index-CPDi6y8D.js";import"./useProgressBar-DgLylBeH.js";import"./NumberFormatter-DNR9MAW-.js";const Ae=({allData:n,setData:_,loading:C,handleClickOpen:u,openModal:s,setCurrentRow:f,users:x,auth:c})=>{var t,m;const{permissions:o}=de().props.auth;W("(min-width: 1025px)"),W("(min-width: 641px) and (max-width: 1024px)");const F=W("(max-width: 640px)"),g=()=>{var L;if(typeof window>"u")return"lg";const l=((L=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:L.trim())||"12px",b=parseInt(l);return b===0?"none":b<=4?"sm":b<=8?"md":b<=16?"lg":"full"},k=d.useCallback(()=>{ce.reload({only:["jurisdictions"],onSuccess:()=>{E.success("Work locations data refreshed successfully")}})},[]),p=(o==null?void 0:o.includes("jurisdiction.update"))||((t=c==null?void 0:c.roles)==null?void 0:t.includes("Administrator")),v=(o==null?void 0:o.includes("jurisdiction.delete"))||((m=c==null?void 0:c.roles)==null?void 0:m.includes("Administrator")),S=a=>a.incharge_user?{label:"Active",color:"success",icon:e.jsx(ve,{className:"w-3 h-3"})}:{label:"Pending",color:"warning",icon:e.jsx(ye,{className:"w-3 h-3"})},R=({location:a})=>{var b;const l=S(a);return e.jsxs(z,{className:"mb-4 bg-content1/80 backdrop-blur-md",children:[e.jsx(Z,{className:"pb-2",children:e.jsxs("div",{className:"flex items-start justify-between w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(I,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h6",{className:"font-semibold text-foreground truncate",children:a.location}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx(U,{size:"sm",variant:"flat",color:l.color,startContent:l.icon,children:l.label})})]})]}),(p||v)&&e.jsxs(xe,{placement:"bottom-end",children:[e.jsx(he,{children:e.jsx(w,{variant:"light",size:"sm",isIconOnly:!0,className:"text-default-400",children:e.jsx(Ne,{className:"w-4 h-4"})})}),e.jsxs(fe,{"aria-label":"Location actions",children:[p&&e.jsx(H,{startContent:e.jsx(X,{className:"w-4 h-4"}),onPress:()=>{f(a),s("editWorkLocation")},children:"Edit Location"},"edit"),v&&e.jsx(H,{className:"text-danger",color:"danger",startContent:e.jsx(G,{className:"w-4 h-4"}),onPress:()=>u(a.id,"deleteWorkLocation"),children:"Delete Location"},"delete")]})]})]})}),e.jsx(T,{}),e.jsx(O,{className:"pt-3",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4 text-default-400"}),e.jsxs("span",{className:"text-sm text-default-500",children:["Chainage: ",a.start_chainage," - ",a.end_chainage]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 text-default-400"}),e.jsxs("span",{className:"text-sm text-default-500",children:["Incharge: ",((b=a.incharge_user)==null?void 0:b.name)||"Not assigned"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-default-400"}),e.jsxs("span",{className:"text-sm text-default-500",children:["Created: ",new Date(a.created_at).toLocaleDateString()]})]})]})})]},a.id)},N=[{name:"Location",uid:"location",icon:I,sortable:!0},{name:"Start Chainage",uid:"start_chainage",icon:P,sortable:!0},{name:"End Chainage",uid:"end_chainage",icon:P,sortable:!0},{name:"Incharge",uid:"incharge",icon:$,sortable:!0},{name:"Status",uid:"status",icon:se,sortable:!1},{name:"Created",uid:"created_at",icon:D,sortable:!0},...p||v?[{name:"Actions",uid:"actions",sortable:!1}]:[]],i=d.useCallback((a,l)=>{const b=a[l];switch(l){case"location":return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1 rounded bg-primary/10",children:e.jsx(I,{className:"w-3 h-3 text-primary"})}),e.jsx("span",{className:"font-medium text-foreground",children:b})]});case"start_chainage":case"end_chainage":return e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-sm font-medium text-foreground",children:b})});case"incharge":return e.jsx("div",{className:"flex items-center gap-2",children:a.incharge_user?e.jsx(we,{name:a.incharge_user.name,description:a.incharge_user.email,avatarProps:{size:"sm",name:a.incharge_user.name,className:"bg-primary/10 text-primary"}}):e.jsxs("div",{className:"flex items-center gap-2 text-default-400",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Not assigned"})]})});case"status":const L=S(a);return e.jsx(U,{size:"sm",variant:"flat",color:L.color,startContent:L.icon,children:L.label});case"created_at":return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-default-400"}),e.jsx("span",{className:"text-sm text-default-500",children:new Date(b).toLocaleDateString()})]});case"actions":return e.jsxs("div",{className:"flex items-center gap-2",children:[p&&e.jsx(K,{content:"Edit location",children:e.jsx(w,{variant:"light",size:"sm",isIconOnly:!0,onPress:()=>{f(a),s("editWorkLocation")},children:e.jsx(X,{className:"w-4 h-4"})})}),v&&e.jsx(K,{content:"Delete location",color:"danger",children:e.jsx(w,{variant:"light",size:"sm",isIconOnly:!0,color:"danger",onPress:()=>u(a.id,"deleteWorkLocation"),children:e.jsx(G,{className:"w-4 h-4"})})})]});default:return e.jsx("span",{children:b})}},[p,v,f,s,u]);return F?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-default-700",children:"Work Locations"}),e.jsx(w,{variant:"flat",color:"primary",size:"sm",radius:g(),style:{backgroundColor:"rgba(var(--color-primary), 0.1)",borderColor:"rgba(var(--color-primary), 0.3)",color:"var(--color-text)"},onClick:k,startContent:e.jsx(J,{className:"w-4 h-4"}),children:"Refresh"})]}),e.jsx(Q,{className:"max-h-[70vh]",children:n==null?void 0:n.map(a=>e.jsx(R,{location:a},a.id))})]}):e.jsxs("div",{className:"max-h-[84vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-default-700",children:"Work Locations"}),e.jsx(w,{variant:"flat",color:"primary",size:"sm",radius:g(),style:{backgroundColor:"rgba(var(--color-primary), 0.1)",borderColor:"rgba(var(--color-primary), 0.3)",color:"var(--color-text)"},onClick:k,startContent:e.jsx(J,{className:"w-4 h-4"}),children:"Refresh"})]}),e.jsx(Q,{className:"max-h-[70vh]",children:e.jsxs(_e,{isStriped:!0,selectionMode:"none",isCompact:!0,isHeaderSticky:!0,removeWrapper:!0,"aria-label":"Work Locations Management Table",classNames:{wrapper:"min-h-[200px]",table:"min-h-[300px]",thead:"[&>tr]:first:shadow-small bg-default-100/80",tbody:"divide-y divide-default-200/50",tr:"group hover:bg-default-50/50 transition-colors h-12",td:"py-2 px-3 text-sm",th:"py-2 px-3 text-xs font-semibold"},children:[e.jsx(Le,{columns:N,children:a=>e.jsx(Se,{align:a.uid==="actions"?"center":"start",className:"bg-default-100/80 backdrop-blur-md",children:e.jsxs("div",{className:"flex items-center gap-1",children:[a.icon&&e.jsx(a.icon,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-semibold",children:a.name})]})},a.uid)}),e.jsx(Fe,{items:n||[],emptyContent:"No work locations found",isLoading:C,loadingContent:e.jsx(Re,{size:40}),children:a=>e.jsx(ke,{children:l=>e.jsx(Ce,{children:i(a,l)},l)},a.id)})]})})]})},Y=({modalType:n,open:_,closeModal:C,setData:u,currentRow:s,users:f})=>{const[x,c]=d.useState({location:"",start_chainage:"",end_chainage:"",incharge:""}),[o,F]=d.useState(!1),[g,k]=d.useState({}),p=()=>{var a;if(typeof window>"u")return"lg";const t=((a=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:a.trim())||"12px",m=parseInt(t);return m===0?"none":m<=4?"sm":m<=8?"md":m<=16?"lg":"full"};d.useEffect(()=>{c(n==="update"&&s?{location:s.location||"",start_chainage:s.start_chainage||"",end_chainage:s.end_chainage||"",incharge:s.incharge||""}:{location:"",start_chainage:"",end_chainage:"",incharge:""}),k({})},[n,s,_]);const v=(i,t)=>{c(m=>({...m,[i]:t})),g[i]&&k(m=>({...m,[i]:null}))},S=()=>{const i={};return x.location.trim()||(i.location="Location name is required"),x.start_chainage.trim()||(i.start_chainage="Start chainage is required"),x.end_chainage.trim()||(i.end_chainage="End chainage is required"),x.incharge||(i.incharge="Incharge is required"),k(i),Object.keys(i).length===0},R=async()=>{if(!S())return;F(!0);const i=n==="add"?"/work-locations/add":"/work-locations/update",t="POST",m=n==="update"?{...x,id:s.id}:x;try{const a=await fetch(i,{method:t,headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify(m)}),l=await a.json();a.ok?(u(l.work_locations),E.success(l.message||`Work location ${n==="add"?"added":"updated"} successfully!`),C()):l.error&&typeof l.error=="object"?k(l.error):E.error(l.error||"An error occurred")}catch{E.error("Network error occurred. Please try again.")}finally{F(!1)}},N=()=>{o||C()};return e.jsx(ee,{isOpen:_,onClose:N,size:"lg",placement:"center",classNames:{base:"bg-content1",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",footer:"border-t border-divider",closeButton:"hover:bg-default-100 text-default-500 hover:text-default-700"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsx(ae,{children:i=>e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"flex flex-col gap-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",color:"var(--theme-primary)"},children:e.jsx(I,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:n==="add"?"Add New Work Location":"Edit Work Location"}),e.jsx("p",{className:"text-sm text-default-500",children:n==="add"?"Create a new work location with jurisdiction details":"Update work location information and assignments"})]})]})}),e.jsx(re,{className:"py-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-foreground",children:["Location Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(M,{type:"text",placeholder:"Enter work location name",value:x.location,onChange:t=>v("location",t.target.value),variant:"bordered",radius:p(),startContent:e.jsx(I,{className:"w-4 h-4 text-default-400"}),classNames:{input:"text-foreground",inputWrapper:`bg-content2/50 hover:bg-content2/70 
                                                         focus-within:bg-content2/90 border-divider/50 
                                                         hover:border-divider data-[focus]:border-primary`},style:{fontFamily:'var(--fontFamily, "Inter")'},isInvalid:!!g.location,errorMessage:g.location})]}),e.jsx(T,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-foreground",children:["Start Chainage ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(M,{type:"text",placeholder:"e.g., 0+000",value:x.start_chainage,onChange:t=>v("start_chainage",t.target.value),variant:"bordered",radius:p(),startContent:e.jsx(P,{className:"w-4 h-4 text-default-400"}),classNames:{input:"text-foreground",inputWrapper:`bg-content2/50 hover:bg-content2/70 
                                                             focus-within:bg-content2/90 border-divider/50 
                                                             hover:border-divider data-[focus]:border-primary`},style:{fontFamily:'var(--fontFamily, "Inter")'},isInvalid:!!g.start_chainage,errorMessage:g.start_chainage})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-foreground",children:["End Chainage ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(M,{type:"text",placeholder:"e.g., 5+000",value:x.end_chainage,onChange:t=>v("end_chainage",t.target.value),variant:"bordered",radius:p(),startContent:e.jsx(P,{className:"w-4 h-4 text-default-400"}),classNames:{input:"text-foreground",inputWrapper:`bg-content2/50 hover:bg-content2/70 
                                                             focus-within:bg-content2/90 border-divider/50 
                                                             hover:border-divider data-[focus]:border-primary`},style:{fontFamily:'var(--fontFamily, "Inter")'},isInvalid:!!g.end_chainage,errorMessage:g.end_chainage})]})]}),e.jsx(T,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-foreground",children:["Location Incharge ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(ge,{placeholder:"Select an incharge",selectedKeys:x.incharge?[x.incharge.toString()]:[],onSelectionChange:t=>{const m=Array.from(t)[0];v("incharge",m||"")},variant:"bordered",radius:p(),startContent:e.jsx($,{className:"w-4 h-4 text-default-400"}),classNames:{trigger:`bg-content2/50 hover:bg-content2/70 
                                                     focus-within:bg-content2/90 border-divider/50 
                                                     hover:border-divider data-[focus]:border-primary`,value:"text-foreground"},style:{fontFamily:'var(--fontFamily, "Inter")'},isInvalid:!!g.incharge,errorMessage:g.incharge,children:f==null?void 0:f.map(t=>e.jsx(pe,{value:t.id,textValue:t.name,children:t.name},t.id))})]})]})}),e.jsxs(ne,{children:[e.jsx(w,{color:"danger",variant:"light",onPress:N,disabled:o,radius:p(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),e.jsx(w,{color:"primary",onPress:R,isLoading:o,radius:p(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:n==="add"?"Add Location":"Update Location"})]})]})})})},De=({open:n,handleClose:_,handleDelete:C})=>{const u=()=>{var o;if(typeof window>"u")return"lg";const x=((o=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:o.trim())||"12px",c=parseInt(x);return c===0?"none":c<=4?"sm":c<=8?"md":c<=16?"lg":"full"},s=()=>{C(),_()};return e.jsx(ee,{isOpen:n,onClose:_,size:"md",placement:"center",classNames:{base:"bg-content1",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",footer:"border-t border-divider",closeButton:"hover:bg-default-100 text-default-500 hover:text-default-700"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsx(ae,{children:f=>e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"flex flex-col gap-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-danger/10",children:e.jsx(Ie,{className:"w-5 h-5 text-danger"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Delete Work Location"}),e.jsx("p",{className:"text-sm text-default-500",children:"This action cannot be undone"})]})]})}),e.jsx(re,{className:"py-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-danger/5 border border-danger/20",children:[e.jsx("p",{className:"text-sm text-foreground mb-2",children:"Are you sure you want to delete this work location?"}),e.jsx("p",{className:"text-xs text-default-500",children:"This will permanently remove the work location from the system. Any associated daily works or reports may be affected."})]}),e.jsxs("div",{className:"text-xs text-default-400",children:[e.jsx("strong",{children:"Note:"})," Make sure to reassign any ongoing work or responsibilities before deleting this location."]})]})}),e.jsxs(ne,{children:[e.jsx(w,{color:"default",variant:"light",onPress:_,radius:u(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),e.jsx(w,{color:"danger",onPress:s,radius:u(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Delete Location"})]})]})})})},Me=me.memo(({auth:n,title:_,jurisdictions:C,users:u})=>{const s=W("(min-width: 1025px)"),f=W("(min-width: 641px) and (max-width: 1024px)"),x=W("(max-width: 640px)"),c=()=>{var j;if(typeof window>"u")return"lg";const h=((j=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:j.trim())||"12px",y=parseInt(h);return y===0?"none":y<=4?"sm":y<=8?"md":y<=16?"lg":"full"},[o,F]=d.useState(C||[]),[g,k]=d.useState(!1),[p,v]=d.useState(),[S,R]=d.useState(null),[N,i]=d.useState(null),[t,m]=d.useState(""),a=d.useCallback(r=>{m(r.target.value)},[]),l=()=>{const r=new Promise(async(h,y)=>{try{const j=await fetch("/work-locations/delete",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:S})});if(j.ok){const A=await j.json();F(A.work_locations),h("Work location deleted successfully!")}else y("Failed to delete work location. Please try again.")}catch{y("Failed to delete work location. Please try again.")}});E.promise(r,{pending:"Deleting work location...",success:{render({data:h}){return e.jsx(e.Fragment,{children:h})}},error:{render({data:h}){return e.jsx(e.Fragment,{children:h})}}})},b=d.useCallback((r,h)=>{R(r),i(h)},[]),L=d.useCallback(()=>{i(null),R(null)},[]),V=d.useCallback(r=>{i(r)},[]),q=d.useCallback(()=>{i(null)},[]),oe=d.useMemo(()=>{const r=o.length,h=o.filter(j=>j.incharge_user).length,y=o.filter(j=>!j.incharge_user).length;return[{title:"Total Locations",value:r,icon:e.jsx(Pe,{className:"w-5 h-5"}),color:"text-blue-600",description:"All work locations"},{title:"Active",value:h,icon:e.jsx(se,{className:"w-5 h-5"}),color:"text-green-600",description:"With assigned staff"},{title:"Pending",value:y,icon:e.jsx(D,{className:"w-5 h-5"}),color:"text-orange-600",description:"Needs assignment"},{title:"Staff",value:(u==null?void 0:u.length)||0,icon:e.jsx($,{className:"w-5 h-5"}),color:"text-purple-600",description:"Available staff"}]},[o,u]),ie=[...n.roles.includes("Administrator")||n.permissions.includes("jurisdiction.create")?[{label:"Add Location",icon:e.jsx(Ee,{className:"w-4 h-4"}),onPress:()=>V("addWorkLocation"),className:"bg-linear-to-r from-blue-500 to-purple-500 text-white font-medium"}]:[]],le=d.useMemo(()=>t?o.filter(r=>{var h,y,j,A,B;return((h=r.location)==null?void 0:h.toLowerCase().includes(t.toLowerCase()))||((y=r.start_chainage)==null?void 0:y.toLowerCase().includes(t.toLowerCase()))||((j=r.end_chainage)==null?void 0:j.toLowerCase().includes(t.toLowerCase()))||((B=(A=r.incharge_user)==null?void 0:A.name)==null?void 0:B.toLowerCase().includes(t.toLowerCase()))}):o,[o,t]);return e.jsxs(e.Fragment,{children:[e.jsx(ue,{title:_}),N==="addWorkLocation"&&e.jsx(Y,{modalType:"add",open:N==="addWorkLocation",setData:F,closeModal:q,users:u}),N==="editWorkLocation"&&e.jsx(Y,{modalType:"update",open:N==="editWorkLocation",currentRow:p,setData:F,closeModal:q,users:u}),N==="deleteWorkLocation"&&e.jsx(De,{open:N==="deleteWorkLocation",handleClose:L,handleDelete:l}),e.jsx("div",{className:"flex justify-center p-4",children:e.jsx($e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full max-w-[2000px]",children:e.jsxs(z,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                                var(--theme-content1, #FAFAFA) 20%, 
                                var(--theme-content2, #F4F4F5) 10%, 
                                var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(Z,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                                    color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                                    color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:e.jsx("div",{className:`${s?"p-6":f?"p-4":"p-3"} w-full`,children:e.jsx("div",{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx("div",{className:`
                                                    ${s?"p-3":f?"p-2.5":"p-2"} 
                                                    rounded-xl flex items-center justify-center
                                                `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(I,{className:`
                                                        ${s?"w-8 h-8":f?"w-6 h-6":"w-5 h-5"}
                                                    `,style:{color:"var(--theme-primary)"}})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:`
                                                        ${s?"text-2xl":f?"text-xl":"text-lg"}
                                                        font-bold text-foreground
                                                        ${s?"":"truncate"}
                                                    `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Work Locations Management"}),e.jsx("p",{className:`
                                                        ${s?"text-sm":"text-xs"} 
                                                        text-default-500
                                                        ${s?"":"truncate"}
                                                    `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Manage jurisdictions and work location assignments"})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("div",{className:"flex items-center gap-2",children:ie.map((r,h)=>e.jsx(w,{size:s?"md":"sm",variant:r.variant||"flat",color:r.color||"primary",startContent:r.icon,onPress:r.onPress,className:`${r.className||""} font-medium`,style:{fontFamily:'var(--fontFamily, "Inter")',borderRadius:"var(--borderRadius, 12px)"},children:r.label},h))})})]})})})}),e.jsxs(O,{className:"pt-6",children:[e.jsx(We,{stats:oe}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"w-full sm:w-auto sm:min-w-[300px]",children:e.jsx(M,{type:"text",placeholder:"Search by location, chainage, or incharge...",value:t,onChange:r=>a(r),variant:"bordered",size:x?"sm":"md",radius:c(),startContent:e.jsx(be,{className:"w-4 h-4 text-default-400"}),classNames:{input:"text-foreground",inputWrapper:`bg-content2/50 hover:bg-content2/70 
                                                         focus-within:bg-content2/90 border-divider/50 
                                                         hover:border-divider data-[focus]:border-primary`},style:{fontFamily:'var(--fontFamily, "Inter")',borderRadius:"var(--borderRadius, 12px)"}})})}),e.jsx(z,{radius:c(),className:"bg-content2/50 backdrop-blur-md border border-divider/30",style:{fontFamily:'var(--fontFamily, "Inter")',borderRadius:"var(--borderRadius, 12px)",backgroundColor:"var(--theme-content2)",borderColor:"var(--theme-divider)"},children:e.jsx(O,{className:"p-4",children:e.jsx(Ae,{allData:le,setData:F,loading:g,setLoading:k,handleClickOpen:b,openModal:V,setCurrentRow:v,users:u,auth:n})})})]})]})})})]})});Me.layout=n=>e.jsx(je,{children:n});export{Me as default};
