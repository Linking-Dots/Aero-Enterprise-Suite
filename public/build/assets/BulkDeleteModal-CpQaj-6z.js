import{r as l,j as e,d as W,a as ne,R as Ce,J as Le,c as le,b as de,f as ze,s as es}from"./app-u4QenFlR.js";import{c as ye,e as ge,f as ve,g as be,p as Ie,d as qe,a as Ae,b as Ve,m as ke,F as oe,h as Re,D as rs,x as as,I as ns}from"./Dashboard-B5NVv_pe.js";import{B as q}from"./react-toastify.esm-Ch2v8GvP.js";import{T as We}from"./index-CtBsO7PD.js";import{F as je}from"./CheckCircleIcon-2dAiFPkh.js";import{F as Ee}from"./XCircleIcon-Db8ahc8M.js";import{u as He}from"./index-EG7Y9P3s.js";import{t as Me}from"./chunk-QESP63UR-WMYtyCDk.js";import{m as we}from"./chunk-O5MCAK4F-CggWe8eB.js";import{F as he}from"./TrashIcon-B9OiN0Il.js";import{F as Oe}from"./PencilIcon-B7YbARsH.js";import{F as Ye}from"./EllipsisVerticalIcon-BS8i9tTl.js";import{F as os}from"./XCircleIcon-BkRrdP_W.js";import{F as is}from"./CheckCircleIcon-BsSQNDeF.js";import{F as ls}from"./ClockIcon-DA9p_Hmh.js";import{F as ds}from"./ExclamationTriangleIcon-nj9AwpdQ.js";import{c as cs}from"./createLucideIcon-COzvqNga.js";import{F as ss}from"./UserIcon-C6_MtqI5.js";import{F as Se}from"./ClockIcon-D0bslx6n.js";import{F as ms}from"./HeartIcon-CJ0RqP9Z.js";import{F as us}from"./SunIcon-C5MeTaVz.js";import{c as ue,t as fs,a as ps,b as xs}from"./chunk-F3UDT23P-Dr3mjOnE.js";import{t as Pe}from"./XMarkIcon-CgxuaT4T.js";import{u as Ue}from"./chunk-S574QCAN-DGdnLsmt.js";import{l as Ke}from"./chunk-JOT4BT4P-Dby-Yq3Y.js";import{a as Je,s as De,l as ie}from"./chunk-Y2AYO5NJ-FLMb-rLo.js";import{p as Qe}from"./chunk-EAPQ7RWQ-BqlNv-Xy.js";import{t as hs,a as ys}from"./chunk-YRZGWF2W-SJxfVMAX.js";import{c as Q}from"./chunk-IHOGUXIG-BGAuLm1I.js";import{p as gs}from"./chunk-XVMALT6H-1VpjR84J.js";import{C as Te}from"./calendar-qELVbu5O.js";import{U as vs}from"./user-etoedJ--.js";import{C as Ge}from"./clock-CcGc2wtT.js";import{i as xe}from"./chunk-SSA7SXE4-D2K53r4M.js";import{F as _e}from"./ExclamationTriangleIcon-CAdqkXYp.js";import{c as Be}from"./chunk-D5XJWRAV-BFAX5ne2.js";import{F as Xe}from"./InformationCircleIcon-DeKj89VB.js";import{s as bs}from"./chunk-TQNYOUFX-DrFiYw0H.js";function js({title:c,titleId:v,...h},g){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:g,"aria-labelledby":v},h),c?l.createElement("title",{id:v},c):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const ws=l.forwardRef(js);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],Ze=cs("phone-off",Ns);function Fs({leave:c,onApprovalComplete:v}){const{isOpen:h,onOpen:g,onClose:d}=He(),{isOpen:b,onOpen:R,onClose:y}=He(),[P,f]=l.useState(""),[F,S]=l.useState(""),[w,I]=l.useState(!1),[E,u]=l.useState({}),j=async()=>{var N,_;I(!0),u({});try{const C=await ne.post(We("leaves.approve",c.id),{comments:P||null});C.data.success?(q.success(C.data.message||"Leave approved successfully"),d(),f(""),v&&v(C.data)):q.error(C.data.message||"Failed to approve leave")}catch(C){console.error("Approval error:",C),(_=(N=C.response)==null?void 0:N.data)!=null&&_.message?q.error(C.response.data.message):q.error("An error occurred while approving the leave")}finally{I(!1)}},p=async()=>{var N,_,C;if(I(!0),u({}),!F||F.trim().length<10){u({reason:"Rejection reason must be at least 10 characters"}),I(!1);return}try{const z=await ne.post(We("leaves.reject",c.id),{reason:F});z.data.success?(q.success(z.data.message||"Leave rejected successfully"),y(),S(""),v&&v(z.data)):q.error(z.data.message||"Failed to reject leave")}catch(z){console.error("Rejection error:",z),((N=z.response)==null?void 0:N.status)===422?u(z.response.data.errors||{}):(C=(_=z.response)==null?void 0:_.data)!=null&&C.message?q.error(z.response.data.message):q.error("An error occurred while rejecting the leave")}finally{I(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(W,{color:"success",variant:"solid",startContent:e.jsx(je,{className:"w-4 h-4"}),onPress:g,size:"sm",children:"Approve"}),e.jsx(W,{color:"danger",variant:"solid",startContent:e.jsx(Ee,{className:"w-4 h-4"}),onPress:R,size:"sm",children:"Reject"})]}),e.jsx(ye,{isOpen:h,onClose:d,size:"md",children:e.jsxs(ge,{children:[e.jsx(ve,{children:"Approve Leave Request"}),e.jsxs(be,{children:[e.jsx("p",{className:"text-sm text-default-600 mb-4",children:"Are you sure you want to approve this leave request?"}),e.jsx(Me,{label:"Comments (Optional)",placeholder:"Add any comments for the approval...",value:P,onValueChange:f,variant:"bordered",size:"sm",minRows:3,maxRows:5})]}),e.jsxs(we,{children:[e.jsx(W,{color:"default",variant:"bordered",onPress:d,size:"sm",isDisabled:w,children:"Cancel"}),e.jsx(W,{color:"success",onPress:j,size:"sm",isLoading:w,startContent:!w&&e.jsx(je,{className:"w-4 h-4"}),children:"Approve"})]})]})}),e.jsx(ye,{isOpen:b,onClose:y,size:"md",children:e.jsxs(ge,{children:[e.jsx(ve,{children:"Reject Leave Request"}),e.jsxs(be,{children:[e.jsx("p",{className:"text-sm text-default-600 mb-4",children:"Please provide a reason for rejecting this leave request."}),e.jsx(Me,{label:"Rejection Reason",placeholder:"Explain why this leave is being rejected (minimum 10 characters)...",value:F,onValueChange:S,isInvalid:!!E.reason,errorMessage:E.reason,variant:"bordered",size:"sm",minRows:3,maxRows:5,isRequired:!0})]}),e.jsxs(we,{children:[e.jsx(W,{color:"default",variant:"bordered",onPress:y,size:"sm",isDisabled:w,children:"Cancel"}),e.jsx(W,{color:"danger",onPress:p,size:"sm",isLoading:w,startContent:!w&&e.jsx(Ee,{className:"w-4 h-4"}),children:"Reject"})]})]})})]})}const Ss=Ce.forwardRef(({leaves:c,allUsers:v,handleClickOpen:h,setCurrentLeave:g,openModal:d,setLeaves:b,setCurrentPage:R,currentPage:y,totalRows:P,lastPage:f,perPage:F,selectedMonth:S,employee:w,isAdminView:I=!1,onBulkApprove:E,onBulkReject:u,onBulkDelete:j,canApproveLeaves:p=!1,canEditLeaves:N=!1,canDeleteLeaves:_=!1,fetchLeavesStats:C},z)=>{var Ne,pe;const{auth:K}=Le().props,A=Ie("(min-width: 1025px)");Ie("(min-width: 641px) and (max-width: 1024px)");const L=Ie("(max-width: 640px)"),[H,te]=l.useState(!1),[r,x]=l.useState(null),[t,U]=l.useState(new Set);Ce.useMemo(()=>Array.from(t).join(", ").replaceAll("_"," "),[t]);const V=()=>{var a;if(typeof window>"u")return"lg";const o=((a=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:a.trim())||"12px",s=parseInt(o);return s===0?"none":s<=4?"sm":s<=8?"md":s<=16?"lg":"full"},J=Ce.useMemo(()=>{const i=t==="all",o=i||t.size>0,s=i?c.length:t.size;return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"flex justify-between gap-3 items-end",children:e.jsx("div",{className:"flex gap-3",children:o&&j&&e.jsxs(W,{color:"danger",variant:"flat",startContent:e.jsx(he,{className:"w-4 h-4"}),onPress:()=>{const a=i?c:c.filter(n=>t.has(n.id.toString()));j(a)},style:{background:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-danger) 30%, transparent)",color:"var(--theme-danger)",borderRadius:V()},children:["Delete ",s," selected"]})})}),o&&e.jsxs("span",{className:"text-small opacity-70",style:{color:"var(--theme-foreground)"},children:[s," of ",c.length," selected"]})]})},[t,c,j]);(Ne=K.permissions)!=null&&Ne.includes("leaves.view"),(pe=K.permissions)!=null&&pe.includes("leave.own.view");const M={New:{color:"primary",icon:ds},Pending:{color:"warning",icon:ls},Approved:{color:"success",icon:is},Declined:{color:"danger",icon:os}},Y=i=>{switch(i==null?void 0:i.toLowerCase()){case"casual":return e.jsx(rs,{className:"w-3 h-3 text-blue-500"});case"weekend":return e.jsx(us,{className:"w-3 h-3 text-yellow-500"});case"sick":return e.jsx(ms,{className:"w-3 h-3 text-red-500"});case"earned":return e.jsx(Se,{className:"w-3 h-3 text-green-500"});default:return e.jsx(Re,{className:"w-3 h-3 text-primary"})}},O=l.useCallback(i=>{R&&R(i)},[R]),G=l.useCallback(async(i,o)=>{if(i.status===o)return q.info(`Leave is already ${o}.`),Promise.resolve(`The leave status is already updated to ${o}`);const s=`${i.id}-${o}`;if(r===s)return;x(s);const a=new Promise(async(n,m)=>{var k,D,re,ae;try{const $=await ne.post(route("leave-update-status"),{id:i.id,status:o});$.status===200?(b(Fe=>Fe.map(ee=>ee.id===i.id?{...ee,status:o}:ee)),C(),n($.data.message||"Leave status updated successfully")):m(((k=$.data)==null?void 0:k.message)||"Failed to update leave status")}catch($){const Fe=((re=(D=$.response)==null?void 0:D.data)==null?void 0:re.message)||((ae=$.response)==null?void 0:ae.statusText)||"Failed to update leave status";m(Fe)}finally{x(null)}});return q.promise(a,{pending:"Updating leave status...",success:"Leave status updated successfully!",error:"Failed to update leave status"}),a},[b,r,C]),Z=i=>{const s=(M[i]||M.New).icon,n=(m=>{switch(m.toLowerCase()){case"approved":return{bg:"color-mix(in srgb, var(--theme-success) 20%, transparent)",border:"color-mix(in srgb, var(--theme-success) 40%, transparent)",color:"var(--theme-success)"};case"rejected":return{bg:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",border:"color-mix(in srgb, var(--theme-danger) 40%, transparent)",color:"var(--theme-danger)"};case"pending":return{bg:"color-mix(in srgb, var(--theme-warning) 20%, transparent)",border:"color-mix(in srgb, var(--theme-warning) 40%, transparent)",color:"var(--theme-warning)"};default:return{bg:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",border:"color-mix(in srgb, var(--theme-primary) 40%, transparent)",color:"var(--theme-primary)"}}})(i);return e.jsx(Q,{size:"sm",variant:"flat",startContent:e.jsx(s,{className:"w-3 h-3"}),classNames:{base:"h-6",content:"text-xs font-medium"},style:{background:n.bg,border:`1px solid ${n.border}`,color:n.color,borderRadius:V()},children:i})},X=(i,o)=>{const s=new Date(i),a=new Date(o),n=Math.abs(a-s),m=Math.ceil(n/(1e3*60*60*24))+1;return m===1?"1 day":`${m} days`},T=i=>new Date(i).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}),B=i=>(v==null?void 0:v.find(o=>String(o.id)===String(i)))||{name:"Unknown User",phone:""},ce=({leave:i,updatingLeave:o,setCurrentLeave:s,openModal:a,handleClickOpen:n,updateLeaveStatus:m,canEditLeaves:k,canDeleteLeaves:D,canApproveLeaves:re,isAdminView:ae})=>{const $=B(i.user_id),Fe=X(i.from_date,i.to_date);return M[i.status]||M.New,e.jsx(le,{className:"mb-2",style:{background:"color-mix(in srgb, var(--theme-content1) 85%, transparent)",backdropFilter:"blur(16px)",border:"1px solid color-mix(in srgb, var(--theme-content2) 50%, transparent)",borderRadius:V()},children:e.jsxs(de,{className:"p-3",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"flex items-center gap-3 flex-1",children:ae&&e.jsx(Ue,{avatarProps:{radius:"lg",size:"sm",src:($==null?void 0:$.profile_image_url)||($==null?void 0:$.profile_image),showFallback:!0,name:($==null?void 0:$.name)||"Unnamed User",isBordered:!0},description:$!=null&&$.phone?e.jsx(Ke,{href:`tel:${$==null?void 0:$.phone}`,size:"sm",className:"text-xs text-blue-500 hover:underline",children:$==null?void 0:$.phone}):e.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-400 italic",children:[e.jsx(Ze,{className:"w-3 h-3"})," No Phone"]}),name:e.jsx("span",{className:"text-sm font-medium",children:($==null?void 0:$.name)||"Unnamed User"})})}),e.jsxs("div",{className:"flex items-center gap-2",children:[Z(i.status),(k||D)&&e.jsxs(qe,{children:[e.jsx(Ae,{children:e.jsx(W,{isIconOnly:!0,size:"sm",variant:"light",className:"min-w-8 h-8",children:e.jsx(Ye,{className:"w-4 h-4"})})}),e.jsxs(Ve,{"aria-label":"Leave actions",children:[k&&e.jsx(ke,{startContent:e.jsx(Oe,{className:"w-4 h-4"}),onPress:()=>{s(i),a("edit_leave")},children:"Edit Leave"},"edit"),D&&e.jsx(ke,{className:"text-danger",color:"danger",startContent:e.jsx(he,{className:"w-4 h-4"}),onPress:()=>n(i.id,"delete_leave"),children:"Delete Leave"},"delete")]})]})]})]}),e.jsx(ze,{className:"my-3"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium",children:i.leave_type})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"w-4 h-4 opacity-60",style:{color:"var(--theme-foreground)"}}),e.jsxs("span",{className:"text-sm opacity-80",style:{color:"var(--theme-foreground)"},children:[T(i.from_date)," - ",T(i.to_date)]}),e.jsx(Q,{size:"sm",variant:"bordered",style:{background:"color-mix(in srgb, var(--theme-content2) 50%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)",color:"var(--theme-foreground)",borderRadius:V()},children:Fe})]}),i.reason&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Se,{className:"w-4 h-4 mt-0.5 opacity-60",style:{color:"var(--theme-foreground)"}}),e.jsx("span",{className:"text-sm flex-1 opacity-80",style:{color:"var(--theme-foreground)"},children:i.reason})]})]}),ae&&re&&e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"my-3"}),e.jsx("div",{className:"flex gap-2",children:["Approved","Declined"].map(ee=>e.jsx(W,{size:"sm",variant:i.status===ee?"solid":"bordered",color:M[ee].color,isLoading:o===`${i.id}-${ee}`,onPress:()=>{o!==`${i.id}-${ee}`&&m(i,ee)},startContent:o!==`${i.id}-${ee}`?Ce.createElement(M[ee].icon,{className:"w-3 h-3"}):null,classNames:{base:"flex-1"},children:ee},ee))})]})]})})},me=l.useCallback((i,o)=>{const s=B(i.user_id);switch(o){case"employee":return e.jsx(ue,{className:"whitespace-nowrap",children:e.jsx(Ue,{avatarProps:{radius:"lg",size:"sm",src:(s==null?void 0:s.profile_image_url)||(s==null?void 0:s.profile_image),showFallback:!0,name:(s==null?void 0:s.name)||"Unnamed User",isBordered:!0},description:s!=null&&s.phone?e.jsx(Ke,{href:`tel:${s==null?void 0:s.phone}`,size:"sm",className:"text-xs text-blue-500 hover:underline",children:s==null?void 0:s.phone}):e.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-400 italic",children:[e.jsx(Ze,{className:"w-3 h-3"})," No Phone"]}),name:e.jsx("span",{className:"text-sm font-medium",children:(s==null?void 0:s.name)||"Unnamed User"})})});case"leave_type":return e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[Y(i.leave_type),e.jsx("span",{className:"text-sm font-medium capitalize",children:i.leave_type})]})});case"from_date":case"to_date":return e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(oe,{className:"w-3 h-3 opacity-60",style:{color:"var(--theme-foreground)"}}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm",style:{color:"var(--theme-foreground)"},children:T(i[o])}),o==="from_date"&&e.jsx("div",{className:"text-xs opacity-60",style:{color:"var(--theme-foreground)"},children:X(i.from_date,i.to_date)})]})]})});case"status":const a=i.approval_chain&&i.status==="pending"&&i.approval_chain.some(n=>n.level===i.current_approval_level&&n.approver_id===K.user.id&&n.status==="pending");return e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[Z(i.status),a?e.jsx(Fs,{leave:i,onApprovalComplete:()=>{C&&C(),window.location.reload()}}):I&&p&&e.jsxs(qe,{children:[e.jsx(Ae,{children:e.jsx(W,{isIconOnly:!0,size:"sm",variant:"light",isDisabled:r&&r.startsWith(`${i.id}-`),onPress:()=>{},className:"min-w-8 h-8",children:e.jsx(Ye,{className:"w-4 h-4"})})}),e.jsx(Ve,{"aria-label":"Status actions",onAction:n=>G(i,n),children:Object.keys(M).map(n=>{const m=M[n],k=m.icon;return e.jsx(ke,{startContent:e.jsx(k,{className:"w-4 h-4"}),color:m.color,children:n},n)})})]})]})});case"reason":return e.jsx(ue,{children:e.jsx(Pe,{content:i.reason||"No reason provided",children:e.jsx("span",{className:"max-w-xs truncate cursor-help text-xs opacity-70",style:{color:"var(--theme-foreground)"},children:i.reason||"No reason provided"})})});case"actions":return e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[N&&e.jsx(Pe,{content:"Edit Leave",children:e.jsx(W,{isIconOnly:!0,size:"sm",variant:"light",color:"primary",isDisabled:r&&r.startsWith(`${i.id}-`),onPress:()=>{r&&r.startsWith(`${i.id}-`)||(g(i),d("edit_leave"))},className:"min-w-8 h-8",children:e.jsx(Oe,{className:"w-4 h-4"})})}),_&&e.jsx(Pe,{content:"Delete Leave",color:"danger",children:e.jsx(W,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",isDisabled:r&&r.startsWith(`${i.id}-`),onPress:()=>{r&&r.startsWith(`${i.id}-`)||(g(i),h(i.id,"delete_leave"))},className:"min-w-8 h-8",children:e.jsx(he,{className:"w-4 h-4"})})})]})});default:return e.jsx(ue,{children:i[o]})}},[I,p,N,_,A,r,g,d,h,G,K,C]),fe=[...I?[{name:"Employee",uid:"employee",icon:ss}]:[],{name:"Leave Type",uid:"leave_type",icon:Re},{name:"From Date",uid:"from_date",icon:oe},{name:"To Date",uid:"to_date",icon:oe},{name:"Status",uid:"status",icon:Se},{name:"Reason",uid:"reason",icon:Re},...I?[{name:"Actions",uid:"actions"}]:[]];return L?e.jsxs("div",{className:"space-y-4",children:[e.jsx(Je,{className:"max-h-[70vh]",children:c.map(i=>e.jsx(ce,{leave:i,updatingLeave:r,setCurrentLeave:g,openModal:d,handleClickOpen:h,updateLeaveStatus:G,canEditLeaves:N,canDeleteLeaves:_,canApproveLeaves:p,isAdminView:I},i.id))}),P>F&&e.jsx("div",{className:"flex justify-center items-center",children:e.jsx(Qe,{initialPage:1,isCompact:!0,showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:y,radius:V(),total:f,onChange:O,style:{fontFamily:'var(--fontFamily, "Inter")'}})})]}):e.jsxs("div",{children:[e.jsx(Je,{className:"max-h-[70vh]",children:e.jsxs(fs,{isStriped:!0,setSelection:!0,selectionMode:I?"multiple":"none",selectedKeys:t,onSelectionChange:U,topContent:J,topContentPlacement:"outside",isCompact:!0,isHeaderSticky:!0,removeWrapper:!0,"aria-label":"Leave Management Table",disabledBehavior:"selection",radius:V(),classNames:{base:"max-h-[520px] overflow-auto",table:"min-h-[200px] w-full",thead:"z-10",tbody:"overflow-y-auto",th:"bg-default-100 text-default-700 font-semibold",td:"text-default-600"},style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(hs,{columns:fe,children:i=>e.jsx(ys,{align:i.uid==="actions"?"center":"start",className:"backdrop-blur-md",style:{backgroundColor:"color-mix(in srgb, var(--theme-content2) 60%, transparent)",color:"var(--theme-foreground)",borderBottom:"1px solid color-mix(in srgb, var(--theme-content3) 50%, transparent)"},children:e.jsxs("div",{className:"flex items-center gap-1",children:[i.icon&&e.jsx(i.icon,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs font-semibold",children:i.name})]})},i.uid)}),e.jsx(ps,{items:c,emptyContent:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx(oe,{className:"w-12 h-12 mb-4 opacity-40",style:{color:"var(--theme-foreground)"}}),e.jsx("h6",{className:"text-lg font-semibold mb-2",style:{color:"var(--theme-foreground)"},children:"No leaves found"}),e.jsx("p",{className:"text-sm opacity-70",style:{color:"var(--theme-foreground)"},children:w?`No leaves found for "${w}"`:"No leave requests for the selected period"})]}),children:i=>e.jsx(xs,{className:"transition-all duration-200 hover:scale-[1.01]",style:{color:"var(--theme-foreground)",borderBottom:"1px solid color-mix(in srgb, var(--theme-content3) 30%, transparent)"},children:o=>me(i,o)},i.id)})]})}),P>F&&e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx(Qe,{initialPage:1,isCompact:!0,showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:y,radius:V(),total:f,onChange:O,style:{fontFamily:'var(--fontFamily, "Inter")'}}),e.jsxs("div",{className:"text-xs opacity-70",style:{color:"var(--theme-foreground)"},children:["Page ",y," of ",f," (Total: ",P," records)"]})]})]})});Ss.displayName="LeaveEmployeeTable";const ts=({selectedDepartmentId:c,selectedEmployeeId:v,onDepartmentChange:h,onEmployeeChange:g,allUsers:d=[],departments:b=[],showSearch:R=!0,variant:y="outlined",size:P="medium",disabled:f=!1,required:F=!1,error:S={},label:w={department:"Department",employee:"Employee"},showAllOption:I=!0,autoSelectFirstDepartment:E=!0,className:u="",theme:j})=>{const p=()=>{var U;if(typeof window>"u")return"lg";const x=((U=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:U.trim())||"12px",t=parseInt(x);return t===0?"none":t<=4?"sm":t<=8?"md":t<=16?"lg":"full"},[N,_]=l.useState(""),[C,z]=l.useState(""),[K,A]=l.useState(!1);l.useEffect(()=>{if(E&&b.length>0&&!c){const r=b[0];r&&h(r.id)}},[b,c,h,E]);const L=l.useMemo(()=>N.trim()?b.filter(r=>r.name.toLowerCase().includes(N.toLowerCase())||r.id.toString().includes(N)):b,[b,N]),H=l.useMemo(()=>c?d.filter(r=>String(r.department_id)===String(c)):I?d:[],[d,c,I]),te=l.useMemo(()=>C.trim()?H.filter(r=>{var x,t;return r.name.toLowerCase().includes(C.toLowerCase())||((x=r.email)==null?void 0:x.toLowerCase().includes(C.toLowerCase()))||r.id.toString().includes(C)||((t=r.designation)==null?void 0:t.toLowerCase().includes(C.toLowerCase()))}):H,[H,C]);return l.useEffect(()=>{c&&v&&(H.some(x=>String(x.id)===String(v))||g(""))},[c,v,H,g]),e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${u}`,children:[e.jsx("div",{children:e.jsxs(De,{label:w.department,placeholder:"Select Department",selectionMode:"single",selectedKeys:c!=null?new Set([String(c)]):new Set,onSelectionChange:r=>{const x=Array.from(r)[0],t=x===""||x===void 0||x===null?null:parseInt(x);h(t),v&&g(null),_(""),z("")},isDisabled:f,isRequired:F,isInvalid:!!S.department_id,errorMessage:S.department_id,variant:"bordered",size:P==="medium"?"sm":P,radius:p(),className:"w-full",classNames:{trigger:"text-sm"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:[I&&e.jsx(ie,{value:"",textValue:"All Departments",children:e.jsx("span",{children:"All Departments"})},""),L.map(r=>e.jsx(ie,{value:String(r.id),textValue:r.name,children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:r.name}),e.jsx(Q,{size:"sm",variant:"bordered",className:"ml-auto text-xs",children:d.filter(x=>x.department_id===r.id).length})]})},String(r.id)))]})}),e.jsx("div",{children:e.jsxs(De,{label:w.employee,placeholder:!c&&!I?"Select department first":"Select Employee",selectionMode:"single",selectedKeys:v!=null?new Set([String(v)]):new Set,onSelectionChange:r=>{const x=Array.from(r)[0],t=x===""||x===void 0||x===null?null:parseInt(x);g(t),z("")},isDisabled:f||K||!c&&!I,isRequired:F,isInvalid:!!S.user_id,errorMessage:S.user_id,variant:"bordered",size:P==="medium"?"sm":P,radius:p(),className:"w-full",classNames:{trigger:"text-sm"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:[I&&e.jsx(ie,{value:"",textValue:c?"All Employees in Department":"Select Department First",children:e.jsx("span",{children:c?"All Employees in Department":"Select Department First"})},""),te.map(r=>e.jsx(ie,{value:String(r.id),textValue:r.name,children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(as,{src:r.profile_image_url||r.profile_image,size:"sm",name:r.name,showFallback:!0}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx("span",{className:"text-sm font-medium",children:r.name}),r.designation&&e.jsx("span",{className:"text-xs text-gray-500",children:r.designation})]}),r.department&&e.jsx(Q,{size:"sm",variant:"bordered",className:"text-xs h-5",children:r.department})]})},String(r.id))),te.length===0&&e.jsx(ie,{isDisabled:!0,children:e.jsx("span",{className:"text-sm text-gray-500",children:c?"No employees found in selected department":"No employees found"})},"no-employees")]})})]})};function _s({approvalChain:c,currentLevel:v,status:h}){if(!c||c.length===0)return null;const g=y=>{switch(y){case"approved":return e.jsx(je,{className:"w-5 h-5 text-success"});case"rejected":return e.jsx(Ee,{className:"w-5 h-5 text-danger"});case"pending":return e.jsx(Se,{className:"w-5 h-5 text-warning"});default:return e.jsx(Se,{className:"w-5 h-5 text-default-400"})}},d=y=>{switch(y){case"approved":return"success";case"rejected":return"danger";case"pending":return"warning";default:return"default"}},b=c.filter(y=>y.status==="approved").length,R=b/c.length*100;return e.jsx(le,{className:"w-full",children:e.jsxs(de,{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Approval Workflow"}),e.jsx(Q,{size:"sm",color:d(h),variant:"flat",children:h||"Pending"})]}),e.jsx(gs,{value:R,color:h==="rejected"?"danger":"success",size:"sm",className:"mb-2"}),e.jsx("div",{className:"space-y-3",children:c.map((y,P)=>{const f=y.level===v;return y.level<v,e.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg transition-colors ${f?"bg-warning-50 dark:bg-warning-900/20 border-l-3 border-warning":y.status==="approved"?"bg-success-50 dark:bg-success-900/20":y.status==="rejected"?"bg-danger-50 dark:bg-danger-900/20":"bg-default-100 dark:bg-default-50"}`,children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:g(y.status)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("p",{className:"text-sm font-semibold text-foreground truncate",children:["Level ",y.level,": ",y.approver_name]}),f&&e.jsx(Q,{size:"sm",color:"warning",variant:"flat",children:"Current"})]}),y.approved_at&&e.jsxs("p",{className:"text-xs text-default-500",children:[y.status==="approved"?"Approved":"Reviewed"," on"," ",new Date(y.approved_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),y.comments&&e.jsxs("p",{className:"text-xs text-default-600 mt-1 italic",children:['"',y.comments,'"']}),f&&y.status==="pending"&&e.jsx("p",{className:"text-xs text-warning-600 dark:text-warning-400 mt-1 font-medium",children:"Awaiting approval"})]})]},P)})}),h==="pending"&&e.jsxs("div",{className:"text-xs text-default-500 text-center pt-2 border-t border-divider",children:[b," of ",c.length," approvals completed"]})]})})}const ft=({open:c,closeModal:v,leavesData:h,setLeavesData:g,currentLeave:d,allUsers:b,departments:R=[],setTotalRows:y,setLastPage:P,setLeaves:f,handleMonthChange:F,employee:S,selectedMonth:w,addLeaveOptimized:I,updateLeaveOptimized:E,fetchLeavesStats:u})=>{const j=()=>{var n;if(typeof window>"u")return"lg";const s=((n=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:n.trim())||"12px",a=parseInt(s);return a===0?"none":a<=4?"sm":a<=8?"md":a<=16?"lg":"full"},{auth:p}=Le().props,[N,_]=l.useState((d==null?void 0:d.user_id)||p.user.id),C=()=>{var o;if(d!=null&&d.user_id){const s=b==null?void 0:b.find(a=>a.id===d.user_id);return(s==null?void 0:s.department_id)||null}return((o=p==null?void 0:p.user)==null?void 0:o.department_id)||null},[z,K]=l.useState(C()),[A,L]=l.useState((h==null?void 0:h.leaveTypes)||[]),[H,te]=l.useState([]),[r,x]=l.useState((d==null?void 0:d.leave_type)||""),t=o=>{if(!o)return new Date().toISOString().split("T")[0];if(typeof o=="string"&&o.match(/^\d{4}-\d{2}-\d{2}$/))return o;if(typeof o=="string"&&o.includes("T")){if(o.includes("T18:00:00")){const a=o.split("T")[0].split("-"),n=parseInt(a[0]),m=parseInt(a[1]),k=parseInt(a[2])+1;return new Date(n,m-1,k).toISOString().split("T")[0]}return o.split("T")[0]}try{const s=new Date(o);if(isNaN(s.getTime()))return new Date().toISOString().split("T")[0];const a=s.getFullYear(),n=String(s.getMonth()+1).padStart(2,"0"),m=String(s.getDate()).padStart(2,"0");return`${a}-${n}-${m}`}catch(s){return console.error("Error formatting date:",s),new Date().toISOString().split("T")[0]}},[U,V]=l.useState(d!=null&&d.from_date?t(d.from_date):""),[J,M]=l.useState(d!=null&&d.to_date?t(d.to_date):""),[Y,O]=l.useState((d==null?void 0:d.no_of_days)||""),[G,Z]=l.useState(""),[X,T]=l.useState((d==null?void 0:d.reason)||""),[B,ce]=l.useState({}),[me,fe]=l.useState(!1),[Ne,pe]=l.useState("");l.useEffect(()=>{var o;if(h){const s=h.leaveTypes||[];L(s);const a=((o=h.leaveCountsByUser)==null?void 0:o[N])||[];if(te(a),s.length>0&&!r&&!d&&x(s[0].type),d&&!r){const n=s==null?void 0:s.find(m=>m.id===d.leave_type);n&&x(n.type)}}},[h,N,d]),l.useEffect(()=>{if(d){_(d.user_id);const o=b==null?void 0:b.find(s=>s.id===d.user_id);o!=null&&o.department_id&&K(o.department_id)}},[d,b]),l.useEffect(()=>{if(!r||!H||!A)return;const o=H.find(n=>n.leave_type===r),s=(o==null?void 0:o.days_used)||0;pe(s);const a=A.find(n=>n.type===r);if(a){const n=a.days-s;Z(n),d&&Y>n&&O(n)}},[r,H,A,d,Y]),l.useEffect(()=>{O(((s,a)=>{if(!s||!a)return"";const n=new Date(s),m=new Date(a);if(n>m)return"";const k=m.getTime()-n.getTime();return Math.ceil(k/(1e3*3600*24))+1})(U,J))},[U,J]);const i=async o=>{o.preventDefault(),fe(!0);const s=new Promise(async(a,n)=>{try{const m={route:route().current(),user_id:N,leaveType:r,fromDate:U,toDate:J,daysCount:Y,leaveReason:X,employee:S,month:w},k=d?route("leave-update"):route("leave-add");d&&(m.id=d.id);const D=await axios.post(k,m);D.status===200||D.status===201?(g(D.data.leavesData),d&&E&&D.data.leave?(E(D.data.leave),u()):I&&D.data.leave?(I(D.data.leave),u(),D.data.pagination&&(y(D.data.pagination.total),P(D.data.pagination.lastPage))):(console.log("Using fallback data update mode"),D.data.leaves&&(f(D.data.leaves.data),y(D.data.leaves.total),P(D.data.leaves.last_page)),D.data.leavesData&&typeof updateLeavesData=="function"&&updateLeavesData(D.data.leavesData)),v(),a([D.data.message||"Leave application submitted successfully"])):(console.error("Unexpected response status:",D.status),n(`Unexpected response status: ${D.status}`))}catch(m){console.error("Full error object:",m),m.response?(console.error("Error response status:",m.response.status),console.error("Error response data:",m.response.data),m.response.status===422?(ce(m.response.data.errors||{}),n(m.response.data.error||"Failed to submit leave application")):n(`HTTP Error ${m.response.status}: ${m.response.data.message||"An unexpected error occurred. Please try again later."}`)):m.request?(console.error("No response received:",m.request),n("No response received from the server. Please check your internet connection.")):(console.error("Request setup error:",m.message),n("An error occurred while setting up the request."))}finally{fe(!1)}});q.promise(s,{pending:"Submitting leave application...",success:{render({data:a}){return a.join(", ")}},error:{render({data:a}){return a}}})};return e.jsx(ye,{isOpen:c,onClose:v,size:"3xl",radius:j(),scrollBehavior:"inside",classNames:{base:"backdrop-blur-md mx-2 my-2 sm:mx-4 sm:my-8 max-h-[95vh]",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",body:"overflow-y-auto",footer:"border-t border-divider",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:e.jsx(ge,{children:o=>{var s;return e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"flex flex-col gap-1",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Te,{size:20,style:{color:"var(--theme-primary)"}}),e.jsx("span",{className:"text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:d?"Edit Leave":"Add Leave"})]})}),e.jsxs("form",{onSubmit:i,children:[e.jsx(be,{className:"py-4 px-4 sm:py-6 sm:px-6",style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(De,{label:"Leave Type",placeholder:"Select Leave Type",selectionMode:"single",selectedKeys:r&&r!==""?new Set([r]):new Set,onSelectionChange:a=>{const n=Array.from(a)[0];x(n||"")},isInvalid:!!B.leaveType,errorMessage:B.leaveType,variant:"bordered",size:"sm",radius:j(),startContent:e.jsx(vs,{size:16,className:"text-default-400"}),classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:A.map(a=>{const n=H==null?void 0:H.find(D=>D.leave_type===a.type),k=(n?a.days-n.days_used:a.days)<=0;return e.jsx(ie,{value:a.type,isDisabled:k,title:k?"No remaining leaves available":"",textValue:a.type,children:e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("span",{children:a.type}),e.jsx("span",{className:"text-small text-default-500",children:n?`${n.days_used} / ${a.days} days`:`${a.days} days`})]})},a.type)})})}),e.jsx("div",{className:"col-span-1",children:e.jsx(xe,{label:"From Date",type:"date",value:U,onValueChange:V,isInvalid:!!B.fromDate,errorMessage:B.fromDate,variant:"bordered",size:"sm",radius:j(),startContent:e.jsx(Te,{size:16,className:"text-default-400"}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),e.jsx("div",{className:"col-span-1",children:e.jsx(xe,{label:"To Date",type:"date",value:J,onValueChange:M,isInvalid:!!B.toDate,errorMessage:B.toDate,variant:"bordered",size:"sm",radius:j(),startContent:e.jsx(Te,{size:16,className:"text-default-400"}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),e.jsx("div",{className:"col-span-1",children:e.jsx(xe,{label:"Number of Days",value:Y.toString(),isReadOnly:!0,isInvalid:!!B.daysCount,errorMessage:B.daysCount,variant:"bordered",size:"sm",radius:j(),startContent:e.jsx(Ge,{size:16,className:"text-default-400"}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),e.jsx("div",{className:"col-span-1",children:e.jsx(xe,{label:"Remaining Leaves",value:`${G} day${G!==1?"s":""} of ${((s=A.find(a=>a.type===r))==null?void 0:s.days)||0} total`,isReadOnly:!0,isInvalid:!!B.remainingLeaves,errorMessage:B.remainingLeaves,variant:"bordered",size:"sm",radius:j(),startContent:e.jsx(Ge,{size:16,className:"text-default-400"}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),route().current()==="leaves"&&e.jsx("div",{className:"col-span-full",children:e.jsx(ts,{selectedDepartmentId:z,selectedEmployeeId:N,onDepartmentChange:K,onEmployeeChange:_,allUsers:b,departments:R,showSearch:!0,error:B,variant:"bordered",size:"sm",showAllOption:!1,autoSelectFirstDepartment:!0,required:!0})}),e.jsx("div",{className:"col-span-full",children:e.jsx(Me,{label:"Leave Reason",placeholder:"Please provide a detailed reason for your leave request...",value:X,onValueChange:T,isInvalid:!!B.leaveReason,errorMessage:B.leaveReason,variant:"bordered",size:"sm",radius:j(),minRows:3,maxRows:5,classNames:{input:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),d&&d.approval_chain&&d.approval_chain.length>0&&e.jsx("div",{className:"col-span-full",children:e.jsx(_s,{approvalChain:d.approval_chain,currentLevel:d.current_approval_level,status:d.status})})]})}),e.jsxs(we,{className:"flex flex-col sm:flex-row justify-center gap-2 px-4 sm:px-6 py-3 sm:py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(W,{color:"default",variant:"bordered",onPress:o,radius:j(),size:"sm",style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),e.jsx(W,{type:"submit",color:"primary",variant:"solid",isLoading:me,isDisabled:me,radius:j(),size:"sm",style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:me?"Submitting...":"Submit"})]})]})]})}})})},pt=({open:c,closeModal:v,leaveId:h,setLeavesData:g,setLeaves:d,setTotalRows:b,setLastPage:R,setError:y,deleteLeaveOptimized:P,fetchLeavesStats:f})=>{const[F,S]=l.useState(!1),w=()=>{var p;if(typeof window>"u")return"lg";const u=((p=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:p.trim())||"12px",j=parseInt(u);return j===0?"none":j<=4?"sm":j<=8?"md":j<=16?"lg":"full"},I=async()=>{if(!h){q.error("Invalid leave ID provided");return}S(!0);const E=new Promise(async(u,j)=>{var p,N,_,C,z,K,A;try{const L=await ne.delete(route("leave-delete",{id:h,route:route().current()}));L.status===200&&(P?(P(h),b(H=>Math.max(0,H-1)),f&&f()):(g&&g(L.data.leavesData),b&&b(L.data.leaves.total),R&&R(L.data.leaves.last_page),d&&d(L.data.leaves.data),y&&y(!1),f&&f()),u("Leave application deleted successfully"))}catch(L){if(console.error("Error deleting leave:",L),((p=L.response)==null?void 0:p.status)===404){const{leavesData:H}=L.response.data||{};g&&H&&g(H),y&&y(((_=(N=L.response)==null?void 0:N.data)==null?void 0:_.message)||"Leave not found."),j("Leave not found or already deleted")}else((C=L.response)==null?void 0:C.status)===403?j("You do not have permission to delete this leave"):((z=L.response)==null?void 0:z.status)===422?j("Cannot delete leave with current status"):j(((A=(K=L.response)==null?void 0:K.data)==null?void 0:A.error)||"Failed to delete leave application")}finally{S(!1),v()}});q.promise(E,{pending:"Deleting leave application...",success:{render({data:u}){return u}},error:{render({data:u}){return u}}})};return e.jsx(ye,{isOpen:c,onClose:v,size:"md",radius:w(),classNames:{base:"backdrop-blur-md mx-2 my-2 sm:mx-4 sm:my-8",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",body:"py-6",footer:"border-t border-divider",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},isDismissable:!F,hideCloseButton:F,children:e.jsx(ge,{children:E=>e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"flex flex-col gap-1",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:"color-mix(in srgb, #ef4444 15%, transparent)",color:"#ef4444"},children:e.jsx(_e,{className:"w-6 h-6"})}),e.jsx("span",{className:"text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")',color:"var(--theme-foreground)"},children:"Confirm Deletion"})]})}),e.jsx(be,{style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(_e,{className:"w-5 h-5 mt-0.5 flex-shrink-0",style:{color:"#ef4444"}}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--theme-foreground)"},children:"Are you sure you want to delete this leave application?"}),e.jsx("p",{className:"text-sm",style:{color:"var(--theme-foreground-600)"},children:"This action cannot be undone. The leave application will be permanently removed from the system."})]})]})}),e.jsxs(we,{className:"flex justify-end gap-2 px-6 py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(W,{color:"default",variant:"bordered",onPress:E,radius:w(),size:"sm",isDisabled:F,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),e.jsx(W,{color:"danger",variant:"solid",onPress:I,radius:w(),size:"sm",isLoading:F,isDisabled:F,startContent:!F&&e.jsx(he,{className:"w-4 h-4"}),style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:F?"Deleting...":"Delete Leave"})]})]})})})},se=()=>{var g;if(typeof window>"u")return"lg";const v=((g=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:g.trim())||"12px",h=parseInt(v);return h===0?"none":h<=4?"sm":h<=8?"md":h<=12?"lg":"xl"},Cs=({selectedDates:c=[],onDatesChange:v,existingLeaves:h=[],publicHolidays:g=[],minDate:d=null,maxDate:b=null,userId:R=null,fetchFromAPI:y=!1})=>{const[P,f]=l.useState(new Date),[F,S]=l.useState({existingLeaves:h,publicHolidays:g}),[w,I]=l.useState(!1),[E,u]=l.useState(null),j=l.useCallback(async r=>{if(!(!y||!R)&&E!==r){I(!0);try{const x=await ne.get(route("leaves.bulk.calendar-data"),{params:{user_id:R,year:r}});x.data.success&&(S({existingLeaves:x.data.data.existingLeaves||[],publicHolidays:x.data.data.publicHolidays||[]}),u(r))}catch(x){console.error("Failed to fetch calendar data:",x)}finally{I(!1)}}},[y,R,E]);l.useEffect(()=>{const r=P.getFullYear();j(r)},[j,P.getFullYear()]),l.useEffect(()=>{y&&R&&u(null)},[R,y]);const p=y?F.existingLeaves:h,N=y?F.publicHolidays:g,_=l.useMemo(()=>{const r=P.getFullYear(),x=P.getMonth(),t=new Date(r,x,1),V=new Date(r,x+1,0).getDate(),J=t.getDay(),M=new Date(r,x,0).getDate(),Y=[];for(let T=J-1;T>=0;T--)Y.push({date:M-T,isCurrentMonth:!1,fullDate:new Date(r,x-1,M-T)});const O=[];for(let T=1;T<=V;T++)O.push({date:T,isCurrentMonth:!0,fullDate:new Date(r,x,T)});const Z=42-(Y.length+O.length),X=[];for(let T=1;T<=Z;T++)X.push({date:T,isCurrentMonth:!1,fullDate:new Date(r,x+1,T)});return[...Y,...O,...X]},[P]),C=l.useCallback(()=>{f(r=>new Date(r.getFullYear(),r.getMonth()-1,1))},[]),z=l.useCallback(()=>{f(r=>new Date(r.getFullYear(),r.getMonth()+1,1))},[]),K=l.useCallback(()=>{f(new Date)},[]),A=l.useCallback(r=>{if(!r.isCurrentMonth||w)return;const x=r.fullDate.getFullYear()+"-"+String(r.fullDate.getMonth()+1).padStart(2,"0")+"-"+String(r.fullDate.getDate()).padStart(2,"0"),t=p.some(M=>{if(!M.from_date||!M.to_date)return!1;const Y=M.from_date.split("T")[0],O=M.to_date.split("T")[0];return x>=Y&&x<=O}),U=N.includes(x);if(t||U||d&&r.fullDate<new Date(d)||b&&r.fullDate>new Date(b))return;const V=c.includes(x);let J;V?J=c.filter(M=>M!==x):J=[...c,x],v(J.sort())},[c,v,d,b,w,p,N]),L=l.useCallback(r=>{if(!r.isCurrentMonth)return{selectable:!1};const x=r.fullDate.getFullYear()+"-"+String(r.fullDate.getMonth()+1).padStart(2,"0")+"-"+String(r.fullDate.getDate()).padStart(2,"0"),t=c.includes(x),U=r.fullDate.toDateString()===new Date().toDateString(),V=r.fullDate<new Date().setHours(0,0,0,0),J=r.fullDate.getDay()===0||r.fullDate.getDay()===6,M=p.some(G=>{if(!G.from_date||!G.to_date)return!1;const Z=G.from_date.split("T")[0],X=G.to_date.split("T")[0];return x>=Z&&x<=X}),Y=N.includes(x),O=!w&&!M&&!Y&&(!d||r.fullDate>=new Date(d))&&(!b||r.fullDate<=new Date(b));return{isSelected:t,isToday:U,isPast:V,isWeekend:J,hasExistingLeave:M,isPublicHoliday:Y,selectable:O}},[c,p,N,d,b,w]),H=P.toLocaleDateString("en-US",{month:"long",year:"numeric"}),te=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return e.jsxs(le,{radius:se(),className:"w-full shadow-sm border border-divider/50",style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',background:`linear-gradient(135deg, 
                    color-mix(in srgb, var(--theme-content1) 90%, transparent) 40%, 
                    color-mix(in srgb, var(--theme-content2) 80%, transparent) 60%)`},children:[e.jsx(Be,{className:"pb-3 px-4 pt-4",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"w-4 h-4 sm:w-5 sm:h-5",style:{color:"var(--theme-primary)"}}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:H}),y&&E&&e.jsx(Q,{size:"sm",variant:"bordered",color:"primary",className:"ml-2 text-xs hidden sm:flex",radius:se(),style:{borderColor:"var(--theme-primary)",color:"var(--theme-primary)",fontFamily:'var(--fontFamily, "Inter")'},children:E})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(W,{isIconOnly:!0,size:"sm",variant:"light",onClick:C,isDisabled:w,radius:se(),className:"min-w-8 h-8",style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsx(ws,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx(W,{size:"sm",variant:"light",onClick:K,isDisabled:w,radius:se(),className:"px-2 py-1 text-xs hidden sm:flex",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Today"}),e.jsx(W,{isIconOnly:!0,size:"sm",variant:"light",onClick:z,isDisabled:w,radius:se(),className:"min-w-8 h-8",style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsx(ns,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})}),e.jsxs(de,{className:"pt-0 px-4 pb-4",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[w&&e.jsxs("div",{className:"flex justify-center items-center py-4 rounded-lg mb-4",style:{background:"var(--theme-content2, #F4F4F5)",borderColor:"var(--theme-divider, #E4E4E7)"},children:[e.jsx(es,{size:"sm",color:"primary"}),e.jsxs("span",{className:"ml-2 text-xs sm:text-sm",style:{color:"var(--theme-foreground-600, #71717A)",fontFamily:'var(--fontFamily, "Inter")'},children:["Loading calendar data for ",P.getFullYear(),"..."]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2 mb-4",children:[e.jsx(Q,{size:"sm",color:"primary",variant:"solid",radius:se(),className:"text-xs font-medium",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Selected"}),e.jsx(Q,{size:"sm",color:"danger",variant:"solid",radius:se(),className:"text-xs",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Leave"}),e.jsx(Q,{size:"sm",color:"warning",variant:"solid",radius:se(),className:"text-xs",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Holiday"}),e.jsx(Q,{size:"sm",color:"secondary",variant:"solid",radius:se(),className:"text-xs font-medium hidden sm:flex",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Today"}),e.jsx(Q,{size:"sm",color:"default",variant:"bordered",radius:se(),className:"text-xs hidden sm:flex",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Weekend"})]}),e.jsx("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1 mb-2",children:te.map(r=>e.jsx("div",{className:"flex items-center justify-center w-8 h-6 sm:w-10 sm:h-8 text-xs sm:text-sm font-medium",style:{color:"var(--theme-foreground-600, #71717A)",fontFamily:'var(--fontFamily, "Inter")'},children:r},r))}),e.jsx("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1",children:_.map((r,x)=>{const t=L(r);return e.jsxs("div",{onClick:()=>A(r),className:`
                                    relative flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 min-h-8 sm:min-h-10
                                    rounded-md transition-all duration-200 text-xs sm:text-sm select-none
                                    ${t.selectable?"cursor-pointer":"cursor-not-allowed"}
                                    ${r.isCurrentMonth?"":"opacity-30"}
                                    ${w?"opacity-50 pointer-events-none":""}
                                    ${t.isSelected?"font-bold border-2 shadow-md scale-105 z-10":""}
                                    ${t.hasExistingLeave&&!t.isSelected?"border-2 font-medium cursor-not-allowed":""}
                                    ${t.isPublicHoliday&&!t.isSelected&&!t.hasExistingLeave?"border-2 font-medium cursor-not-allowed":""}
                                    ${t.isToday&&!t.isSelected&&!t.hasExistingLeave&&!t.isPublicHoliday?"font-semibold border-2 shadow-sm":""}
                                    ${t.isWeekend&&!t.isSelected&&!t.hasExistingLeave&&!t.isPublicHoliday&&!t.isToday?"border opacity-70":""}
                                    ${!t.selectable&&!t.hasExistingLeave&&!t.isPublicHoliday&&!t.isToday&&!t.isWeekend?"cursor-not-allowed opacity-60":""}
                                    ${t.selectable&&!t.isSelected&&!t.hasExistingLeave&&!t.isPublicHoliday&&!t.isToday&&!t.isWeekend?"border border-transparent hover:scale-105":""}
                                `,style:{backgroundColor:t.isSelected?"var(--theme-primary)":t.hasExistingLeave&&!t.isSelected?"var(--theme-danger)":t.isPublicHoliday&&!t.isSelected&&!t.hasExistingLeave?"var(--theme-warning)":t.isToday&&!t.isSelected&&!t.hasExistingLeave&&!t.isPublicHoliday?"var(--theme-secondary-200)":t.isWeekend&&!t.isSelected&&!t.hasExistingLeave&&!t.isPublicHoliday&&!t.isToday||w?"var(--theme-content2)":"transparent",color:t.isSelected?"var(--theme-primary-foreground)":t.hasExistingLeave&&!t.isSelected?"var(--theme-danger-foreground)":t.isPublicHoliday&&!t.isSelected&&!t.hasExistingLeave?"var(--theme-warning-foreground)":t.isToday&&!t.isSelected&&!t.hasExistingLeave&&!t.isPublicHoliday?"var(--theme-secondary-800)":t.isWeekend&&!t.isSelected&&!t.hasExistingLeave&&!t.isPublicHoliday&&!t.isToday?"var(--theme-foreground-500)":!t.selectable&&!t.hasExistingLeave&&!t.isPublicHoliday&&!t.isToday&&!t.isWeekend?"var(--theme-foreground-400)":"var(--theme-foreground-900)",borderColor:t.isSelected?"var(--theme-primary-600)":t.hasExistingLeave&&!t.isSelected?"var(--theme-danger-600)":t.isPublicHoliday&&!t.isSelected&&!t.hasExistingLeave?"var(--theme-warning-600)":t.isToday&&!t.isSelected&&!t.hasExistingLeave&&!t.isPublicHoliday?"var(--theme-secondary-500)":t.isWeekend&&!t.isSelected&&!t.hasExistingLeave&&!t.isPublicHoliday&&!t.isToday?"var(--theme-divider)":"transparent",borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},role:"button",tabIndex:t.selectable?0:-1,title:t.hasExistingLeave?"Existing leave - cannot select":t.isPublicHoliday?"Public holiday - cannot select":t.selectable?"":"Not selectable","aria-label":`${r.fullDate.toDateString()}${t.isSelected?" (selected)":""}${t.hasExistingLeave?" (existing leave)":""}${t.isPublicHoliday?" (public holiday)":""}`,onKeyDown:U=>{(U.key==="Enter"||U.key===" ")&&(U.preventDefault(),A(r))},children:[r.date,t.isWeekend&&!t.isSelected&&!t.hasExistingLeave&&!t.isPublicHoliday&&e.jsx("div",{className:"absolute top-0.5 right-0.5 w-1 h-1 rounded-full opacity-50 hidden sm:block",style:{backgroundColor:"var(--theme-foreground-500)"}})]},x)})}),c.length>0&&e.jsxs("div",{className:"mt-4 p-3 sm:p-4 rounded-lg relative overflow-hidden",style:{background:`linear-gradient(135deg, 
                            color-mix(in srgb, var(--theme-primary) 10%, transparent) 20%, 
                            color-mix(in srgb, var(--theme-primary) 5%, transparent) 80%)`,border:"1px solid color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("p",{className:"text-xs sm:text-sm font-semibold mb-2",style:{color:"var(--theme-primary)",fontFamily:'var(--fontFamily, "Inter")'},children:[" ",c.length," date",c.length!==1?"s":""," selected"]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[c.slice(0,8).map(r=>e.jsx(Q,{size:"sm",color:"primary",variant:"solid",radius:se(),className:"text-xs font-medium",style:{fontFamily:'var(--fontFamily, "Inter")'},children:new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric"})},r)),c.length>8&&e.jsxs(Q,{size:"sm",color:"primary",variant:"bordered",radius:se(),className:"text-xs font-medium",style:{borderColor:"var(--theme-primary)",color:"var(--theme-primary)",fontFamily:'var(--fontFamily, "Inter")'},children:["+",c.length-8," more"]})]})]}),e.jsx("div",{className:"absolute -top-2 -right-2 w-12 h-12 rounded-full opacity-30",style:{backgroundColor:"var(--theme-primary)"}})]})]})]})},$e=()=>{var g;if(typeof window>"u")return"lg";const v=((g=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:g.trim())||"12px",h=parseInt(v);return h===0?"none":h<=4?"sm":h<=8?"md":h<=12?"lg":"xl"},Rs=({validationResults:c=[],balanceImpact:v=null,isValidating:h=!1})=>{if(c.length===0&&!h)return null;const g=c.filter(f=>f.status==="valid").length,d=c.filter(f=>f.status==="warning").length,b=c.filter(f=>f.status==="conflict").length;c.length;const R=f=>{const F={className:"w-4 h-4"};switch(f){case"valid":return e.jsx(je,{...F,style:{color:"var(--theme-success, #22C55E)"}});case"warning":return e.jsx(_e,{...F,style:{color:"var(--theme-warning, #F59E0B)"}});case"conflict":return e.jsx(Ee,{...F,style:{color:"var(--theme-danger, #EF4444)"}});default:return e.jsx(Xe,{...F,style:{color:"var(--theme-foreground-400, #A1A1AA)"}})}},y=f=>{switch(f){case"valid":return"success";case"warning":return"warning";case"conflict":return"danger";default:return"default"}},P=f=>new Date(f).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4",children:[e.jsxs(le,{radius:$e(),className:"shadow-sm border border-divider/50",style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',background:`linear-gradient(135deg, 
                        color-mix(in srgb, var(--theme-content1) 90%, transparent) 40%, 
                        color-mix(in srgb, var(--theme-content2) 80%, transparent) 60%)`},children:[e.jsx(Be,{className:"pb-2 px-4 pt-4",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Validation Results"}),h&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(es,{size:"sm",color:"primary"}),e.jsx("span",{className:"text-xs sm:text-sm",style:{color:"var(--theme-foreground-600, #71717A)",fontFamily:'var(--fontFamily, "Inter")'},children:"Validating..."})]})]})}),e.jsxs(de,{className:"pt-0 px-4 pb-4",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-lg sm:text-2xl font-bold",style:{color:"var(--theme-success, #22C55E)",fontFamily:'var(--fontFamily, "Inter")'},children:g}),e.jsx("p",{className:"text-xs sm:text-sm",style:{color:"var(--theme-success, #22C55E)",fontFamily:'var(--fontFamily, "Inter")'},children:"Valid"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-lg sm:text-2xl font-bold",style:{color:"var(--theme-warning, #F59E0B)",fontFamily:'var(--fontFamily, "Inter")'},children:d}),e.jsx("p",{className:"text-xs sm:text-sm",style:{color:"var(--theme-warning, #F59E0B)",fontFamily:'var(--fontFamily, "Inter")'},children:"Warnings"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-lg sm:text-2xl font-bold",style:{color:"var(--theme-danger, #EF4444)",fontFamily:'var(--fontFamily, "Inter")'},children:b}),e.jsx("p",{className:"text-xs sm:text-sm",style:{color:"var(--theme-danger, #EF4444)",fontFamily:'var(--fontFamily, "Inter")'},children:"Conflicts"})]})]}),v&&e.jsxs("div",{className:"p-3 sm:p-4 rounded-lg border",style:{background:"var(--theme-content2, #F4F4F5)",borderColor:"var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 8px)"},children:[e.jsxs("h4",{className:"text-xs sm:text-sm font-medium mb-3 sm:mb-4 flex items-center gap-2",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(Xe,{className:"w-4 h-4",style:{color:"var(--theme-primary)"}}),"Leave Balance Impact"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs sm:text-sm",style:{color:"var(--theme-foreground-600, #71717A)",fontFamily:'var(--fontFamily, "Inter")'},children:"Leave Type:"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium ml-2",style:{fontFamily:'var(--fontFamily, "Inter")'},children:v.leave_type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs sm:text-sm",style:{color:"var(--theme-foreground-600, #71717A)",fontFamily:'var(--fontFamily, "Inter")'},children:"Current Balance:"}),e.jsxs("span",{className:"text-xs sm:text-sm font-medium ml-2",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[v.current_balance," days"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs sm:text-sm",style:{color:"var(--theme-foreground-600, #71717A)",fontFamily:'var(--fontFamily, "Inter")'},children:"Requested Days:"}),e.jsxs("span",{className:"text-xs sm:text-sm font-medium ml-2",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[v.requested_days," days"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs sm:text-sm",style:{color:"var(--theme-foreground-600, #71717A)",fontFamily:'var(--fontFamily, "Inter")'},children:"Remaining Balance:"}),e.jsxs("span",{className:"text-xs sm:text-sm font-medium ml-2",style:{color:v.remaining_balance<0?"var(--theme-danger)":"var(--theme-success)",fontFamily:'var(--fontFamily, "Inter")'},children:[v.remaining_balance," days"]})]})]}),v.remaining_balance<0&&e.jsx("div",{className:"mt-3 p-2 sm:p-3 rounded-md border",style:{background:"color-mix(in srgb, var(--theme-danger) 10%, transparent)",borderColor:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:e.jsxs("p",{className:"text-xs sm:text-sm",style:{color:"var(--theme-danger)",fontFamily:'var(--fontFamily, "Inter")'},children:[" This request exceeds your available leave balance by ",Math.abs(v.remaining_balance)," days."]})})]})]})]}),c.length>0&&e.jsxs(le,{radius:$e(),className:"shadow-sm border border-divider/50",style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',background:`linear-gradient(135deg, 
                            color-mix(in srgb, var(--theme-content1) 90%, transparent) 40%, 
                            color-mix(in srgb, var(--theme-content2) 80%, transparent) 60%)`},children:[e.jsx(Be,{className:"px-4 pt-4 pb-2",children:e.jsx("h3",{className:"text-base sm:text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Date-by-Date Results"})}),e.jsx(de,{className:"px-4 pb-4 pt-0",style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsx("div",{className:"flex flex-col gap-2 max-h-40 overflow-y-auto",children:c.map((f,F)=>e.jsxs("div",{className:"flex items-start justify-between p-3 rounded-lg border transition-colors",style:{borderColor:"var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 8px)"},onMouseEnter:S=>{S.target.style.borderColor="var(--theme-divider-hover, #D4D4D8)"},onMouseLeave:S=>{S.target.style.borderColor="var(--theme-divider, #E4E4E7)"},children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[R(f.status),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium",style:{fontFamily:'var(--fontFamily, "Inter")'},children:P(f.date)}),e.jsx("p",{className:"text-xs opacity-75",style:{color:"var(--theme-foreground-500, #71717A)",fontFamily:'var(--fontFamily, "Inter")'},children:f.date})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsx(Q,{size:"sm",variant:"bordered",color:y(f.status),radius:$e(),className:"capitalize text-xs",style:{fontFamily:'var(--fontFamily, "Inter")'},children:f.status}),f.errors&&f.errors.length>0&&e.jsx("div",{className:"text-right",children:f.errors.map((S,w)=>e.jsx("p",{className:"text-xs",style:{color:"var(--theme-danger)",fontFamily:'var(--fontFamily, "Inter")'},children:S},w))}),f.warnings&&f.warnings.length>0&&e.jsx("div",{className:"text-right",children:f.warnings.map((S,w)=>e.jsx("p",{className:"text-xs",style:{color:"var(--theme-warning)",fontFamily:'var(--fontFamily, "Inter")'},children:S},w))})]})]},F))})})]})]})},xt=({open:c,onClose:v,onSuccess:h,allUsers:g=[],departments:d=[],leavesData:b={leaveTypes:[],leaveCountsByUser:{}},isAdmin:R=!1,existingLeaves:y=[],publicHolidays:P=[]})=>{var i;const{auth:f}=Le().props,F=()=>{var n;if(typeof window>"u")return"lg";const s=((n=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:n.trim())||"12px",a=parseInt(s);return a===0?"none":a<=4?"sm":a<=8?"md":a<=16?"lg":"full"},[S,w]=l.useState([]),[I,E]=l.useState(null),[u,j]=l.useState(null),[p,N]=l.useState(""),[_,C]=l.useState(""),[z,K]=l.useState(!1),[A,L]=l.useState([]),[H,te]=l.useState(!1),[r,x]=l.useState([]),[t,U]=l.useState(null),[V,J]=l.useState(!1),[M,Y]=l.useState(!1),[O,G]=l.useState(!1),[Z,X]=l.useState({});l.useMemo(()=>!y||y.length===0?[]:y.filter(o=>o.user_id===parseInt(u)),[y,u]);const T=l.useMemo(()=>A.length>0?A:(b==null?void 0:b.leaveTypes)||[],[A,b]),B=l.useMemo(()=>{var o;return A.length>0?A.map(s=>({leave_type:s.type,days_used:s.used,total_days:s.days,remaining_days:s.remaining})):((o=b==null?void 0:b.leaveCountsByUser)==null?void 0:o[u])||[]},[A,b,u]),ce=l.useCallback(async o=>{if(o){te(!0);try{const s=await ne.get(route("leaves.bulk.leave-types"),{params:{user_id:o,year:new Date().getFullYear()}});s.data.success&&L(s.data.leave_types)}catch(s){console.error("Failed to fetch user leave types:",s),L([])}finally{te(!1)}}},[]);l.useEffect(()=>{(c&&u&&R||c&&u&&!R)&&ce(u)},[u,c,R,ce]),l.useEffect(()=>{if(c&&(f!=null&&f.user)){const o=g==null?void 0:g.find(s=>s.id===f.user.id);(o&&o.department_id&&!R||R&&!I&&!u&&o&&o.department_id)&&(E(o.department_id),j(f.user.id))}},[c,f==null?void 0:f.user,g,R,I,u]),l.useEffect(()=>{var o;c||(w([]),E(null),j(((o=f==null?void 0:f.user)==null?void 0:o.id)||null),N(""),C(""),K(!1),x([]),U(null),Y(!1),X({}),L([]))},[c,(i=f==null?void 0:f.user)==null?void 0:i.id]),l.useEffect(()=>{if(T.length>0&&!p&&c&&u){const o=T.find(s=>{if(A.length>0)return s.remaining>0;const a=B==null?void 0:B.find(m=>m.leave_type===s.type);return(a?s.days-a.days_used:s.days)>0});o&&N(o.type)}},[T,B,A,p,c,u]);const me=l.useCallback(async()=>{var o,s,a;if(S.length===0){const n=Promise.reject(new Error("No dates selected"));q.promise(n,{error:"Please select at least one date"});return}if(!p){const n=Promise.reject(new Error("No leave type selected"));q.promise(n,{error:"Please select a leave type"});return}if(!_.trim()||_.trim().length<5){const n=Promise.reject("Please provide a reason for leave (at least 5 characters)");q.promise(n,{error:"Please provide a reason for leave (at least 5 characters)"});return}J(!0),X({});try{const n=T.find(k=>k.type===p),m=await ne.post(route("leaves.bulk.validate"),{user_id:parseInt(u),dates:S,leave_type_id:n==null?void 0:n.id,reason:_.trim()});if(m.data.success){x(m.data.validation_results),U(m.data.estimated_balance_impact),Y(!0);const k=m.data.validation_results.filter(ae=>ae.status==="conflict").length,D=m.data.validation_results.filter(ae=>ae.status==="warning").length,re=Promise.resolve();k>0?q.promise(re,{success:`${k} date(s) have conflicts. Please review before submitting.`}):D>0?q.promise(re,{success:`${D} date(s) have warnings. You may proceed if acceptable.`}):q.promise(re,{success:"All dates validated successfully!"})}}catch(n){console.error("Validation error:",n),((o=n.response)==null?void 0:o.status)===422&&X(n.response.data.errors||{});const m=Promise.reject(n);q.promise(m,{error:((a=(s=n.response)==null?void 0:s.data)==null?void 0:a.message)||"Failed to validate dates"})}finally{J(!1)}},[S,p,_,u,T]),fe=l.useCallback(async()=>{if(!M){const a=Promise.reject(new Error("Not validated"));q.promise(a,{error:"Please validate dates before submitting"});return}if(r.filter(a=>a.status==="conflict").length>0&&!z){const a=Promise.reject("Please resolve conflicts or enable partial success mode");q.promise(a,{error:"Please resolve conflicts or enable partial success mode"});return}G(!0);const s=new Promise(async(a,n)=>{try{const m=T.find(D=>D.type===p),k=await ne.post(route("leaves.bulk.store"),{user_id:parseInt(u),dates:S,leave_type_id:m==null?void 0:m.id,reason:_.trim(),allow_partial_success:z});k.status===200||k.status===201?(h==null||h(k.data),v(),a([k.data.message||"Bulk leave requests created successfully"])):(console.error("Unexpected response status:",k.status),n(`Unexpected response status: ${k.status}`))}catch(m){console.error("Full error object:",m),m.response?(console.error("Error response status:",m.response.status),console.error("Error response data:",m.response.data),m.response.status===422?(X(m.response.data.errors||{}),n(m.response.data.error||"Failed to submit bulk leave requests")):n(`HTTP Error ${m.response.status}: ${m.response.data.message||"An unexpected error occurred. Please try again later."}`)):m.request?(console.error("No response received:",m.request),n("No response received from the server. Please check your internet connection.")):(console.error("Request setup error:",m.message),n("An error occurred while setting up the request."))}finally{G(!1)}});q.promise(s,{pending:"Creating bulk leave requests...",success:{render({data:a}){return a.join(", ")}},error:{render({data:a}){return a}}})},[M,r,z,u,S,p,_,h,v,T]),Ne=S.length>0&&p&&_.trim().length>=5,pe=M&&(r.filter(o=>o.status==="conflict").length===0||z);return e.jsx(ye,{isOpen:c,onClose:v,size:"5xl",radius:F(),scrollBehavior:"inside",classNames:{base:"backdrop-blur-md max-h-[95vh] my-2",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider flex-shrink-0",body:"overflow-y-auto max-h-[calc(95vh-160px)]",footer:"border-t border-divider flex-shrink-0",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:e.jsx(ge,{children:o=>e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"flex flex-col gap-1 py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"w-5 h-5 sm:w-6 sm:h-6",style:{color:"var(--theme-primary)"}}),e.jsxs("div",{children:[e.jsx("span",{className:"text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Add Bulk Leave"}),e.jsx("p",{className:"text-sm text-default-500 mt-0.5",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Select multiple dates and create leave requests in batch"})]})]})}),e.jsx(be,{className:"py-4 px-4 sm:py-6 sm:px-6 overflow-y-auto",style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",style:{color:"var(--theme-foreground-900, #18181B)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(oe,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}}),"Select Dates"]}),e.jsx(Cs,{selectedDates:S,onDatesChange:s=>{w(s),Y(!1)},userId:u,fetchFromAPI:!0})]}),e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",style:{color:"var(--theme-foreground-900, #18181B)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(ss,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}}),"Leave Details"]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[R&&g.length>0&&e.jsx(ts,{selectedDepartmentId:I,selectedEmployeeId:u,onDepartmentChange:E,onEmployeeChange:s=>{j(s),N(""),Y(!1),L([])},allUsers:g,departments:d,showSearch:!0,error:Z,variant:"outlined",showAllOption:!1,autoSelectFirstDepartment:!1,required:!0,disabled:O||V}),e.jsx("div",{children:e.jsx(De,{label:"Leave Type",placeholder:"Select Leave Type",selectionMode:"single",selectedKeys:p?new Set([p]):new Set,onSelectionChange:s=>{const a=Array.from(s)[0];N(a||""),Y(!1)},isDisabled:O||V||H,isInvalid:!!Z.leave_type_id,errorMessage:Z.leave_type_id,variant:"bordered",size:"sm",radius:F(),classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:H?e.jsx(ie,{isDisabled:!0,children:"Loading leave types..."},"loading"):T.map(s=>{let a,n;if(A.length>0)a=s.remaining,n=a<=0;else{const m=B==null?void 0:B.find(k=>k.leave_type===s.type);a=m?s.days-m.days_used:s.days,n=a<=0}return e.jsx(ie,{value:s.type,isDisabled:n,title:n?"No remaining leaves available":"",textValue:s.type,children:e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("span",{children:s.type}),e.jsxs("span",{children:["(",a," remaining)"]})]})},s.type)})})}),p&&e.jsx(xe,{label:"Remaining Leaves",value:(()=>{const s=T.find(m=>m.type===p);let a,n;if(A.length>0&&s)a=s.remaining,n=s.days;else{const m=B==null?void 0:B.find(k=>k.leave_type===p);a=m?(s==null?void 0:s.days)-m.days_used:s==null?void 0:s.days,n=s==null?void 0:s.days}return`${a||0} remaining of ${n||0} total`})(),isReadOnly:!0,variant:"bordered",size:"sm",radius:F(),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),e.jsx(xe,{label:"Reason for Leave",placeholder:"Please provide a detailed reason for your leave request...",value:_,onChange:s=>{C(s.target.value),Y(!1)},isRequired:!0,isInvalid:!!Z.reason||_.length>0&&_.length<5,errorMessage:Z.reason||(_.length>0&&_.length<5?"Reason must be at least 5 characters":`${_.length}/500 characters`),maxLength:500,isDisabled:O||V,variant:"bordered",size:"sm",radius:F(),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(bs,{isSelected:z,onValueChange:K,size:"sm",isDisabled:O||V}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Allow partial success"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Valid dates will be processed even if some dates fail validation"})]})]})]})]}),S.length>0&&e.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",style:{borderRadius:"var(--borderRadius, 12px)",border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                                            color-mix(in srgb, var(--theme-content1) 30%, transparent) 20%, 
                                            color-mix(in srgb, var(--theme-content2) 20%, transparent) 10%)`,fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Selected Dates Summary"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 dark:text-white",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx("strong",{children:S.length})," date",S.length!==1?"s":""," selected"]}),p&&e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["Leave type: ",p]})]}),e.jsx(Rs,{validationResults:r,balanceImpact:t,isValidating:V})]})})]})}),e.jsxs(we,{className:"flex flex-col sm:flex-row justify-between items-center gap-2 px-4 sm:px-6 py-3 sm:py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(W,{variant:"light",onPress:o,isDisabled:O,radius:F(),className:"w-full sm:w-auto order-2 sm:order-1",style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto order-1 sm:order-2",children:[e.jsx(W,{variant:"bordered",color:"primary",onPress:me,isLoading:V,isDisabled:!Ne||O,startContent:!V&&e.jsx(_e,{className:"w-4 h-4"}),radius:F(),className:"w-full sm:w-auto",style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:e.jsx("span",{className:"truncate",children:V?"Validating...":"Validate Dates"})}),e.jsx(W,{variant:"solid",color:"primary",onPress:fe,isLoading:O,isDisabled:!pe||V,startContent:!O&&e.jsx(je,{className:"w-4 h-4"}),radius:F(),className:"w-full sm:w-auto",style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:e.jsx("span",{className:"truncate",children:O?"Creating...":`Create ${S.length} Leave${S.length!==1?"s":""}`})})]})]})]})})})},ht=({open:c,onClose:v,onSuccess:h,selectedLeaves:g=[],allUsers:d=[]})=>{const b=()=>{var p;if(typeof window>"u")return"lg";const u=((p=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:p.trim())||"12px",j=parseInt(u);return j===0?"none":j<=4?"sm":j<=8?"md":j<=16?"lg":"full"},[R,y]=l.useState(!1),[P,f]=l.useState({}),F=l.useCallback(E=>{const u=d.find(j=>j.id===E);return(u==null?void 0:u.name)||`User ID: ${E}`},[d]),S=g.filter(E=>E.status&&E.status.toLowerCase()==="approved"),w=S.length===0,I=l.useCallback(async()=>{if(!w){const u=Promise.reject("Cannot delete approved leaves");q.promise(u,{error:"Cannot delete approved leave requests"});return}if(g.length===0){const u=Promise.reject("No leaves selected");q.promise(u,{error:"No leave requests selected for deletion"});return}y(!0);const E=new Promise(async(u,j)=>{try{const p=g.map(_=>_.id),N=await ne.delete(route("leaves.bulk.delete"),{data:{leave_ids:p}});N.status===200&&N.data.success?(h==null||h(N.data),v(),u([N.data.message||"Leave requests deleted successfully"])):(console.error("Unexpected response status:",N.status),j(`Unexpected response status: ${N.status}`))}catch(p){console.error("Full error object:",p),p.response?(console.error("Error response status:",p.response.status),console.error("Error response data:",p.response.data),p.response.status===422?(f(p.response.data.errors||{}),j(p.response.data.error||"Failed to delete leave requests")):p.response.status===403?j(p.response.data.error||"You are not authorized to delete these leave requests"):p.response.status===404?j(p.response.data.error||"Some leave requests were not found"):j(`HTTP Error ${p.response.status}: ${p.response.data.message||"An unexpected error occurred. Please try again later."}`)):p.request?(console.error("No response received:",p.request),j("No response received from the server. Please check your internet connection.")):(console.error("Request setup error:",p.message),j("An error occurred while setting up the request."))}finally{y(!1)}});q.promise(E,{pending:"Deleting leave requests...",success:{render({data:u}){return u.join(", ")}},error:{render({data:u}){return u}}})},[g,w,h,v]);return e.jsx(ye,{isOpen:c,onClose:v,size:"2xl",radius:b(),scrollBehavior:"inside",classNames:{base:"backdrop-blur-md mx-2 my-2 sm:mx-4 sm:my-8 max-h-[95vh]",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider",body:"overflow-y-auto",footer:"border-t border-divider",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:e.jsx(ge,{children:E=>e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"flex flex-col gap-1",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-6 h-6",style:{color:"var(--theme-danger, #f31260)"}}),e.jsxs("div",{children:[e.jsx("span",{className:"text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")',color:"var(--theme-foreground)"},children:"Delete Leave Requests"}),e.jsxs("p",{className:"text-sm mt-0.5",style:{color:"var(--theme-foreground-600)"},children:["Confirm deletion of ",g.length," leave request",g.length!==1?"s":""]})]})]})}),e.jsx(be,{className:"py-4 px-4 sm:py-6 sm:px-6",style:{fontFamily:'var(--fontFamily, "Inter")'},children:e.jsxs("div",{className:"space-y-6",children:[!w&&e.jsx(le,{className:"border",style:{backgroundColor:"color-mix(in srgb, var(--theme-danger) 10%, transparent)",borderColor:"color-mix(in srgb, var(--theme-danger) 30%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsxs(de,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(_e,{className:"w-5 h-5",style:{color:"var(--theme-danger)"}}),e.jsx("h4",{className:"font-semibold",style:{color:"var(--theme-danger)"},children:"Cannot Delete Approved Leaves"})]}),e.jsxs("p",{className:"text-sm",style:{color:"var(--theme-danger)"},children:[S.length," of the selected leave requests are already approved and cannot be deleted. Only pending or rejected leaves can be deleted."]})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(je,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}}),e.jsxs("h3",{className:"text-base font-semibold",style:{color:"var(--theme-foreground)"},children:["Selected Leave Requests (",g.length,")"]})]}),e.jsx(le,{className:"border max-h-80 overflow-y-auto",style:{backgroundColor:"var(--theme-content1)",borderColor:"var(--theme-divider)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(de,{className:"p-0",children:g.map((u,j)=>{var N,_,C;const p=u.status&&u.status.toLowerCase()==="approved";return e.jsxs("div",{children:[e.jsxs("div",{className:`p-4 ${p?"opacity-60":""}`,style:{backgroundColor:p?"color-mix(in srgb, var(--theme-danger) 5%, transparent)":"transparent"},children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[e.jsx("span",{className:"font-medium text-sm",style:{color:"var(--theme-foreground)"},children:F(u.user_id)}),e.jsx(Q,{size:"sm",variant:"bordered",color:((N=u.status)==null?void 0:N.toLowerCase())==="approved"?"success":((_=u.status)==null?void 0:_.toLowerCase())==="pending"?"warning":((C=u.status)==null?void 0:C.toLowerCase())==="rejected"?"danger":"default",radius:b(),style:{borderRadius:"var(--borderRadius, 8px)"},children:u.status||"Unknown"}),p&&e.jsx(Q,{size:"sm",variant:"bordered",color:"danger",radius:b(),style:{borderRadius:"var(--borderRadius, 8px)"},children:"Cannot Delete"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm",style:{color:"var(--theme-foreground-600)"},children:[u.leave_type," - ",u.from_date," to ",u.to_date]}),e.jsxs("p",{className:"text-sm",style:{color:"var(--theme-foreground-600)"},children:[u.no_of_days," day",u.no_of_days!==1?"s":""," - ",u.reason]})]})]}),j<g.length-1&&e.jsx(ze,{style:{background:"var(--theme-divider)"}})]},u.id)})})})]}),w&&e.jsx(le,{className:"border",style:{backgroundColor:"color-mix(in srgb, var(--theme-warning) 10%, transparent)",borderColor:"color-mix(in srgb, var(--theme-warning) 30%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(de,{className:"p-4",children:e.jsx("p",{className:"text-sm font-medium",style:{color:"var(--theme-warning)"},children:" This action cannot be undone. The selected leave requests will be permanently deleted."})})})]})}),e.jsxs(we,{className:"flex flex-col sm:flex-row justify-center gap-2 px-4 sm:px-6 py-3 sm:py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(W,{color:"default",variant:"bordered",onPress:E,radius:b(),size:"sm",isDisabled:R,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),e.jsx(W,{color:"danger",variant:"solid",onPress:I,isLoading:R,isDisabled:!w||R||g.length===0,startContent:!R&&e.jsx(he,{className:"w-4 h-4"}),radius:b(),size:"sm",style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:R?"Deleting...":`Delete ${g.length} Request${g.length!==1?"s":""}`})]})]})})})};export{xt as B,pt as D,ft as L,ht as a,Ss as b};
