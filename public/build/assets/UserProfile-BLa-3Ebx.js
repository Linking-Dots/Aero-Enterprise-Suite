import{r as m,j as e,c as oe,b as B,d as ie,e as xe,R as ve,A as ue,H as le,J as Fe,a as qe,Q as Pe}from"./app-CFOXYWdD.js";import{m as O,u as G,b as He,G as de,g as Ce}from"./logo-AMLCgbkx.js";import{g as Ke}from"./glassyStyles-SXTxBm_S.js";import{S as Je,P as Ve,d as J,K as ne,h as _e,z as te,H as Be,m as Xe,k as $e,I as Ae,J as Re,o as Ye,s as W,l as H,B as F,g as Qe,A as ye,T as Ee,b as be,p as De,U as fe,c as Ze,j as ea}from"./App-D44H3aE5.js";import{P as aa}from"./PageHeader-DIUdhN7v.js";import{S as ra}from"./StatsCards-GNCJc6Af.js";import{F as he}from"./CheckCircleIcon-WfVI_0Z3.js";import{F as ce}from"./ExclamationTriangleIcon-Kx82ewut.js";import{F as je}from"./PencilIcon-BxC4n9WJ.js";import{F as ta}from"./HashtagIcon-ByCLeTy1.js";import{F as sa}from"./EnvelopeIcon-DJsx2AYc.js";import{F as na}from"./MapPinIcon-DFEGbRZw.js";import{c as Ne}from"./chunk-D5XJWRAV-Bs0mRdwq.js";import{p as oa}from"./chunk-XVMALT6H-Co81wkzk.js";import{m as Te}from"./chunk-O5MCAK4F-b1RtXOOP.js";import{G as ee}from"./GlassDialog-CB1Z5Bs0.js";import{X as V}from"./x-CPfZajGW.js";import{c as Le}from"./createLucideIcon-U2MVd2gI.js";import{i as I}from"./chunk-SSA7SXE4-B38lyIff.js";import{d as ia}from"./dayjs.min-DTClqbqG.js";import{F as la}from"./ChartBarIcon-COx860cq.js";import{F as da}from"./UserPlusIcon-DEOIqm7-.js";import{F as Me}from"./DocumentArrowDownIcon-CebuwUHN.js";import{F as ae}from"./UserIcon-B8KaJTnW.js";import{F as Z}from"./IdentificationIcon-Br4i_l8h.js";import{F as ca}from"./AdjustmentsHorizontalIcon-CN9Y28v6.js";import{F as pa}from"./GlobeAltIcon-b2fU3EP6.js";import{F as me}from"./HeartIcon-Bo9q8bqL.js";import{a as ma}from"./ShieldCheckIcon-DfAiaKpT.js";import{b as ua}from"./chunk-57V4RE7B-L7qqUn1Q.js";import{t as xa,a as se}from"./chunk-ML27DD5T-BwDxgfH1.js";import"./create-visual-element-DL7V4SzU.js";import"./index-Ds9JD08j.js";import"./NumberFormatter-DNR9MAW-.js";import"./useHasTabbableChild-Bti5CcwH.js";import"./index-CokAva9Y.js";import"./features-animation-C940g5q7.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ga=Le("camera",ha);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Oe=Le("plus",ba),fa=({user:r,departments:E=[],designations:_=[],onEditClick:w,profileStats:c={},canEdit:k=!1})=>{const[j,u]=m.useState(!1),g=E.find(S=>S.id===r.department_id||S.id===r.department),C=_.find(S=>S.id===r.designation_id||S.id===r.designation),i=()=>r.active?"success":"danger",a=()=>{const S=c.completion_percentage||0;return S>=80?"success":S>=50?"warning":"danger"};return e.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(oe,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-300",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[e.jsx(Ne,{className:"flex gap-4 pb-0",children:e.jsxs("div",{className:"flex gap-4 items-start w-full",children:[e.jsx("div",{className:"relative",children:e.jsx(Je,{content:e.jsx("div",{className:`w-4 h-4 rounded-full ${r.active?"bg-success-500":"bg-danger-500"} border-2 border-background`}),placement:"bottom-right",className:"border-0",children:e.jsx(Ve,{src:r.profile_image_url||r.profile_image,name:r.name,size:"lg",className:"ring-2 ring-white/20 hover:ring-white/40 transition-all duration-300"})})}),e.jsxs("div",{className:"flex flex-col gap-2 flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-foreground",children:r.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[g&&e.jsx(J,{size:"sm",variant:"flat",color:"primary",startContent:e.jsx(ne,{className:"w-3 h-3"}),children:g.name}),C&&e.jsx(J,{size:"sm",variant:"flat",color:"secondary",children:C.title}),e.jsx(J,{size:"sm",variant:"flat",color:i(),startContent:r.active?e.jsx(he,{className:"w-3 h-3"}):e.jsx(ce,{className:"w-3 h-3"}),children:r.active?"Active":"Inactive"})]})]}),k&&e.jsx(O.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(B,{color:"primary",variant:"bordered",size:"sm",startContent:e.jsx(je,{className:"w-4 h-4"}),onPress:w,className:"bg-white/10 hover:bg-white/20 border-white/20",children:"Edit Profile"})})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Profile Completion"}),e.jsxs("span",{className:"text-sm font-semibold text-foreground",children:[c.completion_percentage||0,"%"]})]}),e.jsx(oa,{value:c.completion_percentage||0,color:a(),size:"sm",className:"max-w-full"}),e.jsxs("p",{className:"text-xs text-default-500 mt-1",children:[c.completed_sections||0," of ",c.total_sections||8," sections completed"]})]})]})]})}),e.jsxs(ie,{className:"pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:e.jsx(ta,{className:"w-4 h-4 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-default-500",children:"Employee ID"}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:r.employee_id||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:e.jsx(_e,{className:"w-4 h-4 text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-default-500",children:"Date of Joining"}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:r.date_of_joining?new Date(r.date_of_joining).toLocaleDateString():"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:e.jsx(sa,{className:"w-4 h-4 text-purple-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-default-500",children:"Email"}),e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:r.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:e.jsx(te,{className:"w-4 h-4 text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-default-500",children:"Phone"}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:r.phone||"N/A"})]})]})]}),r.address&&e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"mb-4"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-teal-500/20 rounded-lg",children:e.jsx(na,{className:"w-4 h-4 text-teal-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-default-500",children:"Address"}),e.jsx("p",{className:"text-sm text-foreground",children:r.address})]})]})]}),(c.profile_views||c.last_updated)&&e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"my-4"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-default-500",children:[c.profile_views&&e.jsxs("span",{children:["Views: ",c.profile_views]}),c.last_updated&&e.jsxs("span",{children:["Updated: ",new Date(c.last_updated).toLocaleDateString()]})]})]})]})]})})},re=({title:r,icon:E,children:_,onEdit:w,canEdit:c=!1,isEmpty:k=!1,isCompleted:j=!1,className:u="",headerAction:g=null,...C})=>{const a=k?{color:"danger",icon:Be,text:"Empty"}:j?{color:"success",icon:he,text:"Complete"}:{color:"warning",icon:ce,text:"Incomplete"},S=a.icon;return e.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{y:-2},className:u,children:e.jsxs(oe,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-300 h-full",...C,children:[e.jsx(Ne,{className:"flex gap-3 pb-3",children:e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[E&&e.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:ve.cloneElement(E,{className:"w-5 h-5 text-primary-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground",children:r}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx(J,{size:"sm",variant:"flat",color:a.color,startContent:e.jsx(S,{className:"w-3 h-3"}),children:a.text})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[g,c&&w&&e.jsx(O.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(B,{isIconOnly:!0,size:"sm",variant:"bordered",color:"primary",onPress:w,className:"bg-white/10 hover:bg-white/20 border-white/20",children:e.jsx(je,{className:"w-4 h-4"})})})]})]})}),e.jsx(ie,{className:"pt-0",children:k?e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"p-4 bg-default-100/50 rounded-lg",children:[e.jsx(ce,{className:"w-8 h-8 text-default-400 mx-auto mb-2"}),e.jsx("p",{className:"text-default-500 text-sm",children:"No information available"}),c&&w&&e.jsx(B,{size:"sm",color:"primary",variant:"bordered",className:"mt-3",onPress:w,startContent:e.jsx(je,{className:"w-4 h-4"}),children:"Add Information"})]})}):_})]})})},A=({label:r,value:E,icon:_,type:w="text",className:c="",valueClassName:k="",labelClassName:j="",showDivider:u=!0})=>{const g=(i,a)=>{if(!i||i==="N/A")return"N/A";switch(a){case"date":return new Date(i).toLocaleDateString();case"email":return i;case"phone":return i;case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(i);default:return i}},C=()=>!E||E==="N/A"?"text-default-400":"text-foreground";return e.jsxs("div",{className:`flex items-center justify-between py-3 ${u?"border-b border-white/10 last:border-b-0":""} ${c}`,children:[e.jsxs("div",{className:`flex items-center gap-2 text-sm text-default-600 ${j}`,children:[_&&ve.cloneElement(_,{className:"w-4 h-4"}),e.jsx("span",{children:r})]}),e.jsx("div",{className:`text-sm font-medium ${C()} text-right ${k}`,children:w==="chip"&&E&&E!=="N/A"?e.jsx(J,{size:"sm",variant:"flat",color:"primary",children:g(E,w)}):e.jsx("span",{children:g(E,w)})})]})},K=({isOpen:r,onClose:E,title:_,subtitle:w,icon:c,children:k,onSave:j,onCancel:u,isLoading:g=!1,saveLabel:C="Save Changes",cancelLabel:i="Cancel",showFooter:a=!0,size:S="2xl",scrollBehavior:h="inside",placement:d="center",backdrop:n="blur-sm",className:N="",headerClassName:l="",bodyClassName:o="",footerClassName:s="",...t})=>e.jsx(ue,{children:r&&e.jsx(Xe,{isOpen:r,onClose:E,size:S,scrollBehavior:h,placement:d,backdrop:n,classNames:{base:"bg-white/10 backdrop-blur-md border border-white/20",header:`bg-white/5 border-b border-white/10 ${l}`,body:`bg-transparent ${o}`,footer:`bg-white/5 border-t border-white/10 ${s}`},className:N,motionProps:{variants:{enter:{y:0,opacity:1,transition:{duration:.3,ease:"easeOut"}},exit:{y:-20,opacity:0,transition:{duration:.2,ease:"easeIn"}}}},...t,children:e.jsx($e,{children:x=>e.jsxs(e.Fragment,{children:[e.jsx(Ae,{className:"flex flex-col gap-1 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[c&&e.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:ve.cloneElement(c,{className:"w-5 h-5 text-primary-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:_}),w&&e.jsx("p",{className:"text-sm text-default-500 mt-1",children:w})]})]}),e.jsx(B,{isIconOnly:!0,variant:"light",onPress:x,className:"text-default-500 hover:text-foreground",children:e.jsx(Be,{className:"w-5 h-5"})})]})}),e.jsx(Re,{className:"px-6 py-4",children:e.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:k})}),a&&e.jsx(Te,{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-3 w-full sm:w-auto sm:ml-auto",children:[e.jsx(B,{variant:"bordered",onPress:u||x,className:"bg-white/10 border-white/20 hover:bg-white/20",isDisabled:g,children:i}),j&&e.jsx(B,{color:"primary",onPress:j,isLoading:g,className:"bg-primary-500/90 hover:bg-primary-500",children:C})]})})]})})})}),_a=({user:r,allUsers:E,departments:_,designations:w,setUser:c,open:k,closeModal:j})=>{const[u,g]=m.useState({id:r.id,name:r.name||"",gender:r.gender||"",birthday:r.birthday||"",date_of_joining:r.date_of_joining||"",address:r.address||"",employee_id:r.employee_id||"",phone:r.phone||"",email:r.email||"",department:r.department||"",designation:r.designation||"",report_to:r.report_to||""}),[C,i]=m.useState({id:r.id}),[a,S]=m.useState(!1),[h,d]=m.useState({}),[n,N]=m.useState(!1),[l,o]=m.useState(!1),[s,t]=m.useState(null),[x,D]=m.useState(w),[v,M]=m.useState(E),p=G(),T=f=>{const $=f.target.files[0];if($){const P=URL.createObjectURL($);t(P);const U=new Promise(async(X,Y)=>{try{const z=new FormData;if(z.append("id",r.id),$){const ge=$.type;if(["image/jpeg","image/jpg","image/png"].includes(ge))z.append("profile_image",$);else{console.error("Invalid file type. Only JPEG and PNG are allowed."),Y("Invalid file type");return}}const q=await fetch(route("profile.update"),{method:"POST",headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:z}),Q=await q.json();q.ok?(c(Q.user),N(!1),X([...Q.messages])):(N(!1),d(Q.errors),Y(Q.error||"Failed to update profile image."),console.error(Q.errors))}catch(z){N(!1),console.error(z),Y(z.message||"An unexpected error occurred.")}});F.promise(U,{pending:{render(){return e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{size:"sm"}),e.jsx("span",{className:"ml-2",children:"Updating profile image..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:p.glassCard.background,border:p.glassCard.border,color:p.palette.text.primary}},success:{render({data:X}){return e.jsx(e.Fragment,{children:X.map((Y,z)=>e.jsx("div",{children:Y},z))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:p.glassCard.background,border:p.glassCard.border,color:p.palette.text.primary}},error:{render({data:X}){return e.jsx(e.Fragment,{children:X})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:p.glassCard.background,border:p.glassCard.border,color:p.palette.text.primary}}})}},b=(f,$)=>{g(P=>{const U={...P,[f]:$};return $===""&&delete U[f],U}),i(P=>{const U={...P,[f]:$};return $===""&&delete U[f],U})};m.useEffect(()=>{r.department!==u.department&&(u.designation=null,u.report_to=null),D(w.filter(P=>P.department_id===(C.department||u.department))),M(E.filter(P=>P.department===(C.department||u.department)));const f={...C};for(const P in f)P!=="id"&&f[P]===r[P]&&delete f[P];const $=Object.keys(f).length>1;S($)},[u,C]);const R=async f=>{var $;f.preventDefault(),N(!0);try{const P=await axios.post(route("profile.update"),{ruleSet:"profile",...u});P.status===200&&(c(P.data.user),F.success((($=P.data.messages)==null?void 0:$.length)>0?P.data.messages.join(" "):"Profile information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:p.glassCard.background,border:p.glassCard.border,color:p.palette.text.primary}}),j())}catch(P){N(!1),P.response?(P.response.status===422?(d(P.response.data.errors||{}),F.error(P.response.data.error||"Failed to update profile information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:p.glassCard.background,border:p.glassCard.border,color:p.palette.text.primary}})):F.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:p.glassCard.background,border:p.glassCard.border,color:p.palette.text.primary}}),console.error(P.response.data)):P.request?(F.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:p.glassCard.background,border:p.glassCard.border,color:p.palette.text.primary}}),console.error(P.request)):(F.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:p.glassCard.background,border:p.glassCard.border,color:p.palette.text.primary}}),console.error("Error",P.message))}finally{N(!1)}};return e.jsxs(ee,{open:k,onClose:j,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Profile Information"}),e.jsx(B,{isIconOnly:!0,variant:"light",onPress:j,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(V,{size:20})})]}),e.jsxs("form",{onSubmit:R,children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-full flex items-center justify-center",children:e.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[e.jsx(Ye,{src:s||r.profile_image,alt:C.name||u.name,className:"w-24 h-24"}),l&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-full rounded-full flex justify-center items-center cursor-pointer",style:{backgroundColor:He(p.colors.black,.5)},children:e.jsx(B,{isIconOnly:!0,variant:"light",className:"text-white",children:e.jsx(ga,{size:20})})})}),e.jsx("input",{accept:"image/*",style:{display:"none"},id:"upload-button",type:"file",onChange:T}),e.jsx("label",{htmlFor:"upload-button",children:e.jsx("div",{className:"absolute w-full h-full top-0 left-0 rounded-full cursor-pointer"})})]})}),e.jsx("div",{children:e.jsx(I,{label:"Name",value:C.name||u.name||"",onChange:f=>b("name",f.target.value),isInvalid:!!h.name,errorMessage:h.name})}),e.jsx("div",{children:e.jsxs(W,{label:"Gender",selectedKeys:C.gender||u.gender?[C.gender||u.gender]:[],onSelectionChange:f=>b("gender",Array.from(f)[0]),isInvalid:!!h.gender,errorMessage:h.gender,children:[e.jsx(H,{value:"Male",children:"Male"},"Male"),e.jsx(H,{value:"Female",children:"Female"},"Female")]})}),e.jsx("div",{children:e.jsx(I,{label:"Birth Date",type:"date",value:C.birthday||u.birthday||"",onChange:f=>b("birthday",f.target.value),isInvalid:!!h.birthday,errorMessage:h.birthday})}),e.jsx("div",{children:e.jsx(I,{label:"Joining Date",type:"date",value:C.date_of_joining||u.date_of_joining||"",onChange:f=>b("date_of_joining",f.target.value),isInvalid:!!h.date_of_joining,errorMessage:h.date_of_joining})}),e.jsx("div",{className:"col-span-full",children:e.jsx(I,{label:"Address",value:C.address||u.address,onChange:f=>b("address",f.target.value),isInvalid:!!h.address,errorMessage:h.address})}),e.jsx("div",{children:e.jsx(I,{label:"Employee ID",value:C.employee_id||u.employee_id||"",onChange:f=>b("employee_id",f.target.value),isInvalid:!!h.employee_id,errorMessage:h.employee_id})}),e.jsx("div",{children:e.jsx(I,{label:"Phone Number",value:C.phone||u.phone,onChange:f=>b("phone",f.target.value),isInvalid:!!h.phone,errorMessage:h.phone})}),e.jsx("div",{children:e.jsx(I,{label:"Email Address",value:C.email||u.email,onChange:f=>b("email",f.target.value),isInvalid:!!h.email,errorMessage:h.email})}),e.jsx("div",{children:e.jsx(W,{label:"Department",selectedKeys:C.department||u.department?[String(C.department||u.department)]:[],onSelectionChange:f=>b("department",Array.from(f)[0]),isInvalid:!!h.department,errorMessage:h.department,children:_.map(f=>e.jsx(H,{value:f.id,children:f.name},f.id))})}),e.jsx("div",{children:e.jsx(W,{label:"Designation",selectedKeys:C.designation||u.designation?[String(C.designation||u.designation)]:[],onSelectionChange:f=>b("designation",Array.from(f)[0]),isInvalid:!!h.designation,errorMessage:h.designation,isDisabled:!r.department,children:x.map(f=>e.jsx(H,{value:f.id,children:f.title},f.id))})}),e.jsx("div",{children:e.jsxs(W,{label:"Reports To",selectedKeys:C.report_to||u.report_to?[String(C.report_to||u.report_to)]:[],onSelectionChange:f=>b("report_to",Array.from(f)[0]),isInvalid:!!h.report_to,errorMessage:h.report_to,isDisabled:r.report_to==="na",children:[e.jsx(H,{value:"na",children:"--"},"na"),v.map(f=>e.jsx(H,{value:f.id,children:f.name},f.id))]})})]})}),e.jsx("div",{className:"flex items-center justify-center p-6 border-t border-gray-200 dark:border-gray-700",children:e.jsx(B,{isDisabled:!a,className:"rounded-full px-6",variant:"bordered",color:"primary",type:"submit",isLoading:n,children:"Submit"})})]})]})},ya=({user:r,setUser:E,open:_,closeModal:w})=>{const[c,k]=m.useState({id:r.id,passport_no:r.passport_no||"",passport_exp_date:r.passport_exp_date||"",nationality:r.nationality||"",religion:r.religion||"",marital_status:r.marital_status||"",employment_of_spouse:r.employment_of_spouse||"",number_of_children:r.number_of_children||"",nid:r.nid||""}),[j,u]=m.useState({id:r.id}),[g,C]=m.useState(!1),[i,a]=m.useState({}),[S,h]=m.useState(!1),d=G(),n=(l,o)=>{k(s=>{const t={...s,[l]:o};return o===""&&delete t[l],l==="marital_status"&&o==="Single"&&(t.employment_of_spouse="",t.number_of_children=""),t}),u(s=>{const t={...s,[l]:o};return o===""&&delete t[l],l==="marital_status"&&o==="Single"&&(t.employment_of_spouse=null,t.number_of_children=null),t})};m.useEffect(()=>{for(const o in j)o!=="id"&&j[o]===r[o]&&delete j[o];const l=Object.keys(j).filter(o=>o!=="id").length>0;C(l)},[c,j,r]);const N=async l=>{var o;l.preventDefault(),h(!0);try{const s=await axios.post(route("profile.update"),{ruleSet:"personal",...c});s.status===200&&(E(s.data.user),F.success(((o=s.data.messages)==null?void 0:o.length)>0?s.data.messages.join(" "):"Personal information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),w())}catch(s){h(!1),s.response?(s.response.status===422?(a(s.response.data.errors||{}),F.error(s.response.data.error||"Failed to update personal information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}})):F.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(s.response.data)):s.request?(F.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(s.request)):(F.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error("Error",s.message))}finally{h(!1)}};return e.jsxs(ee,{open:_,onClose:w,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Personal Information"}),e.jsx(B,{isIconOnly:!0,variant:"light",onPress:w,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(V,{size:20})})]}),e.jsxs("form",{onSubmit:N,children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(I,{label:"Passport No",value:j.passport_no||c.passport_no||"",onChange:l=>n("passport_no",l.target.value),isInvalid:!!i.passport_no,errorMessage:i.passport_no})}),e.jsx("div",{children:e.jsx(I,{label:"Passport Expiry Date",type:"date",value:j.passport_exp_date||c.passport_exp_date||"",onChange:l=>n("passport_exp_date",l.target.value),isInvalid:!!i.passport_exp_date,errorMessage:i.passport_exp_date})}),e.jsx("div",{children:e.jsx(I,{label:"NID No",value:j.nid||c.nid||"",onChange:l=>n("nid",l.target.value),isInvalid:!!i.nid,errorMessage:i.nid})}),e.jsx("div",{children:e.jsx(I,{label:"Nationality",value:j.nationality||c.nationality||"",onChange:l=>n("nationality",l.target.value),isInvalid:!!i.nationality,errorMessage:i.nationality})}),e.jsx("div",{children:e.jsx(I,{label:"Religion",value:j.religion||c.religion||"",onChange:l=>n("religion",l.target.value),isInvalid:!!i.religion,errorMessage:i.religion})}),e.jsx("div",{children:e.jsxs(W,{label:"Marital Status",selectedKeys:j.marital_status||c.marital_status?[j.marital_status||c.marital_status]:[],onSelectionChange:l=>n("marital_status",Array.from(l)[0]),isInvalid:!!i.marital_status,errorMessage:i.marital_status,children:[e.jsx(H,{value:"na",children:"-"},"na"),e.jsx(H,{value:"Single",children:"Single"},"Single"),e.jsx(H,{value:"Married",children:"Married"},"Married")]})}),e.jsx("div",{children:e.jsx(I,{label:"Employment of spouse",value:j.marital_status==="Single"?"":j.employment_of_spouse||c.employment_of_spouse,onChange:l=>n("employment_of_spouse",l.target.value),isInvalid:!!i.employment_of_spouse,errorMessage:i.employment_of_spouse,isDisabled:j.marital_status==="Single"||c.marital_status==="Single"})}),e.jsx("div",{children:e.jsx(I,{label:"No. of children",type:"number",value:j.marital_status==="Single"?"":j.number_of_children||c.number_of_children,onChange:l=>n("number_of_children",l.target.value),isInvalid:!!i.number_of_children,errorMessage:i.number_of_children,isDisabled:j.marital_status==="Single"||c.marital_status==="Single"})})]})}),e.jsx("div",{className:"flex items-center justify-center p-6 border-t border-gray-200 dark:border-gray-700",children:e.jsx(B,{isDisabled:!g,className:"rounded-full px-6",variant:"bordered",color:"primary",type:"submit",isLoading:S,children:"Submit"})})]})]})},ja=({user:r,setUser:E,open:_,closeModal:w})=>{const[c,k]=m.useState({id:r.id,emergency_contact_primary_name:r.emergency_contact_primary_name||"",emergency_contact_primary_relationship:r.emergency_contact_primary_relationship||"",emergency_contact_primary_phone:r.emergency_contact_primary_phone||"",emergency_contact_secondary_name:r.emergency_contact_secondary_name||"",emergency_contact_secondary_relationship:r.emergency_contact_secondary_relationship||"",emergency_contact_secondary_phone:r.emergency_contact_secondary_phone||""}),[j,u]=m.useState({id:r.id}),[g,C]=m.useState(!1),[i,a]=m.useState({}),[S,h]=m.useState(!1),d=G(),n=(l,o)=>{k(s=>{const t={...s,[l]:o};return o===""&&delete t[l],t}),u(s=>{const t={...s,[l]:o};return o===""&&delete t[l],t})};m.useEffect(()=>{for(const o in j)o!=="id"&&j[o]===r[o]&&delete j[o];const l=Object.keys(j).filter(o=>o!=="id").length>0;C(l)},[c,j,r]);const N=async l=>{var o;l.preventDefault(),h(!0);try{const s=await axios.post(route("profile.update"),{ruleSet:"emergency",...c});s.status===200&&(E(s.data.user),F.success(((o=s.data.messages)==null?void 0:o.length)>0?s.data.messages.join(" "):"Emergency contact updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),w())}catch(s){h(!1),s.response?(s.response.status===422?(a(s.response.data.errors||{}),F.error(s.response.data.error||"Failed to update emergency contact.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}})):F.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(s.response.data)):s.request?(F.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(s.request)):(F.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error("Error",s.message))}finally{h(!1)}};return e.jsxs(ee,{open:_,onClose:w,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Emergency Contact Information"}),e.jsx(B,{isIconOnly:!0,variant:"light",onPress:w,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(V,{size:20})})]}),e.jsxs("form",{onSubmit:N,children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsx(de,{children:e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Primary Contact"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(I,{label:"Name",isRequired:!0,value:j.emergency_contact_primary_name||c.emergency_contact_primary_name||"",onChange:l=>n("emergency_contact_primary_name",l.target.value),isInvalid:!!i.emergency_contact_primary_name,errorMessage:i.emergency_contact_primary_name})}),e.jsx("div",{children:e.jsx(I,{label:"Relationship",isRequired:!0,value:j.emergency_contact_primary_relationship||c.emergency_contact_primary_relationship||"",onChange:l=>n("emergency_contact_primary_relationship",l.target.value),isInvalid:!!i.emergency_contact_primary_relationship,errorMessage:i.emergency_contact_primary_relationship})}),e.jsx("div",{children:e.jsx(I,{label:"Phone",isRequired:!0,value:j.emergency_contact_primary_phone||c.emergency_contact_primary_phone||"",onChange:l=>n("emergency_contact_primary_phone",l.target.value),isInvalid:!!i.emergency_contact_primary_phone,errorMessage:i.emergency_contact_primary_phone})})]})]})})}),e.jsx("div",{children:e.jsx(de,{children:e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Secondary Contact"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(I,{label:"Name",value:j.emergency_contact_secondary_name||c.emergency_contact_secondary_name||"",onChange:l=>n("emergency_contact_secondary_name",l.target.value),isInvalid:!!i.emergency_contact_secondary_name,errorMessage:i.emergency_contact_secondary_name})}),e.jsx("div",{children:e.jsx(I,{label:"Relationship",value:j.emergency_contact_secondary_relationship||c.emergency_contact_secondary_relationship||"",onChange:l=>n("emergency_contact_secondary_relationship",l.target.value),isInvalid:!!i.emergency_contact_secondary_relationship,errorMessage:i.emergency_contact_secondary_relationship})}),e.jsx("div",{children:e.jsx(I,{label:"Phone",value:j.emergency_contact_secondary_phone||c.emergency_contact_secondary_phone||"",onChange:l=>n("emergency_contact_secondary_phone",l.target.value),isInvalid:!!i.emergency_contact_secondary_phone,errorMessage:i.emergency_contact_secondary_phone})})]})]})})})]})}),e.jsx("div",{className:"flex items-center justify-center p-6 border-t border-gray-200 dark:border-gray-700",children:e.jsx(B,{isDisabled:!g,className:"rounded-full px-6",variant:"bordered",color:"primary",type:"submit",isLoading:S,children:"Submit"})})]})]})},va=({user:r,setUser:E,open:_,closeModal:w})=>{const{isDark:c}=G();Ce();const[k,j]=m.useState({id:r.id,bank_name:r.bank_name||"",bank_account_no:r.bank_account_no||"",ifsc_code:r.ifsc_code||"",pan_no:r.pan_no||""}),[u,g]=m.useState({id:r.id}),[C,i]=m.useState(!1),[a,S]=m.useState({}),[h,d]=m.useState(!1),n=G(),N=(o,s)=>{j(t=>{const x={...t,[o]:s};return s===""&&delete x[o],x}),g(t=>{const x={...t,[o]:s};return s===""&&delete x[o],x})};m.useEffect(()=>{for(const s in u)s!=="id"&&u[s]===r[s]&&delete u[s];const o=Object.keys(u).filter(s=>s!=="id").length>0;i(o)},[k,u,r]);const l=async o=>{var s;o.preventDefault(),d(!0);try{const t=await axios.post(route("profile.update"),{ruleSet:"bank",...k});t.status===200&&(E(t.data.user),S({}),F.success(((s=t.data.messages)==null?void 0:s.length)>0?t.data.messages.join(" "):"Bank information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),w())}catch(t){d(!1),t.response?(t.response.status===422?(S(t.response.data.errors||{}),F.error(t.response.data.error||"Failed to update bank information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}})):F.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),console.error(t.response.data)):t.request?(F.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),console.error(t.request)):(F.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),console.error("Error",t.message))}finally{d(!1)}};return e.jsxs(ee,{open:_,onClose:w,children:[e.jsxs(DialogTitle,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e.jsx(Typography,{children:"Bank Information"}),e.jsx(IconButton,{variant:"outlined",color:"primary",onClick:w,sx:{position:"absolute",top:8,right:16},children:e.jsx(ClearIcon,{})})]}),e.jsxs("form",{onSubmit:l,children:[e.jsx(DialogContent,{children:e.jsxs(Grid,{container:!0,spacing:2,children:[e.jsx(Grid,{item:!0,xs:12,children:e.jsx(TextField,{label:"Bank Name",fullWidth:!0,value:u.bank_name||k.bank_name||"",onChange:o=>N("bank_name",o.target.value),error:!!a.bank_name,helperText:a.bank_name})}),e.jsx(Grid,{item:!0,xs:12,children:e.jsx(TextField,{size:"small",label:"Bank Account No.",fullWidth:!0,value:u.bank_account_no||k.bank_account_no||"",onChange:o=>N("bank_account_no",o.target.value),error:!!a.bank_account_no,helperText:a.bank_account_no})}),e.jsx(Grid,{item:!0,xs:12,children:e.jsx(TextField,{label:"IFSC Code",fullWidth:!0,value:u.ifsc_code||k.ifsc_code||"",onChange:o=>N("ifsc_code",o.target.value),error:!!a.ifsc_code,helperText:a.ifsc_code})}),e.jsx(Grid,{item:!0,xs:12,children:e.jsx(TextField,{label:"PAN No.",fullWidth:!0,value:u.pan_no||k.pan_no||"",onChange:o=>N("pan_no",o.target.value),error:!!a.pan_no,helperText:a.pan_no})})]})}),e.jsx(DialogActions,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e.jsx(LoadingButton,{disabled:!C,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:h,children:"Submit"})})]})]})},Ca=({user:r,open:E,closeModal:_,handleDelete:w,setUser:c})=>{const[k,j]=m.useState({id:r.id,family_member_name:r.family_member_name||"",family_member_relationship:r.family_member_relationship||"",family_member_dob:r.family_member_dob||"",family_member_phone:r.family_member_phone||""}),[u,g]=m.useState({id:r.id}),[C,i]=m.useState(!1),[a,S]=m.useState({}),[h,d]=m.useState(!1),n=G(),N=(o,s)=>{j(t=>{const x={...t,[o]:s};return s===""&&delete x[o],x}),g(t=>{const x={...t,[o]:s};return s===""&&delete x[o],x})};m.useEffect(()=>{for(const s in u)s!=="id"&&u[s]===r[s]&&delete u[s];const o=Object.keys(u).filter(s=>s!=="id").length>0;i(o)},[k,u,r]);const l=async o=>{var s;o.preventDefault(),d(!0);try{const t=await axios.post(route("profile.update"),{ruleSet:"family",...k});t.status===200&&(c(t.data.user),F.success(((s=t.data.messages)==null?void 0:s.length)>0?t.data.messages.join(" "):"Family information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),_())}catch(t){d(!1),t.response?(t.response.status===422?(S(t.response.data.errors||{}),F.error(t.response.data.error||"Failed to update family information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}})):F.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),console.error(t.response.data)):t.request?(F.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),console.error(t.request)):(F.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),console.error("Error",t.message))}finally{d(!1)}};return e.jsx(ee,{open:E,onClose:_,children:e.jsxs($e,{children:[e.jsxs(Ae,{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Family Member"}),e.jsx(B,{isIconOnly:!0,variant:"light",onPress:_,className:"absolute top-2 right-2",children:e.jsx(V,{size:20})})]}),e.jsxs("form",{onSubmit:l,children:[e.jsx(Re,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(I,{label:"Name",variant:"bordered",value:u.family_member_name||k.family_member_name||"",onChange:o=>N("family_member_name",o.target.value),isInvalid:!!a.family_member_name,errorMessage:a.family_member_name})}),e.jsx("div",{className:"col-span-1",children:e.jsx(I,{label:"Relationship",variant:"bordered",value:u.family_member_relationship||k.family_member_relationship||"",onChange:o=>N("family_member_relationship",o.target.value),isInvalid:!!a.family_member_relationship,errorMessage:a.family_member_relationship})}),e.jsx("div",{className:"col-span-1",children:e.jsx(I,{label:"Date of Birth",variant:"bordered",type:"date",value:u.family_member_dob||k.family_member_dob||"",onChange:o=>N("family_member_dob",o.target.value),isInvalid:!!a.family_member_dob,errorMessage:a.family_member_dob})}),e.jsx("div",{className:"col-span-1",children:e.jsx(I,{label:"Phone",variant:"bordered",value:u.family_member_phone||k.family_member_phone||"",onChange:o=>N("family_member_phone",o.target.value),isInvalid:!!a.family_member_phone,errorMessage:a.family_member_phone})})]})}),e.jsx(Te,{className:"flex justify-end gap-2",children:e.jsx(B,{isDisabled:!C,variant:"bordered",color:"primary",type:"submit",isLoading:h,className:"rounded-full px-4 py-2",children:"Submit"})})]})]})})},Na=({user:r,open:E,closeModal:_,setUser:w})=>{const[c,k]=m.useState({id:r.id}),[j,u]=m.useState(!1),[g,C]=m.useState(r.educations&&r.educations.length>0?r.educations:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),[i,a]=m.useState({}),[S,h]=m.useState(!1),d=G(),n=(s,t,x)=>{const D=[...g];D[s]={...D[s],[t]:x},C(D);const v=D.filter((p,T)=>{const b=r.educations[T]||{},R=!b.id||p.institution!==b.institution||p.subject!==b.subject||p.degree!==b.degree||p.starting_date!==b.starting_date||p.complete_date!==b.complete_date||p.grade!==b.grade,f=b.id&&p.institution===b.institution&&p.subject===b.subject&&p.degree===b.degree&&p.starting_date===b.starting_date&&p.complete_date===b.complete_date&&p.grade===b.grade;return R&&!f});k(p=>({...p,educations:[...v]}));const M=v.length>0;u(M)},N=async s=>{const t=g[s],x=g.filter((D,v)=>v!==s);if(C(x.length>0?x:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),t.id){const D=new Promise(async(v,M)=>{try{const p=await fetch("/education/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:t.id,user_id:r.id})}),T=await p.json();p.ok?(k(b=>({...b,educations:T.educations})),w(b=>({...b,educations:T.educations})),v(T.message||"Education record deleted successfully.")):(a(T.errors),console.error(T.errors),M(T.error||"Failed to delete education record."))}catch(p){M(p)}});F.promise(D,{pending:{render(){return e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{size:"sm"}),e.jsx("span",{className:"ml-2",children:"Deleting education record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},success:{render({data:v}){return e.jsx(e.Fragment,{children:v})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},error:{render({data:v}){return e.jsx(e.Fragment,{children:v})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}})}},l=async s=>{s.preventDefault(),h(!0);const t=new Promise(async(x,D)=>{try{const v=await fetch("/education/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({educations:g.map(p=>({...p,user_id:r.id}))})}),M=await v.json();v.ok?(w(p=>({...p,educations:M.educations})),h(!1),_(),x([...M.messages])):(h(!1),a(M.errors),console.error(M.errors),D(M.error||"Failed to update education records."))}catch(v){h(!1),D(v.message||"An unexpected error occurred while updating education records.")}});F.promise(t,{pending:{render(){return e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{size:"sm"}),e.jsx("span",{className:"ml-2",children:"Updating education records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},success:{render({data:x}){return e.jsx(e.Fragment,{children:x.map((D,v)=>e.jsx("div",{children:D},v))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},error:{render({data:x}){return e.jsx(e.Fragment,{children:x})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}})},o=async()=>{C([...g,{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}])};return e.jsxs(ee,{open:E,onClose:_,maxWidth:"md",fullWidth:!0,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Education Information"}),e.jsx(B,{isIconOnly:!0,variant:"light",onPress:_,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(V,{size:20})})]}),e.jsxs("form",{onSubmit:l,children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[g.map((s,t)=>e.jsx("div",{children:e.jsx(de,{children:e.jsxs("div",{className:"p-4 relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-base font-semibold text-gray-900 dark:text-white",children:["Education #",t+1]}),e.jsx(B,{isIconOnly:!0,variant:"light",onPress:()=>N(t),className:"text-red-500 hover:text-red-700",children:e.jsx(V,{size:16})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(I,{label:"Institution",value:s.institution||"",onChange:x=>n(t,"institution",x.target.value),isInvalid:!!i[`educations.${t}.institution`],errorMessage:i[`educations.${t}.institution`]?i[`educations.${t}.institution`][0]:""})}),e.jsx("div",{children:e.jsx(I,{label:"Degree",value:s.degree||"",onChange:x=>n(t,"degree",x.target.value),isInvalid:!!i[`educations.${t}.degree`],errorMessage:i[`educations.${t}.degree`]?i[`educations.${t}.degree`][0]:""})}),e.jsx("div",{children:e.jsx(I,{label:"Subject",value:s.subject||"",onChange:x=>n(t,"subject",x.target.value),isInvalid:!!i[`educations.${t}.subject`],errorMessage:i[`educations.${t}.subject`]?i[`educations.${t}.subject`][0]:""})}),e.jsx("div",{children:e.jsx(I,{label:"Started in",type:"month",value:s.starting_date||"",onChange:x=>n(t,"starting_date",x.target.value),isInvalid:!!i[`educations.${t}.starting_date`],errorMessage:i[`educations.${t}.starting_date`]?i[`educations.${t}.starting_date`][0]:""})}),e.jsx("div",{children:e.jsx(I,{label:"Completed in",type:"month",value:s.complete_date||"",onChange:x=>n(t,"complete_date",x.target.value),isInvalid:!!i[`educations.${t}.complete_date`],errorMessage:i[`educations.${t}.complete_date`]?i[`educations.${t}.complete_date`][0]:""})}),e.jsx("div",{children:e.jsx(I,{label:"Grade",value:s.grade||"",onChange:x=>n(t,"grade",x.target.value),isInvalid:!!i[`educations.${t}.grade`],errorMessage:i[`educations.${t}.grade`]?i[`educations.${t}.grade`][0]:""})})]})]})})},t)),e.jsx("div",{className:"mt-4",children:e.jsx(B,{size:"sm",color:"danger",variant:"bordered",onPress:o,startContent:e.jsx(Oe,{size:16}),children:"Add More"})})]})}),e.jsx("div",{className:"flex items-center justify-center p-6 border-t border-gray-200 dark:border-gray-700",children:e.jsx(B,{isDisabled:!j,className:"rounded-full px-8",variant:"bordered",color:"primary",type:"submit",isLoading:S,children:"Submit"})})]})]})},ka=({user:r,open:E,closeModal:_,setUser:w})=>{const[c,k]=m.useState({id:r.id}),[j,u]=m.useState(!1),[g,C]=m.useState(r.experiences.length>0?r.experiences:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),[i,a]=m.useState({}),[S,h]=m.useState(!1),d=G(),n=(s,t,x)=>{const D=[...g];D[s]={...D[s],[t]:x},C(D);const v=D.filter((p,T)=>{const b=r.experiences[T]||{},R=!b.id||p.company_name!==b.company_name||p.location!==b.location||p.job_position!==b.job_position||p.period_from!==b.period_from||p.period_to!==b.period_to||p.description!==b.description,f=b.id&&p.company_name===b.company_name&&p.location===b.location&&p.job_position===b.job_position&&p.period_from===b.period_from&&p.period_to===b.period_to&&p.description===b.description;return R&&!f});k(p=>({...p,experiences:[...v]}));const M=v.length>0;u(M)},N=async s=>{const t=g[s],x=g.filter((D,v)=>v!==s);if(C(x.length>0?x:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),t.id){const D=new Promise(async(v,M)=>{try{const p=await fetch("/experience/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:t.id,user_id:r.id})}),T=await p.json();p.ok?(k(b=>({...b,experiences:T.experiences})),w(b=>({...b,experiences:T.experiences})),v(T.message||"Experience record deleted successfully."),_()):(a([...T.errors]),M(T.error||"Failed to delete experience record."))}catch(p){M(p)}});F.promise(D,{pending:{render(){return e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{size:"sm"}),e.jsx("span",{className:"ml-2",children:"Deleting experience record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},success:{render({data:v}){return e.jsx(e.Fragment,{children:v})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},error:{render({data:v}){return e.jsx(e.Fragment,{children:v})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}})}},l=async s=>{s.preventDefault(),h(!0);const t=new Promise(async(x,D)=>{try{const v=await fetch("/experience/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({experiences:g.map(p=>({...p,user_id:r.id}))})}),M=await v.json();v.ok?(w(p=>({...p,experiences:M.experiences})),h(!1),_(),x([...M.messages])):(h(!1),a(M.errors),console.error(M.errors),D(M.error||"Failed to update experience records."))}catch(v){h(!1),D(v.message||"An unexpected error occurred while updating experience records.")}});F.promise(t,{pending:{render(){return e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{size:"sm"}),e.jsx("span",{className:"ml-2",children:"Updating experience records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},success:{render({data:x}){return e.jsx(e.Fragment,{children:x.map((D,v)=>e.jsx("div",{children:D},v))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},error:{render({data:x}){return e.jsx(e.Fragment,{children:x})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}})},o=async()=>{C([...g,{company:"",role:"",start_date:"",end_date:"",responsibilities:""}])};return e.jsxs(ee,{open:E,onClose:_,maxWidth:"md",fullWidth:!0,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Experience Information"}),e.jsx(B,{isIconOnly:!0,variant:"light",onPress:_,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(V,{size:20})})]}),e.jsxs("form",{onSubmit:l,children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[g.map((s,t)=>e.jsx("div",{children:e.jsx(de,{children:e.jsxs("div",{className:"p-4 relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-base font-semibold text-gray-900 dark:text-white",children:["Experience #",t+1]}),e.jsx(B,{isIconOnly:!0,variant:"light",onPress:()=>N(t),className:"text-red-500 hover:text-red-700",children:e.jsx(V,{size:16})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(I,{label:"Company",value:s.company_name||"",onChange:x=>n(t,"company_name",x.target.value),isInvalid:!!i[`experiences.${t}.company_name`],errorMessage:i[`experiences.${t}.company_name`]?i[`experiences.${t}.company_name`][0]:""})}),e.jsx("div",{children:e.jsx(I,{label:"Location",value:s.location||"",onChange:x=>n(t,"location",x.target.value),isInvalid:!!i[`experiences.${t}.location`],errorMessage:i[`experiences.${t}.location`]?i[`experiences.${t}.location`][0]:""})}),e.jsx("div",{children:e.jsx(I,{label:"Role",value:s.job_position||"",onChange:x=>n(t,"job_position",x.target.value),isInvalid:!!i[`experiences.${t}.job_position`],errorMessage:i[`experiences.${t}.job_position`]?i[`experiences.${t}.job_position`][0]:""})}),e.jsx("div",{children:e.jsx(I,{label:"Started From",type:"date",value:s.period_from||"",onChange:x=>n(t,"period_from",x.target.value),isInvalid:!!i[`experiences.${t}.period_from`],errorMessage:i[`experiences.${t}.period_from`]?i[`experiences.${t}.period_from`][0]:""})}),e.jsx("div",{children:e.jsx(I,{label:"Ended On",type:"date",value:s.period_to||"",onChange:x=>n(t,"period_to",x.target.value),isInvalid:!!i[`experiences.${t}.period_to`],errorMessage:i[`experiences.${t}.period_to`]?i[`experiences.${t}.period_to`][0]:""})}),e.jsx("div",{className:"col-span-full",children:e.jsx(I,{label:"Responsibilities",value:s.description||"",onChange:x=>n(t,"description",x.target.value),isInvalid:!!i[`experiences.${t}.description`],errorMessage:i[`experiences.${t}.description`]?i[`experiences.${t}.description`][0]:""})})]})]})})},t)),e.jsx(B,{size:"sm",color:"danger",variant:"bordered",onPress:o,startContent:e.jsx(Oe,{size:16}),children:"Add More"})]})}),e.jsx("div",{className:"flex items-center justify-center p-6 border-t border-gray-200 dark:border-gray-700",children:e.jsx(B,{isDisabled:!j,className:"rounded-full px-8",variant:"bordered",color:"primary",type:"submit",isLoading:S,children:"Submit"})})]})]})},wa=({user:r,setUser:E})=>{const[_,w]=m.useState({id:r.id,salary_basis:r.salary_basis||"",salary_amount:r.salary_amount||"",payment_type:r.payment_type||"",pf_contribution:r.pf_contribution??!1,pf_no:r.pf_no||"",employee_pf_rate:r.employee_pf_rate||0,additional_pf_rate:r.additional_pf_rate||0,total_pf_rate:r.total_pf_rate||0,esi_contribution:r.esi_contribution??!1,esi_no:r.esi_no||"",employee_esi_rate:r.employee_esi_rate||0,additional_esi_rate:r.additional_esi_rate||0,total_esi_rate:r.total_esi_rate||0}),[c,k]=m.useState({id:r.id}),[j,u]=m.useState(!1),[g,C]=m.useState({}),[i,a]=m.useState(!1),{isDark:S}=G();Ce();const h=(n,N)=>{w(l=>{const o={...l,[n]:N};return N===""&&delete o[n],n==="pf_contribution"&&N===0?(o.pf_no="",o.employee_pf_rate=0,o.additional_pf_rate=0,o.total_pf_rate=0):(n==="employee_pf_rate"||n==="additional_pf_rate")&&(o.total_pf_rate=o.employee_pf_rate+o.additional_pf_rate),n==="esi_contribution"&&N===0?(o.esi_no="",o.employee_esi_rate=0,o.additional_esi_rate=0,o.total_esi_rate=0):(n==="employee_esi_rate"||n==="additional_esi_rate")&&(o.total_esi_rate=o.employee_esi_rate+o.additional_esi_rate),o}),k(l=>{const o={...l,[n]:N};return N===""&&delete o[n],n==="pf_contribution"&&N===0?(o.pf_no="",o.employee_pf_rate=0,o.additional_pf_rate=0,o.total_pf_rate=0):(n==="employee_pf_rate"||n==="additional_pf_rate")&&(o.total_pf_rate=o.employee_pf_rate+o.additional_pf_rate),n==="esi_contribution"&&N===0?(o.esi_no="",o.employee_esi_rate=0,o.additional_esi_rate=0,o.total_esi_rate=0):(n==="employee_esi_rate"||n==="additional_esi_rate")&&(o.total_esi_rate=o.employee_esi_rate+o.additional_esi_rate),o})};m.useEffect(()=>{for(const N in c)N!=="id"&&c[N]===r[N]&&delete c[N];const n=Object.keys(c).filter(N=>N!=="id").length>0;u(n)},[_,c,r]);const d=async n=>{var N,l,o;n.preventDefault(),a(!0);try{const s=await axios.post(route("profile.update"),{ruleSet:"salary",..._});s.status===200?(E(s.data.user),a(!1),F.success(((N=s.data.messages)==null?void 0:N.length)>0?s.data.messages.join(" "):"Salary information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,color:theme.palette.text.primary}})):(a(!1),C(s.data.errors),F.error(s.data.error||"Failed to update salary information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,color:theme.palette.text.primary}}))}catch(s){a(!1),F.error(((o=(l=s.response)==null?void 0:l.data)==null?void 0:o.message)||"An unexpected error occurred.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,color:theme.palette.text.primary}}),console.error(s)}};return e.jsx(Grid,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:e.jsx(Grid,{item:!0,xs:12,md:12,sx:{display:"flex",flexDirection:"column"},children:e.jsxs(de,{children:[e.jsx(Ne,{title:"Salary & Statutory Information"}),e.jsxs("form",{onSubmit:d,children:[e.jsxs(CardContent,{children:[e.jsx(Typography,{sx:{fontWeight:"bold",m:2},children:"Salary Information"}),e.jsxs(Grid,{container:!0,spacing:3,children:[e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"salary-basis-label",children:"Salary basis"}),e.jsxs(W,{labelId:"salary-basis-label",value:c.salary_basis||_.salary_basis||"na",onChange:n=>h("salary_basis",n.target.value),error:!!g.salary_basis,helperText:g.salary_basis,label:"Salary basis",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select salary basis type"}),e.jsx(MenuItem,{value:"Hourly",children:"Hourly"}),e.jsx(MenuItem,{value:"Daily",children:"Daily"}),e.jsx(MenuItem,{value:"Weekly",children:"Weekly"}),e.jsx(MenuItem,{value:"Monthly",children:"Monthly"})]})]})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsx(TextField,{label:"Salary amount",type:"number",fullWidth:!0,placeholder:"Type your salary amount",value:c.salary_amount||_.salary_amount||"",onChange:n=>h("salary_amount",n.target.value),InputProps:{startAdornment:e.jsx(InputAdornment,{position:"start",children:"$"})},error:!!g.salary_amount,helperText:g.salary_amount})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"payment-type-label",children:"Payment type"}),e.jsxs(W,{labelId:"payment-type-label",label:"Payment type",id:`gender-select-${r.id}`,value:c.payment_type||_.payment_type||"na",onChange:n=>h("payment_type",n.target.value),error:!!g.payment_type,helperText:g.payment_type,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select payment type"}),e.jsx(MenuItem,{value:"Bank transfer",children:"Bank transfer"}),e.jsx(MenuItem,{value:"Check",children:"Check"}),e.jsx(MenuItem,{value:"Cash",children:"Cash"})]})]})})]}),e.jsx(xe,{sx:{my:3}}),e.jsx(Typography,{sx:{fontWeight:"bold",m:2},children:"PF Information"}),e.jsxs(Grid,{container:!0,spacing:3,children:[e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"pf-contribution-label",children:"PF contribution"}),e.jsxs(W,{labelId:"pf-contribution-label",label:"PF contribution",id:`gender-select-${r.id}`,value:c.pf_contribution!==void 0?c.pf_contribution:_.pf_contribution!==void 0?_.pf_contribution:"na",onChange:n=>h("pf_contribution",n.target.value),error:!!g.pf_contribution,helperText:g.pf_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select PF contribution"}),e.jsx(MenuItem,{value:1,children:"Yes"}),e.jsx(MenuItem,{value:0,children:"No"})]})]})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsx(TextField,{disabled:!(c.pf_contribution||_.pf_contribution),InputLabelProps:{shrink:!0},label:"PF No.",fullWidth:!0,type:"text",placeholder:"Enter PF No.",value:c.pf_no||_.pf_no,onChange:n=>h("pf_no",n.target.value),error:!!g.pf_no,helperText:g.pf_no})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"employee-pf-rate-label",children:"Employee PF rate"}),e.jsxs(W,{disabled:!(c.pf_contribution||_.pf_contribution),labelId:"employee-pf-rate-label",label:"Employee PF rate",value:c.employee_pf_rate||_.employee_pf_rate||"na",onChange:n=>h("employee_pf_rate",n.target.value),error:!!g.employee_pf_rate,helperText:g.employee_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select pf rate"}),[...Array(11).keys()].map(n=>e.jsxs(MenuItem,{value:n,children:[n,"%"]},n))]})]})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"additional-rate-label",children:"Additional rate"}),e.jsxs(W,{disabled:!(c.pf_contribution||_.pf_contribution),labelId:"additional-rate-label",label:"Additional rate",id:`gender-select-${r.id}`,value:c.additional_pf_rate||_.additional_pf_rate||"na",onChange:n=>h("additional_pf_rate",n.target.value),error:!!g.additional_pf_rate,helperText:g.additional_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(n=>e.jsxs(MenuItem,{value:n,children:[n,"%"]},n))]})]})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsx(TextField,{disabled:!(c.pf_contribution||_.pf_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:c.total_pf_rate||_.total_pf_rate?`${c.total_pf_rate||_.total_pf_rate}%`:"",InputProps:{readOnly:!0},error:!!g.total_pf_rate,helperText:g.total_pf_rate})})]}),e.jsx(xe,{sx:{my:3}}),e.jsx(Typography,{sx:{fontWeight:"bold",m:2},children:"ESI Information"}),e.jsxs(Grid,{container:!0,spacing:3,children:[e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"esi-contribution-label",children:"ESI contribution"}),e.jsxs(W,{labelId:"esi-contribution-label",label:"ESI contribution",value:c.esi_contribution!==void 0?c.esi_contribution:_.esi_contribution!==void 0?_.esi_contribution:"na",onChange:n=>h("esi_contribution",n.target.value),error:!!g.esi_contribution,helperText:g.esi_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select ESI contribution"}),e.jsx(MenuItem,{value:1,children:"Yes"}),e.jsx(MenuItem,{value:0,children:"No"})]})]})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsx(TextField,{disabled:!(c.esi_contribution||_.esi_contribution),InputLabelProps:{shrink:!0},label:"ESI No.",fullWidth:!0,type:"text",placeholder:"Enter ESI No.",value:c.esi_no||_.esi_no,onChange:n=>h("esi_no",n.target.value),error:!!g.esi_no,helperText:g.esi_no})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"esi-contribution-label",children:"Employee ESI rate"}),e.jsxs(W,{disabled:!(c.esi_contribution||_.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:c.employee_esi_rate||_.employee_esi_rate||"na",onChange:n=>h("employee_esi_rate",n.target.value),error:!!g.employee_esi_rate,helperText:g.employee_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select esi rate"}),[...Array(11).keys()].map(n=>e.jsxs(MenuItem,{value:n,children:[n,"%"]},n))]})]})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"esi-contribution-label",children:"Additional rate"}),e.jsxs(W,{disabled:!(c.esi_contribution||_.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:c.additional_esi_rate||_.additional_esi_rate||"na",onChange:n=>h("additional_esi_rate",n.target.value),error:!!g.additional_esi_rate,helperText:g.additional_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(n=>e.jsxs(MenuItem,{value:n,children:[n,"%"]},n))]})]})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsx(TextField,{disabled:!(c.esi_contribution||_.esi_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:c.total_esi_rate||_.total_esi_rate?`${c.total_esi_rate||_.total_esi_rate}%`:"",InputProps:{readOnly:!0},error:!!g.total_esi_rate,helperText:g.total_esi_rate})})]})]}),e.jsx(CardActions,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e.jsx(LoadingButton,{disabled:!j,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:i,children:"Submit"})})]})]})})})},Sa=({title:r,allUsers:E,report_to:_,departments:w,designations:c})=>{var ke,we,Se,Ie;const{auth:k}=Fe().props,{isDark:j}=G();Ce();const[u,g]=m.useState(!1),[C,i]=m.useState(!1);m.useEffect(()=>{const y=()=>{g(window.innerWidth<640),i(window.innerWidth<768)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const[a,S]=m.useState(Fe().props.user),[h,d]=m.useState("overview"),[n,N]=m.useState(!1),[l,o]=m.useState({profile:!1,personal:!1,emergency:!1,bank:!1,family:!1,education:!1,experience:!1,salary:!1}),[s,t]=m.useState({search:"",section:"all",completionStatus:"all",showEmpty:!0}),[x,D]=m.useState(!1),[v,M]=m.useState({completion_percentage:0,total_sections:8,completed_sections:0,last_updated:null,profile_views:0}),p=((ke=k.permissions)==null?void 0:ke.includes("profile.own.update"))||((we=k.permissions)==null?void 0:we.includes("profile.update"))||k.user.id===a.id,T=((Se=k.permissions)==null?void 0:Se.includes("profile.own.view"))||((Ie=k.permissions)==null?void 0:Ie.includes("profile.view"))||k.user.id===a.id,b=m.useCallback(y=>{o(L=>({...L,[y]:!0}))},[]),R=m.useCallback(y=>{o(L=>({...L,[y]:!1}))},[]),f=m.useCallback((y,L)=>{t(pe=>({...pe,[y]:L}))},[]),$=m.useCallback(()=>{const y=[a.name&&a.email,a.phone&&a.address,a.birthday&&a.gender,a.department&&a.designation,a.emergency_contact_primary_name,a.bank_name||a.bank_account_no,a.educations&&a.educations.length>0,a.experiences&&a.experiences.length>0],L=y.filter(Boolean).length,pe=Math.round(L/y.length*100);return M(Ge=>({...Ge,completion_percentage:pe,completed_sections:L,total_sections:y.length})),{completed:L,total:y.length,percentage:pe}},[a]),P=m.useCallback(async()=>{try{const y=await qe.get(route("profile.stats",{user:a.id}));y.data.stats&&M(L=>({...L,...y.data.stats}))}catch(y){console.error("Error fetching profile stats:",y),$()}},[a.id,$]);m.useEffect(()=>{$(),P()},[$,P]);const U=m.useCallback(y=>{y&&S(y),$(),P(),F.success("Profile updated successfully")},[$,P]),X=m.useMemo(()=>[{title:"Profile Completion",value:`${v.completion_percentage}%`,icon:e.jsx(he,{}),color:v.completion_percentage>=80?"text-green-400":v.completion_percentage>=50?"text-orange-400":"text-red-400",iconBg:v.completion_percentage>=80?"bg-green-500/20":v.completion_percentage>=50?"bg-orange-500/20":"bg-red-500/20",description:`${v.completed_sections}/${v.total_sections} sections completed`},{title:"Last Updated",value:v.last_updated?ia(v.last_updated).fromNow():"Never",icon:e.jsx(Qe,{}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"Profile last modified"},{title:"Profile Views",value:v.profile_views||0,icon:e.jsx(la,{}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Times profile viewed"},{title:"Account Status",value:a.active?"Active":"Inactive",icon:a.active?e.jsx(he,{}):e.jsx(ce,{}),color:a.active?"text-green-400":"text-red-400",iconBg:a.active?"bg-green-500/20":"bg-red-500/20",description:"Current account status"}],[v,a.active]),Y=m.useMemo(()=>{const y=[];return p&&y.push({label:u?"Edit":"Edit Profile",icon:e.jsx(da,{className:"w-4 h-4"}),onPress:()=>b("profile"),color:"primary",variant:"solid"}),y.push({label:u?"":"Export",isIconOnly:u,icon:e.jsx(Me,{className:"w-4 h-4"}),color:"default",variant:"bordered"}),y},[p,u,b]),z=m.useCallback(y=>{switch(y){case"personal":return!a.passport_no&&!a.nationality&&!a.religion&&!a.marital_status;case"emergency":return!a.emergency_contact_primary_name&&!a.emergency_contact_secondary_name;case"bank":return!a.bank_name&&!a.bank_account_no&&!a.ifsc_code&&!a.pan_no;case"family":return!a.family_member_name&&!a.family_member_relationship;case"education":return!a.educations||a.educations.length===0;case"experience":return!a.experiences||a.experiences.length===0;default:return!1}},[a]),q=m.useCallback(y=>{switch(y){case"personal":return!!(a.passport_no&&a.nationality&&a.religion&&a.marital_status);case"emergency":return!!(a.emergency_contact_primary_name&&a.emergency_contact_primary_phone);case"bank":return!!(a.bank_name&&a.bank_account_no);case"family":return!!(a.family_member_name&&a.family_member_relationship);case"education":return!!(a.educations&&a.educations.length>0);case"experience":return!!(a.experiences&&a.experiences.length>0);default:return!1}},[a]);if(!T)return e.jsxs(ye,{children:[e.jsx(Pe,{title:r}),e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsx(oe,{className:"bg-white/10 backdrop-blur-md border-white/20 max-w-md",children:e.jsxs(ie,{className:"p-8 text-center",children:[e.jsx(ce,{className:"w-16 h-16 text-warning-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-default-500",children:"You don't have permission to view this profile."})]})})})]});const Q=()=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(re,{title:"Personal Information",icon:e.jsx(Z,{}),onEdit:()=>b("personal"),canEdit:p,isEmpty:z("personal"),isCompleted:q("personal"),children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(A,{label:"Passport No.",value:a.passport_no,icon:e.jsx(Z,{})}),e.jsx(A,{label:"Passport Expiry",value:a.passport_exp_date,type:"date",icon:e.jsx(_e,{})}),e.jsx(A,{label:"NID No.",value:a.nid,icon:e.jsx(Z,{})}),e.jsx(A,{label:"Nationality",value:a.nationality,icon:e.jsx(pa,{})}),e.jsx(A,{label:"Religion",value:a.religion,icon:e.jsx(ae,{})}),e.jsx(A,{label:"Marital Status",value:a.marital_status,type:"chip",icon:e.jsx(me,{})}),e.jsx(A,{label:"Spouse Employment",value:a.employment_of_spouse,icon:e.jsx(ne,{})}),e.jsx(A,{label:"Children",value:a.number_of_children,icon:e.jsx(be,{}),showDivider:!1})]})}),e.jsx(re,{title:"Emergency Contacts",icon:e.jsx(te,{}),onEdit:()=>b("emergency"),canEdit:p,isEmpty:z("emergency"),isCompleted:q("emergency"),children:e.jsxs("div",{className:"space-y-4",children:[a.emergency_contact_primary_name&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-semibold text-foreground mb-2",children:"Primary Contact"}),e.jsxs("div",{className:"space-y-1 pl-4 border-l-2 border-primary-500",children:[e.jsx(A,{label:"Name",value:a.emergency_contact_primary_name,icon:e.jsx(ae,{})}),e.jsx(A,{label:"Relationship",value:a.emergency_contact_primary_relationship,icon:e.jsx(me,{})}),e.jsx(A,{label:"Phone",value:a.emergency_contact_primary_phone,type:"phone",icon:e.jsx(te,{}),showDivider:!1})]})]}),a.emergency_contact_secondary_name&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-semibold text-foreground mb-2",children:"Secondary Contact"}),e.jsxs("div",{className:"space-y-1 pl-4 border-l-2 border-secondary-500",children:[e.jsx(A,{label:"Name",value:a.emergency_contact_secondary_name,icon:e.jsx(ae,{})}),e.jsx(A,{label:"Relationship",value:a.emergency_contact_secondary_relationship,icon:e.jsx(me,{})}),e.jsx(A,{label:"Phone",value:a.emergency_contact_secondary_phone,type:"phone",icon:e.jsx(te,{}),showDivider:!1})]})]})]})}),e.jsx(re,{title:"Banking Information",icon:e.jsx(Ee,{}),onEdit:()=>b("bank"),canEdit:p,isEmpty:z("bank"),isCompleted:q("bank"),children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(A,{label:"Bank Name",value:a.bank_name,icon:e.jsx(ea,{})}),e.jsx(A,{label:"Account Number",value:a.bank_account_no,icon:e.jsx(Z,{})}),e.jsx(A,{label:"IFSC Code",value:a.ifsc_code,icon:e.jsx(Z,{})}),e.jsx(A,{label:"PAN Number",value:a.pan_no,icon:e.jsx(Z,{}),showDivider:!1})]})}),e.jsx(re,{title:"Family Information",icon:e.jsx(be,{}),onEdit:()=>b("family"),canEdit:p,isEmpty:z("family"),isCompleted:q("family"),children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(A,{label:"Member Name",value:a.family_member_name,icon:e.jsx(ae,{})}),e.jsx(A,{label:"Relationship",value:a.family_member_relationship,icon:e.jsx(me,{})}),e.jsx(A,{label:"Date of Birth",value:a.family_member_dob,type:"date",icon:e.jsx(_e,{})}),e.jsx(A,{label:"Phone",value:a.family_member_phone,type:"phone",icon:e.jsx(te,{}),showDivider:!1})]})}),e.jsx(re,{title:"Education History",icon:e.jsx(De,{}),onEdit:()=>b("education"),canEdit:p,isEmpty:z("education"),isCompleted:q("education"),className:"lg:col-span-2",children:a.educations&&a.educations.length>0?e.jsx("div",{className:"space-y-4",children:a.educations.map((y,L)=>e.jsxs(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:L*.1},className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[e.jsx("h5",{className:"font-semibold text-foreground mb-2",children:y.institution}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-default-500",children:"Degree:"}),e.jsx("p",{className:"font-medium",children:y.degree||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-default-500",children:"Start Date:"}),e.jsx("p",{className:"font-medium",children:y.starting_date?new Date(y.starting_date).getFullYear():"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-default-500",children:"End Date:"}),e.jsx("p",{className:"font-medium",children:y.complete_date?new Date(y.complete_date).getFullYear():"N/A"})]})]})]},y.id||L))}):null}),e.jsx(re,{title:"Work Experience",icon:e.jsx(ne,{}),onEdit:()=>b("experience"),canEdit:p,isEmpty:z("experience"),isCompleted:q("experience"),className:"lg:col-span-2",children:a.experiences&&a.experiences.length>0?e.jsx("div",{className:"space-y-4",children:a.experiences.map((y,L)=>e.jsxs(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:L*.1},className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[e.jsx("h5",{className:"font-semibold text-foreground mb-1",children:y.job_position}),e.jsx("p",{className:"text-primary-400 font-medium mb-2",children:y.company_name}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-default-500",children:"Duration:"}),e.jsxs("p",{className:"font-medium",children:[y.period_from?new Date(y.period_from).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"N/A"," ","- ",y.period_to?new Date(y.period_to).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Present"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-default-500",children:"Location:"}),e.jsx("p",{className:"font-medium",children:y.location||"N/A"})]})]}),y.description&&e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"text-default-500 text-sm",children:"Description:"}),e.jsx("p",{className:"text-sm mt-1",children:y.description})]})]},L))}):null})]}),ge=()=>e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"p-8 bg-white/5 rounded-lg border border-white/10 max-w-md mx-auto",children:[e.jsx(ne,{className:"w-16 h-16 text-default-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Projects Coming Soon"}),e.jsx("p",{className:"text-default-500 text-sm",children:"Project management integration will be available in a future update."})]})}),Ue=()=>e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"p-8 bg-white/5 rounded-lg border border-white/10 max-w-md mx-auto",children:[e.jsx(fe,{className:"w-16 h-16 text-default-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Salary Information"}),e.jsx("p",{className:"text-default-500 text-sm mb-4",children:"Access detailed salary and compensation information."}),p&&e.jsx(B,{color:"primary",variant:"bordered",onPress:()=>b("salary"),startContent:e.jsx(fe,{className:"w-4 h-4"}),children:"View Salary Details"})]})}),ze=()=>e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"p-8 bg-white/5 rounded-lg border border-white/10 max-w-md mx-auto",children:[e.jsx(ma,{className:"w-16 h-16 text-default-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Assets Coming Soon"}),e.jsx("p",{className:"text-default-500 text-sm",children:"Asset management and tracking will be available in a future update."})]})}),We=()=>e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"p-8 bg-white/5 rounded-lg border border-white/10 max-w-md mx-auto",children:[e.jsx(Me,{className:"w-16 h-16 text-default-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Documents Coming Soon"}),e.jsx("p",{className:"text-default-500 text-sm",children:"Document management and storage will be available in a future update."})]})});return e.jsxs(ye,{children:[e.jsx(Pe,{title:a.name}),e.jsxs(ue,{children:[l.profile&&e.jsx(K,{isOpen:l.profile,onClose:()=>R("profile"),title:"Edit Profile",subtitle:"Update your basic profile information",icon:e.jsx(ae,{}),showFooter:!1,children:e.jsx(_a,{user:a,allUsers:E,departments:w,designations:c,open:l.profile,setUser:S,closeModal:()=>R("profile"),onSuccess:U})}),l.personal&&e.jsx(K,{isOpen:l.personal,onClose:()=>R("personal"),title:"Personal Information",subtitle:"Update your personal details and identification",icon:e.jsx(Z,{}),showFooter:!1,children:e.jsx(ya,{user:a,open:l.personal,setUser:S,closeModal:()=>R("personal"),onSuccess:U})}),l.emergency&&e.jsx(K,{isOpen:l.emergency,onClose:()=>R("emergency"),title:"Emergency Contacts",subtitle:"Manage your emergency contact information",icon:e.jsx(te,{}),showFooter:!1,children:e.jsx(ja,{user:a,open:l.emergency,setUser:S,closeModal:()=>R("emergency"),onSuccess:U})}),l.bank&&e.jsx(K,{isOpen:l.bank,onClose:()=>R("bank"),title:"Banking Information",subtitle:"Update your banking and financial details",icon:e.jsx(Ee,{}),showFooter:!1,children:e.jsx(va,{user:a,open:l.bank,setUser:S,closeModal:()=>R("bank"),onSuccess:U})}),l.family&&e.jsx(K,{isOpen:l.family,onClose:()=>R("family"),title:"Family Information",subtitle:"Add or update family member details",icon:e.jsx(be,{}),showFooter:!1,children:e.jsx(Ca,{user:a,open:l.family,setUser:S,closeModal:()=>R("family"),onSuccess:U})}),l.education&&e.jsx(K,{isOpen:l.education,onClose:()=>R("education"),title:"Education History",subtitle:"Manage your educational background",icon:e.jsx(De,{}),showFooter:!1,children:e.jsx(Na,{user:a,open:l.education,setUser:S,closeModal:()=>R("education"),onSuccess:U})}),l.experience&&e.jsx(K,{isOpen:l.experience,onClose:()=>R("experience"),title:"Work Experience",subtitle:"Update your professional experience",icon:e.jsx(ne,{}),showFooter:!1,children:e.jsx(ka,{user:a,open:l.experience,setUser:S,closeModal:()=>R("experience"),onSuccess:U})}),l.salary&&e.jsx(K,{isOpen:l.salary,onClose:()=>R("salary"),title:"Salary Information",subtitle:"Review salary and compensation details",icon:e.jsx(fe,{}),showFooter:!1,children:e.jsx(wa,{user:a,setUser:S})})]}),e.jsx(aa,{title:`${a.name}'s Profile`,subtitle:"Comprehensive employee profile management with advanced features",icon:e.jsx(ae,{className:"w-8 h-8"}),variant:"default",actionButtons:Y}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx(ra,{stats:X})}),e.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsx(fa,{user:a,departments:w,designations:c,onEditClick:()=>b("profile"),profileStats:v,canEdit:p})}),e.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(TextField,{label:"Search Profile Sections",placeholder:"Search sections, fields, or content...",value:s.search,onChange:y=>f("search",y.target.value),InputProps:{startAdornment:e.jsx(InputAdornment,{position:"start",children:e.jsx(Ze,{className:"w-4 h-4"})})},fullWidth:!0,size:u?"small":"medium",sx:Ke("search")})}),e.jsx("div",{className:"flex gap-2 items-end",children:e.jsx(ua,{variant:"bordered",className:"bg-white/5",children:e.jsxs(B,{isIconOnly:u,color:x?"primary":"default",onPress:()=>D(!x),className:x?"bg-purple-500/20":"bg-white/5",children:[e.jsx(ca,{className:"w-4 h-4"}),!u&&e.jsx("span",{className:"ml-1",children:"Filters"})]})})})]}),e.jsx(ue,{children:x&&e.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx(oe,{className:"bg-white/10 backdrop-blur-md border-white/20",children:e.jsxs(ie,{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(FormControl,{fullWidth:!0,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:2,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.15)"},"&.Mui-focused":{backgroundColor:"rgba(255, 255, 255, 0.2)"}},"& .MuiInputLabel-root":{color:"text.secondary"}},children:[e.jsx(InputLabel,{children:"Profile Section"}),e.jsxs(W,{value:s.section||"all",label:"Profile Section",onChange:y=>f("section",y.target.value),children:[e.jsx(MenuItem,{value:"all",children:"All Sections"}),e.jsx(MenuItem,{value:"basic",children:"Basic Information"}),e.jsx(MenuItem,{value:"personal",children:"Personal Details"}),e.jsx(MenuItem,{value:"work",children:"Work Information"}),e.jsx(MenuItem,{value:"emergency",children:"Emergency Contacts"}),e.jsx(MenuItem,{value:"bank",children:"Banking Details"}),e.jsx(MenuItem,{value:"education",children:"Education"}),e.jsx(MenuItem,{value:"experience",children:"Experience"})]})]}),e.jsxs(FormControl,{fullWidth:!0,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:2,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.15)"},"&.Mui-focused":{backgroundColor:"rgba(255, 255, 255, 0.2)"}},"& .MuiInputLabel-root":{color:"text.secondary"}},children:[e.jsx(InputLabel,{children:"Completion Status"}),e.jsxs(W,{value:s.completionStatus||"all",label:"Completion Status",onChange:y=>f("completionStatus",y.target.value),children:[e.jsx(MenuItem,{value:"all",children:"All Status"}),e.jsx(MenuItem,{value:"completed",children:"Completed"}),e.jsx(MenuItem,{value:"incomplete",children:"Incomplete"}),e.jsx(MenuItem,{value:"empty",children:"Empty"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-default-600",children:"Show Empty:"}),e.jsx(B,{size:"sm",variant:s.showEmpty?"solid":"bordered",color:s.showEmpty?"primary":"default",onPress:()=>f("showEmpty",!s.showEmpty),children:s.showEmpty?"Yes":"No"})]})]}),(s.search||s.section!=="all"||s.completionStatus!=="all")&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-white/10",children:[s.search&&e.jsxs(J,{variant:"flat",color:"primary",size:"sm",onClose:()=>f("search",""),children:["Search: ",s.search]}),s.section!=="all"&&e.jsxs(J,{variant:"flat",color:"secondary",size:"sm",onClose:()=>f("section","all"),children:["Section: ",s.section]}),s.completionStatus!=="all"&&e.jsxs(J,{variant:"flat",color:"warning",size:"sm",onClose:()=>f("completionStatus","all"),children:["Status: ",s.completionStatus]})]})]})})})}),e.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsx(oe,{className:"bg-white/10 backdrop-blur-md border-white/20",children:e.jsxs(ie,{className:"p-0",children:[e.jsxs(xa,{selectedKey:h,onSelectionChange:d,variant:"underlined",classNames:{tabList:"gap-6 w-full relative rounded-none p-4 border-b border-white/10",cursor:"w-full bg-primary-500",tab:"max-w-fit px-4 h-12",tabContent:"group-data-[selected=true]:text-primary-foreground text-default-600 font-medium"},children:[e.jsx(se,{title:"Overview"},"overview"),e.jsx(se,{title:"Projects"},"projects"),e.jsx(se,{title:"Salary & Benefits"},"salary"),e.jsx(se,{title:"Assets"},"assets"),e.jsx(se,{title:"Documents"},"documents")]}),e.jsx("div",{className:"p-6",children:e.jsxs(ue,{mode:"wait",children:[h==="overview"&&e.jsx(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:Q()},"overview"),h==="projects"&&e.jsx(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:ge()},"projects"),h==="salary"&&e.jsx(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:Ue()},"salary"),h==="assets"&&e.jsx(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:ze()},"assets"),h==="documents"&&e.jsx(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:We()},"documents")]})})]})})})]})]})};Sa.layout=r=>e.jsx(ye,{children:r});export{Sa as default};
