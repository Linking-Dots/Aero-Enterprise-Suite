import{r as b,j as r,s as qe,d as J,t as zr,F as _e,a as we,bX as Ta,bY as Ea,bZ as Nn,Q as Fn,c as le,b as oe,S as Br}from"./app-n1LIYQPq.js";import{y as pt,e as Ie,c as Sn,C as vt,D as xt,E as gt,H as ne,m as Cn,j as Tn,k as En,n as In,x as $n,s as Ne,l as Q,o as Rn,w as Ge,f as Pn,I as An,A as On}from"./Dashboard-DJ5BzCaS.js";import{S as Dn}from"./StatsCards-CChDBcUs.js";import{c as ce,t as yt,F as Ia,B,b as $a}from"./react-toastify.esm-BDdnkiAB.js";import{F as Un}from"./HashtagIcon-Dsxi04I6.js";import{F as Xe}from"./UserIcon-CpBOTOOT.js";import{F as bt}from"./EnvelopeIcon-Cyp16-sG.js";import{F as $e,a as Ra}from"./DeviceTabletIcon-C8e1JzaF.js";import{F as Pa}from"./CheckCircleIcon-CTmMgZPD.js";import{F as Re}from"./ShieldCheckIcon-BYBWX_Ph.js";import{F as jt}from"./EllipsisVerticalIcon-MD4dfyXX.js";import{F as Aa}from"./PencilIcon-BkKyTD42.js";import{F as Ze}from"./LockOpenIcon-LY5WiS6Y.js";import{F as Ye}from"./LockClosedIcon-DAK_BEbO.js";import{t as Ln,a as Mn,b as zn,c as Bn}from"./chunk-F3UDT23P-CfD27OBv.js";import{t as Wn,a as kn}from"./chunk-YRZGWF2W-BSYRfbDM.js";import{p as Oa}from"./chunk-EAPQ7RWQ-C_ZIqbI7.js";import{u as Da}from"./chunk-S574QCAN-Cb5yHIHy.js";import{U as Gn}from"./user-DWiuetAs.js";import{C as Hn}from"./camera-BhvD-9YI.js";import{c as Rt}from"./createLucideIcon-BIFw61hB.js";import{i as Y}from"./chunk-SSA7SXE4-BTItze1Z.js";import{F as Vn}from"./XCircleIcon-ChDLRiub.js";import{F as qn}from"./TrophyIcon-CGh3NavR.js";import{F as dt}from"./UserPlusIcon-lZU_2lRt.js";import{F as Wr}from"./ChartBarIcon-JNTBlviq.js";import{m as Kn}from"./proxy-BHshDoAS.js";import{F as Xn}from"./DocumentArrowDownIcon-BTegPBhP.js";import{F as Zn}from"./ChartPieIcon-ClsO98FT.js";import{F as Yn}from"./TableCellsIcon-m10qWc7L.js";import{c as Jn}from"./chunk-D5XJWRAV-CVXe_h6o.js";import{s as q}from"./chunk-TLYTI3QM-BSxz-uix.js";import{b as Qn}from"./chunk-57V4RE7B-DYEOAoWt.js";import{s as es}from"./chunk-TQNYOUFX-Drz50ky1.js";import"./KeyIcon-BR78fqqK.js";import"./logo-Pwvcz7fP.js";import"./ExclamationTriangleIcon-DMLwC-5W.js";import"./features-animation-BfbXr3Ir.js";import"./create-visual-element-Dv6o1znz.js";import"./chunk-XJ2YRSUP-lNaR9vZt.js";import"./useToggleState-CNXYdUeg.js";function ts({title:e,titleId:t,...a},s){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},a),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const kr=b.forwardRef(ts);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Gr=Rt("eye-off",rs);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hr=Rt("eye",as);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ss=Rt("lock",ns),pe=()=>"var(--borderRadius, 12px)",is=({allUsers:e,roles:t,isMobile:a,isTablet:s,setUsers:l,pagination:o,onPageChange:m,onRowsPerPageChange:f,totalUsers:h=0,onEdit:y,loading:j=!1,updateUserOptimized:_,deleteUserOptimized:F,toggleUserStatusOptimized:C,updateUserRolesOptimized:E,toggleSingleDeviceLogin:O,resetUserDevice:P,deviceActions:A={}})=>{const[I,W]=b.useState({}),M=(n,p="w-5 h-5")=>{const $=(n==null?void 0:n.toLowerCase())||"";return $.includes("mobile")||$.includes("android")||$.includes("iphone")?r.jsx($e,{className:`${p} text-primary`}):$.includes("tablet")||$.includes("ipad")?r.jsx(Ra,{className:`${p} text-secondary`}):r.jsx($a,{className:`${p} text-default-500`})},d=n=>{const p=(n==null?void 0:n.toLowerCase())||"";return p.includes("mobile")||p.includes("android")||p.includes("iphone")?"Mobile Device":p.includes("tablet")||p.includes("ipad")?"Tablet":"Desktop"},S=(n,p,$)=>{W(R=>({...R,[`${n}-${p}`]:$}))},w=(n,p)=>I[`${n}-${p}`]||!1;async function g(n,p){S(n,"role",!0);const $=new Promise(async(R,k)=>{var u;try{const fe=await axios.post(route("user.updateRole",{id:n}),{roles:p});fe.status===200&&(E&&E(n,p),R([fe.data.message||"Role updated successfully"]))}catch(fe){((u=fe.response)==null?void 0:u.status)===422?k(fe.response.data.errors||["Failed to update user role."]):k(["An unexpected error occurred. Please try again later."])}finally{S(n,"role",!1)}});return B.promise($,{pending:"Updating employee role...",success:{render({data:R}){return R.join(", ")}},error:{render({data:R}){return Array.isArray(R)?R.join(", "):R}}}),$}const T=b.useMemo(()=>{const n=[{name:"#",uid:"sl"},{name:"USER",uid:"user"},{name:"EMAIL",uid:"email"},{name:"DEPARTMENT",uid:"department"},{name:"DEVICE STATUS",uid:"device_status"},{name:"STATUS",uid:"status"},{name:"ROLES",uid:"roles"},{name:"ACTIONS",uid:"actions"}];if(!a&&!s)n.splice(3,0,{name:"PHONE",uid:"phone"});else if(a)n.splice(n.findIndex(p=>p.uid==="department"),1),n.splice(n.findIndex(p=>p.uid==="device_status"),1);else if(s){const p=n.findIndex($=>$.uid==="device_status");if(p>-1){const $=n.splice(p,1)[0];n.splice(2,0,$)}}return n},[a,s]),z=async(n,p)=>{if(!w(n,"status")){S(n,"status",!0);try{C?(C(n,!p),B.success(`User status ${p?"deactivated":"activated"} successfully`)):l&&(l($=>$.map(R=>R.id===n?{...R,active:!p}:R)),B.success(`User status ${p?"deactivated":"activated"} successfully`))}catch($){console.error("Error toggling user status:",$),B.error("Failed to update user status")}finally{S(n,"status",!1)}}},v=(n,p,$)=>{var k;const R=n[p];switch(p){case"sl":const ae=(o!=null&&o.currentPage&&(o!=null&&o.perPage)?Number((o.currentPage-1)*o.perPage):0)+(typeof $=="number"?$:0)+1;return r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"flex items-center justify-center w-8 h-8 border shadow-sm",style:{background:"var(--theme-content2, #F4F4F5)",borderColor:"var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 8px)",color:"var(--theme-foreground, #000000)"},children:r.jsx("span",{className:"text-sm font-bold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:ae})})});case"user":return r.jsx(Da,{className:"w-fit max-w-full",avatarProps:{radius:pe(),size:"sm",src:(n==null?void 0:n.profile_image_url)||(n==null?void 0:n.profile_image),showFallback:!0,name:(n==null?void 0:n.name)||"Unnamed User",isBordered:!0,style:{borderColor:"var(--theme-primary, #3B82F6)",borderWidth:"2px"}},name:r.jsx("span",{className:"text-sm font-semibold whitespace-nowrap text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:(n==null?void 0:n.name)||"Unnamed User"}),description:r.jsxs("span",{className:"text-xs text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["ID: ",n==null?void 0:n.id]})});case"email":return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 rounded-md",style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)"},children:r.jsx(bt,{className:"w-3.5 h-3.5"})}),r.jsx("span",{className:"text-sm font-medium text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:n.email})]});case"phone":return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 rounded-md",style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)"},children:r.jsx(pt,{className:"w-3.5 h-3.5"})}),r.jsx("span",{className:"text-sm font-medium text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:n.phone||"N/A"})]});case"department":return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-1.5 rounded-md",style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)"},children:r.jsx(Ie,{className:"w-3.5 h-3.5"})}),r.jsx("span",{className:"text-sm font-medium text-default-900",style:{fontFamily:'var(--fontFamily, "Inter")'},children:(n==null?void 0:n.department)||"N/A"})]});case"device_status":const V=w(n.id,"deviceToggle");return r.jsx("div",{className:"flex items-center space-x-2",children:n.single_device_login?r.jsxs(r.Fragment,{children:[r.jsx(ce,{size:"sm",variant:"flat",color:n.active_device?"warning":"success",startContent:V?r.jsx("div",{className:"animate-spin",children:r.jsx(_e,{className:"w-3 h-3"})}):n.active_device?r.jsx(Ye,{className:"w-3 h-3"}):r.jsx(Ze,{className:"w-3 h-3"}),children:V?"Loading...":n.active_device?"Locked":"Free"}),n.active_device&&!V&&r.jsx(yt,{content:r.jsxs("div",{className:"backdrop-blur-md border rounded-lg p-4 shadow-2xl max-w-sm",style:{background:"color-mix(in srgb, var(--theme-content1) 20%, transparent)",borderColor:"var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)"},children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[M(n.active_device.user_agent,"w-5 h-5"),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-foreground text-sm",style:{fontFamily:'var(--fontFamily, "Inter")'},children:n.active_device.device_name||"Unknown Device"}),r.jsx("div",{className:"text-xs text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:d(n.active_device.user_agent)})]})]}),r.jsx("div",{className:"space-y-2 text-xs",children:r.jsx("div",{className:"pt-2 mt-2 border-t",style:{borderColor:"color-mix(in srgb, var(--theme-divider) 20%, transparent)"},children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ia,{className:"w-3 h-3 text-success"}),r.jsx("span",{className:"text-success text-xs font-medium",style:{fontFamily:'var(--fontFamily, "Inter")'},children:n.active_device.is_active?"Currently Active":"Inactive"})]})})})]}),placement:"top",classNames:{content:"p-0 bg-transparent shadow-none border-none"},children:r.jsx("div",{className:"flex items-center p-1 rounded-sm hover:bg-content1/10 transition-colors cursor-default",children:M(n.active_device.user_agent,"w-4 h-4")})})]}):r.jsx(ce,{size:"sm",variant:"flat",color:"default",startContent:V?r.jsx("div",{className:"animate-spin",children:r.jsx(_e,{className:"w-3 h-3"})}):r.jsx(Re,{className:"w-3 h-3"}),children:V?"Loading...":"Disabled"})});case"status":return r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",checked:n.active,onChange:()=>z(n.id,n.active),disabled:w(n.id,"status")}),r.jsx("div",{className:"w-11 h-6 peer-focus:outline-hidden peer-focus:ring-4 peer-focus:ring-opacity-30 rounded-full peer transition-all duration-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all",style:{backgroundColor:n.active?"var(--theme-success, #10B981)":"var(--theme-danger, #EF4444)"}}),w(n.id,"status")&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(qe,{size:"sm",color:"default"})})]}),r.jsx("span",{className:"text-xs font-medium",style:{color:n.active?"var(--theme-success, #10B981)":"var(--theme-danger, #EF4444)",fontFamily:'var(--fontFamily, "Inter")'},children:n.active?"Active":"Inactive"})]});case"roles":const Be=((k=n.roles)==null?void 0:k.map(G=>typeof G=="object"&&G!==null?G.name:G))||[],be=new Set(Be),We=Array.from(be).join(", ")||"No Roles";return r.jsx("div",{className:"flex items-center",children:r.jsxs(vt,{isDisabled:w(n.id,"role"),className:"max-w-[220px]",children:[r.jsx(xt,{children:r.jsx(J,{className:"capitalize",variant:"solid",size:"sm",radius:pe(),startContent:w(n.id,"role")?r.jsx(qe,{size:"sm"}):null,style:{background:"var(--theme-primary, #3B82F6)",color:"white",fontFamily:'var(--fontFamily, "Inter")',borderRadius:pe()},children:We})}),r.jsx(gt,{disallowEmptySelection:!1,"aria-label":"Role selection",closeOnSelect:!1,selectedKeys:be,selectionMode:"multiple",variant:"flat",onSelectionChange:G=>{const he=Array.from(G);g(n.id,he)},children:(t||[]).map(G=>r.jsx(ne,{children:typeof G=="object"&&G!==null?G.name:G},typeof G=="object"&&G!==null?G.name:G))})]})});case"actions":return r.jsx("div",{className:"flex justify-center items-center",children:r.jsxs(vt,{children:[r.jsx(xt,{children:r.jsx(J,{isIconOnly:!0,size:"sm",variant:"solid",radius:pe(),style:{background:"var(--theme-content2, #F4F4F5)",color:"var(--theme-default-500, #6B7280)",fontFamily:'var(--fontFamily, "Inter")',borderRadius:pe()},className:"hover:opacity-80 transition-opacity",children:r.jsx(jt,{className:"w-4 h-4"})})}),r.jsxs(gt,{style:{background:"var(--theme-content1, #FFFFFF)",border:"1px solid var(--theme-divider, #E5E7EB)",borderRadius:pe()},children:[r.jsx(ne,{textValue:"View Profile",href:route("profile",{user:n.id}),as:zr,className:"text-blue-500",startContent:r.jsx(Xe,{className:"w-4 h-4"}),children:"View Profile"}),r.jsx(ne,{textValue:"Edit User",onPress:()=>{y&&y(n)},className:"text-amber-500",startContent:r.jsx(Aa,{className:"w-4 h-4"}),children:"Edit"}),r.jsx(ne,{textValue:"Device Toggle",onPress:()=>{O&&!w(n.id,"deviceToggle")&&(S(n.id,"deviceToggle",!0),O(n.id,!n.single_device_login).finally(()=>{S(n.id,"deviceToggle",!1)}))},isDisabled:A[n.id]||w(n.id,"deviceToggle"),startContent:w(n.id,"deviceToggle")?r.jsx("div",{className:"animate-spin",children:r.jsx(_e,{className:"w-4 h-4"})}):n.single_device_login?r.jsx(Ze,{className:"w-4 h-4"}):r.jsx(Ye,{className:"w-4 h-4"}),className:n.single_device_login?"text-orange-500":"text-green-500",children:w(n.id,"deviceToggle")?"Processing...":n.single_device_login?"Disable Device Lock":"Enable Device Lock"}),n.single_device_login&&n.active_device&&r.jsx(ne,{textValue:"Reset Device",onPress:()=>{P&&!w(n.id,"deviceReset")&&(S(n.id,"deviceReset",!0),P(n.id).finally(()=>{S(n.id,"deviceReset",!1)}))},isDisabled:A[n.id]||w(n.id,"deviceReset"),startContent:w(n.id,"deviceReset")?r.jsx("div",{className:"animate-spin",children:r.jsx(_e,{className:"w-4 h-4"})}):r.jsx(_e,{className:"w-4 h-4"}),className:"text-red-500",children:w(n.id,"deviceReset")?"Resetting...":"Reset Device"}),r.jsx(ne,{textValue:"View Devices",href:route("admin.users.devices",{userId:n.id}),as:zr,startContent:r.jsx($e,{className:"w-4 h-4"}),className:"text-blue-500",children:"View Device History"})]})]})});default:return R}},c=()=>!e||!h||j?null:r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-6 py-4 border-t",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:"var(--theme-content2, #F4F4F5)",borderRadius:"0 0 var(--borderRadius, 12px) var(--borderRadius, 12px)"},children:[r.jsxs("span",{className:"text-sm text-default-600 mb-3 sm:mb-0 font-medium",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["Showing"," ",r.jsx("span",{className:"font-semibold text-default-900",children:(o.currentPage-1)*o.perPage+1})," ","to"," ",r.jsx("span",{className:"font-semibold text-default-900",children:Math.min(o.currentPage*o.perPage,h)})," ","of"," ",r.jsx("span",{className:"font-semibold text-default-900",children:h})," ","users"]}),r.jsx(Oa,{total:Math.ceil(h/o.perPage),initialPage:o.currentPage,page:o.currentPage,onChange:m,size:a?"sm":"md",variant:"flat",showControls:!0,radius:pe(),style:{fontFamily:'var(--fontFamily, "Inter")'},classNames:{wrapper:"gap-1",item:"bg-default-100 hover:bg-default-200 text-default-700 font-medium border border-default-200",cursor:"bg-primary text-primary-foreground font-semibold shadow-md",prev:"bg-default-100 hover:bg-default-200 text-default-700 border border-default-200",next:"bg-default-100 hover:bg-default-200 text-default-700 border border-default-200"}})]});return r.jsxs("div",{className:"w-full flex flex-col border rounded-lg shadow-lg",style:{maxHeight:"calc(100vh - 240px)",borderColor:"var(--theme-divider, #E4E4E7)",background:"var(--theme-content1, #FFFFFF)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:[r.jsx("div",{className:"flex-1 overflow-auto",style:{scrollbarWidth:"thin",scrollbarColor:"var(--theme-divider, #E4E4E7) transparent"},children:r.jsxs(Ln,{removeWrapper:!0,selectionMode:"none",isCompact:a,classNames:{base:"min-w-[900px]",wrapper:"p-0 shadow-none",th:"text-default-600 border-b font-semibold text-xs sticky top-0 z-30",td:"border-b py-4 px-3",table:"border-collapse w-full",thead:"sticky top-0 z-30",tbody:"",tr:"hover:bg-default-50 transition-colors duration-150",emptyWrapper:"text-center h-32",loadingWrapper:"h-32"},style:{"--table-border-color":"var(--theme-divider, #E4E4E7)","--table-header-bg":"var(--theme-content2, #F4F4F5)","--table-row-hover":"var(--theme-default-50, #F9FAFB)"},children:[r.jsx(Wn,{columns:T,children:n=>r.jsx(kn,{align:n.uid==="actions"||n.uid==="sl"?"center":"start",width:n.uid==="user"?280:n.uid==="email"?240:n.uid==="phone"?140:n.uid==="department"||n.uid==="device_status"?160:n.uid==="status"?120:n.uid==="roles"?180:n.uid==="actions"?120:void 0,style:{background:"var(--table-header-bg)",borderColor:"var(--table-border-color)",fontFamily:'var(--fontFamily, "Inter")',fontSize:"0.75rem",fontWeight:"600"},children:r.jsxs("div",{className:"flex items-center gap-2 py-1",children:[n.uid==="sl"&&r.jsx(Un,{className:"w-3 h-3 text-default-400"}),n.uid==="user"&&r.jsx(Xe,{className:"w-3 h-3 text-default-400"}),n.uid==="email"&&r.jsx(bt,{className:"w-3 h-3 text-default-400"}),n.uid==="phone"&&r.jsx(pt,{className:"w-3 h-3 text-default-400"}),n.uid==="department"&&r.jsx(Ie,{className:"w-3 h-3 text-default-400"}),n.uid==="device_status"&&r.jsx($e,{className:"w-3 h-3 text-default-400"}),n.uid==="status"&&r.jsx(Pa,{className:"w-3 h-3 text-default-400"}),n.uid==="roles"&&r.jsx(Re,{className:"w-3 h-3 text-default-400"}),n.uid==="actions"&&r.jsx(jt,{className:"w-3 h-3 text-default-400"}),r.jsx("span",{children:n.name})]})},n.uid)}),r.jsx(Mn,{items:e||[],emptyContent:r.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[r.jsx(Sn,{className:"w-12 h-12 text-default-300 mb-3"}),r.jsx("p",{className:"text-default-500 font-medium",children:"No users found"}),r.jsx("p",{className:"text-default-400 text-sm",children:"Try adjusting your search or filters"})]}),loadingContent:r.jsx("div",{className:"flex justify-center items-center py-8",children:r.jsx(qe,{size:"lg",color:"primary"})}),isLoading:j,children:(n,p)=>{const $=e?e.findIndex(R=>R.id===n.id):p;return r.jsx(zn,{className:"group",style:{background:"var(--theme-content1, #FFFFFF)"},children:R=>r.jsx(Bn,{style:{borderColor:"var(--table-border-color)",fontFamily:'var(--fontFamily, "Inter")',background:"inherit"},children:v(n,R,$)})},n.id)}})]})}),c()]})};var Ua=typeof global=="object"&&global&&global.Object===Object&&global,ls=typeof self=="object"&&self&&self.Object===Object&&self,re=Ua||ls||Function("return this")(),X=re.Symbol,La=Object.prototype,os=La.hasOwnProperty,cs=La.toString,Ce=X?X.toStringTag:void 0;function ds(e){var t=os.call(e,Ce),a=e[Ce];try{e[Ce]=void 0;var s=!0}catch{}var l=cs.call(e);return s&&(t?e[Ce]=a:delete e[Ce]),l}var ms=Object.prototype,us=ms.toString;function fs(e){return us.call(e)}var hs="[object Null]",ps="[object Undefined]",Vr=X?X.toStringTag:void 0;function xe(e){return e==null?e===void 0?ps:hs:Vr&&Vr in Object(e)?ds(e):fs(e)}function ie(e){return e!=null&&typeof e=="object"}var vs="[object Symbol]";function nt(e){return typeof e=="symbol"||ie(e)&&xe(e)==vs}function Ma(e,t){for(var a=-1,s=e==null?0:e.length,l=Array(s);++a<s;)l[a]=t(e[a],a,e);return l}var te=Array.isArray,qr=X?X.prototype:void 0,Kr=qr?qr.toString:void 0;function za(e){if(typeof e=="string")return e;if(te(e))return Ma(e,za)+"";if(nt(e))return Kr?Kr.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var xs=/\s/;function gs(e){for(var t=e.length;t--&&xs.test(e.charAt(t)););return t}var ys=/^\s+/;function bs(e){return e&&e.slice(0,gs(e)+1).replace(ys,"")}function K(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Xr=NaN,js=/^[-+]0x[0-9a-f]+$/i,_s=/^0b[01]+$/i,ws=/^0o[0-7]+$/i,Ns=parseInt;function Zr(e){if(typeof e=="number")return e;if(nt(e))return Xr;if(K(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=K(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=bs(e);var a=_s.test(e);return a||ws.test(e)?Ns(e.slice(2),a?2:8):js.test(e)?Xr:+e}function Ba(e){return e}var Fs="[object AsyncFunction]",Ss="[object Function]",Cs="[object GeneratorFunction]",Ts="[object Proxy]";function Pt(e){if(!K(e))return!1;var t=xe(e);return t==Ss||t==Cs||t==Fs||t==Ts}var mt=re["__core-js_shared__"],Yr=function(){var e=/[^.]+$/.exec(mt&&mt.keys&&mt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Es(e){return!!Yr&&Yr in e}var Is=Function.prototype,$s=Is.toString;function ge(e){if(e!=null){try{return $s.call(e)}catch{}try{return e+""}catch{}}return""}var Rs=/[\\^$.*+?()[\]{}|]/g,Ps=/^\[object .+?Constructor\]$/,As=Function.prototype,Os=Object.prototype,Ds=As.toString,Us=Os.hasOwnProperty,Ls=RegExp("^"+Ds.call(Us).replace(Rs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ms(e){if(!K(e)||Es(e))return!1;var t=Pt(e)?Ls:Ps;return t.test(ge(e))}function zs(e,t){return e==null?void 0:e[t]}function ye(e,t){var a=zs(e,t);return Ms(a)?a:void 0}var _t=ye(re,"WeakMap"),Jr=Object.create,Bs=function(){function e(){}return function(t){if(!K(t))return{};if(Jr)return Jr(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();function Ws(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function Wa(e,t){var a=-1,s=e.length;for(t||(t=Array(s));++a<s;)t[a]=e[a];return t}var ks=800,Gs=16,Hs=Date.now;function Vs(e){var t=0,a=0;return function(){var s=Hs(),l=Gs-(s-a);if(a=s,l>0){if(++t>=ks)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function qs(e){return function(){return e}}var Je=function(){try{var e=ye(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ks=Je?function(e,t){return Je(e,"toString",{configurable:!0,enumerable:!1,value:qs(t),writable:!0})}:Ba,ka=Vs(Ks);function Xs(e,t){for(var a=-1,s=e==null?0:e.length;++a<s&&t(e[a],a,e)!==!1;);return e}var Zs=9007199254740991,Ys=/^(?:0|[1-9]\d*)$/;function At(e,t){var a=typeof e;return t=t??Zs,!!t&&(a=="number"||a!="symbol"&&Ys.test(e))&&e>-1&&e%1==0&&e<t}function Ot(e,t,a){t=="__proto__"&&Je?Je(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function Me(e,t){return e===t||e!==e&&t!==t}var Js=Object.prototype,Qs=Js.hasOwnProperty;function Dt(e,t,a){var s=e[t];(!(Qs.call(e,t)&&Me(s,a))||a===void 0&&!(t in e))&&Ot(e,t,a)}function Se(e,t,a,s){var l=!a;a||(a={});for(var o=-1,m=t.length;++o<m;){var f=t[o],h=void 0;h===void 0&&(h=e[f]),l?Ot(a,f,h):Dt(a,f,h)}return a}var Qr=Math.max;function Ga(e,t,a){return t=Qr(t===void 0?e.length-1:t,0),function(){for(var s=arguments,l=-1,o=Qr(s.length-t,0),m=Array(o);++l<o;)m[l]=s[t+l];l=-1;for(var f=Array(t+1);++l<t;)f[l]=s[l];return f[t]=a(m),Ws(e,this,f)}}function ei(e,t){return ka(Ga(e,t,Ba),e+"")}var ti=9007199254740991;function Ha(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ti}function st(e){return e!=null&&Ha(e.length)&&!Pt(e)}function ri(e,t,a){if(!K(a))return!1;var s=typeof t;return(s=="number"?st(a)&&At(t,a.length):s=="string"&&t in a)?Me(a[t],e):!1}function ai(e){return ei(function(t,a){var s=-1,l=a.length,o=l>1?a[l-1]:void 0,m=l>2?a[2]:void 0;for(o=e.length>3&&typeof o=="function"?(l--,o):void 0,m&&ri(a[0],a[1],m)&&(o=l<3?void 0:o,l=1),t=Object(t);++s<l;){var f=a[s];f&&e(t,f,s,o)}return t})}var ni=Object.prototype;function Ut(e){var t=e&&e.constructor,a=typeof t=="function"&&t.prototype||ni;return e===a}function si(e,t){for(var a=-1,s=Array(e);++a<e;)s[a]=t(a);return s}var ii="[object Arguments]";function ea(e){return ie(e)&&xe(e)==ii}var Va=Object.prototype,li=Va.hasOwnProperty,oi=Va.propertyIsEnumerable,Qe=ea(function(){return arguments}())?ea:function(e){return ie(e)&&li.call(e,"callee")&&!oi.call(e,"callee")};function ci(){return!1}var qa=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ta=qa&&typeof module=="object"&&module&&!module.nodeType&&module,di=ta&&ta.exports===qa,ra=di?re.Buffer:void 0,mi=ra?ra.isBuffer:void 0,Oe=mi||ci,ui="[object Arguments]",fi="[object Array]",hi="[object Boolean]",pi="[object Date]",vi="[object Error]",xi="[object Function]",gi="[object Map]",yi="[object Number]",bi="[object Object]",ji="[object RegExp]",_i="[object Set]",wi="[object String]",Ni="[object WeakMap]",Fi="[object ArrayBuffer]",Si="[object DataView]",Ci="[object Float32Array]",Ti="[object Float64Array]",Ei="[object Int8Array]",Ii="[object Int16Array]",$i="[object Int32Array]",Ri="[object Uint8Array]",Pi="[object Uint8ClampedArray]",Ai="[object Uint16Array]",Oi="[object Uint32Array]",L={};L[Ci]=L[Ti]=L[Ei]=L[Ii]=L[$i]=L[Ri]=L[Pi]=L[Ai]=L[Oi]=!0;L[ui]=L[fi]=L[Fi]=L[hi]=L[Si]=L[pi]=L[vi]=L[xi]=L[gi]=L[yi]=L[bi]=L[ji]=L[_i]=L[wi]=L[Ni]=!1;function Di(e){return ie(e)&&Ha(e.length)&&!!L[xe(e)]}function Lt(e){return function(t){return e(t)}}var Ka=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Pe=Ka&&typeof module=="object"&&module&&!module.nodeType&&module,Ui=Pe&&Pe.exports===Ka,ut=Ui&&Ua.process,Fe=function(){try{var e=Pe&&Pe.require&&Pe.require("util").types;return e||ut&&ut.binding&&ut.binding("util")}catch{}}(),aa=Fe&&Fe.isTypedArray,Mt=aa?Lt(aa):Di,Li=Object.prototype,Mi=Li.hasOwnProperty;function Xa(e,t){var a=te(e),s=!a&&Qe(e),l=!a&&!s&&Oe(e),o=!a&&!s&&!l&&Mt(e),m=a||s||l||o,f=m?si(e.length,String):[],h=f.length;for(var y in e)(t||Mi.call(e,y))&&!(m&&(y=="length"||l&&(y=="offset"||y=="parent")||o&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||At(y,h)))&&f.push(y);return f}function Za(e,t){return function(a){return e(t(a))}}var zi=Za(Object.keys,Object),Bi=Object.prototype,Wi=Bi.hasOwnProperty;function ki(e){if(!Ut(e))return zi(e);var t=[];for(var a in Object(e))Wi.call(e,a)&&a!="constructor"&&t.push(a);return t}function zt(e){return st(e)?Xa(e):ki(e)}function Gi(e){var t=[];if(e!=null)for(var a in Object(e))t.push(a);return t}var Hi=Object.prototype,Vi=Hi.hasOwnProperty;function qi(e){if(!K(e))return Gi(e);var t=Ut(e),a=[];for(var s in e)s=="constructor"&&(t||!Vi.call(e,s))||a.push(s);return a}function ze(e){return st(e)?Xa(e,!0):qi(e)}var Ki=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xi=/^\w*$/;function Zi(e,t){if(te(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||nt(e)?!0:Xi.test(e)||!Ki.test(e)||t!=null&&e in Object(t)}var De=ye(Object,"create");function Yi(){this.__data__=De?De(null):{},this.size=0}function Ji(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Qi="__lodash_hash_undefined__",el=Object.prototype,tl=el.hasOwnProperty;function rl(e){var t=this.__data__;if(De){var a=t[e];return a===Qi?void 0:a}return tl.call(t,e)?t[e]:void 0}var al=Object.prototype,nl=al.hasOwnProperty;function sl(e){var t=this.__data__;return De?t[e]!==void 0:nl.call(t,e)}var il="__lodash_hash_undefined__";function ll(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=De&&t===void 0?il:t,this}function ve(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}ve.prototype.clear=Yi;ve.prototype.delete=Ji;ve.prototype.get=rl;ve.prototype.has=sl;ve.prototype.set=ll;function ol(){this.__data__=[],this.size=0}function it(e,t){for(var a=e.length;a--;)if(Me(e[a][0],t))return a;return-1}var cl=Array.prototype,dl=cl.splice;function ml(e){var t=this.__data__,a=it(t,e);if(a<0)return!1;var s=t.length-1;return a==s?t.pop():dl.call(t,a,1),--this.size,!0}function ul(e){var t=this.__data__,a=it(t,e);return a<0?void 0:t[a][1]}function fl(e){return it(this.__data__,e)>-1}function hl(e,t){var a=this.__data__,s=it(a,e);return s<0?(++this.size,a.push([e,t])):a[s][1]=t,this}function me(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}me.prototype.clear=ol;me.prototype.delete=ml;me.prototype.get=ul;me.prototype.has=fl;me.prototype.set=hl;var Ue=ye(re,"Map");function pl(){this.size=0,this.__data__={hash:new ve,map:new(Ue||me),string:new ve}}function vl(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function lt(e,t){var a=e.__data__;return vl(t)?a[typeof t=="string"?"string":"hash"]:a.map}function xl(e){var t=lt(this,e).delete(e);return this.size-=t?1:0,t}function gl(e){return lt(this,e).get(e)}function yl(e){return lt(this,e).has(e)}function bl(e,t){var a=lt(this,e),s=a.size;return a.set(e,t),this.size+=a.size==s?0:1,this}function ue(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}ue.prototype.clear=pl;ue.prototype.delete=xl;ue.prototype.get=gl;ue.prototype.has=yl;ue.prototype.set=bl;var jl="Expected a function";function Bt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(jl);var a=function(){var s=arguments,l=t?t.apply(this,s):s[0],o=a.cache;if(o.has(l))return o.get(l);var m=e.apply(this,s);return a.cache=o.set(l,m)||o,m};return a.cache=new(Bt.Cache||ue),a}Bt.Cache=ue;var _l=500;function wl(e){var t=Bt(e,function(s){return a.size===_l&&a.clear(),s}),a=t.cache;return t}var Nl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fl=/\\(\\)?/g,Sl=wl(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Nl,function(a,s,l,o){t.push(l?o.replace(Fl,"$1"):s||a)}),t});function Cl(e){return e==null?"":za(e)}function ot(e,t){return te(e)?e:Zi(e,t)?[e]:Sl(Cl(e))}function Wt(e){if(typeof e=="string"||nt(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Ya(e,t){t=ot(t,e);for(var a=0,s=t.length;e!=null&&a<s;)e=e[Wt(t[a++])];return a&&a==s?e:void 0}function et(e,t,a){var s=e==null?void 0:Ya(e,t);return s===void 0?a:s}function kt(e,t){for(var a=-1,s=t.length,l=e.length;++a<s;)e[l+a]=t[a];return e}var na=X?X.isConcatSpreadable:void 0;function Tl(e){return te(e)||Qe(e)||!!(na&&e&&e[na])}function El(e,t,a,s,l){var o=-1,m=e.length;for(a||(a=Tl),l||(l=[]);++o<m;){var f=e[o];a(f)?kt(l,f):l[l.length]=f}return l}function Il(e){var t=e==null?0:e.length;return t?El(e):[]}function $l(e){return ka(Ga(e,void 0,Il),e+"")}var Gt=Za(Object.getPrototypeOf,Object),Rl="[object Object]",Pl=Function.prototype,Al=Object.prototype,Ja=Pl.toString,Ol=Al.hasOwnProperty,Dl=Ja.call(Object);function Qa(e){if(!ie(e)||xe(e)!=Rl)return!1;var t=Gt(e);if(t===null)return!0;var a=Ol.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&Ja.call(a)==Dl}function Ul(e,t,a){var s=-1,l=e.length;t<0&&(t=-t>l?0:l+t),a=a>l?l:a,a<0&&(a+=l),l=t>a?0:a-t>>>0,t>>>=0;for(var o=Array(l);++s<l;)o[s]=e[s+t];return o}function Ll(){this.__data__=new me,this.size=0}function Ml(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}function zl(e){return this.__data__.get(e)}function Bl(e){return this.__data__.has(e)}var Wl=200;function kl(e,t){var a=this.__data__;if(a instanceof me){var s=a.__data__;if(!Ue||s.length<Wl-1)return s.push([e,t]),this.size=++a.size,this;a=this.__data__=new ue(s)}return a.set(e,t),this.size=a.size,this}function se(e){var t=this.__data__=new me(e);this.size=t.size}se.prototype.clear=Ll;se.prototype.delete=Ml;se.prototype.get=zl;se.prototype.has=Bl;se.prototype.set=kl;function Gl(e,t){return e&&Se(t,zt(t),e)}function Hl(e,t){return e&&Se(t,ze(t),e)}var en=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sa=en&&typeof module=="object"&&module&&!module.nodeType&&module,Vl=sa&&sa.exports===en,ia=Vl?re.Buffer:void 0,la=ia?ia.allocUnsafe:void 0;function tn(e,t){if(t)return e.slice();var a=e.length,s=la?la(a):new e.constructor(a);return e.copy(s),s}function ql(e,t){for(var a=-1,s=e==null?0:e.length,l=0,o=[];++a<s;){var m=e[a];t(m,a,e)&&(o[l++]=m)}return o}function rn(){return[]}var Kl=Object.prototype,Xl=Kl.propertyIsEnumerable,oa=Object.getOwnPropertySymbols,Ht=oa?function(e){return e==null?[]:(e=Object(e),ql(oa(e),function(t){return Xl.call(e,t)}))}:rn;function Zl(e,t){return Se(e,Ht(e),t)}var Yl=Object.getOwnPropertySymbols,an=Yl?function(e){for(var t=[];e;)kt(t,Ht(e)),e=Gt(e);return t}:rn;function Jl(e,t){return Se(e,an(e),t)}function nn(e,t,a){var s=t(e);return te(e)?s:kt(s,a(e))}function wt(e){return nn(e,zt,Ht)}function sn(e){return nn(e,ze,an)}var Nt=ye(re,"DataView"),Ft=ye(re,"Promise"),St=ye(re,"Set"),ca="[object Map]",Ql="[object Object]",da="[object Promise]",ma="[object Set]",ua="[object WeakMap]",fa="[object DataView]",eo=ge(Nt),to=ge(Ue),ro=ge(Ft),ao=ge(St),no=ge(_t),ee=xe;(Nt&&ee(new Nt(new ArrayBuffer(1)))!=fa||Ue&&ee(new Ue)!=ca||Ft&&ee(Ft.resolve())!=da||St&&ee(new St)!=ma||_t&&ee(new _t)!=ua)&&(ee=function(e){var t=xe(e),a=t==Ql?e.constructor:void 0,s=a?ge(a):"";if(s)switch(s){case eo:return fa;case to:return ca;case ro:return da;case ao:return ma;case no:return ua}return t});var so=Object.prototype,io=so.hasOwnProperty;function lo(e){var t=e.length,a=new e.constructor(t);return t&&typeof e[0]=="string"&&io.call(e,"index")&&(a.index=e.index,a.input=e.input),a}var tt=re.Uint8Array;function Vt(e){var t=new e.constructor(e.byteLength);return new tt(t).set(new tt(e)),t}function oo(e,t){var a=t?Vt(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}var co=/\w*$/;function mo(e){var t=new e.constructor(e.source,co.exec(e));return t.lastIndex=e.lastIndex,t}var ha=X?X.prototype:void 0,pa=ha?ha.valueOf:void 0;function uo(e){return pa?Object(pa.call(e)):{}}function ln(e,t){var a=t?Vt(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}var fo="[object Boolean]",ho="[object Date]",po="[object Map]",vo="[object Number]",xo="[object RegExp]",go="[object Set]",yo="[object String]",bo="[object Symbol]",jo="[object ArrayBuffer]",_o="[object DataView]",wo="[object Float32Array]",No="[object Float64Array]",Fo="[object Int8Array]",So="[object Int16Array]",Co="[object Int32Array]",To="[object Uint8Array]",Eo="[object Uint8ClampedArray]",Io="[object Uint16Array]",$o="[object Uint32Array]";function Ro(e,t,a){var s=e.constructor;switch(t){case jo:return Vt(e);case fo:case ho:return new s(+e);case _o:return oo(e,a);case wo:case No:case Fo:case So:case Co:case To:case Eo:case Io:case $o:return ln(e,a);case po:return new s;case vo:case yo:return new s(e);case xo:return mo(e);case go:return new s;case bo:return uo(e)}}function on(e){return typeof e.constructor=="function"&&!Ut(e)?Bs(Gt(e)):{}}var Po="[object Map]";function Ao(e){return ie(e)&&ee(e)==Po}var va=Fe&&Fe.isMap,Oo=va?Lt(va):Ao,Do="[object Set]";function Uo(e){return ie(e)&&ee(e)==Do}var xa=Fe&&Fe.isSet,Lo=xa?Lt(xa):Uo,Mo=1,zo=2,Bo=4,cn="[object Arguments]",Wo="[object Array]",ko="[object Boolean]",Go="[object Date]",Ho="[object Error]",dn="[object Function]",Vo="[object GeneratorFunction]",qo="[object Map]",Ko="[object Number]",mn="[object Object]",Xo="[object RegExp]",Zo="[object Set]",Yo="[object String]",Jo="[object Symbol]",Qo="[object WeakMap]",ec="[object ArrayBuffer]",tc="[object DataView]",rc="[object Float32Array]",ac="[object Float64Array]",nc="[object Int8Array]",sc="[object Int16Array]",ic="[object Int32Array]",lc="[object Uint8Array]",oc="[object Uint8ClampedArray]",cc="[object Uint16Array]",dc="[object Uint32Array]",U={};U[cn]=U[Wo]=U[ec]=U[tc]=U[ko]=U[Go]=U[rc]=U[ac]=U[nc]=U[sc]=U[ic]=U[qo]=U[Ko]=U[mn]=U[Xo]=U[Zo]=U[Yo]=U[Jo]=U[lc]=U[oc]=U[cc]=U[dc]=!0;U[Ho]=U[dn]=U[Qo]=!1;function Ae(e,t,a,s,l,o){var m,f=t&Mo,h=t&zo,y=t&Bo;if(a&&(m=l?a(e,s,l,o):a(e)),m!==void 0)return m;if(!K(e))return e;var j=te(e);if(j){if(m=lo(e),!f)return Wa(e,m)}else{var _=ee(e),F=_==dn||_==Vo;if(Oe(e))return tn(e,f);if(_==mn||_==cn||F&&!l){if(m=h||F?{}:on(e),!f)return h?Jl(e,Hl(m,e)):Zl(e,Gl(m,e))}else{if(!U[_])return l?e:{};m=Ro(e,_,f)}}o||(o=new se);var C=o.get(e);if(C)return C;o.set(e,m),Lo(e)?e.forEach(function(P){m.add(Ae(P,t,a,P,e,o))}):Oo(e)&&e.forEach(function(P,A){m.set(A,Ae(P,t,a,A,e,o))});var E=y?h?sn:wt:h?ze:zt,O=j?void 0:E(e);return Xs(O||e,function(P,A){O&&(A=P,P=e[A]),Dt(m,A,Ae(P,t,a,A,e,o))}),m}var mc=1,uc=4;function He(e){return Ae(e,mc|uc)}var fc="__lodash_hash_undefined__";function hc(e){return this.__data__.set(e,fc),this}function pc(e){return this.__data__.has(e)}function rt(e){var t=-1,a=e==null?0:e.length;for(this.__data__=new ue;++t<a;)this.add(e[t])}rt.prototype.add=rt.prototype.push=hc;rt.prototype.has=pc;function vc(e,t){for(var a=-1,s=e==null?0:e.length;++a<s;)if(t(e[a],a,e))return!0;return!1}function xc(e,t){return e.has(t)}var gc=1,yc=2;function un(e,t,a,s,l,o){var m=a&gc,f=e.length,h=t.length;if(f!=h&&!(m&&h>f))return!1;var y=o.get(e),j=o.get(t);if(y&&j)return y==t&&j==e;var _=-1,F=!0,C=a&yc?new rt:void 0;for(o.set(e,t),o.set(t,e);++_<f;){var E=e[_],O=t[_];if(s)var P=m?s(O,E,_,t,e,o):s(E,O,_,e,t,o);if(P!==void 0){if(P)continue;F=!1;break}if(C){if(!vc(t,function(A,I){if(!xc(C,I)&&(E===A||l(E,A,a,s,o)))return C.push(I)})){F=!1;break}}else if(!(E===O||l(E,O,a,s,o))){F=!1;break}}return o.delete(e),o.delete(t),F}function bc(e){var t=-1,a=Array(e.size);return e.forEach(function(s,l){a[++t]=[l,s]}),a}function jc(e){var t=-1,a=Array(e.size);return e.forEach(function(s){a[++t]=s}),a}var _c=1,wc=2,Nc="[object Boolean]",Fc="[object Date]",Sc="[object Error]",Cc="[object Map]",Tc="[object Number]",Ec="[object RegExp]",Ic="[object Set]",$c="[object String]",Rc="[object Symbol]",Pc="[object ArrayBuffer]",Ac="[object DataView]",ga=X?X.prototype:void 0,ft=ga?ga.valueOf:void 0;function Oc(e,t,a,s,l,o,m){switch(a){case Ac:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Pc:return!(e.byteLength!=t.byteLength||!o(new tt(e),new tt(t)));case Nc:case Fc:case Tc:return Me(+e,+t);case Sc:return e.name==t.name&&e.message==t.message;case Ec:case $c:return e==t+"";case Cc:var f=bc;case Ic:var h=s&_c;if(f||(f=jc),e.size!=t.size&&!h)return!1;var y=m.get(e);if(y)return y==t;s|=wc,m.set(e,t);var j=un(f(e),f(t),s,l,o,m);return m.delete(e),j;case Rc:if(ft)return ft.call(e)==ft.call(t)}return!1}var Dc=1,Uc=Object.prototype,Lc=Uc.hasOwnProperty;function Mc(e,t,a,s,l,o){var m=a&Dc,f=wt(e),h=f.length,y=wt(t),j=y.length;if(h!=j&&!m)return!1;for(var _=h;_--;){var F=f[_];if(!(m?F in t:Lc.call(t,F)))return!1}var C=o.get(e),E=o.get(t);if(C&&E)return C==t&&E==e;var O=!0;o.set(e,t),o.set(t,e);for(var P=m;++_<h;){F=f[_];var A=e[F],I=t[F];if(s)var W=m?s(I,A,F,t,e,o):s(A,I,F,e,t,o);if(!(W===void 0?A===I||l(A,I,a,s,o):W)){O=!1;break}P||(P=F=="constructor")}if(O&&!P){var M=e.constructor,d=t.constructor;M!=d&&"constructor"in e&&"constructor"in t&&!(typeof M=="function"&&M instanceof M&&typeof d=="function"&&d instanceof d)&&(O=!1)}return o.delete(e),o.delete(t),O}var zc=1,ya="[object Arguments]",ba="[object Array]",Ve="[object Object]",Bc=Object.prototype,ja=Bc.hasOwnProperty;function Wc(e,t,a,s,l,o){var m=te(e),f=te(t),h=m?ba:ee(e),y=f?ba:ee(t);h=h==ya?Ve:h,y=y==ya?Ve:y;var j=h==Ve,_=y==Ve,F=h==y;if(F&&Oe(e)){if(!Oe(t))return!1;m=!0,j=!1}if(F&&!j)return o||(o=new se),m||Mt(e)?un(e,t,a,s,l,o):Oc(e,t,h,a,s,l,o);if(!(a&zc)){var C=j&&ja.call(e,"__wrapped__"),E=_&&ja.call(t,"__wrapped__");if(C||E){var O=C?e.value():e,P=E?t.value():t;return o||(o=new se),l(O,P,a,s,o)}}return F?(o||(o=new se),Mc(e,t,a,s,l,o)):!1}function fn(e,t,a,s,l){return e===t?!0:e==null||t==null||!ie(e)&&!ie(t)?e!==e&&t!==t:Wc(e,t,a,s,fn,l)}function kc(e){return function(t,a,s){for(var l=-1,o=Object(t),m=s(t),f=m.length;f--;){var h=m[++l];if(a(o[h],h,o)===!1)break}return t}}var Gc=kc(),ht=function(){return re.Date.now()},Hc="Expected a function",Vc=Math.max,qc=Math.min;function Kc(e,t,a){var s,l,o,m,f,h,y=0,j=!1,_=!1,F=!0;if(typeof e!="function")throw new TypeError(Hc);t=Zr(t)||0,K(a)&&(j=!0,_="maxWait"in a,o=_?Vc(Zr(a.maxWait)||0,t):o,F="trailing"in a?!0:F);function C(S){var w=s,g=l;return s=l=void 0,y=S,m=e.apply(g,w),m}function E(S){return y=S,f=setTimeout(A,t),j?C(S):m}function O(S){var w=S-h,g=S-y,T=t-w;return _?qc(T,o-g):T}function P(S){var w=S-h,g=S-y;return h===void 0||w>=t||w<0||_&&g>=o}function A(){var S=ht();if(P(S))return I(S);f=setTimeout(A,O(S))}function I(S){return f=void 0,F&&s?C(S):(s=l=void 0,m)}function W(){f!==void 0&&clearTimeout(f),y=0,s=h=l=f=void 0}function M(){return f===void 0?m:I(ht())}function d(){var S=ht(),w=P(S);if(s=arguments,l=this,h=S,w){if(f===void 0)return E(h);if(_)return clearTimeout(f),f=setTimeout(A,t),C(h)}return f===void 0&&(f=setTimeout(A,t)),m}return d.cancel=W,d.flush=M,d}function Ct(e,t,a){(a!==void 0&&!Me(e[t],a)||a===void 0&&!(t in e))&&Ot(e,t,a)}function Xc(e){return ie(e)&&st(e)}function Tt(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Zc(e){return Se(e,ze(e))}function Yc(e,t,a,s,l,o,m){var f=Tt(e,a),h=Tt(t,a),y=m.get(h);if(y){Ct(e,a,y);return}var j=o?o(f,h,a+"",e,t,m):void 0,_=j===void 0;if(_){var F=te(h),C=!F&&Oe(h),E=!F&&!C&&Mt(h);j=h,F||C||E?te(f)?j=f:Xc(f)?j=Wa(f):C?(_=!1,j=tn(h,!0)):E?(_=!1,j=ln(h,!0)):j=[]:Qa(h)||Qe(h)?(j=f,Qe(f)?j=Zc(f):(!K(f)||Pt(f))&&(j=on(h))):_=!1}_&&(m.set(h,j),l(j,h,s,o,m),m.delete(h)),Ct(e,a,j)}function hn(e,t,a,s,l){e!==t&&Gc(t,function(o,m){if(l||(l=new se),K(o))Yc(e,t,m,a,hn,s,l);else{var f=s?s(Tt(e,m),o,m+"",e,t,l):void 0;f===void 0&&(f=o),Ct(e,m,f)}},ze)}function Jc(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function Qc(e,t){return t.length<2?e:Ya(e,Ul(t,0,-1))}function ed(e,t){return fn(e,t)}var Et=ai(function(e,t,a){hn(e,t,a)});function td(e,t){return t=ot(t,e),e=Qc(e,t),e==null||delete e[Wt(Jc(t))]}function rd(e){return Qa(e)?void 0:e}var ad=1,nd=2,sd=4,_a=$l(function(e,t){var a={};if(e==null)return a;var s=!1;t=Ma(t,function(o){return o=ot(o,e),s||(s=o.length>1),o}),Se(e,sn(e),a),s&&(a=Ae(a,ad|nd|sd,rd));for(var l=t.length;l--;)td(a,t[l]);return a});function id(e,t,a,s){if(!K(e))return e;t=ot(t,e);for(var l=-1,o=t.length,m=o-1,f=e;f!=null&&++l<o;){var h=Wt(t[l]),y=a;if(h==="__proto__"||h==="constructor"||h==="prototype")return e;if(l!=m){var j=f[h];y=void 0,y===void 0&&(y=K(j)?j:At(t[l+1])?[]:{})}Dt(f,h,y),f=f[h]}return e}function It(e,t,a){return e==null?e:id(e,t,a)}let Le=we.create(),pn=(e,t)=>`${e.method}:${e.baseURL??t.defaults.baseURL??""}${e.url}`,vn=e=>e.status===204&&e.headers["precognition-success"]==="true";const at={},de={get:(e,t={},a={})=>Ee(Te("get",e,t,a)),post:(e,t={},a={})=>Ee(Te("post",e,t,a)),patch:(e,t={},a={})=>Ee(Te("patch",e,t,a)),put:(e,t={},a={})=>Ee(Te("put",e,t,a)),delete:(e,t={},a={})=>Ee(Te("delete",e,t,a)),use(e){return Le=e,de},axios(){return Le},fingerprintRequestsUsing(e){return pn=e===null?()=>null:e,de},determineSuccessUsing(e){return vn=e,de}},Te=(e,t,a,s)=>({url:t,method:e,...s,...["get","delete"].includes(e)?{params:Et({},a,s==null?void 0:s.params)}:{data:Et({},a,s==null?void 0:s.data)}}),Ee=(e={})=>{const t=[ld,cd,dd].reduce((a,s)=>s(a),e);return(t.onBefore??(()=>!0))()===!1?Promise.resolve(null):((t.onStart??(()=>null))(),Le.request(t).then(async a=>{t.precognitive&&wa(a);const s=a.status;let l=a;return t.precognitive&&t.onPrecognitionSuccess&&vn(l)&&(l=await Promise.resolve(t.onPrecognitionSuccess(l)??l)),t.onSuccess&&od(s)&&(l=await Promise.resolve(t.onSuccess(l)??l)),(Na(t,s)??(m=>m))(l)??l},a=>md(a)?Promise.reject(a):(t.precognitive&&wa(a.response),(Na(t,a.response.status)??((l,o)=>Promise.reject(o)))(a.response,a))).finally(t.onFinish??(()=>null)))},ld=e=>{const t=e.only??e.validate;return{...e,timeout:e.timeout??Le.defaults.timeout??3e4,precognitive:e.precognitive!==!1,fingerprint:typeof e.fingerprint>"u"?pn(e,Le):e.fingerprint,headers:{...e.headers,"Content-Type":ud(e),...e.precognitive!==!1?{Precognition:!0}:{},...t?{"Precognition-Validate-Only":Array.from(t).join()}:{}}}},od=e=>e>=200&&e<300,cd=e=>{var t;return typeof e.fingerprint!="string"||((t=at[e.fingerprint])==null||t.abort(),delete at[e.fingerprint]),e},dd=e=>typeof e.fingerprint!="string"||e.signal||e.cancelToken||!e.precognitive?e:(at[e.fingerprint]=new AbortController,{...e,signal:at[e.fingerprint].signal}),wa=e=>{var t;if(((t=e.headers)==null?void 0:t.precognition)!=="true")throw Error("Did not receive a Precognition response. Ensure you have the Precognition middleware in place for the route.")},md=e=>{var t;return!Ea(e)||typeof((t=e.response)==null?void 0:t.status)!="number"||Ta(e)},Na=(e,t)=>({401:e.onUnauthorized,403:e.onForbidden,404:e.onNotFound,409:e.onConflict,422:e.onValidationError,423:e.onLocked})[t],ud=e=>{var t,a,s;return((t=e.headers)==null?void 0:t["Content-Type"])??((a=e.headers)==null?void 0:a["Content-type"])??((s=e.headers)==null?void 0:s["content-type"])??(xn(e.data)?"multipart/form-data":"application/json")},xn=e=>qt(e)||typeof e=="object"&&e!==null&&Object.values(e).some(t=>xn(t)),qt=e=>typeof File<"u"&&e instanceof File||e instanceof Blob||typeof FileList<"u"&&e instanceof FileList&&e.length>0,Fa=e=>typeof e=="string"?e:e(),Sa=e=>typeof e=="string"?e.toLowerCase():e(),fd=(e,t={})=>{const a={errorsChanged:[],touchedChanged:[],validatingChanged:[],validatedChanged:[]};let s=!1,l=!1;const o=v=>v!==l?(l=v,a.validatingChanged):[];let m=[];const f=v=>{const c=[...new Set(v)];return m.length!==c.length||!c.every(n=>m.includes(n))?(m=c,a.validatedChanged):[]},h=()=>m.filter(v=>typeof _[v]>"u");let y=[];const j=v=>{const c=[...new Set(v)];return y.length!==c.length||!c.every(n=>y.includes(n))?(y=c,a.touchedChanged):[]};let _={};const F=v=>{const c=pd(v);return ed(_,c)?[]:(_=c,a.errorsChanged)},C=v=>{const c={..._};return delete c[Ke(v)],F(c)},E=()=>Object.keys(_).length>0;let O=1500;const P=v=>{O=v,S.cancel(),S=d()};let A=t,I=null,W=[],M=null;const d=()=>Kc(v=>{e({get:(c,n={},p={})=>de.get(c,T(n),w(p,v,n)),post:(c,n={},p={})=>de.post(c,T(n),w(p,v,n)),patch:(c,n={},p={})=>de.patch(c,T(n),w(p,v,n)),put:(c,n={},p={})=>de.put(c,T(n),w(p,v,n)),delete:(c,n={},p={})=>de.delete(c,T(n),w(p,v,n))}).catch(c=>{var n;return Ta(c)||Ea(c)&&((n=c.response)==null?void 0:n.status)===422?null:Promise.reject(c)})},O,{leading:!0,trailing:!0});let S=d();const w=(v,c,n={})=>{const p={...v,...c},$=Array.from(p.only??p.validate??y);return{...c,...Nn(v,c),only:$,timeout:p.timeout??5e3,onValidationError:(R,k)=>([...f([...m,...$]),...F(Et(_a({..._},$),R.data.errors))].forEach(u=>u()),p.onValidationError?p.onValidationError(R,k):Promise.reject(k)),onSuccess:R=>(f([...m,...$]).forEach(k=>k()),p.onSuccess?p.onSuccess(R):R),onPrecognitionSuccess:R=>([...f([...m,...$]),...F(_a({..._},$))].forEach(k=>k()),p.onPrecognitionSuccess?p.onPrecognitionSuccess(R):R),onBefore:()=>p.onBeforeValidation&&p.onBeforeValidation({data:n,touched:y},{data:A,touched:W})===!1||(p.onBefore||(()=>!0))()===!1?!1:(M=y,I=n,!0),onStart:()=>{o(!0).forEach(R=>R()),(p.onStart??(()=>null))()},onFinish:()=>{o(!1).forEach(R=>R()),W=M,A=I,M=I=null,(p.onFinish??(()=>null))()}}},g=(v,c,n)=>{if(typeof v>"u"){const p=Array.from((n==null?void 0:n.only)??(n==null?void 0:n.validate)??[]);j([...y,...p]).forEach($=>$()),S(n??{});return}if(qt(c)&&!s){console.warn('Precognition file validation is not active. Call the "validateFiles" function on your form to enable it.');return}v=Ke(v),et(A,v)!==c&&(j([v,...y]).forEach(p=>p()),S(n??{}))},T=v=>s===!1?$t(v):v,z={touched:()=>y,validate(v,c,n){return typeof v=="object"&&!("target"in v)&&(n=v,v=c=void 0),g(v,c,n),z},touch(v){const c=Array.isArray(v)?v:[Ke(v)];return j([...y,...c]).forEach(n=>n()),z},validating:()=>l,valid:h,errors:()=>_,hasErrors:E,setErrors(v){return F(v).forEach(c=>c()),z},forgetError(v){return C(v).forEach(c=>c()),z},reset(...v){if(v.length===0)j([]).forEach(c=>c());else{const c=[...y];v.forEach(n=>{c.includes(n)&&c.splice(c.indexOf(n),1),It(A,n,et(t,n))}),j(c).forEach(n=>n())}return z},setTimeout(v){return P(v),z},on(v,c){return a[v].push(c),z},validateFiles(){return s=!0,z}};return z},hd=e=>Object.keys(e).reduce((t,a)=>({...t,[a]:Array.isArray(e[a])?e[a][0]:e[a]}),{}),pd=e=>Object.keys(e).reduce((t,a)=>({...t,[a]:typeof e[a]=="string"?[e[a]]:e[a]}),{}),Ke=e=>typeof e!="string"?e.target.name:e,$t=e=>{const t={...e};return Object.keys(t).forEach(a=>{const s=t[a];if(s!==null){if(qt(s)){delete t[a];return}if(Array.isArray(s)){t[a]=Object.values($t({...s}));return}if(typeof s=="object"){t[a]=$t(t[a]);return}}}),t},vd=(e,t,a,s={})=>{const l=b.useRef(null);l.current===null&&(l.current=He(a));const o=b.useRef(null);o.current===null&&(o.current=Object.keys(l));const m=b.useRef(l.current),[f,h]=b.useState([]),[y,j]=b.useState([]),[_,F]=b.useState(!1),[C,E]=b.useState(!1),[O,P]=b.useState({}),[A,I]=b.useState(!1),[W,M]=b.useState(()=>He(l.current)),d=b.useRef(null);d.current===null&&(d.current=fd(g=>g[Sa(e)](Fa(t),m.current,s),a).on("validatingChanged",()=>{F(d.current.validating())}).on("validatedChanged",()=>{h(d.current.valid())}).on("touchedChanged",()=>{j(d.current.touched())}).on("errorsChanged",()=>{I(d.current.hasErrors()),P(hd(d.current.errors())),h(d.current.valid())}));const S=g=>({...g,precognitive:!1,onStart:()=>{E(!0),(g.onStart??(()=>null))()},onFinish:()=>{E(!1),(g.onFinish??(()=>null))()},onValidationError:(T,z)=>(d.current.setErrors(T.data.errors),g.onValidationError?g.onValidationError(T):Promise.reject(z))}),w={data:W,setData(g,T){if(typeof g=="object")m.current=g,M(g);else{const z=He(m.current);m.current=It(z,g,T),M(m.current)}return w},touched(g){return typeof g=="string"?y.includes(g):y.length>0},touch(g){return d.current.touch(g),w},validate(g,T){return typeof g=="object"&&!("target"in g)&&(T=g,g=void 0),typeof g>"u"?d.current.validate(T):(g=Ke(g),d.current.validate(g,et(m.current,g),T)),w},validating:_,valid(g){return f.includes(g)},invalid(g){return typeof O[g]<"u"},errors:O,hasErrors:A,setErrors(g){return d.current.setErrors(g),w},forgetError(g){return d.current.forgetError(g),w},reset(...g){const T=He(l.current);return g.length===0?(m.current=T,M(T)):(g.forEach(z=>It(m.current,z,et(T,z))),M(m.current)),d.current.reset(...g),w},setValidationTimeout(g){return d.current.setTimeout(g),w},processing:C,async submit(g={}){return de[Sa(e)](Fa(t),m.current,S(g))},validateFiles(){return d.current.validateFiles(),w},validator(){return d.current}};return w},Ca=({user:e,allUsers:t,departments:a,designations:s,setUsers:l,open:o,closeModal:m,editMode:f=!1})=>{const[h,y]=b.useState(!1),[j,_]=b.useState(!1),[F,C]=b.useState((e==null?void 0:e.profile_image_url)||(e==null?void 0:e.profile_image)||null),[E,O]=b.useState(null),[P,A]=b.useState(t),[I,W]=b.useState("lg"),M=()=>{var p;if(typeof window>"u")return"lg";const c=((p=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:p.trim())||"12px",n=parseInt(c);return n===0?"none":n<=4?"sm":n<=8?"md":n<=16?"lg":"full"};b.useEffect(()=>{typeof window<"u"&&W(M())},[]);const d=vd(f?"put":"post",f?route("users.update",{user:e.id}):route("users.store"),{id:(e==null?void 0:e.id)||"",name:(e==null?void 0:e.name)||"",user_name:(e==null?void 0:e.user_name)||"",gender:(e==null?void 0:e.gender)||"",birthday:(e==null?void 0:e.birthday)||"",date_of_joining:(e==null?void 0:e.date_of_joining)||"",address:(e==null?void 0:e.address)||"",employee_id:(e==null?void 0:e.employee_id)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||"",department_id:(e==null?void 0:e.department_id)||"",designation_id:(e==null?void 0:e.designation_id)||"",report_to:(e==null?void 0:e.report_to)||"",password:"",password_confirmation:"",roles:(e==null?void 0:e.roles)||[],profile_image:null});b.useEffect(()=>{(e!=null&&e.profile_image_url||e!=null&&e.profile_image)&&C(e.profile_image_url||e.profile_image)},[e]);const S=async v=>{if(v.preventDefault(),E){const c=E.type;if(!["image/jpeg","image/jpg","image/png"].includes(c)){B.error("Invalid file type. Only JPEG and PNG are allowed.",{icon:""});return}d.setData("profile_image",E)}try{await d.submit({onSuccess:c=>{var n;l&&l(f?p=>p.map($=>$.id===c.data.user.id?c.data.user:$):p=>[...p,c.data.user]),B.success(((n=c.data.messages)==null?void 0:n.length)>0?c.data.messages.join(" "):`User ${f?"updated":"added"} successfully`,{icon:""}),m()},onError:c=>{w(c)}})}catch(c){w(c)}},w=v=>{v.response?v.response.status===422?B.error(v.response.data.message||`Failed to ${f?"update":"add"} user.`,{icon:""}):B.error("An unexpected error occurred. Please try again later.",{icon:""}):v.request?B.error("No response received from the server. Please check your internet connection.",{icon:""}):B.error("An error occurred while setting up the request.",{icon:""})},g=v=>{const c=v.target.files[0];if(c){const n=URL.createObjectURL(c);C(n),O(c)}},T=(v,c)=>{d.setData(v,c),d.touched(v)&&d.validate(v)},z=()=>{y(!h)};return r.jsx(Cn,{isOpen:o,onClose:m,size:"3xl",radius:I,scrollBehavior:"inside",classNames:{base:"backdrop-blur-md max-h-[95vh] my-2",backdrop:"bg-black/50 backdrop-blur-sm",header:"border-b border-divider flex-shrink-0",body:"overflow-y-auto max-h-[calc(95vh-160px)]",footer:"border-t border-divider flex-shrink-0",closeButton:"hover:bg-white/5 active:bg-white/10"},style:{border:"var(--borderWidth, 2px) solid var(--theme-divider, #E4E4E7)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:r.jsx(Tn,{children:v=>r.jsxs(r.Fragment,{children:[r.jsx(En,{className:"flex flex-col gap-1 py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Gn,{className:"w-5 h-5 sm:w-6 sm:h-6",style:{color:"var(--theme-primary)"}}),r.jsxs("div",{children:[r.jsx("span",{className:"text-lg font-semibold",style:{fontFamily:'var(--fontFamily, "Inter")'},children:f?"Edit User":"Add New User"}),r.jsx("p",{className:"text-sm text-default-500 mt-0.5",style:{fontFamily:'var(--fontFamily, "Inter")'},children:f?"Update user information":"Create a new user account"})]})]})}),r.jsx(In,{className:"py-4 px-4 sm:py-6 sm:px-6 overflow-y-auto",style:{fontFamily:'var(--fontFamily, "Inter")'},children:r.jsxs("form",{onSubmit:S,className:"space-y-4",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsxs("div",{className:"relative group cursor-pointer",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:[r.jsx($n,{src:F,alt:"Profile",className:"w-32 h-32 text-large transition-all duration-300",style:{border:"4px solid var(--theme-divider, #E4E4E7)",filter:j?"brightness(70%)":"brightness(100%)"}}),r.jsxs("label",{htmlFor:"icon-button-file",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 cursor-pointer transition-opacity duration-300",style:{opacity:j?1:0},children:[r.jsx("input",{accept:"image/*",id:"icon-button-file",type:"file",className:"hidden",onChange:g}),r.jsx(Hn,{className:"w-8 h-8 text-white"})]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Y,{label:"Full Name",placeholder:"Enter full name",value:d.data.name,onChange:c=>T("name",c.target.value),onBlur:()=>d.validate("name"),isInvalid:d.invalid("name"),errorMessage:d.errors.name,isRequired:!0,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Y,{label:"Username",placeholder:"Enter username",value:d.data.user_name,onChange:c=>T("user_name",c.target.value),onBlur:()=>d.validate("user_name"),isInvalid:d.invalid("user_name"),errorMessage:d.errors.user_name,isRequired:!0,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Y,{label:"Email",type:"email",placeholder:"Enter email address",value:d.data.email,onChange:c=>T("email",c.target.value),onBlur:()=>d.validate("email"),isInvalid:d.invalid("email"),errorMessage:d.errors.email,isRequired:!0,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Y,{label:"Phone",placeholder:"Enter phone number",value:d.data.phone,onChange:c=>T("phone",c.target.value),onBlur:()=>d.validate("phone"),isInvalid:d.invalid("phone"),errorMessage:d.errors.phone,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Ne,{label:"Department",placeholder:"Select department",selectedKeys:d.data.department_id?new Set([String(d.data.department_id)]):new Set,onSelectionChange:c=>{const n=Array.from(c)[0];T("department_id",n||"")},onClose:()=>d.validate("department_id"),isInvalid:d.invalid("department_id"),errorMessage:d.errors.department_id,variant:"bordered",size:"sm",radius:I,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:a==null?void 0:a.map(c=>r.jsx(Q,{value:c.id,children:c.name},c.id))}),r.jsx(Ne,{label:"Designation",placeholder:"Select designation",selectedKeys:d.data.designation_id?new Set([String(d.data.designation_id)]):new Set,onSelectionChange:c=>{const n=Array.from(c)[0];T("designation_id",n||"")},onClose:()=>d.validate("designation_id"),isInvalid:d.invalid("designation_id"),errorMessage:d.errors.designation_id,variant:"bordered",size:"sm",radius:I,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:s==null?void 0:s.map(c=>r.jsx(Q,{value:c.id,children:c.name},c.id))}),r.jsxs(Ne,{label:"Gender",placeholder:"Select gender",selectedKeys:d.data.gender?new Set([d.data.gender]):new Set,onSelectionChange:c=>{const n=Array.from(c)[0];T("gender",n||"")},onClose:()=>d.validate("gender"),isInvalid:d.invalid("gender"),errorMessage:d.errors.gender,variant:"bordered",size:"sm",radius:I,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:[r.jsx(Q,{value:"male",children:"Male"},"male"),r.jsx(Q,{value:"female",children:"Female"},"female"),r.jsx(Q,{value:"other",children:"Other"},"other")]}),r.jsx(Y,{label:"Employee ID",placeholder:"Enter employee ID",value:d.data.employee_id,onChange:c=>T("employee_id",c.target.value),onBlur:()=>d.validate("employee_id"),isInvalid:d.invalid("employee_id"),errorMessage:d.errors.employee_id,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Y,{label:"Date of Birth",type:"date",value:d.data.birthday,onChange:c=>T("birthday",c.target.value),onBlur:()=>d.validate("birthday"),isInvalid:d.invalid("birthday"),errorMessage:d.errors.birthday,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Y,{label:"Date of Joining",type:"date",value:d.data.date_of_joining,onChange:c=>T("date_of_joining",c.target.value),onBlur:()=>d.validate("date_of_joining"),isInvalid:d.invalid("date_of_joining"),errorMessage:d.errors.date_of_joining,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Ne,{label:"Reports To",placeholder:"Select supervisor",selectedKeys:d.data.report_to?new Set([String(d.data.report_to)]):new Set,onSelectionChange:c=>{const n=Array.from(c)[0];T("report_to",n||"")},onClose:()=>d.validate("report_to"),isInvalid:d.invalid("report_to"),errorMessage:d.errors.report_to,variant:"bordered",size:"sm",radius:I,classNames:{trigger:"min-h-unit-10",value:"text-small"},style:{fontFamily:'var(--fontFamily, "Inter")'},children:P==null?void 0:P.filter(c=>c.id!==d.data.id).map(c=>r.jsx(Q,{value:c.id,children:c.name},c.id))})]}),r.jsx(Y,{label:"Address",placeholder:"Enter address",value:d.data.address,onChange:c=>T("address",c.target.value),onBlur:()=>d.validate("address"),isInvalid:d.invalid("address"),errorMessage:d.errors.address,variant:"bordered",size:"sm",radius:I,classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),!f&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Y,{label:"Password",type:h?"text":"password",placeholder:"Enter password",value:d.data.password,onChange:c=>T("password",c.target.value),onBlur:()=>d.validate("password"),isInvalid:d.invalid("password"),errorMessage:d.errors.password,isRequired:!f,variant:"bordered",size:"sm",radius:I,endContent:r.jsx("button",{className:"focus:outline-none",type:"button",onClick:z,children:h?r.jsx(Gr,{className:"w-4 h-4 text-default-400"}):r.jsx(Hr,{className:"w-4 h-4 text-default-400"})}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}}),r.jsx(Y,{label:"Confirm Password",type:h?"text":"password",placeholder:"Confirm password",value:d.data.password_confirmation,onChange:c=>T("password_confirmation",c.target.value),onBlur:()=>d.validate("password_confirmation"),isInvalid:d.invalid("password_confirmation")||d.data.password!==d.data.password_confirmation&&d.data.password_confirmation,errorMessage:d.errors.password_confirmation||(d.data.password!==d.data.password_confirmation&&d.data.password_confirmation?"Passwords do not match":""),isRequired:!f,variant:"bordered",size:"sm",radius:I,endContent:r.jsx("button",{className:"focus:outline-none",type:"button",onClick:z,children:h?r.jsx(Gr,{className:"w-4 h-4 text-default-400"}):r.jsx(Hr,{className:"w-4 h-4 text-default-400"})}),classNames:{input:"text-small",inputWrapper:"min-h-unit-10"},style:{fontFamily:'var(--fontFamily, "Inter")'}})]})]})}),r.jsxs(Rn,{className:"flex justify-between px-4 sm:px-6 py-3 sm:py-4",style:{borderColor:"var(--theme-divider, #E4E4E7)",fontFamily:'var(--fontFamily, "Inter")'},children:[r.jsx(J,{variant:"light",onPress:m,isDisabled:d.processing,radius:I,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),r.jsx(J,{variant:"solid",color:"primary",onPress:S,isLoading:d.processing,isDisabled:!d.isDirty||d.processing,startContent:!d.processing&&r.jsx(ss,{className:"w-4 h-4"}),radius:I,style:{borderRadius:"var(--borderRadius, 8px)",fontFamily:'var(--fontFamily, "Inter")'},children:f?"Update User":"Add User"})]})]})})})},Z=()=>{var s;if(typeof window>"u")return"lg";const t=((s=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:s.trim())||"12px",a=parseInt(t);return a===0?"none":a<=4?"sm":a<=8?"md":a<=12?"lg":"xl"},xd=({title:e,roles:t,departments:a,designations:s})=>{var Qt,er,tr,rr,ar,nr,sr,ir,lr,or,cr,dr,mr,ur,fr,hr,pr,vr,xr,gr,yr,br,jr,_r,wr,Nr,Fr,Sr,Cr,Tr,Er,Ir,$r,Rr;const[l,o]=b.useState(!1),[m,f]=b.useState(!1),[h,y]=b.useState(!1),[j,_]=b.useState(!1);b.useEffect(()=>{const i=()=>{o(window.innerWidth<640),f(window.innerWidth<768),y(window.innerWidth>=1025),_(window.innerWidth>=641&&window.innerWidth<=1024)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]);const[F,C]=b.useState([]),[E,O]=b.useState(!0),[P,A]=b.useState(null),[I,W]=b.useState(0),[M,d]=b.useState(1),[S,w]=b.useState(null),[g,T]=b.useState({search:"",role:"all",status:"all",department:"all"}),[z,v]=b.useState(!1),[c,n]=b.useState("table"),[p,$]=b.useState({currentPage:1,perPage:10,total:F.length}),[R,k]=b.useState({}),[u,fe]=b.useState({overview:{total_users:0,active_users:0,inactive_users:0,deleted_users:0,total_roles:0,total_departments:0},distribution:{by_role:[],by_department:[],by_status:[]},activity:{recent_registrations:{new_users_30_days:0,new_users_90_days:0,new_users_year:0,recently_active:0},user_growth_rate:0,current_month_registrations:0},security:{access_metrics:{users_with_roles:0,users_without_roles:0,admin_users:0,regular_users:0},role_distribution:[]},health:{status_ratio:{active_percentage:0,inactive_percentage:0,deleted_percentage:0},system_metrics:{user_activation_rate:0,role_coverage:0,department_coverage:0}},quick_metrics:{total_users:0,active_ratio:0,role_diversity:0,department_diversity:0,recent_activity:0,system_health_score:0}}),ae=b.useMemo(()=>({data:F,total:I,current_page:p.currentPage,per_page:p.perPage,last_page:M}),[F,I,p.currentPage,p.perPage,M]),V=b.useCallback(async()=>{try{const{data:i}=await we.get(route("users.stats"));i.stats&&fe(i.stats)}catch(i){console.error("Error fetching user stats:",i)}},[]),Be=b.useCallback(async()=>{O(!0);try{const i=await we.get(route("users.paginate"),{params:{page:p.currentPage,perPage:p.perPage,search:g.search||void 0,role:g.role!=="all"?g.role:void 0,status:g.status!=="all"?g.status:void 0,department:g.department!=="all"?g.department:void 0}});if(i.status===200){const{users:x}=i.data;x.data&&Array.isArray(x.data)?(C(x.data),W(x.total||x.data.length),d(x.last_page||1)):Array.isArray(x)?(C(x),W(x.length),d(1)):(console.error("Unexpected users data format:",x),C([]),W(0),d(1))}}catch(i){console.error("Error fetching users:",i),B.error("Failed to load users data"),C([])}finally{O(!1)}},[g,p.currentPage,p.perPage]);b.useEffect(()=>{Be()},[Be]),b.useEffect(()=>{V();const i=setInterval(V,6e4);return()=>clearInterval(i)},[V]);const be=(i,x)=>{T(N=>({...N,[i]:x})),$(N=>({...N,currentPage:1}))},We=i=>{$(x=>({...x,currentPage:i})),window.scrollTo({top:0,behavior:"smooth"})},G=i=>{$(x=>({...x,currentPage:1,perPage:i}))},he=b.useCallback((i,x=null)=>{w(i),A(x)},[]),Kt=b.useCallback(()=>{w(null),A(null)},[]),ct=b.useCallback(i=>{C(i)},[]),gn=b.useCallback(i=>{C(x=>x.map(N=>N.id===i.id?{...N,...i}:N))},[]),yn=b.useCallback(i=>{C(x=>x.filter(N=>N.id!==i)),V()},[V]),Xt=b.useCallback((i,x)=>{C(N=>N.map(D=>D.id===i?{...D,active:x}:D)),V()},[V]),bn=b.useCallback((i,x)=>{C(N=>N.map(D=>D.id===i?{...D,roles:x}:D)),V()},[V]),Zt=b.useCallback(async(i,x)=>{var N,D;k(H=>({...H,[i]:!0}));try{const H=await we.post(route("admin.users.devices.toggle",{userId:i}));H.data.success&&(C(ke=>ke.map(je=>je.id===i?{...je,single_device_login_enabled:H.data.single_device_login_enabled}:je)),B.success(H.data.message))}catch(H){console.error("Error toggling single device login:",H),B.error(((D=(N=H.response)==null?void 0:N.data)==null?void 0:D.message)||"Failed to toggle single device login")}finally{k(H=>({...H,[i]:!1}))}},[]),Yt=b.useCallback(async i=>{k(x=>({...x,[i]:!0}));try{const x=await we.post(route("admin.users.devices.reset",{userId:i}),{reason:"Admin reset via user management"});x.data.success&&(C(N=>N.map(D=>D.id===i?{...D,active_device:null}:D)),B.success(x.data.message||"User devices have been reset"))}catch(x){console.error("Error resetting user devices:",x),B.error("Failed to reset user devices")}finally{k(x=>({...x,[i]:!1}))}},[]);b.useCallback(async i=>{try{const x=await we.get(route("admin.users.devices",{userId:i}));if(x.data.success){const N=x.data.devices;if(N.length===0)B.info("User has no registered devices");else{const D=N.filter(H=>H.is_active).length;B.info(`User has ${N.length} device(s): ${D} active, ${N.length-D} inactive`)}}}catch(x){console.error("Error fetching user devices:",x),B.error("Failed to fetch device information")}},[]);const Jt=(i,x="w-4 h-4")=>{const N=(i==null?void 0:i.toLowerCase())||"";return N.includes("mobile")||N.includes("android")||N.includes("iphone")?r.jsx($e,{className:`${x} text-primary`}):N.includes("tablet")||N.includes("ipad")?r.jsx(Ra,{className:`${x} text-secondary`}):r.jsx($a,{className:`${x} text-default-500`})},jn=i=>{const x=(i==null?void 0:i.toLowerCase())||"";return x.includes("mobile")||x.includes("android")||x.includes("iphone")?"Mobile":x.includes("tablet")||x.includes("ipad")?"Tablet":"Desktop"},_n=({user:i,index:x})=>r.jsx(le,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-200 h-full min-h-[320px]",style:{background:`linear-gradient(135deg, 
          color-mix(in srgb, var(--theme-content1) 90%, transparent) 20%, 
          color-mix(in srgb, var(--theme-content2) 80%, transparent) 80%)`,borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-3 flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-start gap-2 mb-3 pb-2 border-b border-white/10",children:[r.jsx(Da,{avatarProps:{radius:"md",src:(i==null?void 0:i.profile_image_url)||(i==null?void 0:i.profile_image),size:"sm",fallback:r.jsx(Xe,{className:"w-4 h-4"}),style:{borderColor:"var(--theme-primary)",borderWidth:"2px"}},name:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-semibold text-foreground text-sm line-clamp-1",children:i.name}),r.jsxs("span",{className:"text-default-500 text-xs line-clamp-1",children:["ID: ",i.id]})]}),classNames:{wrapper:"flex-1 min-w-0",name:"text-sm font-semibold",description:"text-xs text-default-500"}}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(yt,{content:"Edit User",size:"sm",children:r.jsx(J,{isIconOnly:!0,size:"sm",variant:"light",className:"text-default-400 hover:text-primary min-w-6 w-6 h-6",onPress:()=>he("edit",i),children:r.jsx(Aa,{className:"w-3 h-3"})})}),r.jsxs(vt,{placement:"bottom-end",children:[r.jsx(xt,{children:r.jsx(J,{isIconOnly:!0,size:"sm",variant:"ghost",radius:Z(),isDisabled:R[i.id],className:"min-w-6 w-6 h-6",style:{background:"color-mix(in srgb, var(--theme-content2) 30%, transparent)"},children:r.jsx(jt,{className:"w-3 h-3"})})}),r.jsxs(gt,{"aria-label":"Device management actions",variant:"bordered",className:"min-w-[180px]",style:{background:"color-mix(in srgb, var(--theme-content1) 95%, transparent)",backdropFilter:"blur(16px)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:[r.jsx(ne,{startContent:i.single_device_login?r.jsx(Ze,{className:"w-3 h-3"}):r.jsx(Ye,{className:"w-3 h-3"}),onPress:()=>Zt(i.id,!i.single_device_login),isDisabled:R[i.id],className:"text-xs",children:i.single_device_login?"Disable Lock":"Enable Lock"},"toggle-device-lock"),i.single_device_login&&i.active_device&&r.jsx(ne,{startContent:r.jsx(_e,{className:"w-3 h-3"}),onPress:()=>Yt(i.id),isDisabled:R[i.id],className:"text-xs",children:"Reset Device"},"reset-device"),r.jsx(ne,{startContent:r.jsx($e,{className:"w-3 h-3"}),onPress:()=>Br.visit(route("admin.users.devices",{userId:i.id})),className:"text-xs",children:"Device History"},"view-devices"),r.jsx(ne,{startContent:r.jsx(Xe,{className:"w-3 h-3"}),onPress:()=>Br.visit(route("profile",{user:i.id})),className:"text-xs",children:"View Profile"},"view-profile")]})]})]})]}),r.jsxs("div",{className:"space-y-2 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx(bt,{className:"w-3 h-3 text-default-400 shrink-0"}),r.jsx("span",{className:"text-default-600 line-clamp-1 flex-1",children:i.email})]}),i.phone&&r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx(pt,{className:"w-3 h-3 text-default-400 shrink-0"}),r.jsx("span",{className:"text-default-600 line-clamp-1",children:i.phone})]}),(i.department||i.department_id)&&r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx(Ie,{className:"w-3 h-3 text-default-400 shrink-0"}),r.jsx("span",{className:"text-default-600 line-clamp-1",children:typeof i.department=="string"?i.department:"N/A"})]})]}),r.jsxs("div",{className:"mb-3 p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-content2) 40%, transparent)"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-xs font-medium text-default-700",children:"Device Status"}),i.single_device_login&&i.active_device&&r.jsx(yt,{content:r.jsxs("div",{className:"p-2 max-w-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Jt(i.active_device.user_agent,"w-4 h-4"),r.jsx("span",{className:"font-medium text-xs",children:i.active_device.device_name||"Unknown Device"})]}),r.jsxs("div",{className:"text-xs text-default-500",children:[jn(i.active_device.user_agent)," ",i.active_device.is_active?" Active":" Inactive"]})]}),size:"sm",children:r.jsx("div",{className:"cursor-help",children:Jt(i.active_device.user_agent,"w-4 h-4")})})]}),r.jsx(ce,{size:"sm",variant:"flat",color:i.single_device_login?i.active_device?"warning":"success":"default",startContent:i.single_device_login?i.active_device?r.jsx(Ye,{className:"w-3 h-3"}):r.jsx(Ze,{className:"w-3 h-3"}):r.jsx(Re,{className:"w-3 h-3"}),className:"text-xs",children:i.single_device_login?i.active_device?"Locked":"Free":"Disabled"})]}),r.jsxs("div",{className:"mt-auto space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs font-medium text-default-700",children:"Status"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(es,{size:"sm",isSelected:i.active,onValueChange:N=>Xt(i.id,N),color:i.active?"success":"danger",classNames:{wrapper:"group-data-[selected=true]:bg-success",thumb:"group-data-[selected=true]:ml-4"}}),r.jsx("span",{className:`text-xs font-medium ${i.active?"text-success":"text-danger"}`,children:i.active?"Active":"Inactive"})]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs font-medium text-default-700 mb-1 block",children:"Roles"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.roles&&i.roles.length>0?i.roles.slice(0,3).map((N,D)=>{const H=typeof N=="object"&&N!==null?N.name:N;return r.jsx(ce,{size:"sm",variant:"flat",color:"secondary",className:"text-xs h-5",children:H},D)}):r.jsx(ce,{size:"sm",variant:"bordered",color:"default",className:"text-xs h-5",children:"No Roles"}),i.roles&&i.roles.length>3&&r.jsxs(ce,{size:"sm",variant:"bordered",color:"primary",className:"text-xs h-5",children:["+",i.roles.length-3]})]})]})]})]})}),wn=b.useMemo(()=>{var i,x,N,D,H,ke,je,Pr,Ar,Or,Dr,Ur,Lr,Mr;return[{title:"Total Users",value:((i=u==null?void 0:u.overview)==null?void 0:i.total_users)||0,icon:r.jsx(Ge,{className:"w-5 h-5"}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"All users"},{title:"Active Users",value:((x=u==null?void 0:u.overview)==null?void 0:x.active_users)||0,icon:r.jsx(Pa,{className:"w-5 h-5"}),color:"text-green-400",iconBg:"bg-green-500/20",description:`${((D=(N=u==null?void 0:u.health)==null?void 0:N.status_ratio)==null?void 0:D.active_percentage)||0}% Active`},{title:"Inactive Users",value:((H=u==null?void 0:u.overview)==null?void 0:H.inactive_users)||0,icon:r.jsx(Vn,{className:"w-5 h-5"}),color:"text-red-400",iconBg:"bg-red-500/20",description:`${((je=(ke=u==null?void 0:u.health)==null?void 0:ke.status_ratio)==null?void 0:je.inactive_percentage)||0}% Inactive`},{title:"Total Roles",value:((Pr=u==null?void 0:u.overview)==null?void 0:Pr.total_roles)||0,icon:r.jsx(Re,{className:"w-5 h-5"}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Role diversity"},{title:"Role Coverage",value:`${((Or=(Ar=u==null?void 0:u.health)==null?void 0:Ar.system_metrics)==null?void 0:Or.role_coverage)||0}%`,icon:r.jsx(qn,{className:"w-5 h-5"}),color:"text-emerald-400",iconBg:"bg-emerald-500/20",description:"Users with roles"},{title:"Recent Activity",value:((Ur=(Dr=u==null?void 0:u.activity)==null?void 0:Dr.recent_registrations)==null?void 0:Ur.recently_active)||0,icon:r.jsx(Ia,{className:"w-5 h-5"}),color:"text-cyan-400",iconBg:"bg-cyan-500/20",description:"Active last 7 days"},{title:"System Health",value:`${((Lr=u==null?void 0:u.quick_metrics)==null?void 0:Lr.system_health_score)||0}%`,icon:r.jsx(kr,{className:"w-5 h-5"}),color:"text-pink-400",iconBg:"bg-pink-500/20",description:"Overall health"},{title:"Departments",value:((Mr=u==null?void 0:u.overview)==null?void 0:Mr.total_departments)||0,icon:r.jsx(Ie,{className:"w-5 h-5"}),color:"text-indigo-400",iconBg:"bg-indigo-500/20",description:"Department diversity"}]},[u]);return b.useMemo(()=>{const i=[];return i.push({label:l?"Add":"Add User",icon:r.jsx(dt,{className:"w-4 h-4"}),onPress:()=>he("add"),className:"bg-linear-to-r from-(--theme-primary) to-(--theme-secondary) text-white font-medium hover:opacity-90"}),i.push({label:l?"":"Export",isIconOnly:l,icon:r.jsx(Wr,{className:"w-4 h-4"}),variant:"bordered",className:"border-[rgba(var(--theme-primary-rgb),0.3)] bg-[rgba(var(--theme-primary-rgb),0.05)] hover:bg-[rgba(var(--theme-primary-rgb),0.1)]"}),i},[l,he]),r.jsxs(r.Fragment,{children:[r.jsx(Fn,{title:e||"Users Management"}),S==="add"&&r.jsx(Ca,{user:null,allUsers:F,departments:a,designations:s,open:S==="add",setUsers:ct,closeModal:Kt,editMode:!1}),S==="edit"&&P&&r.jsx(Ca,{user:P,allUsers:F,departments:a,designations:s,open:S==="edit",setUsers:ct,closeModal:Kt,editMode:!0}),r.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Users Management",children:r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"w-full",children:r.jsx(Kn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:r.jsxs(le,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                    var(--theme-content1, #FAFAFA) 20%, 
                    var(--theme-content2, #F4F4F5) 10%, 
                    var(--theme-content3, #F1F3F4) 20%)`},children:[r.jsx(Jn,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                      color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                      color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:r.jsx("div",{className:`${h?"p-6":j?"p-4":"p-3"} w-full`,children:r.jsx("div",{className:"flex flex-col space-y-4",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[E?r.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[r.jsx(q,{className:"w-12 h-12 rounded-xl"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx(q,{className:"w-64 h-6 rounded mb-2"}),r.jsx(q,{className:"w-48 h-4 rounded"})]})]}):r.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[r.jsx("div",{className:`
                                ${h?"p-3":j?"p-2.5":"p-2"} 
                                rounded-xl flex items-center justify-center
                              `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsx(Ge,{className:`
                                  ${h?"w-8 h-8":j?"w-6 h-6":"w-5 h-5"}
                                `,style:{color:"var(--theme-primary)"}})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("h4",{className:`
                                  ${h?"text-2xl":j?"text-xl":"text-lg"}
                                  font-bold text-foreground
                                  ${h?"":"truncate"}
                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Users Management"}),r.jsx("p",{className:`
                                  ${h?"text-sm":"text-xs"} 
                                  text-default-500
                                  ${h?"":"truncate"}
                                `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Manage user accounts, roles and permissions"})]})]}),E?r.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[r.jsx(q,{className:"w-24 h-8 rounded"}),r.jsx(q,{className:"w-20 h-8 rounded"})]}):r.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[r.jsx(J,{size:l?"sm":"md",color:"primary",startContent:r.jsx(dt,{className:"w-4 h-4"}),onPress:()=>he("add"),radius:Z(),style:{fontFamily:'var(--fontFamily, "Inter")'},className:"min-w-0",children:l?"Add":"Add User"}),r.jsx(J,{size:l?"sm":"md",variant:"bordered",startContent:r.jsx(Xn,{className:"w-4 h-4"}),radius:Z(),style:{background:"color-mix(in srgb, var(--theme-primary) 10%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-primary) 30%, transparent)",color:"var(--theme-primary)",fontFamily:'var(--fontFamily, "Inter")'},className:"min-w-0",children:l?"Export":"Export Users"})]})]})})})}),r.jsxs(oe,{className:"p-6",children:[r.jsx(Dn,{stats:wn,className:"mb-6",isLoading:E}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-6",children:E?r.jsx(r.Fragment,{children:Array.from({length:6}).map((i,x)=>r.jsx(le,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-default) 10%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(q,{className:"w-9 h-9 rounded-lg"}),r.jsxs("div",{className:"flex-1",children:[r.jsx(q,{className:"w-24 h-4 rounded mb-1"}),r.jsx(q,{className:"w-32 h-3 rounded"})]})]}),r.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((N,D)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(q,{className:"w-20 h-3 rounded"}),r.jsx(q,{className:"w-12 h-3 rounded"})]},D))})]})},x))}):r.jsxs(r.Fragment,{children:[r.jsx(le,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-primary) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(Zn,{className:"w-5 h-5",style:{color:"var(--theme-primary)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role Distribution"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User roles breakdown"})]})]}),r.jsx("div",{className:"space-y-3",children:((er=(Qt=u==null?void 0:u.distribution)==null?void 0:Qt.by_role)==null?void 0:er.length)>0?u.distribution.by_role.slice(0,4).map((i,x)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:`color-mix(in srgb, var(--theme-primary) ${80-x*15}%, var(--theme-secondary) ${20+x*15}%)`}}),r.jsx("span",{className:"text-sm text-foreground truncate",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.count}),r.jsxs("span",{className:"text-xs text-default-500 ml-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["(",i.percentage,"%)"]})]})]},x)):r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-sm text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No role data available"})})})]})}),r.jsx(le,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-secondary) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-secondary) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(Ge,{className:"w-5 h-5",style:{color:"var(--theme-secondary)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User Status"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Active vs inactive users"})]})]}),r.jsx("div",{className:"space-y-3",children:((rr=(tr=u==null?void 0:u.distribution)==null?void 0:tr.by_status)==null?void 0:rr.length)>0?u.distribution.by_status.map((i,x)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:i.name==="Active"?"var(--theme-success)":i.name==="Inactive"?"var(--theme-danger)":"var(--theme-default)"}}),r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.count}),r.jsxs("span",{className:"text-xs text-default-500 ml-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["(",i.percentage,"%)"]})]})]},x)):r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-sm text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No status data available"})})})]})}),r.jsx(le,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-warning) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-warning) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(Ie,{className:"w-5 h-5",style:{color:"var(--theme-warning)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Departments"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Users by department"})]})]}),r.jsx("div",{className:"space-y-3",children:((nr=(ar=u==null?void 0:u.distribution)==null?void 0:ar.by_department)==null?void 0:nr.length)>0?u.distribution.by_department.slice(0,4).map((i,x)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{background:`color-mix(in srgb, var(--theme-warning) ${80-x*15}%, var(--theme-primary) ${20+x*15}%)`}}),r.jsx("span",{className:"text-sm text-foreground truncate",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.name})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-sm font-medium text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:i.count}),r.jsxs("span",{className:"text-xs text-default-500 ml-1",style:{fontFamily:'var(--fontFamily, "Inter")'},children:["(",i.percentage,"%)"]})]})]},x)):r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-sm text-default-400",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"No department data available"})})})]})}),r.jsx(le,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-success) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-success) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(Wr,{className:"w-5 h-5",style:{color:"var(--theme-success)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"User Growth"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Registration trends"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"New (30 days)"}),r.jsx("span",{className:"text-sm font-medium text-success",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((ir=(sr=u==null?void 0:u.activity)==null?void 0:sr.recent_registrations)==null?void 0:ir.new_users_30_days)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"New (90 days)"}),r.jsx("span",{className:"text-sm font-medium text-primary",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((or=(lr=u==null?void 0:u.activity)==null?void 0:lr.recent_registrations)==null?void 0:or.new_users_90_days)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Recently Active"}),r.jsx("span",{className:"text-sm font-medium text-secondary",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((dr=(cr=u==null?void 0:u.activity)==null?void 0:cr.recent_registrations)==null?void 0:dr.recently_active)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Growth Rate"}),r.jsx(ce,{size:"sm",color:(((mr=u==null?void 0:u.activity)==null?void 0:mr.user_growth_rate)||0)>0?"success":(((ur=u==null?void 0:u.activity)==null?void 0:ur.user_growth_rate)||0)<0?"danger":"default",variant:"flat",radius:Z(),children:r.jsxs("span",{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((fr=u==null?void 0:u.activity)==null?void 0:fr.user_growth_rate)||0,"%"]})})]})]})]})}),r.jsx(le,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-danger) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(Re,{className:"w-5 h-5",style:{color:"var(--theme-danger)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Access Control"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role assignments"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"With Roles"}),r.jsx("span",{className:"text-sm font-medium text-success",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((pr=(hr=u==null?void 0:u.security)==null?void 0:hr.access_metrics)==null?void 0:pr.users_with_roles)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Without Roles"}),r.jsx("span",{className:"text-sm font-medium text-danger",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((xr=(vr=u==null?void 0:u.security)==null?void 0:vr.access_metrics)==null?void 0:xr.users_without_roles)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Admin Users"}),r.jsx("span",{className:"text-sm font-medium text-warning",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((yr=(gr=u==null?void 0:u.security)==null?void 0:gr.access_metrics)==null?void 0:yr.admin_users)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Role Coverage"}),r.jsx(ce,{size:"sm",color:(((jr=(br=u==null?void 0:u.health)==null?void 0:br.system_metrics)==null?void 0:jr.role_coverage)||0)>80?"success":(((wr=(_r=u==null?void 0:u.health)==null?void 0:_r.system_metrics)==null?void 0:wr.role_coverage)||0)>60?"warning":"danger",variant:"flat",radius:Z(),children:r.jsxs("span",{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((Fr=(Nr=u==null?void 0:u.health)==null?void 0:Nr.system_metrics)==null?void 0:Fr.role_coverage)||0,"%"]})})]})]})]})}),r.jsx(le,{className:"transition-all duration-200",style:{background:"color-mix(in srgb, var(--theme-content1) 5%, transparent)",borderColor:"color-mix(in srgb, var(--theme-default) 20%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:r.jsxs(oe,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-default) 20%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:r.jsx(kr,{className:"w-5 h-5",style:{color:"var(--theme-default)"}})}),r.jsxs("div",{children:[r.jsx("h6",{className:"font-semibold text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"System Health"}),r.jsx("p",{className:"text-small text-default-500",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Overall metrics"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Health Score"}),r.jsx(ce,{size:"sm",color:(((Sr=u==null?void 0:u.quick_metrics)==null?void 0:Sr.system_health_score)||0)>80?"success":(((Cr=u==null?void 0:u.quick_metrics)==null?void 0:Cr.system_health_score)||0)>60?"warning":"danger",variant:"flat",radius:Z(),children:r.jsxs("span",{style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((Tr=u==null?void 0:u.quick_metrics)==null?void 0:Tr.system_health_score)||0,"%"]})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Activation Rate"}),r.jsxs("span",{className:"text-sm font-medium text-success",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[((Ir=(Er=u==null?void 0:u.health)==null?void 0:Er.system_metrics)==null?void 0:Ir.user_activation_rate)||0,"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Total Roles"}),r.jsx("span",{className:"text-sm font-medium text-primary",style:{fontFamily:'var(--fontFamily, "Inter")'},children:(($r=u==null?void 0:u.overview)==null?void 0:$r.total_roles)||0})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-foreground",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Total Departments"}),r.jsx("span",{className:"text-sm font-medium text-warning",style:{fontFamily:'var(--fontFamily, "Inter")'},children:((Rr=u==null?void 0:u.overview)==null?void 0:Rr.total_departments)||0})]})]})]})})]})}),r.jsx("div",{className:"mb-6",children:E?r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[r.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{className:"w-24 h-4 rounded"}),r.jsx(q,{className:"w-full h-10 rounded-lg"})]})}),r.jsx("div",{className:"w-full sm:w-auto sm:min-w-[200px]",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(q,{className:"w-20 h-4 rounded"}),r.jsx(q,{className:"w-full h-10 rounded-lg"})]})})]}):r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-end",children:[r.jsx("div",{className:"flex-1",children:r.jsx(Y,{label:"Search Users",placeholder:"Search by name, email or phone...",value:g.search,onValueChange:i=>be("search",i),variant:"bordered",size:l?"sm":"md",radius:Z(),startContent:r.jsx(Pn,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"border-default-200 hover:border-default-300"},style:{fontFamily:'var(--fontFamily, "Inter")'}})}),r.jsxs("div",{className:"flex flex-wrap gap-2 lg:gap-3",children:[r.jsxs(Ne,{label:"Status",selectedKeys:g.status?[g.status]:[],onSelectionChange:i=>be("status",Array.from(i)[0]),variant:"bordered",size:l?"sm":"md",radius:Z(),className:"w-32",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[r.jsx(Q,{children:"All Status"},"all"),r.jsx(Q,{children:"Active"},"active"),r.jsx(Q,{children:"Inactive"},"inactive")]}),r.jsxs(Ne,{label:"Role",selectedKeys:g.role?[g.role]:[],onSelectionChange:i=>be("role",Array.from(i)[0]),variant:"bordered",size:l?"sm":"md",radius:Z(),className:"w-32",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[r.jsx(Q,{children:"All Roles"},"all"),t==null?void 0:t.map((i,x)=>{const N=typeof i=="object"&&i!==null?i.name:i,D=typeof N=="string"?N.toLowerCase():String(N||`role-${x}`).toLowerCase();return r.jsx(Q,{children:N||"Unknown Role"},D)})]}),r.jsxs(Qn,{variant:"bordered",radius:Z(),children:[r.jsx(J,{isIconOnly:!0,color:c==="table"?"primary":"default",onPress:()=>n("table"),size:l?"sm":"md",children:r.jsx(Yn,{className:"w-4 h-4"})}),r.jsx(J,{isIconOnly:!0,color:c==="grid"?"primary":"default",onPress:()=>n("grid"),size:l?"sm":"md",children:r.jsx(An,{className:"w-4 h-4"})})]})]})]})}),r.jsx("div",{className:"overflow-hidden",children:E?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx(qe,{size:"lg"})}):c==="table"?r.jsx(is,{allUsers:ae.data,roles:t,setUsers:ct,isMobile:l,isTablet:m,pagination:p,onPageChange:We,onRowsPerPageChange:G,totalUsers:ae.total,loading:E,onEdit:i=>he("edit",i),updateUserOptimized:gn,deleteUserOptimized:yn,toggleUserStatusOptimized:Xt,updateUserRolesOptimized:bn,toggleSingleDeviceLogin:Zt,resetUserDevice:Yt,deviceActions:R}):r.jsxs("div",{children:[ae.data&&ae.data.length>0?r.jsx("div",{className:`grid gap-4 ${l?"grid-cols-1":m?"grid-cols-2":"grid-cols-3 xl:grid-cols-4"}`,children:ae.data.map((i,x)=>r.jsx(_n,{user:i,index:x},i.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ge,{className:"w-16 h-16 mx-auto text-default-300 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No users found"}),r.jsx("p",{className:"text-default-500 mb-4",children:"Try adjusting your search criteria or filters"}),r.jsx(J,{color:"primary",startContent:r.jsx(dt,{className:"w-4 h-4"}),onPress:()=>he("add"),children:"Add First User"})]}),ae.data&&ae.data.length>0&&r.jsx("div",{className:"flex justify-center mt-6 border-t pt-4",style:{borderColor:"var(--theme-divider, #E4E4E7)"},children:r.jsx(Oa,{total:Math.ceil(ae.total/p.perPage),initialPage:p.currentPage,page:p.currentPage,onChange:We,size:l?"sm":"md",variant:"bordered",showControls:!0,radius:Z(),style:{fontFamily:'var(--fontFamily, "Inter")'}})})]})})]})]})})})})})]})};xd.layout=e=>r.jsx(On,{children:e});export{xd as default};
