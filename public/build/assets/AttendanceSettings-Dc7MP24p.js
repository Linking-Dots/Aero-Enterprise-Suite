import{J as ha,r as d,e as D,j as e,Q as ya,a as C,d as L,b as p,o as ga,p as va,F as Me}from"./app-3xMUpj7B.js";import{A as ja,o as ze,t as ba,k as Oe,n as wa,c as oe,e as re,f as ie,g as de}from"./Dashboard-CCBXetlT.js";import{s as x}from"./toastUtils-CGoX7qZE.js";import{L as b,M as $e,T as Le,u as qe,a as Ve}from"./leaflet-DNdDpm3P.js";import"./leaflet-routing-machine-D3cmPXeF.js";import{m as _a}from"./proxy-CWD1SlVr.js";import{F as Na}from"./MagnifyingGlassIcon-DnIzlYV9.js";import{F as We}from"./ClockIcon-U8oF3ZOb.js";import{F as ce}from"./PlusIcon-BhU5Neuv.js";import{F as Fa}from"./CheckCircleIcon-D4W_LVw6.js";import{F as Ca}from"./XCircleIcon-n_pKzU0o.js";import{F as ka}from"./PencilIcon-BzwVjkFP.js";import{a as S}from"./MapPinIcon-CMsufMnR.js";import{F as me}from"./TrashIcon-i_vPaAgK.js";import{t as Y,a as Ee}from"./XMarkIcon-Xd2TTe_1.js";import{M as De}from"./Marker-ClKwCGFu.js";import{u as ue}from"./index-CmkneHnm.js";import{c as Ia}from"./chunk-D5XJWRAV-84O8Adky.js";import{i as g}from"./chunk-SSA7SXE4-DNM9xlG_.js";import{c as pe}from"./chunk-XJ2YRSUP-BebjSVVa.js";import{a as Sa}from"./chunk-Y2AYO5NJ-Dcfrirqn.js";import{t as Pa,a as Ra,b as Aa,c as T}from"./chunk-F3UDT23P-CTrshiMJ.js";import{t as Ma,a as ee}from"./chunk-YRZGWF2W-n-G2C-L3.js";import{c as P}from"./chunk-IHOGUXIG-DwIjdNPz.js";import{t as za}from"./chunk-QESP63UR-CB4TupZ6.js";import{s as Oa}from"./chunk-TQNYOUFX-B3bvKrwK.js";import{m as fe}from"./chunk-O5MCAK4F-D2MHLspg.js";import"./EnvelopeIcon-5tIwbqN7.js";import"./UserGroupIcon-CE80Pc5Y.js";import"./UserIcon-DM1UYgQR.js";import"./ShieldCheckIcon-B_vrwEKw.js";import"./KeyIcon-qAacnld0.js";import"./index-CWRa92YC.js";import"./logo-Pwvcz7fP.js";import"./features-animation-BEu3JEPN.js";import"./create-visual-element-C5eqRjpt.js";import"./CheckCircleIcon-DJ6S0cuA.js";import"./ExclamationTriangleIcon-DhH6Adei.js";import"./useToggleState-BFnCHH7l.js";delete b.Icon.Default.prototype._getIconUrl;b.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const $a=({onLocationSelect:v,isAddingWaypoint:m})=>(Ve({click(j){if(m){const{lat:r,lng:f}=j.latlng;v({lat:r.toFixed(6),lng:f.toFixed(6)})}}}),null),La=({onLocationSelect:v,isAddingPoint:m})=>(Ve({click(j){if(m){const{lat:r,lng:f}=j.latlng;v({lat:r.toFixed(6),lng:f.toFixed(6)})}}}),null),Wa=({waypoints:v})=>{const m=qe();return d.useEffect(()=>{if(!m||v.length<2)return;m.eachLayer(r=>{r.options&&(r.options.isRoute||r.options.isRoutingControl)&&m.removeLayer(r)}),m.getContainer().querySelectorAll(".leaflet-routing-container").forEach(r=>r.remove());const j=v.filter(r=>r.lat&&r.lng);if(j.length>=2){const r=j.map(k=>b.latLng(parseFloat(k.lat),parseFloat(k.lng))),f=b.Routing.control({waypoints:r,routeWhileDragging:!1,addWaypoints:!1,createMarker:()=>null,lineOptions:{styles:[{color:"var(--theme-primary, #3b82f6)",weight:4,opacity:.8,dashArray:"8, 4"}]},show:!1,fitSelectedRoutes:!1,router:b.Routing.osrmv1({serviceUrl:"https://router.project-osrm.org/route/v1"})}).addTo(m);f.on("routesfound",function(k){const q=k.routes,F=q[0].summary,o=F.totalDistance,c=F.totalTime,R=q[0].coordinates,A=Math.floor(R.length/2),w=R[A];b.popup({autoClose:!1,closeOnClick:!1,className:"route-info-popup"}).setLatLng([w.lat,w.lng]).setContent(`
                        <div style="
                            font-family: var(--fontFamily, 'Inter'); 
                            text-align: center;
                            padding: 8px;
                            min-width: 150px;
                        ">
                            <div style="
                                background: var(--theme-primary, #3b82f6);
                                color: white;
                                padding: 4px 8px;
                                border-radius: 6px;
                                margin-bottom: 6px;
                                font-weight: bold;
                                font-size: 12px;
                            ">Route Information</div>
                            <div style="font-size: 11px; line-height: 1.4;">
                                <div><strong>Waypoints:</strong> ${j.length}</div>
                                <div><strong>Distance:</strong> ${(o/1e3).toFixed(2)} km</div>
                                <div><strong>Est. Time:</strong> ${Math.round(c/60)} min</div>
                            </div>
                        </div>
                    `).openOn(m),setTimeout(()=>{const ae=b.latLngBounds(r);m.fitBounds(ae,{padding:[40,40],maxZoom:15})},100)}),m._waypointRoutingControl=f}return()=>{m._waypointRoutingControl&&(m.removeControl(m._waypointRoutingControl),delete m._waypointRoutingControl),m.getContainer().querySelectorAll(".leaflet-routing-container").forEach(r=>r.remove())}},[m,v]),null},Ea=({polygonPoints:v})=>{const m=qe();return d.useEffect(()=>{if(!m||v.length<3)return;m.eachLayer(r=>{r.options&&r.options.isPolygon&&m.removeLayer(r)});const j=v.filter(r=>r.lat&&r.lng);if(j.length>=3){const r=j.map(F=>[parseFloat(F.lat),parseFloat(F.lng)]),f=b.polygon(r,{color:"var(--theme-primary, #3b82f6)",fillColor:"var(--theme-primary, #3b82f6)",fillOpacity:.2,weight:3,opacity:.8,isPolygon:!0}).addTo(m),k=f.getLatLngs()[0].reduce((F,o,c,R)=>{const A=(c+1)%R.length,w=R[A];return F+(o.lat*w.lng-w.lat*o.lng)},0),q=Math.abs(k/2*111.32*111.32/1e6).toFixed(3);b.popup().setLatLng(f.getBounds().getCenter()).setContent(`
                    <div style="font-family: var(--fontFamily, 'Inter'); text-align: center;">
                        <strong>Geofence Area</strong><br>
                        <small>Points: ${j.length}</small><br>
                        <small>Area: ~${q} km¬≤</small>
                    </div>
                `).openOn(m),j.length>0&&m.fitBounds(f.getBounds(),{padding:[30,30]})}return()=>{m.eachLayer(r=>{r.options&&r.options.isPolygon&&m.removeLayer(r)})}},[m,v]),null},Ft=()=>{var Ce,ke,Ie;const{title:v,attendanceSettings:m,attendanceTypes:j}=ha().props,r=l=>l?l.replace(/_\d+$/,""):"",[f,k]=d.useState(!1),[q,F]=d.useState(!1);d.useEffect(()=>{const l=()=>{k(window.innerWidth<640),F(window.innerWidth<768)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const o=()=>{var n;if(typeof window>"u")return"lg";const a=((n=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:n.trim())||"12px",t=parseInt(a);return t===0?"none":t<=4?"sm":t<=8?"md":t<=16?"lg":"full"},[c,R]=d.useState(m||{}),[A,w]=d.useState(j||[]),[ae,xe]=d.useState(!1),[Be,he]=d.useState(!1),[s,te]=d.useState(null),[M,Ze]=d.useState(""),[Ue,Ge]=d.useState("general"),{isOpen:Qe,onOpen:ye,onClose:se}=ue(),{isOpen:Ke,onOpen:ge,onClose:ne}=ue(),{isOpen:He,onOpen:ve,onClose:le}=ue(),[z,V]=d.useState({name:"",description:"",is_active:!1}),[h,B]=d.useState({tolerance:150,waypoints:[]}),[O,W]=d.useState(!1),[Je,U]=d.useState([23.8103,90.4125]),[Xe,G]=d.useState(13),[y,Q]=d.useState({polygon:[]}),[$,E]=d.useState(!1),[Ye,K]=d.useState([23.8103,90.4125]),[Te,H]=d.useState(13),je=d.useMemo(()=>M?A.filter(l=>{var a;return l.name.toLowerCase().includes(M.toLowerCase())||((a=l.description)==null?void 0:a.toLowerCase().includes(M.toLowerCase()))||l.slug.toLowerCase().includes(M.toLowerCase())}):A,[A,M]),J=d.useMemo(()=>{const l={geo_polygon:{title:"Geo Polygon Attendance",description:"Location-based attendance using polygon boundaries",icon:"üìç",color:"warning"},wifi_ip:{title:"WiFi/IP Attendance",description:"Network-based attendance using IP addresses",icon:"üì∂",color:"secondary"},route_waypoint:{title:"Route Waypoint Attendance",description:"Route-based attendance with waypoint tracking",icon:"üó∫Ô∏è",color:"primary"},qr_code:{title:"QR Code Attendance",description:"QR code scanning for attendance",icon:"üì±",color:"success"}},a={};return Object.entries(l).forEach(([t,n])=>{a[t]={...n,types:[]}}),je.forEach(t=>{const n=r(t.slug);a[n]&&a[n].types.push(t)}),a},[je,r]),be=d.useCallback(async l=>{var a,t;xe(!0);try{const n=await D.post("/settings/attendance/update",l);n.data.attendanceSettings&&(R(n.data.attendanceSettings),x.success(n.data.message||"Settings updated successfully"))}catch(n){console.error("Settings update error:",n),x.error(((t=(a=n.response)==null?void 0:a.data)==null?void 0:t.message)||"Failed to update settings")}finally{xe(!1)}},[]),ea=d.useCallback(l=>{l.preventDefault();const a=new FormData(l.target),t=Object.fromEntries(a.entries()),n=[];t.weekend_saturday&&n.push("saturday"),t.weekend_sunday&&n.push("sunday"),t.weekend_friday&&n.push("friday");const i={...t,weekend_days:n,break_time_duration:parseInt(t.break_time_duration)||0,late_mark_after:parseInt(t.late_mark_after)||0,early_leave_before:parseInt(t.early_leave_before)||0,overtime_after:parseInt(t.overtime_after)||0};delete i.weekend_saturday,delete i.weekend_sunday,delete i.weekend_friday,be(i)},[be]),we=d.useCallback((l=null)=>{te(l?{...l,config:l.config||{}}:null),V(l?{name:l.name||"",description:l.description||"",is_active:l.is_active||!1}:{name:"",description:"",is_active:!1}),ye()},[ye]),_e=d.useCallback(async l=>{var a,t;he(!0);try{let n;if(s!=null&&s.id){if(n=await D.put(`/settings/attendance-type/${s.id}`,l),n.data.attendanceType){const i=n.data.attendanceType;w(u=>u.map(_=>_.id===i.id?i:_)),x.success(n.data.message||"Attendance type updated successfully")}}else n=await D.post("/settings/attendance-type",{...l,slug:s==null?void 0:s.slug,icon:s==null?void 0:s.icon}),n.data.attendanceType&&(w(i=>[...i,n.data.attendanceType]),x.success(n.data.message||"Attendance type created successfully"));se()}catch(n){console.error("Type update error:",n),x.error(((t=(a=n.response)==null?void 0:a.data)==null?void 0:t.message)||"Failed to save attendance type")}finally{he(!1)}},[s,se]),aa=d.useCallback(async l=>{var a,t;if(confirm(`Are you sure you want to delete "${l.name}"? This action cannot be undone.`))try{await D.delete(`/settings/attendance-type/${l.id}`),w(n=>n.filter(i=>i.id!==l.id)),x.success("Attendance type deleted successfully")}catch(n){console.error("Type delete error:",n),x.error(((t=(a=n.response)==null?void 0:a.data)==null?void 0:t.message)||"Failed to delete attendance type")}},[]),ta=d.useCallback(l=>{l.preventDefault();const a=new FormData(l.target),t=Object.fromEntries(a.entries());let n=(s==null?void 0:s.config)||{};const i=r(s==null?void 0:s.slug);if(i==="geo_polygon")n={...n,validation_mode:t.validation_mode||n.validation_mode||"any",allow_without_location:t.allow_without_location==="true"||n.allow_without_location||!1};else if(i==="wifi_ip"){const _=t.allowed_ips?t.allowed_ips.split(",").map(N=>N.trim()).filter(N=>N):n.allowed_ips||[],X=t.allowed_ranges?t.allowed_ranges.split(",").map(N=>N.trim()).filter(N=>N):n.allowed_ranges||[];n={...n,allowed_ips:_,allowed_ranges:X,validation_mode:t.validation_mode||n.validation_mode||"any",allow_without_network:t.allow_without_network==="true"||n.allow_without_network||!1}}else i==="route_waypoint"?n={...n,tolerance:parseInt(t.tolerance)||n.tolerance||150,validation_mode:t.validation_mode||n.validation_mode||"any",allow_without_location:t.allow_without_location==="true"||n.allow_without_location||!1}:i==="qr_code"&&(n={...n,code_expiry_hours:parseInt(t.code_expiry_hours)||n.code_expiry_hours||24,one_time_use:t.one_time_use==="true"||n.one_time_use||!1,require_location:t.require_location==="true"||n.require_location||!1,max_distance:parseInt(t.max_distance)||n.max_distance||100});const u={name:z.name,description:z.description,is_active:z.is_active,config:n};_e(u)},[s,z,_e]),sa=d.useCallback(l=>{var t,n,i,u;te(l);const a=((t=l.config)==null?void 0:t.waypoints)||[];B({tolerance:((n=l.config)==null?void 0:n.tolerance)||150,waypoints:a}),a.length>0&&((i=a[0])!=null&&i.lat)&&((u=a[0])!=null&&u.lng)?(U([parseFloat(a[0].lat),parseFloat(a[0].lng)]),G(15)):(U([23.8103,90.4125]),G(13)),W(!1),ge()},[ge]),na=()=>{W(!0),x.info("Click on the map to add a waypoint")},la=d.useCallback(l=>{B(a=>({...a,waypoints:[...a.waypoints,l]})),W(!1),x.success("Waypoint added successfully")},[]),oa=l=>{B(a=>({...a,waypoints:a.waypoints.filter((t,n)=>n!==l)}))},Ne=(l,a,t)=>{B(n=>({...n,waypoints:n.waypoints.map((i,u)=>u===l?{...i,[a]:t}:i)}))},ra=l=>{l.lat&&l.lng&&(U([parseFloat(l.lat),parseFloat(l.lng)]),G(16))},ia=d.useCallback(l=>{var t;te(l);const a=((t=l.config)==null?void 0:t.polygon)||[];if(Q({polygon:a}),a.length>0){const n=a.reduce((u,_)=>u+parseFloat(_.lat||0),0),i=a.reduce((u,_)=>u+parseFloat(_.lng||0),0);K([n/a.length,i/a.length]),H(15)}else K([23.8103,90.4125]),H(13);E(!1),ve()},[ve]),da=()=>{E(!0),x.info("Click on the map to add a polygon point")},ca=d.useCallback(l=>{Q(a=>({...a,polygon:[...a.polygon,l]})),E(!1),x.success("Polygon point added successfully")},[]),ma=l=>{Q(a=>({...a,polygon:a.polygon.filter((t,n)=>n!==l)}))},Fe=(l,a,t)=>{Q(n=>({...n,polygon:n.polygon.map((i,u)=>u===l?{...i,[a]:t}:i)}))},ua=l=>{l.lat&&l.lng&&(K([parseFloat(l.lat),parseFloat(l.lng)]),H(16))},pa=d.useCallback(async()=>{const l=y.polygon.filter(a=>a.lat&&a.lng);if(l.length<3){x.error("Polygon requires minimum 3 points");return}try{const a={...s.config,polygon:l},t=await D.put(`/settings/attendance-type/${s.id}`,{config:a});w(n=>n.map(i=>i.id===s.id?t.data.attendanceType:i)),x.success("Polygon updated successfully"),le()}catch{x.error("Failed to update polygon")}},[s,y,le]),fa=d.useCallback(async()=>{const l=h.waypoints.filter(a=>a.lat&&a.lng);if(l.length<2){x.error("At least 2 waypoints are required for a route");return}try{const a={...s.config,waypoints:l,tolerance:h.tolerance||150},t=await D.put(`/settings/attendance-type/${s.id}`,{config:a});w(n=>n.map(i=>i.id===s.id?t.data.attendanceType:i)),x.success("Route waypoints updated successfully"),ne()}catch{x.error("Failed to update waypoints")}},[s,h,ne]),xa=l=>({color:l?"success":"default",icon:l?Fa:Ca,text:l?"Active":"Inactive"});return e.jsxs(ja,{title:v,children:[e.jsx(ya,{title:v}),e.jsx("div",{className:"flex flex-col w-full h-full p-4",role:"main","aria-label":"Attendance Settings",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"w-full",children:e.jsx(_a.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:e.jsxs(C,{className:"transition-all duration-200",style:{border:"var(--borderWidth, 2px) solid transparent",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))",background:`linear-gradient(135deg, 
                                        var(--theme-content1, #FAFAFA) 20%, 
                                        var(--theme-content2, #F4F4F5) 10%, 
                                        var(--theme-content3, #F1F3F4) 20%)`},children:[e.jsx(Ia,{className:"border-b p-0",style:{borderColor:"var(--theme-divider, #E4E4E7)",background:`linear-gradient(135deg, 
                                            color-mix(in srgb, var(--theme-content1) 50%, transparent) 20%, 
                                            color-mix(in srgb, var(--theme-content2) 30%, transparent) 10%)`},children:e.jsx("div",{className:`${f?"p-4":"p-6"} w-full`,children:e.jsx("div",{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[e.jsx("div",{className:`
                                                            ${f?"p-2":"p-3"} 
                                                            rounded-xl flex items-center justify-center
                                                        `,style:{background:"color-mix(in srgb, var(--theme-primary) 15%, transparent)",borderColor:"color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(ze,{className:`
                                                                ${f?"w-6 h-6":"w-8 h-8"}
                                                            `,style:{color:"var(--theme-primary)"}})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:`
                                                                ${f?"text-xl":"text-2xl"}
                                                                font-bold text-foreground
                                                                ${f?"truncate":""}
                                                            `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Attendance Settings"}),e.jsx("p",{className:`
                                                                ${f?"text-xs":"text-sm"} 
                                                                text-default-500
                                                                ${f?"truncate":""}
                                                            `,style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Configure attendance policies, working hours, and tracking methods"})]})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:e.jsx(g,{placeholder:"Search attendance types...",value:M,onChange:l=>Ze(l.target.value),startContent:e.jsx(Na,{className:"w-4 h-4 text-default-400"}),variant:"bordered",size:"sm",radius:o(),className:"w-64","aria-label":"Search attendance types",style:{fontFamily:'var(--fontFamily, "Inter")'}})})]})})})}),e.jsx(L,{className:"p-6",children:e.jsxs(ba,{selectedKey:Ue,onSelectionChange:Ge,variant:"underlined",className:"w-full",radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(Oe,{title:"General Settings",children:e.jsxs("form",{onSubmit:ea,className:"space-y-8 mt-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h5",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[e.jsx(We,{className:"w-5 h-5 text-primary"}),"Office Timing"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(g,{type:"time",label:"Office Start Time",name:"office_start_time",defaultValue:(c==null?void 0:c.office_start_time)||"09:00",variant:"bordered",radius:o(),className:"max-w-full",labelPlacement:"outside",isRequired:!0,style:{fontFamily:'var(--fontFamily, "Inter")'}}),e.jsx(g,{type:"time",label:"Office End Time",name:"office_end_time",defaultValue:(c==null?void 0:c.office_end_time)||"18:00",variant:"bordered",radius:o(),className:"max-w-full",labelPlacement:"outside",isRequired:!0,style:{fontFamily:'var(--fontFamily, "Inter")'}})]}),e.jsx(g,{type:"number",label:"Break Time Duration (minutes)",name:"break_time_duration",defaultValue:(c==null?void 0:c.break_time_duration)||"60",variant:"bordered",radius:o(),className:"max-w-md",labelPlacement:"outside",min:"0",max:"480",style:{fontFamily:'var(--fontFamily, "Inter")'}})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h5",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-primary"}),"Attendance Policies"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(g,{type:"number",label:"Late Mark After (minutes)",name:"late_mark_after",defaultValue:(c==null?void 0:c.late_mark_after)||"15",variant:"bordered",radius:o(),className:"max-w-full",labelPlacement:"outside",min:"0",max:"120",style:{fontFamily:'var(--fontFamily, "Inter")'}}),e.jsx(g,{type:"number",label:"Early Leave Before (minutes)",name:"early_leave_before",defaultValue:(c==null?void 0:c.early_leave_before)||"30",variant:"bordered",radius:o(),className:"max-w-full",labelPlacement:"outside",min:"0",max:"120",style:{fontFamily:'var(--fontFamily, "Inter")'}})]}),e.jsx(g,{type:"number",label:"Overtime After (minutes)",name:"overtime_after",defaultValue:(c==null?void 0:c.overtime_after)||"30",variant:"bordered",radius:o(),className:"max-w-md",labelPlacement:"outside",min:"0",max:"240",style:{fontFamily:'var(--fontFamily, "Inter")'}})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h5",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[e.jsx(wa,{className:"w-5 h-5 text-primary"}),"Weekend Configuration"]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx(pe,{name:"weekend_friday",defaultSelected:(Ce=c==null?void 0:c.weekend_days)==null?void 0:Ce.includes("friday"),radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Friday"}),e.jsx(pe,{name:"weekend_saturday",defaultSelected:(ke=c==null?void 0:c.weekend_days)==null?void 0:ke.includes("saturday"),radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Saturday"}),e.jsx(pe,{name:"weekend_sunday",defaultSelected:(Ie=c==null?void 0:c.weekend_days)==null?void 0:Ie.includes("sunday"),radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Sunday"})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx(p,{type:"submit",color:"primary",variant:"shadow",isLoading:ae,size:f?"sm":"md",className:"font-semibold",radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},"aria-label":"Save attendance settings",children:"Save Settings"})})]})},"general"),e.jsx(Oe,{title:"Attendance Types",children:e.jsx("div",{className:"mt-6",children:e.jsx(Sa,{className:"max-h-[600px]",children:Object.keys(J).length===0?e.jsx(C,{children:e.jsxs(L,{className:"text-center py-12",children:[e.jsx(We,{className:"w-16 h-16 text-default-300 mx-auto mb-4"}),e.jsx("p",{className:"text-default-500 text-lg",children:"No attendance types found"}),e.jsx("p",{className:"text-sm text-default-400 mt-2",children:M?"Try adjusting your search criteria":"Configure attendance types to get started"})]})}):e.jsx(ga,{variant:"splitted",selectionMode:"multiple",defaultExpandedKeys:Object.keys(J),className:"px-0",children:Object.entries(J).map(([l,a])=>e.jsx(va,{"aria-label":a.title,startContent:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:a.icon}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-foreground",children:a.title}),e.jsx("p",{className:"text-xs text-default-500",children:a.description})]})]}),subtitle:e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs(P,{size:"sm",variant:"flat",color:a.color,children:[a.types.length," configuration",a.types.length!==1?"s":""]}),e.jsxs(P,{size:"sm",variant:"flat",color:"success",children:[a.types.filter(t=>t.is_active).length," active"]})]}),classNames:{base:"py-0 w-full",title:"font-medium text-medium",trigger:"px-4 py-3 data-[hover=true]:bg-default-100 rounded-lg",indicator:"text-medium",content:"px-2 pb-4"},children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(p,{color:"primary",size:"sm",variant:"flat",startContent:e.jsx(ce,{className:"w-4 h-4"}),radius:o(),onPress:()=>{const t={id:null,name:"",description:"",slug:l,icon:a.icon,is_active:!0,config:{}};we(t)},style:{fontFamily:'var(--fontFamily, "Inter")'},children:["Add New ",a.title.replace(" Attendance","")]})}),a.types.length>0?e.jsxs(Pa,{"aria-label":`${a.title} configurations`,removeWrapper:!0,classNames:{th:"bg-default-100 text-default-600 text-xs uppercase",td:"py-3"},children:[e.jsxs(Ma,{children:[e.jsx(ee,{children:"NAME"}),e.jsx(ee,{children:"DESCRIPTION"}),e.jsx(ee,{children:"STATUS"}),e.jsx(ee,{align:"center",children:"ACTIONS"})]}),e.jsx(Ra,{children:a.types.map(t=>{const n=xa(t.is_active),i=n.icon,u=r(t.slug);return e.jsxs(Aa,{children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:t.icon}),e.jsx("span",{className:"font-medium",children:t.name})]})}),e.jsx(T,{children:e.jsx("span",{className:"text-default-500 text-sm",children:t.description||"No description"})}),e.jsx(T,{children:e.jsx(P,{startContent:e.jsx(i,{className:"w-3 h-3"}),variant:"flat",color:n.color,size:"sm",radius:o(),children:n.text})}),e.jsx(T,{children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Y,{content:"Edit",children:e.jsx(p,{isIconOnly:!0,size:"sm",variant:"light",color:"primary",radius:o(),onPress:()=>we(t),children:e.jsx(ka,{className:"w-4 h-4"})})}),u==="route_waypoint"&&e.jsx(Y,{content:"Configure Routes",children:e.jsx(p,{isIconOnly:!0,size:"sm",variant:"light",color:"secondary",radius:o(),onPress:()=>sa(t),children:e.jsx(S,{className:"w-4 h-4"})})}),u==="geo_polygon"&&e.jsx(Y,{content:"Configure Polygon",children:e.jsx(p,{isIconOnly:!0,size:"sm",variant:"light",color:"warning",radius:o(),onPress:()=>ia(t),children:e.jsx(S,{className:"w-4 h-4"})})}),e.jsx(Y,{content:"Delete",color:"danger",children:e.jsx(p,{isIconOnly:!0,size:"sm",variant:"light",color:"danger",radius:o(),onPress:()=>aa(t),children:e.jsx(me,{className:"w-4 h-4"})})})]})})]},t.id)})})]}):e.jsx(C,{className:"border border-dashed border-divider",children:e.jsxs(L,{className:"text-center py-8",children:[e.jsx("span",{className:"text-4xl mb-3 block",children:a.icon}),e.jsxs("p",{className:"text-default-500",children:["No ",a.title.toLowerCase()," configured yet"]}),e.jsx("p",{className:"text-xs text-default-400 mt-1",children:"Click the button above to add one"})]})})]})},l))})})})},"types")]})})]})})})})}),e.jsx(oe,{isOpen:Qe,onClose:se,size:"2xl",scrollBehavior:"inside",radius:o(),classNames:{base:"bg-content1",backdrop:"bg-black/50",header:"border-b border-divider",footer:"border-t border-divider"},children:e.jsx(re,{children:l=>{var a,t,n,i,u,_,X,N,Se,Pe,Re,Ae;return e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"flex flex-col gap-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:s==null?void 0:s.icon}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:s!=null&&s.id?`Edit ${s==null?void 0:s.name}`:`Create New ${((t=J[(a=s==null?void 0:s.slug)==null?void 0:a.replace(/_\d+$/,"")])==null?void 0:t.title)||"Attendance Type"}`}),e.jsx("p",{className:"text-sm text-default-500",children:s!=null&&s.id?"Configure attendance type settings":"Add a new attendance type configuration"})]})]})}),e.jsx(de,{children:e.jsxs("form",{id:"editTypeForm",onSubmit:ta,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(g,{label:"Name",name:"name",value:z.name,onChange:I=>V(Z=>({...Z,name:I.target.value})),variant:"bordered",radius:o(),isRequired:!0,style:{fontFamily:'var(--fontFamily, "Inter")'}},`name-${s==null?void 0:s.id}`),e.jsx(za,{label:"Description",name:"description",value:z.description,onChange:I=>V(Z=>({...Z,description:I.target.value})),variant:"bordered",radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'}},`description-${s==null?void 0:s.id}`),e.jsx(Oa,{name:"is_active",isSelected:z.is_active,onValueChange:I=>V(Z=>({...Z,is_active:I})),radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Active"},`switch-${s==null?void 0:s.id}-${s==null?void 0:s.is_active}`)]}),r(s==null?void 0:s.slug)==="wifi_ip"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-lg font-semibold",children:"Network Configuration"}),e.jsx(g,{label:"Allowed IPs (comma-separated)",name:"allowed_ips",defaultValue:((i=(n=s==null?void 0:s.config)==null?void 0:n.allowed_ips)==null?void 0:i.join(", "))||"",variant:"bordered",radius:o(),placeholder:"192.168.1.1, 10.0.0.1",style:{fontFamily:'var(--fontFamily, "Inter")'}},`allowed_ips-${s==null?void 0:s.id}`),e.jsx(g,{label:"Allowed IP Ranges (comma-separated)",name:"allowed_ranges",defaultValue:((_=(u=s==null?void 0:s.config)==null?void 0:u.allowed_ranges)==null?void 0:_.join(", "))||"",variant:"bordered",radius:o(),placeholder:"192.168.1.0/24, 10.0.0.0/16",style:{fontFamily:'var(--fontFamily, "Inter")'}},`allowed_ranges-${s==null?void 0:s.id}`)]}),r(s==null?void 0:s.slug)==="route_waypoint"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-lg font-semibold",children:"Route Configuration"}),e.jsx(g,{label:"Tolerance (meters)",name:"tolerance",type:"number",defaultValue:((X=s==null?void 0:s.config)==null?void 0:X.tolerance)||150,variant:"bordered",radius:o(),min:"10",max:"1000",style:{fontFamily:'var(--fontFamily, "Inter")'}},`tolerance-${s==null?void 0:s.id}`),e.jsxs("p",{className:"text-sm text-default-500",children:["Current waypoints: ",((Se=(N=s==null?void 0:s.config)==null?void 0:N.waypoints)==null?void 0:Se.length)||0," configured"]})]}),r(s==null?void 0:s.slug)==="qr_code"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-lg font-semibold",children:"QR Code Configuration"}),e.jsx(g,{label:"Max Distance (meters)",name:"max_distance",type:"number",defaultValue:((Pe=s==null?void 0:s.config)==null?void 0:Pe.max_distance)||50,variant:"bordered",radius:o(),min:"1",max:"500",style:{fontFamily:'var(--fontFamily, "Inter")'}},`max_distance-${s==null?void 0:s.id}`)]}),r(s==null?void 0:s.slug)==="geo_polygon"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-lg font-semibold",children:"Geofence Configuration"}),e.jsxs("p",{className:"text-sm text-default-500",children:["Polygon zones: ",((Ae=(Re=s==null?void 0:s.config)==null?void 0:Re.polygons)==null?void 0:Ae.length)||0," configured"]})]})]})}),e.jsxs(fe,{children:[e.jsx(p,{color:"danger",variant:"light",onPress:l,radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),e.jsx(p,{color:"primary",onPress:()=>{const I=document.getElementById("editTypeForm");I&&I.requestSubmit()},isLoading:Be,radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:s!=null&&s.id?"Update Type":"Create Type"})]})]})}})}),e.jsx(oe,{isOpen:Ke,onClose:()=>{W(!1),ne()},size:"5xl",scrollBehavior:"inside",radius:o(),classNames:{base:"bg-content1",backdrop:"bg-black/50",header:"border-b border-divider",footer:"border-t border-divider"},children:e.jsx(re,{children:l=>e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"flex flex-col gap-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"w-6 h-6 text-primary"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Configure Route Waypoints"}),e.jsxs("p",{className:"text-sm text-default-500",children:["Set route waypoints for ",s==null?void 0:s.name]})]})]})}),e.jsx(de,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(g,{label:"Tolerance (meters)",type:"number",value:h.tolerance,onChange:a=>B(t=>({...t,tolerance:parseInt(a.target.value)||150})),variant:"bordered",radius:o(),min:"10",max:"1000",className:"max-w-xs",style:{fontFamily:'var(--fontFamily, "Inter")'}}),e.jsxs(P,{variant:"flat",color:"primary",size:"sm",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[h.waypoints.length," waypoint",h.waypoints.length!==1?"s":""]}),h.waypoints.length>=2&&e.jsxs(P,{variant:"flat",color:"success",size:"sm",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[h.waypoints.length-1," segment",h.waypoints.length>2?"s":""]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold",children:"Interactive Route Map"}),e.jsx("p",{className:"text-sm text-default-500",children:h.waypoints.length>=2?"Actual road route is displayed between waypoints with distance and time estimates":"Add waypoints to visualize the actual road route path"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{color:O?"danger":"primary",variant:O?"flat":"solid",size:"sm",onPress:()=>{O?(W(!1),x.info("Waypoint adding mode disabled")):na()},startContent:O?e.jsx(Ee,{className:"w-4 h-4"}):e.jsx(ce,{className:"w-4 h-4"}),radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:O?"Cancel Adding":"Add Waypoint"}),h.waypoints.length>0&&e.jsx(p,{color:"secondary",variant:"flat",size:"sm",onPress:()=>{if(h.waypoints.length>0){const t=b.latLngBounds(h.waypoints.map(n=>[parseFloat(n.lat),parseFloat(n.lng)])).getCenter();U([t.lat,t.lng]),G(12)}},startContent:e.jsx(Me,{className:"w-4 h-4"}),radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Fit All"})]})]}),O&&e.jsx("div",{className:"p-3 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-primary) 10%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-primary) 25%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:e.jsx("p",{className:"text-sm text-primary font-medium",children:"üìç Click anywhere on the map to add a waypoint"})}),e.jsx(C,{style:{borderRadius:"var(--borderRadius, 8px)",overflow:"hidden"},children:e.jsx("div",{style:{height:"400px",width:"100%"},children:e.jsxs($e,{center:Je,zoom:Xe,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,doubleClickZoom:!0,dragging:!0,touchZoom:!0,children:[e.jsx(Le,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'¬© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),h.waypoints.map((a,t)=>a.lat&&a.lng&&e.jsx(De,{position:[parseFloat(a.lat),parseFloat(a.lng)],icon:b.divIcon({html:`<div style="
                                                                        background: var(--theme-primary, #3b82f6);
                                                                        color: white;
                                                                        border-radius: 50%;
                                                                        width: 30px;
                                                                        height: 30px;
                                                                        display: flex;
                                                                        align-items: center;
                                                                        justify-content: center;
                                                                        font-weight: bold;
                                                                        font-size: 12px;
                                                                        border: 2px solid white;
                                                                        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                                                                    ">${t+1}</div>`,className:"custom-waypoint-marker",iconSize:[30,30],iconAnchor:[15,15]})},`waypoint-${t}`)),e.jsx(Wa,{waypoints:h.waypoints}),e.jsx($a,{onLocationSelect:la,isAddingWaypoint:O})]})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-lg font-semibold",children:"Waypoint List"}),h.waypoints.length===0?e.jsx(C,{children:e.jsxs(L,{className:"text-center py-8",children:[e.jsx(S,{className:"w-12 h-12 text-default-300 mx-auto mb-3"}),e.jsx("p",{className:"text-default-500",children:"No waypoints configured"}),e.jsx("p",{className:"text-sm text-default-400 mt-1",children:'Click "Add Waypoint" and then click on the map to add waypoints'})]})}):e.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:h.waypoints.map((a,t)=>e.jsx(C,{className:"border border-divider",children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white",style:{background:"var(--theme-primary, #3b82f6)"},children:t+1}),e.jsxs("h6",{className:"font-medium",children:["Waypoint ",t+1]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(p,{isIconOnly:!0,color:"secondary",variant:"light",size:"sm",onPress:()=>ra(a),radius:o(),title:"Center map on waypoint",children:e.jsx(S,{className:"w-4 h-4"})}),e.jsx(p,{isIconOnly:!0,color:"danger",variant:"light",size:"sm",onPress:()=>oa(t),radius:o(),children:e.jsx(me,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(g,{label:"Latitude",type:"number",step:"any",value:a.lat,onChange:n=>Ne(t,"lat",n.target.value),variant:"bordered",radius:o(),placeholder:"e.g., 23.7588",size:"sm",style:{fontFamily:'var(--fontFamily, "Inter")'}}),e.jsx(g,{label:"Longitude",type:"number",step:"any",value:a.lng,onChange:n=>Ne(t,"lng",n.target.value),variant:"bordered",radius:o(),placeholder:"e.g., 90.3783",size:"sm",style:{fontFamily:'var(--fontFamily, "Inter")'}})]})]})},t))})]})]})}),e.jsxs(fe,{children:[e.jsx(p,{color:"danger",variant:"light",onPress:()=>{W(!1),l()},radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),e.jsxs(p,{color:"primary",onPress:fa,radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:["Save Waypoints (",h.waypoints.length,")"]})]})]})})}),e.jsx(oe,{isOpen:He,onClose:()=>{E(!1),le()},size:"5xl",scrollBehavior:"inside",radius:o(),classNames:{base:"bg-content1",backdrop:"bg-black/50",header:"border-b border-divider",footer:"border-t border-divider"},children:e.jsx(re,{children:l=>e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"flex flex-col gap-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"w-6 h-6 text-warning"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Configure Geo Polygon"}),e.jsxs("p",{className:"text-sm text-default-500",children:["Set polygon boundary for ",s==null?void 0:s.name]})]})]})}),e.jsx(de,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(P,{variant:"flat",color:"warning",size:"sm",style:{fontFamily:'var(--fontFamily, "Inter")'},children:[y.polygon.length," point",y.polygon.length!==1?"s":""]}),y.polygon.length>=3&&e.jsx(P,{variant:"flat",color:"success",size:"sm",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Valid polygon boundary"}),y.polygon.length>0&&y.polygon.length<3&&e.jsx(P,{variant:"flat",color:"danger",size:"sm",style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Minimum 3 points required"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold",children:"Interactive Polygon Map"}),e.jsx("p",{className:"text-sm text-default-500",children:y.polygon.length>=3?"Polygon boundary is displayed with fill area":"Add points to create the polygon boundary (minimum 3 points)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{color:$?"danger":"warning",variant:$?"flat":"solid",size:"sm",onPress:()=>{$?(E(!1),x.info("Point adding mode disabled")):da()},startContent:$?e.jsx(Ee,{className:"w-4 h-4"}):e.jsx(ce,{className:"w-4 h-4"}),radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:$?"Cancel Adding":"Add Point"}),y.polygon.length>0&&e.jsx(p,{color:"secondary",variant:"flat",size:"sm",onPress:()=>{if(y.polygon.length>0){const t=b.latLngBounds(y.polygon.map(n=>[parseFloat(n.lat),parseFloat(n.lng)])).getCenter();K([t.lat,t.lng]),H(12)}},startContent:e.jsx(Me,{className:"w-4 h-4"}),radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Fit All"})]})]}),$&&e.jsx("div",{className:"p-3 rounded-lg",style:{background:"color-mix(in srgb, var(--theme-warning) 10%, transparent)",border:"1px solid color-mix(in srgb, var(--theme-warning) 25%, transparent)",borderRadius:"var(--borderRadius, 8px)"},children:e.jsx("p",{className:"text-sm text-warning font-medium",children:"üìç Click anywhere on the map to add a polygon point"})}),e.jsx(C,{style:{borderRadius:"var(--borderRadius, 8px)",overflow:"hidden"},children:e.jsx("div",{style:{height:"400px",width:"100%"},children:e.jsxs($e,{center:Ye,zoom:Te,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,doubleClickZoom:!0,dragging:!0,touchZoom:!0,children:[e.jsx(Le,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'¬© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),y.polygon.map((a,t)=>a.lat&&a.lng&&e.jsx(De,{position:[parseFloat(a.lat),parseFloat(a.lng)],icon:b.divIcon({html:`<div style="
                                                                        background: var(--theme-warning, #f5a524);
                                                                        color: white;
                                                                        border-radius: 50%;
                                                                        width: 30px;
                                                                        height: 30px;
                                                                        display: flex;
                                                                        align-items: center;
                                                                        justify-content: center;
                                                                        font-weight: bold;
                                                                        font-size: 12px;
                                                                        border: 2px solid white;
                                                                        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                                                                    ">${t+1}</div>`,className:"custom-polygon-marker",iconSize:[30,30],iconAnchor:[15,15]})},`polygon-point-${t}`)),e.jsx(Ea,{polygonPoints:y.polygon}),e.jsx(La,{onLocationSelect:ca,isAddingPoint:$})]})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-lg font-semibold",children:"Polygon Points"}),y.polygon.length===0?e.jsx(C,{children:e.jsxs(L,{className:"text-center py-8",children:[e.jsx(S,{className:"w-12 h-12 text-default-300 mx-auto mb-3"}),e.jsx("p",{className:"text-default-500",children:"No polygon points configured"}),e.jsx("p",{className:"text-sm text-default-400 mt-1",children:'Click "Add Point" and then click on the map to add points (minimum 3 required)'})]})}):e.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:y.polygon.map((a,t)=>e.jsx(C,{className:"border border-divider",children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white",style:{background:"var(--theme-warning, #f5a524)"},children:t+1}),e.jsxs("h6",{className:"font-medium",children:["Point ",t+1]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(p,{isIconOnly:!0,color:"secondary",variant:"light",size:"sm",onPress:()=>ua(a),radius:o(),title:"Center map on point",children:e.jsx(S,{className:"w-4 h-4"})}),e.jsx(p,{isIconOnly:!0,color:"danger",variant:"light",size:"sm",onPress:()=>ma(t),radius:o(),children:e.jsx(me,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(g,{label:"Latitude",type:"number",step:"any",value:a.lat,onChange:n=>Fe(t,"lat",n.target.value),variant:"bordered",radius:o(),placeholder:"e.g., 23.7588",size:"sm",style:{fontFamily:'var(--fontFamily, "Inter")'}}),e.jsx(g,{label:"Longitude",type:"number",step:"any",value:a.lng,onChange:n=>Fe(t,"lng",n.target.value),variant:"bordered",radius:o(),placeholder:"e.g., 90.3783",size:"sm",style:{fontFamily:'var(--fontFamily, "Inter")'}})]})]})},t))})]})]})}),e.jsxs(fe,{children:[e.jsx(p,{color:"danger",variant:"light",onPress:()=>{E(!1),l()},radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:"Cancel"}),e.jsxs(p,{color:"warning",onPress:pa,isDisabled:y.polygon.length<3,radius:o(),style:{fontFamily:'var(--fontFamily, "Inter")'},children:["Save Polygon (",y.polygon.length,"/3+ points)"]})]})]})})})]})};export{Ft as default};
