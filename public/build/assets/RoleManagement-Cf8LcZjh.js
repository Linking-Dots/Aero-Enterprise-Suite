import{r as t,u as la,j as s,a as oe,Q as ia,c as ps,b as de,d as x,F as na,S as oa}from"./app-C-B7qC59.js";import{u as gs,F as bs,a as Ie,b as da,t as ca,c as Le,G as $e,A as ma}from"./Dashboard-DIFK-c22.js";import{G as ve}from"./GlassCard-D9QMbUyN.js";import{P as ua}from"./PageHeader-jJq7VBgE.js";import{S as fa}from"./StatsCards-D9kQNtuD.js";import{s as w}from"./toastUtils-5-e4yC6y.js";import{F as ce}from"./UserGroupIcon-DZNhQXDZ.js";import{F as me}from"./KeyIcon-D7xKtFIJ.js";import{F as ha}from"./FunnelIcon-BiO2VdhM.js";import{F as js}from"./ExclamationTriangleIcon-lpECprAZ.js";import{m as xa}from"./proxy-DaXjLD9M.js";import{F as Ge}from"./AdjustmentsHorizontalIcon-DaFCV8yR.js";import{F as pa}from"./DocumentArrowDownIcon-Da0Js3rM.js";import{F as ga}from"./ShieldCheckIcon-CffM_rOf.js";import{t as vs}from"./chunk-QESP63UR-Evx5ZVxG.js";import{i as J}from"./chunk-SSA7SXE4-Cly-uwIa.js";import{F as ys}from"./PlusIcon-B26qsUDN.js";import{F as Ve}from"./MagnifyingGlassIcon-CXTpRG8Y.js";import{F as Ns}from"./PencilSquareIcon-BWLhozXZ.js";import{F as ws}from"./TrashIcon-v6pQdJk9.js";import{p as Ss}from"./chunk-XVMALT6H-B1jxM0if.js";import{s as ue,l as C}from"./chunk-Y2AYO5NJ-CVm9bu3V.js";import{c as ye}from"./chunk-D5XJWRAV-CvAPN2iv.js";import{c as M}from"./chunk-IHOGUXIG-guIQYe_o.js";import{t as Ne}from"./XMarkIcon-DEBgEZIu.js";import{s as ba}from"./chunk-TQNYOUFX-5xjx48W3.js";import"./MapPinIcon-BtI6ukDP.js";import"./EnvelopeIcon-vKmwvqy-.js";import"./ClockIcon-KDUDcXBA.js";import"./UserIcon-B1pQWBbr.js";import"./index-BgyJOU24.js";import"./logo-Pwvcz7fP.js";import"./features-animation-Cn3P6Pqu.js";import"./create-visual-element-CBAuT-PO.js";import"./CheckCircleIcon-B2ss00QP.js";import"./chunk-TLYTI3QM-izbvUkI3.js";import"./useProgressBar-CSu3ml_z.js";import"./NumberFormatter-DNR9MAW-.js";import"./useToggleState-Cx4s2z1o.js";const We=m=>Array.isArray(m)?[...m]:[],Rs=m=>m&&typeof m=="object"&&!Array.isArray(m)?{...m}:{},ja=m=>{const u={roles:We(m.roles),permissions:We(m.permissions),role_has_permissions:We(m.role_has_permissions),permissionsGrouped:Rs(m.permissionsGrouped||m.permissions_grouped),enterprise_modules:Rs(m.enterprise_modules),errors:[]};if(u.roles.length===0&&u.errors.push("No roles data available"),u.permissions.length===0&&u.errors.push("No permissions data available"),u.roles.length>0&&u.permissions.length>0&&u.role_has_permissions.length===0&&u.errors.push("Role-permission relationships missing - this may indicate a cache or database issue"),u.role_has_permissions.length>0){const L=u.roles.map(F=>F.id),fe=u.permissions.map(F=>F.id),S=u.role_has_permissions.filter(F=>!L.includes(F.role_id)||!fe.includes(F.permission_id));S.length>0&&u.errors.push(`${S.length} invalid role-permission relationships found`)}return u},Be=(m,u)=>{const[L,fe]=t.useState(m);return t.useEffect(()=>{const S=setTimeout(()=>{fe(m)},u);return()=>{clearTimeout(S)}},[m,u]),L},f={IDLE:"idle",LOADING:"loading",SUCCESS:"success",ERROR:"error"},va=m=>{const u=t.useMemo(()=>ja(m),[m]),L=u.roles,fe=u.permissions,S=u.permissionsGrouped,F=u.role_has_permissions;u.enterprise_modules;const ze=!!m.can_manage_super_admin,Ps=m.title;m.error;const qe=u.errors,he=m.users||[],_=t.useRef(null),Y=t.useRef(Date.now()),{themeSettings:Oe}=la();Oe==null||Oe.mode;const we=gs("(max-width: 640px)");gs("(max-width: 768px)");const g=()=>{var l;if(typeof window>"u")return"lg";const a=((l=getComputedStyle(document.documentElement).getPropertyValue("--borderRadius"))==null?void 0:l.trim())||"12px",r=parseInt(a);return r===0?"none":r<=4?"sm":r<=8?"md":r<=16?"lg":"full"},[xe,Cs]=t.useState(0),[b,Qe]=t.useState(L),[j,Ke]=t.useState(fe),[z,Se]=t.useState(F),[O,_s]=t.useState(L.length>0?L[0].id:null),[R,U]=t.useState(new Set),[p,A]=t.useState(!1),[Z,y]=t.useState({permissions:{},modules:{},roles:f.IDLE,users:f.IDLE}),[ks,He]=t.useState(!1),[Ds,Xe]=t.useState(!1),[ya,Je]=t.useState(!1),[Na,Ye]=t.useState(!1),[T,Ze]=t.useState(null),[$,es]=t.useState(null),[wa,ss]=t.useState(null),[Sa,as]=t.useState(null),[As,ee]=t.useState(!1),[se,ts]=t.useState(null),[Re,rs]=t.useState(null),[Pe,ls]=t.useState(""),[Ce,is]=t.useState(""),[_e,ns]=t.useState(""),[ae,os]=t.useState("all"),[G,ds]=t.useState("all"),[pe,cs]=t.useState("all"),ke=Be(Pe,300),De=Be(Ce,300),Ae=Be(_e,300),[te,Me]=t.useState(0),[re,Fe]=t.useState(0),[le,Ee]=t.useState(0),[V,Ra]=t.useState(10),[W,Pa]=t.useState(10),[B,Ca]=t.useState(10),[_a,N]=t.useState(""),[ka,ge]=t.useState(""),[E,ie]=t.useState({name:"",description:"",permissions:[],hierarchy_level:10,is_active:!0}),[k,q]=t.useState({name:"",display_name:"",description:"",module:"",guard_name:"web"}),[D,P]=t.useState({}),[Da,ms]=t.useState(new Set),[Aa,us]=t.useState(new Set),[Ma,Fa]=t.useState(!1),d=t.useMemo(()=>b.find(e=>e.id===O)||null,[b,O]),Q=t.useCallback(e=>{if(Array.isArray(z)){const a=z.filter(r=>r&&r.role_id===e).map(r=>r.permission_id).filter(Boolean);if(a.length>0)return a}if(Array.isArray(b)){const a=b.find(r=>r&&r.id===e);if(a&&Array.isArray(a.permissions))return a.permissions.map(r=>r.id).filter(Boolean)}return[]},[z,b]);t.useEffect(()=>{if(O){const e=Q(O),a=new Set(e);(a.size!==R.size||[...a].some(r=>!R.has(r)))&&U(a)}else R.size>0&&U(new Set)},[O,z,b,Q]),t.useMemo(()=>d,[d==null?void 0:d.id,d==null?void 0:d.name]),t.useMemo(()=>ze,[ze]);const K=t.useMemo(()=>({totalRoles:Array.isArray(b)?b.length:0,totalPermissions:Array.isArray(j)?j.length:0,activeRole:(d==null?void 0:d.name)||"None Selected",grantedPermissions:R.size}),[b,j,d,R]);t.useMemo(()=>[{title:"Total Roles",value:K.totalRoles,icon:s.jsx(ce,{}),color:"text-blue-600",iconBg:"bg-blue-500/20",description:"System roles"},{title:"Permissions",value:K.totalPermissions,icon:s.jsx(me,{}),color:"text-green-600",iconBg:"bg-green-500/20",description:"Available permissions"},{title:"Active Role",value:K.activeRole==="None Selected"?"None":K.activeRole,icon:s.jsx(bs,{}),color:"text-purple-600",iconBg:"bg-purple-500/20",description:"Currently selected",customStyle:K.activeRole==="None Selected"?{fontSize:"1rem"}:{}},{title:"Granted",value:K.grantedPermissions,icon:s.jsx(ha,{}),color:"text-orange-600",iconBg:"bg-orange-500/20",description:"Active permissions"}],[K]);const H=t.useMemo(()=>b.filter(e=>{const a=ke===""||e.name.toLowerCase().includes(ke.toLowerCase())||e.description&&e.description.toLowerCase().includes(ke.toLowerCase()),r=ae==="all"||ae==="active"&&e.is_active!==!1||ae==="inactive"&&e.is_active===!1;return a&&r}),[b,ke,ae]),X=t.useMemo(()=>j.filter(e=>{const a=De===""||e.name&&e.name.toLowerCase().includes(De.toLowerCase())||e.display_name&&e.display_name.toLowerCase().includes(De.toLowerCase()),r=G==="all"||e.module===G||e.name&&e.name.startsWith(G);return a&&r}),[j,De,G]),ne=t.useMemo(()=>he.filter(e=>{var l,i;const a=Ae===""||((l=e.name)==null?void 0:l.toLowerCase().includes(Ae.toLowerCase()))||((i=e.email)==null?void 0:i.toLowerCase().includes(Ae.toLowerCase())),r=pe==="all"||e.roles&&e.roles.some(n=>n.name===pe);return a&&r}),[he,Ae,pe]),Ms=t.useMemo(()=>{const e=te*V;return H.slice(e,e+V)},[H,te,V]),Fs=t.useMemo(()=>{const e=re*W;return X.slice(e,e+W)},[X,re,W]),Es=t.useMemo(()=>{const e=le*B;return ne.slice(e,e+B)},[ne,le,B]),be=t.useMemo(()=>{const e=new Set;return j.forEach(a=>{a.module?e.add(a.module):a.name&&a.name.includes(".")&&e.add(a.name.split(".")[0])}),Array.from(e).sort()},[j]),Is=t.useMemo(()=>b.map(e=>e.name).sort(),[b]),I=t.useCallback((e,a)=>{if(Array.isArray(z)&&Array.isArray(j)){const r=z.filter(i=>i&&i.role_id===e),l=j.find(i=>i&&i.name===a);if(l&&r.some(i=>i.permission_id===l.id))return!0}if(Array.isArray(b)){const r=b.find(l=>l&&l.id===e);if(r&&Array.isArray(r.permissions))return r.permissions.some(l=>l&&l.name===a)}if(d&&d.id===e&&R.size>0){const r=j.find(l=>l&&l.name===a);if(r)return R.has(r.id)}return!1},[z,j,b,d,R]);t.useCallback(e=>!d||!S[e]?!1:S[e].permissions.every(r=>I(d.id,r.name)),[d,S,I]),t.useCallback(e=>!d||!S[e]?!1:S[e].permissions.some(r=>I(d.id,r.name)),[d,S,I]);const fs=e=>e.name==="Super Administrator"?ze:!0,Ls=t.useCallback(e=>{try{_s(e);const a=Q(e);U(new Set(a)),N("")}catch(a){console.error("Error selecting role:",a),N("Failed to select role. Please try again.")}},[Q]),zs=t.useCallback(e=>{ls(e),Me(0)},[]),Os=t.useCallback(e=>{is(e),Fe(0)},[]),Us=t.useCallback(e=>{ns(e),Ee(0)},[]),Ts=t.useCallback(e=>{os(e),Me(0)},[]),$s=t.useCallback(e=>{ds(e),Fe(0)},[]),Gs=t.useCallback(e=>{cs(e),Ee(0)},[]),hs=t.useCallback((e=null)=>{Ze(e),ie({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",permissions:(e==null?void 0:e.permissions)||[],hierarchy_level:(e==null?void 0:e.hierarchy_level)||10,is_active:(e==null?void 0:e.is_active)??!0}),He(!0),P({}),N("")},[]),Ue=t.useCallback(()=>{He(!1),Ze(null),P({}),N(""),ie({name:"",description:"",permissions:[],hierarchy_level:10,is_active:!0})},[]),xs=t.useCallback((e=null)=>{es(e),q({name:(e==null?void 0:e.name)||"",display_name:(e==null?void 0:e.display_name)||"",description:(e==null?void 0:e.description)||"",module:(e==null?void 0:e.module)||be[0]||"users",guard_name:(e==null?void 0:e.guard_name)||"web"}),Xe(!0),P({}),N("")},[be]),Te=t.useCallback(()=>{Xe(!1),es(null),P({}),N(""),q({name:"",display_name:"",description:"",module:"",guard_name:"web"})},[]);t.useCallback(e=>{ss(e),Je(!0);const a=Q(e.id);us(new Set(a))},[Q]),t.useCallback(()=>{Je(!1),ss(null),us(new Set)},[]);const Vs=t.useCallback(e=>{as(e),Ye(!0);const a=e.roles?new Set(e.roles.map(r=>r.id)):new Set;ms(a)},[]);t.useCallback(()=>{Ye(!1),as(null),ms(new Set)},[]);const Ws=t.useCallback(e=>{ts(e),ee(!0)},[]),Bs=t.useCallback(e=>{rs(e),ee(!0)},[]),qs=async()=>{var e,a;if(se){A(!0);try{await oe.delete(`/api/roles/${se.id}`),w.success("Role deleted successfully"),ge("Role deleted successfully"),ee(!1),ts(null),Y.current=Date.now()}catch(r){console.error("Error deleting role:",r);const l=((a=(e=r.response)==null?void 0:e.data)==null?void 0:a.message)||"Failed to delete role";w.error(l),N(l)}finally{A(!1)}}},Qs=async()=>{var e,a;if(Re){A(!0);try{await oe.delete(`/api/permissions/${Re.id}`),w.success("Permission deleted successfully"),ge("Permission deleted successfully"),ee(!1),rs(null),Y.current=Date.now()}catch(r){console.error("Error deleting permission:",r);const l=((a=(e=r.response)==null?void 0:e.data)==null?void 0:a.message)||"Failed to delete permission";w.error(l),N(l)}finally{A(!1)}}},Ks=async()=>{var a,r,l;P({}),N("");const e={};if(E.name.trim()||(e.name="Role name is required"),E.name.length>255&&(e.name="Role name must be less than 255 characters"),E.description&&E.description.length>500&&(e.description="Description must be less than 500 characters"),Object.keys(e).length>0){P(e);return}A(!0),y(i=>({...i,roles:f.LOADING}));try{const i=T?`/api/roles/${T.id}`:"/api/roles",c=await oe[T?"put":"post"](i,E);(c.status===200||c.status===201)&&(T?(Qe(o=>o.map(h=>h.id===T.id?c.data.role:h)),w.success("Role updated successfully"),ge("Role updated successfully")):(Qe(o=>[...o,c.data.role]),w.success("Role created successfully"),ge("Role created successfully")),Ue(),y(o=>({...o,roles:f.SUCCESS})),setTimeout(()=>{y(o=>({...o,roles:f.IDLE})),ge("")},3e3),Y.current=Date.now())}catch(i){if(console.error("Error saving role:",i),y(n=>({...n,roles:f.ERROR})),((a=i.response)==null?void 0:a.status)===422&&i.response.data.errors)P(i.response.data.errors);else{const n=((l=(r=i.response)==null?void 0:r.data)==null?void 0:l.message)||"Failed to save role";w.error(n),N(n)}setTimeout(()=>{y(n=>({...n,roles:f.IDLE}))},3e3)}finally{A(!1)}},Hs=async()=>{var a,r,l;P({}),N("");const e={};if(k.name.trim()||(e.name="Permission name is required"),k.display_name.trim()||(e.display_name="Display name is required"),k.module.trim()||(e.module="Module is required"),Object.keys(e).length>0){P(e);return}A(!0);try{const i=$?`/api/permissions/${$.id}`:"/api/permissions",c=await oe[$?"put":"post"](i,k);(c.status===200||c.status===201)&&($?(Ke(o=>o.map(h=>h.id===$.id?c.data.permission:h)),w.success("Permission updated successfully")):(Ke(o=>[...o,c.data.permission]),w.success("Permission created successfully")),Te(),Y.current=Date.now())}catch(i){if(console.error("Error saving permission:",i),((a=i.response)==null?void 0:a.status)===422&&i.response.data.errors)P(i.response.data.errors);else{const n=((l=(r=i.response)==null?void 0:r.data)==null?void 0:l.message)||"Failed to save permission";w.error(n),N(n)}}finally{A(!1)}},Xs=t.useCallback(async e=>{var a,r,l,i;if(!(!d||p)){_.current&&_.current.abort(),_.current=new AbortController,y(n=>({...n,permissions:{...n.permissions,[e]:f.LOADING}}));try{const n=I(d.id,e),c=n?"revoke":"grant",o=await oe.post("/admin/roles/update-permission",{role_id:d.id,permission:e,action:c},{signal:_.current.signal});if(o.status===200){if(o.data.role_has_permissions){Se(o.data.role_has_permissions);const h=o.data.role_has_permissions.filter(v=>v.role_id===d.id).map(v=>v.permission_id);U(new Set(h))}else{const h=j.find(v=>v.name===e);h&&(n?(Se(v=>v.filter(je=>!(je.role_id===d.id&&je.permission_id===h.id))),U(v=>{const je=new Set(v);return je.delete(h.id),je})):(Se(v=>[...v,{role_id:d.id,permission_id:h.id}]),U(v=>new Set([...v,h.id]))))}y(h=>({...h,permissions:{...h.permissions,[e]:f.SUCCESS}})),setTimeout(()=>{y(h=>({...h,permissions:{...h.permissions,[e]:f.IDLE}}))},2e3),w.success(`Permission ${c}ed successfully`),Y.current=Date.now()}}catch(n){n.name!=="AbortError"&&(console.error("Error updating permission:",n),y(c=>({...c,permissions:{...c.permissions,[e]:f.ERROR}})),setTimeout(()=>{y(c=>({...c,permissions:{...c.permissions,[e]:f.IDLE}}))},3e3),w.error(((r=(a=n.response)==null?void 0:a.data)==null?void 0:r.message)||"Failed to update permission"),N(((i=(l=n.response)==null?void 0:l.data)==null?void 0:i.message)||"Failed to update permission"))}finally{A(!1)}}},[d,p,I,j]),Js=t.useCallback(async e=>{var a,r,l,i;if(!(!d||p)){_.current&&_.current.abort(),_.current=new AbortController,y(n=>({...n,modules:{...n.modules,[e]:f.LOADING}}));try{const n=await oe.post("/admin/roles/update-module",{roleId:d.id,module:e,action:"toggle"},{signal:_.current.signal});if(n.status===200){Se(n.data.role_has_permissions);const c=n.data.role_has_permissions.filter(o=>o.role_id===d.id).map(o=>o.permission_id);U(new Set(c)),y(o=>({...o,modules:{...o.modules,[e]:f.SUCCESS}})),setTimeout(()=>{y(o=>({...o,modules:{...o.modules,[e]:f.IDLE}}))},2e3),w.success("Module permissions updated successfully"),Y.current=Date.now()}}catch(n){n.name!=="AbortError"&&(console.error("Error updating module permissions:",n),y(c=>({...c,modules:{...c.modules,[e]:f.ERROR}})),setTimeout(()=>{y(c=>({...c,modules:{...c.modules,[e]:f.IDLE}}))},3e3),w.error(((r=(a=n.response)==null?void 0:a.data)==null?void 0:r.message)||"Failed to update module permissions"),N(((i=(l=n.response)==null?void 0:l.data)==null?void 0:i.message)||"Failed to update module permissions"))}}},[d,p]);t.useCallback((e,a)=>{ie(r=>({...r,[e]:a})),D[e]&&P(r=>({...r,[e]:void 0}))},[D]),t.useEffect(()=>()=>{_.current&&_.current.abort()},[]),t.useEffect(()=>{const e=a=>{if(a.key==="/"&&!a.ctrlKey&&!a.metaKey&&!a.altKey){const r=a.target;if(r.tagName!=="INPUT"&&r.tagName!=="TEXTAREA"&&!r.isContentEditable){a.preventDefault();const l=document.querySelector('input[placeholder*="Search"]');l&&l.focus()}}if(a.key==="Escape"&&(Pe||Ce||_e||G!=="all")&&(ls(""),is(""),ns(""),ds("all"),os("all"),cs("all")),(a.ctrlKey||a.metaKey)&&a.key==="k"){a.preventDefault();const r=document.querySelector('input[placeholder*="Search"]');r&&r.focus()}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[Pe,Ce,_e,G,ae,pe]);const Ys=t.useCallback(e=>Z.permissions[e]||f.IDLE,[Z.permissions]),Zs=t.useCallback(e=>Z.modules[e]||f.IDLE,[Z.modules]),ea=()=>s.jsxs(ve,{className:"mt-4",children:[s.jsxs(ye,{className:"p-4 border-b border-default-200/20",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[s.jsx(ce,{className:"w-5 h-5"}),"Roles Management"]}),s.jsx(x,{onPress:()=>hs(),startContent:s.jsx(ys,{className:"w-4 h-4"}),className:"bg-primary/20 hover:bg-primary/30 border border-primary/30",variant:"bordered",radius:g(),children:"Add Role"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[s.jsx(J,{label:"Search Roles",placeholder:"Search by role name...",value:Pe,onValueChange:zs,className:"flex-1",radius:g(),startContent:s.jsx(Ve,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 backdrop-blur-md border border-default-200/20 hover:bg-default-100/70 dark:hover:bg-default-50/20",input:"text-foreground placeholder:text-default-400",label:"text-default-500"}}),s.jsxs(ue,{label:"Status Filter",variant:"bordered",selectedKeys:[ae],onSelectionChange:e=>Ts(Array.from(e)[0]),className:"min-w-[140px]",radius:g(),classNames:{trigger:"bg-default-100/50 dark:bg-default-50/10 backdrop-blur-md border-default-200/20 hover:bg-default-100/70 dark:hover:bg-default-50/20",label:"text-default-500",value:"text-foreground"},children:[s.jsx(C,{value:"all",children:"All Status"},"all"),s.jsx(C,{value:"active",children:"Active"},"active"),s.jsx(C,{value:"inactive",children:"Inactive"},"inactive")]})]})]}),s.jsxs(de,{className:"p-0",children:[s.jsx("div",{className:"divide-y divide-white/10",children:Ms.map(e=>{const a=Q(e.id),r=a.map(l=>{var i;return(i=j.find(n=>n.id===l))==null?void 0:i.name}).filter(Boolean).slice(0,3);return s.jsx("div",{className:"p-4 hover:bg-default-100/50 dark:hover:bg-default-50/10 transition-colors",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center text-white font-bold",children:e.name.charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-foreground",children:e.name}),e.name==="Super Administrator"&&s.jsx(M,{size:"sm",color:"warning",variant:"flat",children:"System"}),s.jsx(M,{size:"sm",color:e.is_active!==!1?"success":"default",variant:"flat",children:e.is_active!==!1?"Active":"Inactive"})]}),e.description&&s.jsx("p",{className:"mt-1 text-sm text-default-500",children:e.description}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[r.map((l,i)=>s.jsx(M,{size:"sm",variant:"flat",color:"primary",className:"text-xs",children:l},i)),a.length>3&&s.jsxs(M,{size:"sm",variant:"flat",color:"secondary",className:"text-xs",children:["+",a.length-3," more"]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ne,{content:"Edit Role",children:s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>hs(e),isDisabled:!fs(e),className:"text-primary hover:text-primary/80",children:s.jsx(Ns,{className:"w-4 h-4"})})}),s.jsx(Ne,{content:"Delete Role",children:s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>Ws(e),isDisabled:!fs(e),className:"text-danger hover:text-danger/80",children:s.jsx(ws,{className:"w-4 h-4"})})})]})]})},e.id)})}),H.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ce,{className:"w-16 h-16 text-default-300 mx-auto mb-4"}),s.jsx("p",{className:"text-default-500",children:"No roles found matching your criteria"})]}),H.length>V&&s.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-default-200/20",children:[s.jsxs("span",{className:"text-sm text-default-500",children:["Showing ",te*V+1," to ",Math.min((te+1)*V,H.length)," of ",H.length," roles"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",isDisabled:te===0,onPress:()=>Me(e=>Math.max(0,e-1)),children:"‹"}),s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",isDisabled:(te+1)*V>=H.length,onPress:()=>Me(e=>e+1),children:"›"})]})]})]})]}),sa=()=>s.jsxs(ve,{className:"mt-4",children:[s.jsxs(ye,{className:"p-4 border-b border-default-200/20",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[s.jsx(me,{className:"w-5 h-5"}),"Permissions Management"]}),s.jsx(x,{onPress:()=>xs(),startContent:s.jsx(ys,{className:"w-4 h-4"}),className:"bg-success/20 hover:bg-success/30 border border-success/30",variant:"bordered",radius:g(),children:"Add Permission"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[s.jsx(J,{label:"Search Permissions",placeholder:"Search by permission name...",value:Ce,onValueChange:Os,className:"flex-1",radius:g(),startContent:s.jsx(Ve,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 backdrop-blur-md border border-default-200/20 hover:bg-default-100/70 dark:hover:bg-default-50/20",input:"text-foreground placeholder:text-default-400",label:"text-default-500"}}),s.jsxs(ue,{label:"Module Filter",variant:"bordered",selectedKeys:[G],onSelectionChange:e=>$s(Array.from(e)[0]),className:"min-w-[180px]",radius:g(),classNames:{trigger:"bg-default-100/50 dark:bg-default-50/10 backdrop-blur-md border-default-200/20 hover:bg-default-100/70 dark:hover:bg-default-50/20",label:"text-default-500",value:"text-foreground"},children:[s.jsx(C,{value:"all",children:"All Modules"},"all"),be.map(e=>s.jsx(C,{value:e,children:e},e))]})]})]}),s.jsxs(de,{className:"p-0",children:[s.jsx("div",{className:"divide-y divide-default-200/20",children:Fs.map(e=>s.jsx("div",{className:"p-4 hover:bg-default-100/50 dark:hover:bg-default-50/10 transition-colors",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-success to-success/70 flex items-center justify-center text-white font-bold",children:e.name?e.name.charAt(0).toUpperCase():"P"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-foreground",children:e.display_name||e.name}),s.jsx(M,{size:"sm",color:"secondary",variant:"flat",children:e.module||(e.name?e.name.split(".")[0]:"General")})]}),s.jsx("p",{className:"mt-1 text-sm text-default-500",children:e.name}),e.description&&s.jsx("p",{className:"mt-1 text-sm text-default-500 max-w-md",children:e.description})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ne,{content:"Edit Permission",children:s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>xs(e),className:"text-primary hover:text-primary/80",children:s.jsx(Ns,{className:"w-4 h-4"})})}),s.jsx(Ne,{content:"Delete Permission",children:s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>Bs(e),className:"text-danger hover:text-danger/80",children:s.jsx(ws,{className:"w-4 h-4"})})})]})]})},e.id))}),X.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(me,{className:"w-16 h-16 text-default-300 mx-auto mb-4"}),s.jsx("p",{className:"text-default-500",children:"No permissions found matching your criteria"})]}),X.length>W&&s.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-default-200/20",children:[s.jsxs("span",{className:"text-sm text-default-500",children:["Showing ",re*W+1," to ",Math.min((re+1)*W,X.length)," of ",X.length," permissions"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",isDisabled:re===0,onPress:()=>Fe(e=>Math.max(0,e-1)),children:"‹"}),s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",isDisabled:(re+1)*W>=X.length,onPress:()=>Fe(e=>e+1),children:"›"})]})]})]})]}),aa=()=>s.jsxs(ve,{className:"mt-4",children:[s.jsx(ye,{className:"p-4 border-b border-default-200/20",children:s.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[s.jsx(Ge,{className:"w-5 h-5"}),"Role-Permission Assignment"]}),s.jsx(ue,{label:"Select Role to Manage",variant:"bordered",selectedKeys:O?[O.toString()]:[],onSelectionChange:e=>{const a=Array.from(e)[0];a&&Ls(parseInt(a))},className:"max-w-md",radius:g(),classNames:{trigger:"bg-default-100/50 dark:bg-default-50/10 backdrop-blur-md border-default-200/20 hover:bg-default-100/70 dark:hover:bg-default-50/20",label:"text-default-500",value:"text-foreground"},children:b.map(e=>s.jsx(C,{value:e.id.toString(),children:e.name},e.id.toString()))})]})}),s.jsx(de,{className:"p-4",children:d?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-default-100/50 dark:bg-default-50/10 rounded-lg border border-default-200/20",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-foreground",children:["Managing permissions for: ",d.name]}),s.jsxs("p",{className:"text-sm text-default-500",children:[R.size," of ",j.length," permissions granted"]})]}),s.jsx(Ss,{value:R.size/j.length*100,size:"sm",color:"primary",className:"w-32","aria-label":`${Math.round(R.size/j.length*100)}% permissions granted`})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(S).map(([e,a])=>{const r=a.permissions||[],l=r.filter(o=>I(d.id,o.name)).length,i=r.length,n=l===i,c=l>0&&l<i;return s.jsxs(ps,{className:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20",radius:g(),children:[s.jsxs(ye,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{className:"font-medium capitalize text-foreground",children:e}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(M,{size:"sm",variant:"flat",color:n?"success":c?"warning":"default",children:[l,"/",i]}),s.jsx(x,{size:"sm",variant:"light",onPress:()=>Js(e),isLoading:Zs(e)===f.LOADING,className:"text-xs",children:n?"Revoke All":"Grant All"})]})]}),s.jsx(Ss,{value:l/i*100,size:"sm",color:n?"success":c?"warning":"default","aria-label":`${l} of ${i} permissions granted for ${e} module`})]}),s.jsx(de,{className:"pt-0",children:s.jsx("div",{className:"space-y-2",children:r.map(o=>{const h=I(d.id,o.name),v=Ys(o.name);return s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-sm bg-default-100/50 dark:bg-default-50/10 hover:bg-default-100/70 dark:hover:bg-default-50/20 transition-colors",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:o.display_name||o.name}),s.jsx("p",{className:"text-xs text-default-500",children:o.name})]}),s.jsx(ba,{size:"sm",isSelected:h,onValueChange:()=>Xs(o.name),isDisabled:v===f.LOADING,color:"success","aria-label":`Toggle ${o.display_name||o.name} permission`},`${o.id}-${h}-${v}`)]},o.id)})})})]},e)})})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ge,{className:"w-16 h-16 text-default-300 mx-auto mb-4"}),s.jsx("p",{className:"mb-2 text-default-500",children:"Select a role to manage permissions"}),s.jsx("p",{className:"text-sm text-default-400",children:"Choose a role from the dropdown above to assign or revoke permissions"})]})})]}),ta=()=>s.jsxs(ve,{className:"mt-4",children:[s.jsxs(ye,{className:"p-4 border-b border-default-200/20",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 w-full",children:s.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold text-foreground",children:[s.jsx(Ie,{className:"w-5 h-5"}),"User-Role Assignment"]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[s.jsx(J,{label:"Search Users",placeholder:"Search by user name or email...",value:_e,onValueChange:Us,className:"flex-1",radius:g(),startContent:s.jsx(Ve,{className:"w-4 h-4 text-default-400"}),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 backdrop-blur-md border border-default-200/20 hover:bg-default-100/70 dark:hover:bg-default-50/20",input:"text-foreground placeholder:text-default-400",label:"text-default-500"}}),s.jsxs(ue,{label:"Filter by Role",variant:"bordered",selectedKeys:[pe],onSelectionChange:e=>Gs(Array.from(e)[0]),className:"min-w-[160px]",classNames:{trigger:"bg-default-100/50 dark:bg-default-50/10 backdrop-blur-md border-default-200/20 hover:bg-default-100/70 dark:hover:bg-default-50/20",label:"text-default-500",value:"text-foreground"},children:[s.jsx(C,{value:"all",children:"All Roles"},"all"),Is.map(e=>s.jsx(C,{value:e,children:e},e))]})]})]}),s.jsxs(de,{className:"p-0",children:[he&&he.length>0?s.jsx("div",{className:"divide-y divide-default-200/20",children:Es.map(e=>{var a;return s.jsx("div",{className:"p-4 hover:bg-default-100/50 dark:hover:bg-default-50/10 transition-colors",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-warning to-danger flex items-center justify-center text-white font-bold",children:((a=e.name)==null?void 0:a.charAt(0).toUpperCase())||"U"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:e.name||"Unknown User"}),s.jsx("p",{className:"text-sm text-default-500",children:e.email||"No email"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.roles&&e.roles.length>0?s.jsxs(s.Fragment,{children:[e.roles.slice(0,3).map((r,l)=>s.jsx(M,{size:"sm",variant:"flat",color:"primary",className:"text-xs",children:r.name},l)),e.roles.length>3&&s.jsxs(M,{size:"sm",variant:"flat",color:"secondary",className:"text-xs",children:["+",e.roles.length-3," more"]})]}):s.jsx(M,{size:"sm",variant:"flat",color:"default",className:"text-xs",children:"No roles assigned"})})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(Ne,{content:"Assign Roles",children:s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",onPress:()=>Vs(e),className:"text-warning hover:text-warning/80",children:s.jsx(bs,{className:"w-4 h-4"})})})})]})},e.id)})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ie,{className:"w-16 h-16 text-default-300 mx-auto mb-4"}),s.jsx("p",{className:"text-foreground",children:"No users found"}),s.jsx("p",{className:"text-sm text-default-500",children:"Users data is not available. Please ensure users are loaded from the backend."})]}),ne.length>B&&s.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-default-200/20",children:[s.jsxs("span",{className:"text-sm text-default-500",children:["Showing ",le*B+1," to ",Math.min((le+1)*B,ne.length)," of ",ne.length," users"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",isDisabled:le===0,onPress:()=>Ee(e=>Math.max(0,e-1)),children:"‹"}),s.jsx(x,{isIconOnly:!0,size:"sm",variant:"light",isDisabled:(le+1)*B>=ne.length,onPress:()=>Ee(e=>e+1),children:"›"})]})]})]})]}),ra=()=>s.jsxs(s.Fragment,{children:[s.jsxs($e,{open:ks,onClose:p?void 0:Ue,maxWidth:"md",title:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{className:"w-6 h-6"}),T?"Edit Role":"Create New Role",Z.roles===f.LOADING&&s.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"})]}),actions:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(x,{variant:"light",onPress:Ue,isDisabled:p,children:"Cancel"}),s.jsx(x,{color:"primary",onPress:Ks,isLoading:p,children:T?"Update Role":"Create Role"})]}),children:[Z.roles===f.ERROR&&s.jsx("div",{className:"mb-4 p-3 bg-danger/10 border border-danger/20 rounded-lg",children:s.jsx("p",{className:"text-danger text-sm",children:"Failed to save role. Please check the form and try again."})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-1",children:[s.jsx("div",{className:"col-span-1",children:s.jsx(J,{label:"Role Name",placeholder:"Enter role name",value:E.name,onValueChange:e=>ie(a=>({...a,name:e})),isInvalid:!!D.name,errorMessage:D.name,description:"Unique identifier for the role",isRequired:!0,isDisabled:p,variant:"bordered",radius:g(),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20 hover:border-default-300/30 focus-within:!border-primary/50",input:"text-foreground placeholder:text-default-400",label:"text-default-500",description:"text-default-400",errorMessage:"text-danger"}})}),s.jsx("div",{className:"col-span-1",children:s.jsxs(ue,{label:"Guard Name",placeholder:"Select guard",selectedKeys:[E.guard_name],onSelectionChange:e=>{const a=Array.from(e)[0];ie(r=>({...r,guard_name:a}))},isDisabled:p,variant:"bordered",radius:g(),classNames:{trigger:"border-default-200/20 bg-default-100/50 dark:bg-default-50/10 hover:border-default-300/30 data-[open]:border-primary/50",value:"text-foreground",label:"text-default-500",popoverContent:"bg-content1 dark:bg-content1 backdrop-blur-xl border border-default-200/20"},children:[s.jsx(C,{value:"web",children:"Web"},"web"),s.jsx(C,{value:"api",children:"API"},"api")]})}),s.jsx("div",{className:"col-span-2",children:s.jsx(vs,{label:"Description",placeholder:"Optional description of role responsibilities",value:E.description,onValueChange:e=>ie(a=>({...a,description:e})),isDisabled:p,variant:"bordered",minRows:2,radius:g(),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20 hover:border-default-300/30 focus-within:!border-primary/50",input:"text-foreground placeholder:text-default-400",label:"text-default-500"}})})]})]}),s.jsx($e,{open:Ds,onClose:p?void 0:Te,maxWidth:"md",title:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(me,{className:"w-6 h-6"}),$?"Edit Permission":"Create New Permission"]}),actions:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(x,{variant:"light",onPress:Te,isDisabled:p,children:"Cancel"}),s.jsx(x,{color:"success",onPress:Hs,isLoading:p,children:$?"Update Permission":"Create Permission"})]}),children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-1",children:[s.jsx("div",{className:"col-span-1",children:s.jsx(J,{label:"Permission Name",placeholder:"e.g., users.create",value:k.name,onValueChange:e=>q(a=>({...a,name:e})),isInvalid:!!D.name,errorMessage:D.name,description:"Use format: module.action (e.g., users.create)",isRequired:!0,isDisabled:p,variant:"bordered",radius:g(),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20 hover:border-default-300/30 focus-within:!border-primary/50",input:"text-foreground placeholder:text-default-400",label:"text-default-500",description:"text-default-400",errorMessage:"text-danger"}})}),s.jsx("div",{className:"col-span-1",children:s.jsx(J,{label:"Display Name",placeholder:"Human-readable name",value:k.display_name,onValueChange:e=>q(a=>({...a,display_name:e})),isInvalid:!!D.display_name,errorMessage:D.display_name,description:"Human-readable name",isRequired:!0,isDisabled:p,variant:"bordered",radius:g(),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20 hover:border-default-300/30 focus-within:!border-primary/50",input:"text-foreground placeholder:text-default-400",label:"text-default-500",description:"text-default-400",errorMessage:"text-danger"}})}),s.jsx("div",{className:"col-span-1",children:s.jsx(ue,{label:"Module",placeholder:"Select module",selectedKeys:k.module?[k.module]:[],onSelectionChange:e=>{const a=Array.from(e)[0];q(r=>({...r,module:a}))},isInvalid:!!D.module,errorMessage:D.module,isDisabled:p,variant:"bordered",radius:g(),classNames:{trigger:"border-default-200/20 bg-default-100/50 dark:bg-default-50/10 hover:border-default-300/30 data-[open]:border-primary/50",value:"text-foreground",label:"text-default-500",popoverContent:"bg-content1 dark:bg-content1 backdrop-blur-xl border border-default-200/20"},children:be.map(e=>s.jsx(C,{value:e,children:e},e))})}),s.jsx("div",{className:"col-span-1",children:s.jsx(J,{label:"Guard Name",placeholder:"Usually 'web'",value:k.guard_name,onValueChange:e=>q(a=>({...a,guard_name:e})),description:"Usually 'web' for web permissions",isDisabled:p,variant:"bordered",radius:g(),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20 hover:border-default-300/30 focus-within:!border-primary/50",input:"text-foreground placeholder:text-default-400",label:"text-default-500",description:"text-default-400"}})}),s.jsx("div",{className:"col-span-2",children:s.jsx(vs,{label:"Description",placeholder:"Optional description of what this permission allows",value:k.description,onValueChange:e=>q(a=>({...a,description:e})),description:"Optional description of what this permission allows",isDisabled:p,variant:"bordered",minRows:2,radius:g(),classNames:{inputWrapper:"bg-default-100/50 dark:bg-default-50/10 border-default-200/20 hover:border-default-300/30 focus-within:!border-primary/50",input:"text-foreground placeholder:text-default-400",label:"text-default-500",description:"text-default-400"}})})]})}),s.jsx($e,{open:As,onClose:()=>ee(!1),maxWidth:"sm",title:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(js,{className:"w-6 h-6 text-danger"}),"Confirm Delete"]}),actions:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(x,{variant:"light",onPress:()=>ee(!1),children:"Cancel"}),s.jsxs(x,{color:"danger",onPress:se?qs:Qs,isLoading:p,children:["Delete ",se?"Role":"Permission"]})]}),children:s.jsxs("p",{className:"text-foreground/90",children:["Are you sure you want to delete ",se?`the role "${se.name}"`:Re?`the permission "${Re.name}"`:"this item","? This action cannot be undone."]})})]});return s.jsxs(s.Fragment,{children:[s.jsx(ia,{title:Ps}),qe.length>0&&s.jsx("div",{className:"mb-4 p-4",children:s.jsx(ps,{className:"bg-warning/10 border border-warning/30",radius:g(),children:s.jsxs(de,{className:"flex flex-row items-start gap-4",children:[s.jsx(js,{className:"w-6 h-6 text-warning flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-warning mb-2",children:"Data Integrity Issues Detected"}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-default-600",children:qe.map((e,a)=>s.jsx("li",{children:e},a))}),s.jsx("p",{className:"text-sm text-default-500 italic mt-2",children:"This may indicate a cache or database synchronization issue on the server."})]}),s.jsx(x,{color:"warning",size:"sm",variant:"flat",onPress:()=>{oa.reload({only:["roles","permissions","users"]})},startContent:s.jsx(na,{className:"w-4 h-4"}),children:"Refresh Data"})]})})}),s.jsx(xa.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex justify-center p-2",children:s.jsx(ve,{className:"w-full max-w-7xl",children:s.jsx(ua,{title:"Role & Permission Management",subtitle:"Comprehensive access control and permission management system",icon:s.jsx(ga,{className:"w-8 h-8"}),variant:"default",actionButtons:[{label:"Export Data",icon:s.jsx(pa,{className:"w-4 h-4"}),variant:"bordered",className:"border-success/30 bg-success/5 hover:bg-success/10"}],children:s.jsxs("div",{className:"p-6",children:[s.jsx(fa,{stats:[{title:"Total Roles",value:b.length,icon:s.jsx(ce,{}),color:"text-primary",iconBg:"bg-primary/20",description:"System roles"},{title:"Permissions",value:j.length,icon:s.jsx(me,{}),color:"text-success",iconBg:"bg-success/20",description:"Available permissions"},{title:"Active Users",value:he.length,icon:s.jsx(Ie,{}),color:"text-secondary",iconBg:"bg-secondary/20",description:"System users"},{title:"Modules",value:be.length,icon:s.jsx(da,{}),color:"text-warning",iconBg:"bg-warning/20",description:"Permission modules"}]}),s.jsxs("div",{className:"w-full mt-6",children:[s.jsxs(ca,{selectedKey:xe.toString(),onSelectionChange:e=>Cs(parseInt(e)),"aria-label":"Role management tabs",color:"primary",variant:"underlined",classNames:{tabList:"gap-6 w-full relative rounded-none p-0 border-b border-default-200/20",cursor:"w-full bg-primary",tab:"max-w-fit px-0 h-12 text-default-500 data-[selected=true]:text-primary",tabContent:"group-data-[selected=true]:text-primary"},children:[s.jsx(Le,{title:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{className:"w-5 h-5"}),s.jsx("span",{className:we?"sr-only":"",children:"Roles Management"})]})},"0"),s.jsx(Le,{title:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(me,{className:"w-5 h-5"}),s.jsx("span",{className:we?"sr-only":"",children:"Permissions Management"})]})},"1"),s.jsx(Le,{title:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ge,{className:"w-5 h-5"}),s.jsx("span",{className:we?"sr-only":"",children:"Role-Permission Assignment"})]})},"2"),s.jsx(Le,{title:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ie,{className:"w-5 h-5"}),s.jsx("span",{className:we?"sr-only":"",children:"User-Role Assignment"})]})},"3")]}),xe===0&&s.jsx(ea,{}),xe===1&&s.jsx(sa,{}),xe===2&&s.jsx(aa,{}),xe===3&&s.jsx(ta,{})]})]})})})}),ra()]})};va.layout=m=>s.jsx(ma,{children:m});export{va as default};
