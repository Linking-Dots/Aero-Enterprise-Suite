import{b as F,r as i,j as e,H as k,L as u,c as C}from"./app-C1U45Ebj.js";import{A as S}from"./AuthLayout-D-IYjBsC.js";import"./Button-BUbOsEPF.js";import{C as A}from"./Checkbox-BE5deUq-.js";import{m as a,T as E}from"./logo-CfQNLy2U.js";import{F as L}from"./CheckCircleIcon-B_RrSLXz.js";import{F as R}from"./ExclamationTriangleIcon-C6Etxr_V.js";import{F as T}from"./EnvelopeIcon-DYtxSQqd.js";import{F as _}from"./EyeSlashIcon-B4007kW2.js";import{F as H}from"./EyeIcon-CRCsgu04.js";import{F as $}from"./LockClosedIcon-CyayZHE1.js";import{i as h}from"./chunk-SSA7SXE4-CwjhqkNF.js";import"./create-visual-element-BuHeE9lo.js";function Q({status:r,canResetPassword:y,deviceBlocked:l,deviceMessage:f,blockedDeviceInfo:s}){const{data:o,setData:c,post:b,processing:d,errors:n,reset:j}=F({email:"",password:"",remember:!1}),[g,p]=i.useState(!1),[w,x]=i.useState(!1),[m,v]=i.useState(!1);i.useEffect(()=>{if(r){p(!0);const t=setTimeout(()=>p(!1),8e3);return()=>clearTimeout(t)}},[r]),i.useEffect(()=>{if(l){x(!0);const t=setTimeout(()=>x(!1),12e3);return()=>clearTimeout(t)}},[l]);const N=t=>{t.preventDefault(),b(route("login"),{onFinish:()=>j("password")})};return e.jsxs(S,{title:"Welcome back",children:[e.jsx(k,{title:"Log in"}),r&&g&&e.jsx(a.div,{className:"mb-6 p-4 rounded-xl border",style:{background:"rgba(34, 197, 94, 0.1)",borderColor:"rgba(34, 197, 94, 0.3)",backdropFilter:"blur(10px)"},initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.4,type:"spring"},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(a.div,{className:"shrink-0",initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:500},children:e.jsx(L,{className:"w-5 h-5 text-green-500"})}),e.jsx("div",{className:"ml-3",children:e.jsx(a.p,{className:"text-sm font-medium text-green-800",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3},children:r})})]})}),l&&w&&e.jsx(a.div,{className:"mb-6 p-5 rounded-xl border",style:{background:"rgba(239, 68, 68, 0.1)",borderColor:"rgba(239, 68, 68, 0.3)",backdropFilter:"blur(10px)"},initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.4,type:"spring"},children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(a.div,{className:"shrink-0",initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:500},children:e.jsx(R,{className:"w-6 h-6 text-red-500"})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx(a.h3,{className:"text-sm font-semibold text-red-800 mb-1",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3},children:"Device Access Blocked"}),e.jsx(a.p,{className:"text-sm text-red-700 mb-3",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4},children:f||"You can only be logged in from one device at a time."}),s&&e.jsxs(a.div,{className:"text-xs text-red-600 bg-red-50 p-3 rounded-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},children:[e.jsx("p",{className:"font-medium mb-1",children:"Currently active device:"}),e.jsxs("p",{children:["• ",e.jsx("span",{className:"font-medium",children:"Device:"})," ",s.device_name]}),e.jsxs("p",{children:["• ",e.jsx("span",{className:"font-medium",children:"Browser:"})," ",s.browser," ",s.browser_version]}),e.jsxs("p",{children:["• ",e.jsx("span",{className:"font-medium",children:"Platform:"})," ",s.platform]}),e.jsxs("p",{children:["• ",e.jsx("span",{className:"font-medium",children:"Last active:"})," ",s.last_activity]}),s.location&&e.jsxs("p",{children:["• ",e.jsx("span",{className:"font-medium",children:"Location:"})," ",s.location]})]})]})]})}),e.jsxs("form",{onSubmit:N,className:"auth-form-spacing",children:[e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(h,{type:"email",label:"Email address",placeholder:"Enter your email",value:o.email,onValueChange:t=>c("email",t),isInvalid:!!n.email,errorMessage:n.email,autoComplete:"username",autoFocus:!0,required:!0,startContent:e.jsx(T,{className:"w-4 h-4 text-default-400 pointer-events-none shrink-0"})})}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(h,{type:m?"text":"password",label:"Password",placeholder:"Enter your password",value:o.password,onValueChange:t=>c("password",t),isInvalid:!!n.password,errorMessage:n.password,autoComplete:"current-password",required:!0,startContent:e.jsx($,{className:"w-4 h-4 text-default-400 pointer-events-none shrink-0"}),endContent:e.jsx("button",{className:"focus:outline-hidden",type:"button",onClick:()=>v(!m),children:m?e.jsx(_,{className:"w-4 h-4 text-default-400 pointer-events-none"}):e.jsx(H,{className:"w-4 h-4 text-default-400 pointer-events-none"})}),classNames:{base:"w-full",mainWrapper:"w-full",input:["bg-transparent","text-black dark:text-white","placeholder:text-default-700/50 dark:placeholder:text-white/60"],innerWrapper:"bg-transparent",inputWrapper:["shadow-xl","bg-default-200/50","dark:bg-default/60","backdrop-blur-xl","backdrop-saturate-200","hover:bg-default-200/70","dark:hover:bg-default/70","group-data-[focused=true]:bg-default-200/50","dark:group-data-[focused=true]:bg-default/60","cursor-text!"]}})}),e.jsxs(a.div,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsx(A,{checked:o.remember,onChange:t=>c("remember",t.target.checked),label:"Remember me",description:"Keep me signed in for 30 days"}),y&&e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(u,{href:route("password.request"),className:"text-sm font-medium transition-colors duration-200 hover:underline",style:{color:"var(--theme-primary)"},children:"Forgot password?"})})]}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsx(C,{type:"submit",color:"primary",size:"lg",className:"w-full",isLoading:d,disabled:d,children:d?"Signing in...":"Sign in"})}),e.jsx(a.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:e.jsxs("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Don't have an account?"," ",e.jsx(a.span,{whileHover:{scale:1.05},className:"inline-block",children:e.jsx(u,{href:route("register"),className:"font-medium transition-colors duration-200 hover:underline",style:{color:"var(--theme-primary)"},children:"Sign up here"})})]})}),e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:1.2},className:"mt-3",children:e.jsx(E,{variant:"caption",color:"text.secondary",textAlign:"center",display:"block",sx:{opacity:.6,fontSize:{xs:"0.65rem",sm:"0.7rem"}},children:"© 2025 Emam Hosen. All rights reserved."})})]})]})}export{Q as default};
