import{r as m,j as e,d as oe,b as $,e as ne,k as ue,R as je,A as pe,s as ie,u as ae,f as Ee,a as qe,H as De}from"./app-D00qZUV_.js";import{e as ve,N as He,P as Ke,J as se,i as fe,z as ee,m as $e,n as Ce,o as Ne,p as Fe,x as Je,s as O,l as H,G as re,h as Ve,A as ye,O as Re,b as be,r as Me,Q as ge,f as Xe,t as Ye,d as te,k as Qe}from"./App-CBKq6AfW.js";import{P as Ze}from"./PageHeader-B4PPxZzd.js";import{S as ea}from"./StatsCards-BOwstfXa.js";import{m as L}from"./proxy-CATldSAx.js";import{F as xe}from"./CheckCircleIcon-B_eFrWu0.js";import{F as le}from"./ExclamationTriangleIcon-Tjm5PGF2.js";import{F as _e}from"./PencilIcon-DHEkrkmg.js";import{F as aa}from"./HashtagIcon-CmWiz0rh.js";import{F as ra}from"./EnvelopeIcon-C2ghq-ql.js";import{F as ta}from"./MapPinIcon-Dd1qwX3z.js";import{c as J,F as Ae,B as P}from"./react-toastify.esm-_Te1n1pU.js";import{p as sa}from"./chunk-XVMALT6H-BEAnj4be.js";import{m as we}from"./chunk-O5MCAK4F-BgPqZ22P.js";import{X as V}from"./x-DEtKCuYS.js";import{c as Te}from"./createLucideIcon-BnOHKVZ4.js";import{i as S}from"./chunk-SSA7SXE4-9JcL3FLw.js";import{G as de}from"./logo-CkhZy88E.js";import{d as oa}from"./dayjs.min-D4PH9LSg.js";import{F as na}from"./ChartBarIcon-pP2qYuFd.js";import{F as ia}from"./UserPlusIcon-BQStdbnB.js";import{F as Be}from"./DocumentArrowDownIcon-Ds3qURlc.js";import{F as Q}from"./UserIcon-Bhn9e0vt.js";import{F as Y}from"./IdentificationIcon-BY8_8hr7.js";import{F as la}from"./AdjustmentsHorizontalIcon-CHcqspHt.js";import{F as da}from"./GlobeAltIcon-CAgruY7l.js";import{F as me}from"./HeartIcon-CZm2S11l.js";import{F as ca}from"./ShieldCheckIcon-BL5m_bNY.js";import{b as ma}from"./chunk-57V4RE7B-DoJVQ8_c.js";import"./KeyIcon-C5wjYuzk.js";import"./features-animation-DlKdVSZX.js";import"./create-visual-element-C0h919DM.js";import"./useProgressBar-DfkquuZQ.js";import"./NumberFormatter-DNR9MAW-.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ua=Te("camera",pa);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Le=Te("plus",xa),ha=({user:r,departments:E=[],designations:y=[],onEditClick:F,profileStats:d={},canEdit:w=!1})=>{const[b,h]=m.useState(!1),x=E.find(k=>k.id===r.department_id||k.id===r.department),N=y.find(k=>k.id===r.designation_id||k.id===r.designation),l=()=>r.active?"success":"danger",a=()=>{const k=d.completion_percentage||0;return k>=80?"success":k>=50?"warning":"danger"};return e.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(oe,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-300",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[e.jsx(ve,{className:"flex gap-4 pb-0",children:e.jsxs("div",{className:"flex gap-4 items-start w-full",children:[e.jsx("div",{className:"relative",children:e.jsx(He,{content:e.jsx("div",{className:`w-4 h-4 rounded-full ${r.active?"bg-success-500":"bg-danger-500"} border-2 border-background`}),placement:"bottom-right",className:"border-0",children:e.jsx(Ke,{src:r.profile_image_url||r.profile_image,name:r.name,size:"lg",className:"ring-2 ring-white/20 hover:ring-white/40 transition-all duration-300"})})}),e.jsxs("div",{className:"flex flex-col gap-2 flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-foreground",children:r.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[x&&e.jsx(J,{size:"sm",variant:"flat",color:"primary",startContent:e.jsx(se,{className:"w-3 h-3"}),children:x.name}),N&&e.jsx(J,{size:"sm",variant:"flat",color:"secondary",children:N.title}),e.jsx(J,{size:"sm",variant:"flat",color:l(),startContent:r.active?e.jsx(xe,{className:"w-3 h-3"}):e.jsx(le,{className:"w-3 h-3"}),children:r.active?"Active":"Inactive"})]})]}),w&&e.jsx(L.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx($,{color:"primary",variant:"bordered",size:"sm",startContent:e.jsx(_e,{className:"w-4 h-4"}),onPress:F,className:"bg-white/10 hover:bg-white/20 border-white/20",children:"Edit Profile"})})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-default-600",children:"Profile Completion"}),e.jsxs("span",{className:"text-sm font-semibold text-foreground",children:[d.completion_percentage||0,"%"]})]}),e.jsx(sa,{value:d.completion_percentage||0,color:a(),size:"sm",className:"max-w-full"}),e.jsxs("p",{className:"text-xs text-default-500 mt-1",children:[d.completed_sections||0," of ",d.total_sections||8," sections completed"]})]})]})]})}),e.jsxs(ne,{className:"pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:e.jsx(aa,{className:"w-4 h-4 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-default-500",children:"Employee ID"}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:r.employee_id||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:e.jsx(fe,{className:"w-4 h-4 text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-default-500",children:"Date of Joining"}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:r.date_of_joining?new Date(r.date_of_joining).toLocaleDateString():"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:e.jsx(ra,{className:"w-4 h-4 text-purple-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-default-500",children:"Email"}),e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:r.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:e.jsx(ee,{className:"w-4 h-4 text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-default-500",children:"Phone"}),e.jsx("p",{className:"text-sm font-medium text-foreground",children:r.phone||"N/A"})]})]})]}),r.address&&e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"mb-4"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-teal-500/20 rounded-lg",children:e.jsx(ta,{className:"w-4 h-4 text-teal-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-default-500",children:"Address"}),e.jsx("p",{className:"text-sm text-foreground",children:r.address})]})]})]}),(d.profile_views||d.last_updated)&&e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"my-4"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-default-500",children:[d.profile_views&&e.jsxs("span",{children:["Views: ",d.profile_views]}),d.last_updated&&e.jsxs("span",{children:["Updated: ",new Date(d.last_updated).toLocaleDateString()]})]})]})]})]})})},Z=({title:r,icon:E,children:y,onEdit:F,canEdit:d=!1,isEmpty:w=!1,isCompleted:b=!1,className:h="",headerAction:x=null,...N})=>{const a=w?{color:"danger",icon:Ae,text:"Empty"}:b?{color:"success",icon:xe,text:"Complete"}:{color:"warning",icon:le,text:"Incomplete"},k=a.icon;return e.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{y:-2},className:h,children:e.jsxs(oe,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-300 h-full",...N,children:[e.jsx(ve,{className:"flex gap-3 pb-3",children:e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[E&&e.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:je.cloneElement(E,{className:"w-5 h-5 text-primary-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold text-foreground",children:r}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx(J,{size:"sm",variant:"flat",color:a.color,startContent:e.jsx(k,{className:"w-3 h-3"}),children:a.text})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[x,d&&F&&e.jsx(L.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx($,{isIconOnly:!0,size:"sm",variant:"bordered",color:"primary",onPress:F,className:"bg-white/10 hover:bg-white/20 border-white/20",children:e.jsx(_e,{className:"w-4 h-4"})})})]})]})}),e.jsx(ne,{className:"pt-0",children:w?e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"p-4 bg-default-100/50 rounded-lg",children:[e.jsx(le,{className:"w-8 h-8 text-default-400 mx-auto mb-2"}),e.jsx("p",{className:"text-default-500 text-sm",children:"No information available"}),d&&F&&e.jsx($,{size:"sm",color:"primary",variant:"bordered",className:"mt-3",onPress:F,startContent:e.jsx(_e,{className:"w-4 h-4"}),children:"Add Information"})]})}):y})]})})},A=({label:r,value:E,icon:y,type:F="text",className:d="",valueClassName:w="",labelClassName:b="",showDivider:h=!0})=>{const x=(l,a)=>{if(!l||l==="N/A")return"N/A";switch(a){case"date":return new Date(l).toLocaleDateString();case"email":return l;case"phone":return l;case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l);default:return l}},N=()=>!E||E==="N/A"?"text-default-400":"text-foreground";return e.jsxs("div",{className:`flex items-center justify-between py-3 ${h?"border-b border-white/10 last:border-b-0":""} ${d}`,children:[e.jsxs("div",{className:`flex items-center gap-2 text-sm text-default-600 ${b}`,children:[y&&je.cloneElement(y,{className:"w-4 h-4"}),e.jsx("span",{children:r})]}),e.jsx("div",{className:`text-sm font-medium ${N()} text-right ${w}`,children:F==="chip"&&E&&E!=="N/A"?e.jsx(J,{size:"sm",variant:"flat",color:"primary",children:x(E,F)}):e.jsx("span",{children:x(E,F)})})]})},K=({isOpen:r,onClose:E,title:y,subtitle:F,icon:d,children:w,onSave:b,onCancel:h,isLoading:x=!1,saveLabel:N="Save Changes",cancelLabel:l="Cancel",showFooter:a=!0,size:k="2xl",scrollBehavior:p="inside",placement:c="center",backdrop:o="blur-sm",className:_="",headerClassName:i="",bodyClassName:s="",footerClassName:t="",...n})=>e.jsx(pe,{children:r&&e.jsx($e,{isOpen:r,onClose:E,size:k,scrollBehavior:p,placement:c,backdrop:o,classNames:{base:"bg-white/10 backdrop-blur-md border border-white/20",header:`bg-white/5 border-b border-white/10 ${i}`,body:`bg-transparent ${s}`,footer:`bg-white/5 border-t border-white/10 ${t}`},className:_,motionProps:{variants:{enter:{y:0,opacity:1,transition:{duration:.3,ease:"easeOut"}},exit:{y:-20,opacity:0,transition:{duration:.2,ease:"easeIn"}}}},...n,children:e.jsx(Ce,{children:g=>e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"flex flex-col gap-1 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[d&&e.jsx("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:je.cloneElement(d,{className:"w-5 h-5 text-primary-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:y}),F&&e.jsx("p",{className:"text-sm text-default-500 mt-1",children:F})]})]}),e.jsx($,{isIconOnly:!0,variant:"light",onPress:g,className:"text-default-500 hover:text-foreground",children:e.jsx(Ae,{className:"w-5 h-5"})})]})}),e.jsx(Fe,{className:"px-6 py-4",children:e.jsx(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:w})}),a&&e.jsx(we,{className:"px-6 py-4",children:e.jsxs("div",{className:"flex gap-3 w-full sm:w-auto sm:ml-auto",children:[e.jsx($,{variant:"bordered",onPress:h||g,className:"bg-white/10 border-white/20 hover:bg-white/20",isDisabled:x,children:l}),b&&e.jsx($,{color:"primary",onPress:b,isLoading:x,className:"bg-primary-500/90 hover:bg-primary-500",children:N})]})})]})})})}),ba=({user:r,allUsers:E,departments:y,designations:F,setUser:d,open:w,closeModal:b})=>{const[h,x]=m.useState({id:r.id,name:r.name||"",gender:r.gender||"",birthday:r.birthday||"",date_of_joining:r.date_of_joining||"",address:r.address||"",employee_id:r.employee_id||"",phone:r.phone||"",email:r.email||"",department:r.department||"",designation:r.designation||"",report_to:r.report_to||""}),[N,l]=m.useState({id:r.id}),[a,k]=m.useState(!1),[p,c]=m.useState({}),[o,_]=m.useState(!1),[i,s]=m.useState(!1),[t,n]=m.useState(null),[g,R]=m.useState(F),[v,B]=m.useState(E),f=u=>{const M=u.target.files[0];if(M){const I=URL.createObjectURL(M);n(I);const z=new Promise(async(U,X)=>{try{const G=new FormData;if(G.append("id",r.id),M){const he=M.type;if(["image/jpeg","image/jpg","image/png"].includes(he))G.append("profile_image",M);else{console.error("Invalid file type. Only JPEG and PNG are allowed."),X("Invalid file type");return}}const q=await fetch(route("profile.update"),{method:"POST",headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:G}),W=await q.json();q.ok?(d(W.user),_(!1),U([...W.messages])):(_(!1),c(W.errors),X(W.error||"Failed to update profile image."),console.error(W.errors))}catch(G){_(!1),console.error(G),X(G.message||"An unexpected error occurred.")}});P.promise(z,{pending:{render(){return e.jsxs("div",{className:"flex items-center",children:[e.jsx(ie,{size:"sm"}),e.jsx("span",{className:"ml-2",children:"Updating profile image..."})]})},icon:!1,style:{background:"var(--theme-content1, #FFFFFF)",border:"1px solid var(--theme-divider, #E4E4E7)",color:"var(--theme-foreground, #11181C)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}},success:{render({data:U}){return e.jsx(e.Fragment,{children:U.map((X,G)=>e.jsx("div",{children:X},G))})},icon:"🟢",style:{background:"var(--theme-content1, #FFFFFF)",border:"1px solid var(--theme-success, #17C964)",color:"var(--theme-foreground, #11181C)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}},error:{render({data:U}){return e.jsx(e.Fragment,{children:U})},icon:"🔴",style:{background:"var(--theme-content1, #FFFFFF)",border:"1px solid var(--theme-danger, #F31260)",color:"var(--theme-foreground, #11181C)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}}})}},D=(u,M)=>{x(I=>{const z={...I,[u]:M};return M===""&&delete z[u],z}),l(I=>{const z={...I,[u]:M};return M===""&&delete z[u],z})};m.useEffect(()=>{r.department!==h.department&&(h.designation=null,h.report_to=null),R(F.filter(I=>I.department_id===(N.department||h.department))),B(E.filter(I=>I.department===(N.department||h.department)));const u={...N};for(const I in u)I!=="id"&&u[I]===r[I]&&delete u[I];const M=Object.keys(u).length>1;k(M)},[h,N]);const C=async u=>{var M;u.preventDefault(),_(!0);try{const I=await axios.post(route("profile.update"),{ruleSet:"profile",...h});I.status===200&&(d(I.data.user),P.success(((M=I.data.messages)==null?void 0:M.length)>0?I.data.messages.join(" "):"Profile information updated successfully",{icon:"🟢",style:{background:"var(--theme-content1, #FFFFFF)",border:"1px solid var(--theme-success, #17C964)",color:"var(--theme-foreground, #11181C)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}}),b())}catch(I){_(!1),I.response?(I.response.status===422?(c(I.response.data.errors||{}),P.error(I.response.data.error||"Failed to update profile information.",{icon:"🔴",style:{background:"var(--theme-content1, #FFFFFF)",border:"1px solid var(--theme-danger, #F31260)",color:"var(--theme-foreground, #11181C)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}})):P.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{background:"var(--theme-content1, #FFFFFF)",border:"1px solid var(--theme-danger, #F31260)",color:"var(--theme-foreground, #11181C)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}}),console.error(I.response.data)):I.request?(P.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{background:"var(--theme-content1, #FFFFFF)",border:"1px solid var(--theme-danger, #F31260)",color:"var(--theme-foreground, #11181C)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}}),console.error(I.request)):(P.error("An error occurred while setting up the request.",{icon:"🔴",style:{background:"var(--theme-content1, #FFFFFF)",border:"1px solid var(--theme-danger, #F31260)",color:"var(--theme-foreground, #11181C)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}}),console.error("Error",I.message))}finally{_(!1)}};return e.jsx($e,{isOpen:w,onOpenChange:b,size:"5xl",scrollBehavior:"inside",backdrop:"blur",classNames:{backdrop:"bg-black/30",base:"max-h-[90vh]",body:"p-0",header:"p-0",footer:"p-0"},children:e.jsxs(Ce,{style:{background:`linear-gradient(135deg, 
                        var(--theme-content1, #FAFAFA) 20%, 
                        var(--theme-content2, #F4F4F5) 10%, 
                        var(--theme-content3, #F1F3F4) 20%)`,borderColor:"var(--theme-divider, #E4E4E7)",borderWidth:"var(--borderWidth, 2px)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")',transform:"scale(var(--scale, 1))"},children:[e.jsx(Ne,{className:"p-0",children:e.jsxs("div",{className:"flex items-center justify-between p-6 border-b w-full",style:{borderColor:"var(--theme-divider, #E4E4E7)",color:"var(--theme-foreground, #11181C)"},children:[e.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--theme-foreground, #11181C)",fontFamily:'var(--fontFamily, "Inter")'},children:"Profile Information"}),e.jsx($,{isIconOnly:!0,variant:"light",onPress:b,style:{color:"var(--theme-foreground-600, #71717A)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx(V,{size:20})})]})}),e.jsx(Fe,{className:"p-0",children:e.jsxs("form",{onSubmit:C,children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-full flex items-center justify-center",children:e.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[e.jsx(Je,{src:t||r.profile_image,alt:N.name||h.name,className:"w-24 h-24"}),i&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-full rounded-full flex justify-center items-center cursor-pointer",style:{background:"color-mix(in srgb, var(--theme-default, #71717A) 50%, transparent)",borderRadius:"var(--borderRadius, 12px)"},children:e.jsx($,{isIconOnly:!0,variant:"light",className:"text-white",children:e.jsx(ua,{size:20})})})}),e.jsx("input",{accept:"image/*",style:{display:"none"},id:"upload-button",type:"file",onChange:f}),e.jsx("label",{htmlFor:"upload-button",children:e.jsx("div",{className:"absolute w-full h-full top-0 left-0 rounded-full cursor-pointer"})})]})}),e.jsx("div",{children:e.jsx(S,{label:"Name",value:N.name||h.name||"",onChange:u=>D("name",u.target.value),isInvalid:!!p.name,errorMessage:p.name,variant:"bordered",style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}})}),e.jsx("div",{children:e.jsxs(O,{label:"Gender",selectedKeys:N.gender||h.gender?[N.gender||h.gender]:[],onSelectionChange:u=>D("gender",Array.from(u)[0]),isInvalid:!!p.gender,errorMessage:p.gender,variant:"bordered",style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(H,{value:"Male",children:"Male"},"Male"),e.jsx(H,{value:"Female",children:"Female"},"Female")]})}),e.jsx("div",{children:e.jsx(S,{label:"Birth Date",type:"date",value:N.birthday||h.birthday||"",onChange:u=>D("birthday",u.target.value),isInvalid:!!p.birthday,errorMessage:p.birthday,variant:"bordered",style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}})}),e.jsx("div",{children:e.jsx(S,{label:"Joining Date",type:"date",value:N.date_of_joining||h.date_of_joining||"",onChange:u=>D("date_of_joining",u.target.value),isInvalid:!!p.date_of_joining,errorMessage:p.date_of_joining,variant:"bordered",style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}})}),e.jsx("div",{className:"col-span-full",children:e.jsx(S,{label:"Address",value:N.address||h.address,onChange:u=>D("address",u.target.value),isInvalid:!!p.address,errorMessage:p.address,variant:"bordered",style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}})}),e.jsx("div",{children:e.jsx(S,{label:"Employee ID",value:N.employee_id||h.employee_id||"",onChange:u=>D("employee_id",u.target.value),isInvalid:!!p.employee_id,errorMessage:p.employee_id,variant:"bordered",style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}})}),e.jsx("div",{children:e.jsx(S,{label:"Phone Number",value:N.phone||h.phone,onChange:u=>D("phone",u.target.value),isInvalid:!!p.phone,errorMessage:p.phone,variant:"bordered",style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}})}),e.jsx("div",{children:e.jsx(S,{label:"Email Address",value:N.email||h.email,onChange:u=>D("email",u.target.value),isInvalid:!!p.email,errorMessage:p.email,variant:"bordered",style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}})}),e.jsx("div",{children:e.jsx(O,{label:"Department",selectedKeys:N.department||h.department?[String(N.department||h.department)]:[],onSelectionChange:u=>D("department",Array.from(u)[0]),isInvalid:!!p.department,errorMessage:p.department,variant:"bordered",style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:y.map(u=>e.jsx(H,{value:u.id,children:u.name},u.id))})}),e.jsx("div",{children:e.jsx(O,{label:"Designation",selectedKeys:N.designation||h.designation?[String(N.designation||h.designation)]:[],onSelectionChange:u=>D("designation",Array.from(u)[0]),isInvalid:!!p.designation,errorMessage:p.designation,isDisabled:!r.department,variant:"bordered",style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:g.map(u=>e.jsx(H,{value:u.id,children:u.title},u.id))})}),e.jsx("div",{children:e.jsxs(O,{label:"Reports To",selectedKeys:N.report_to||h.report_to?[String(N.report_to||h.report_to)]:[],onSelectionChange:u=>D("report_to",Array.from(u)[0]),isInvalid:!!p.report_to,errorMessage:p.report_to,isDisabled:r.report_to==="na",variant:"bordered",style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:[e.jsx(H,{value:"na",children:"--"},"na"),v.map(u=>e.jsx(H,{value:u.id,children:u.name},u.id))]})})]})}),e.jsx(we,{className:"p-0",children:e.jsx("div",{className:"flex items-center justify-center p-6 border-t w-full",style:{borderColor:"var(--theme-divider, #E4E4E7)"},children:e.jsx($,{isDisabled:!a,className:"rounded-full px-6",variant:"bordered",color:"primary",type:"submit",isLoading:o,style:{borderColor:"var(--theme-primary, #006FEE)",color:"var(--theme-primary, #006FEE)",borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'},children:"Submit"})})})]})})]})})},ga=({user:r,setUser:E,open:y,closeModal:F})=>{const[d,w]=m.useState({id:r.id,passport_no:r.passport_no||"",passport_exp_date:r.passport_exp_date||"",nationality:r.nationality||"",religion:r.religion||"",marital_status:r.marital_status||"",employment_of_spouse:r.employment_of_spouse||"",number_of_children:r.number_of_children||"",nid:r.nid||""}),[b,h]=m.useState({id:r.id}),[x,N]=m.useState(!1),[l,a]=m.useState({}),[k,p]=m.useState(!1),c=ae(),o=(i,s)=>{w(t=>{const n={...t,[i]:s};return s===""&&delete n[i],i==="marital_status"&&s==="Single"&&(n.employment_of_spouse="",n.number_of_children=""),n}),h(t=>{const n={...t,[i]:s};return s===""&&delete n[i],i==="marital_status"&&s==="Single"&&(n.employment_of_spouse=null,n.number_of_children=null),n})};m.useEffect(()=>{for(const s in b)s!=="id"&&b[s]===r[s]&&delete b[s];const i=Object.keys(b).filter(s=>s!=="id").length>0;N(i)},[d,b,r]);const _=async i=>{var s;i.preventDefault(),p(!0);try{const t=await axios.post(route("profile.update"),{ruleSet:"personal",...d});t.status===200&&(E(t.data.user),P.success(((s=t.data.messages)==null?void 0:s.length)>0?t.data.messages.join(" "):"Personal information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}}),F())}catch(t){p(!1),t.response?(t.response.status===422?(a(t.response.data.errors||{}),P.error(t.response.data.error||"Failed to update personal information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}})):P.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}}),console.error(t.response.data)):t.request?(P.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}}),console.error(t.request)):(P.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}}),console.error("Error",t.message))}finally{p(!1)}};return e.jsxs(re,{open:y,onClose:F,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Personal Information"}),e.jsx($,{isIconOnly:!0,variant:"light",onPress:F,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(V,{size:20})})]}),e.jsxs("form",{onSubmit:_,children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(S,{label:"Passport No",value:b.passport_no||d.passport_no||"",onChange:i=>o("passport_no",i.target.value),isInvalid:!!l.passport_no,errorMessage:l.passport_no})}),e.jsx("div",{children:e.jsx(S,{label:"Passport Expiry Date",type:"date",value:b.passport_exp_date||d.passport_exp_date||"",onChange:i=>o("passport_exp_date",i.target.value),isInvalid:!!l.passport_exp_date,errorMessage:l.passport_exp_date})}),e.jsx("div",{children:e.jsx(S,{label:"NID No",value:b.nid||d.nid||"",onChange:i=>o("nid",i.target.value),isInvalid:!!l.nid,errorMessage:l.nid})}),e.jsx("div",{children:e.jsx(S,{label:"Nationality",value:b.nationality||d.nationality||"",onChange:i=>o("nationality",i.target.value),isInvalid:!!l.nationality,errorMessage:l.nationality})}),e.jsx("div",{children:e.jsx(S,{label:"Religion",value:b.religion||d.religion||"",onChange:i=>o("religion",i.target.value),isInvalid:!!l.religion,errorMessage:l.religion})}),e.jsx("div",{children:e.jsxs(O,{label:"Marital Status",selectedKeys:b.marital_status||d.marital_status?[b.marital_status||d.marital_status]:[],onSelectionChange:i=>o("marital_status",Array.from(i)[0]),isInvalid:!!l.marital_status,errorMessage:l.marital_status,children:[e.jsx(H,{value:"na",children:"-"},"na"),e.jsx(H,{value:"Single",children:"Single"},"Single"),e.jsx(H,{value:"Married",children:"Married"},"Married")]})}),e.jsx("div",{children:e.jsx(S,{label:"Employment of spouse",value:b.marital_status==="Single"?"":b.employment_of_spouse||d.employment_of_spouse,onChange:i=>o("employment_of_spouse",i.target.value),isInvalid:!!l.employment_of_spouse,errorMessage:l.employment_of_spouse,isDisabled:b.marital_status==="Single"||d.marital_status==="Single"})}),e.jsx("div",{children:e.jsx(S,{label:"No. of children",type:"number",value:b.marital_status==="Single"?"":b.number_of_children||d.number_of_children,onChange:i=>o("number_of_children",i.target.value),isInvalid:!!l.number_of_children,errorMessage:l.number_of_children,isDisabled:b.marital_status==="Single"||d.marital_status==="Single"})})]})}),e.jsx("div",{className:"flex items-center justify-center p-6 border-t border-gray-200 dark:border-gray-700",children:e.jsx($,{isDisabled:!x,className:"rounded-full px-6",variant:"bordered",color:"primary",type:"submit",isLoading:k,children:"Submit"})})]})]})},fa=({user:r,setUser:E,open:y,closeModal:F})=>{const[d,w]=m.useState({id:r.id,emergency_contact_primary_name:r.emergency_contact_primary_name||"",emergency_contact_primary_relationship:r.emergency_contact_primary_relationship||"",emergency_contact_primary_phone:r.emergency_contact_primary_phone||"",emergency_contact_secondary_name:r.emergency_contact_secondary_name||"",emergency_contact_secondary_relationship:r.emergency_contact_secondary_relationship||"",emergency_contact_secondary_phone:r.emergency_contact_secondary_phone||""}),[b,h]=m.useState({id:r.id}),[x,N]=m.useState(!1),[l,a]=m.useState({}),[k,p]=m.useState(!1),c=ae(),o=(i,s)=>{w(t=>{const n={...t,[i]:s};return s===""&&delete n[i],n}),h(t=>{const n={...t,[i]:s};return s===""&&delete n[i],n})};m.useEffect(()=>{for(const s in b)s!=="id"&&b[s]===r[s]&&delete b[s];const i=Object.keys(b).filter(s=>s!=="id").length>0;N(i)},[d,b,r]);const _=async i=>{var s;i.preventDefault(),p(!0);try{const t=await axios.post(route("profile.update"),{ruleSet:"emergency",...d});t.status===200&&(E(t.data.user),P.success(((s=t.data.messages)==null?void 0:s.length)>0?t.data.messages.join(" "):"Emergency contact updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}}),F())}catch(t){p(!1),t.response?(t.response.status===422?(a(t.response.data.errors||{}),P.error(t.response.data.error||"Failed to update emergency contact.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}})):P.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}}),console.error(t.response.data)):t.request?(P.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}}),console.error(t.request)):(P.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}}),console.error("Error",t.message))}finally{p(!1)}};return e.jsxs(re,{open:y,onClose:F,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Emergency Contact Information"}),e.jsx($,{isIconOnly:!0,variant:"light",onPress:F,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(V,{size:20})})]}),e.jsxs("form",{onSubmit:_,children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsx(de,{children:e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Primary Contact"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(S,{label:"Name",isRequired:!0,value:b.emergency_contact_primary_name||d.emergency_contact_primary_name||"",onChange:i=>o("emergency_contact_primary_name",i.target.value),isInvalid:!!l.emergency_contact_primary_name,errorMessage:l.emergency_contact_primary_name})}),e.jsx("div",{children:e.jsx(S,{label:"Relationship",isRequired:!0,value:b.emergency_contact_primary_relationship||d.emergency_contact_primary_relationship||"",onChange:i=>o("emergency_contact_primary_relationship",i.target.value),isInvalid:!!l.emergency_contact_primary_relationship,errorMessage:l.emergency_contact_primary_relationship})}),e.jsx("div",{children:e.jsx(S,{label:"Phone",isRequired:!0,value:b.emergency_contact_primary_phone||d.emergency_contact_primary_phone||"",onChange:i=>o("emergency_contact_primary_phone",i.target.value),isInvalid:!!l.emergency_contact_primary_phone,errorMessage:l.emergency_contact_primary_phone})})]})]})})}),e.jsx("div",{children:e.jsx(de,{children:e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Secondary Contact"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(S,{label:"Name",value:b.emergency_contact_secondary_name||d.emergency_contact_secondary_name||"",onChange:i=>o("emergency_contact_secondary_name",i.target.value),isInvalid:!!l.emergency_contact_secondary_name,errorMessage:l.emergency_contact_secondary_name})}),e.jsx("div",{children:e.jsx(S,{label:"Relationship",value:b.emergency_contact_secondary_relationship||d.emergency_contact_secondary_relationship||"",onChange:i=>o("emergency_contact_secondary_relationship",i.target.value),isInvalid:!!l.emergency_contact_secondary_relationship,errorMessage:l.emergency_contact_secondary_relationship})}),e.jsx("div",{children:e.jsx(S,{label:"Phone",value:b.emergency_contact_secondary_phone||d.emergency_contact_secondary_phone||"",onChange:i=>o("emergency_contact_secondary_phone",i.target.value),isInvalid:!!l.emergency_contact_secondary_phone,errorMessage:l.emergency_contact_secondary_phone})})]})]})})})]})}),e.jsx("div",{className:"flex items-center justify-center p-6 border-t border-gray-200 dark:border-gray-700",children:e.jsx($,{isDisabled:!x,className:"rounded-full px-6",variant:"bordered",color:"primary",type:"submit",isLoading:k,children:"Submit"})})]})]})},ya=({user:r,setUser:E,open:y,closeModal:F})=>{getThemePrimaryColor();const[d,w]=m.useState({id:r.id,bank_name:r.bank_name||"",bank_account_no:r.bank_account_no||"",ifsc_code:r.ifsc_code||"",pan_no:r.pan_no||""}),[b,h]=m.useState({id:r.id}),[x,N]=m.useState(!1),[l,a]=m.useState({}),[k,p]=m.useState(!1),c=(_,i)=>{w(s=>{const t={...s,[_]:i};return i===""&&delete t[_],t}),h(s=>{const t={...s,[_]:i};return i===""&&delete t[_],t})};m.useEffect(()=>{for(const i in b)i!=="id"&&b[i]===r[i]&&delete b[i];const _=Object.keys(b).filter(i=>i!=="id").length>0;N(_)},[d,b,r]);const o=async _=>{var i;_.preventDefault(),p(!0);try{const s=await axios.post(route("profile.update"),{ruleSet:"bank",...d});s.status===200&&(E(s.data.user),a({}),P.success(((i=s.data.messages)==null?void 0:i.length)>0?s.data.messages.join(" "):"Bank information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,color:theme.palette.text.primary}}),F())}catch(s){p(!1),s.response?(s.response.status===422?(a(s.response.data.errors||{}),P.error(s.response.data.error||"Failed to update bank information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,color:theme.palette.text.primary}})):P.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,color:theme.palette.text.primary}}),console.error(s.response.data)):s.request?(P.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,color:theme.palette.text.primary}}),console.error(s.request)):(P.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,color:theme.palette.text.primary}}),console.error("Error",s.message))}finally{p(!1)}};return e.jsxs(re,{open:y,onClose:F,children:[e.jsxs(DialogTitle,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e.jsx(Typography,{children:"Bank Information"}),e.jsx(IconButton,{variant:"outlined",color:"primary",onClick:F,sx:{position:"absolute",top:8,right:16},children:e.jsx(ClearIcon,{})})]}),e.jsxs("form",{onSubmit:o,children:[e.jsx(DialogContent,{children:e.jsxs(Grid,{container:!0,spacing:2,children:[e.jsx(Grid,{item:!0,xs:12,children:e.jsx(TextField,{label:"Bank Name",fullWidth:!0,value:b.bank_name||d.bank_name||"",onChange:_=>c("bank_name",_.target.value),error:!!l.bank_name,helperText:l.bank_name})}),e.jsx(Grid,{item:!0,xs:12,children:e.jsx(TextField,{size:"small",label:"Bank Account No.",fullWidth:!0,value:b.bank_account_no||d.bank_account_no||"",onChange:_=>c("bank_account_no",_.target.value),error:!!l.bank_account_no,helperText:l.bank_account_no})}),e.jsx(Grid,{item:!0,xs:12,children:e.jsx(TextField,{label:"IFSC Code",fullWidth:!0,value:b.ifsc_code||d.ifsc_code||"",onChange:_=>c("ifsc_code",_.target.value),error:!!l.ifsc_code,helperText:l.ifsc_code})}),e.jsx(Grid,{item:!0,xs:12,children:e.jsx(TextField,{label:"PAN No.",fullWidth:!0,value:b.pan_no||d.pan_no||"",onChange:_=>c("pan_no",_.target.value),error:!!l.pan_no,helperText:l.pan_no})})]})}),e.jsx(DialogActions,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e.jsx(LoadingButton,{disabled:!x,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:k,children:"Submit"})})]})]})},_a=({user:r,open:E,closeModal:y,handleDelete:F,setUser:d})=>{const[w,b]=m.useState({id:r.id,family_member_name:r.family_member_name||"",family_member_relationship:r.family_member_relationship||"",family_member_dob:r.family_member_dob||"",family_member_phone:r.family_member_phone||""}),[h,x]=m.useState({id:r.id}),[N,l]=m.useState(!1),[a,k]=m.useState({}),[p,c]=m.useState(!1),o=ae(),_=(s,t)=>{b(n=>{const g={...n,[s]:t};return t===""&&delete g[s],g}),x(n=>{const g={...n,[s]:t};return t===""&&delete g[s],g})};m.useEffect(()=>{for(const t in h)t!=="id"&&h[t]===r[t]&&delete h[t];const s=Object.keys(h).filter(t=>t!=="id").length>0;l(s)},[w,h,r]);const i=async s=>{var t;s.preventDefault(),c(!0);try{const n=await axios.post(route("profile.update"),{ruleSet:"family",...w});n.status===200&&(d(n.data.user),P.success(((t=n.data.messages)==null?void 0:t.length)>0?n.data.messages.join(" "):"Family information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:o.glassCard.background,border:o.glassCard.border,color:o.palette.text.primary}}),y())}catch(n){c(!1),n.response?(n.response.status===422?(k(n.response.data.errors||{}),P.error(n.response.data.error||"Failed to update family information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:o.glassCard.background,border:o.glassCard.border,color:o.palette.text.primary}})):P.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:o.glassCard.background,border:o.glassCard.border,color:o.palette.text.primary}}),console.error(n.response.data)):n.request?(P.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:o.glassCard.background,border:o.glassCard.border,color:o.palette.text.primary}}),console.error(n.request)):(P.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:o.glassCard.background,border:o.glassCard.border,color:o.palette.text.primary}}),console.error("Error",n.message))}finally{c(!1)}};return e.jsx(re,{open:E,onClose:y,children:e.jsxs(Ce,{children:[e.jsxs(Ne,{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Family Member"}),e.jsx($,{isIconOnly:!0,variant:"light",onPress:y,className:"absolute top-2 right-2",children:e.jsx(V,{size:20})})]}),e.jsxs("form",{onSubmit:i,children:[e.jsx(Fe,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(S,{label:"Name",variant:"bordered",value:h.family_member_name||w.family_member_name||"",onChange:s=>_("family_member_name",s.target.value),isInvalid:!!a.family_member_name,errorMessage:a.family_member_name})}),e.jsx("div",{className:"col-span-1",children:e.jsx(S,{label:"Relationship",variant:"bordered",value:h.family_member_relationship||w.family_member_relationship||"",onChange:s=>_("family_member_relationship",s.target.value),isInvalid:!!a.family_member_relationship,errorMessage:a.family_member_relationship})}),e.jsx("div",{className:"col-span-1",children:e.jsx(S,{label:"Date of Birth",variant:"bordered",type:"date",value:h.family_member_dob||w.family_member_dob||"",onChange:s=>_("family_member_dob",s.target.value),isInvalid:!!a.family_member_dob,errorMessage:a.family_member_dob})}),e.jsx("div",{className:"col-span-1",children:e.jsx(S,{label:"Phone",variant:"bordered",value:h.family_member_phone||w.family_member_phone||"",onChange:s=>_("family_member_phone",s.target.value),isInvalid:!!a.family_member_phone,errorMessage:a.family_member_phone})})]})}),e.jsx(we,{className:"flex justify-end gap-2",children:e.jsx($,{isDisabled:!N,variant:"bordered",color:"primary",type:"submit",isLoading:p,className:"rounded-full px-4 py-2",children:"Submit"})})]})]})})},ja=({user:r,open:E,closeModal:y,setUser:F})=>{const[d,w]=m.useState({id:r.id}),[b,h]=m.useState(!1),[x,N]=m.useState(r.educations&&r.educations.length>0?r.educations:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),[l,a]=m.useState({}),[k,p]=m.useState(!1),c=ae(),o=(t,n,g)=>{const R=[...x];R[t]={...R[t],[n]:g},N(R);const v=R.filter((f,D)=>{const C=r.educations[D]||{},u=!C.id||f.institution!==C.institution||f.subject!==C.subject||f.degree!==C.degree||f.starting_date!==C.starting_date||f.complete_date!==C.complete_date||f.grade!==C.grade,M=C.id&&f.institution===C.institution&&f.subject===C.subject&&f.degree===C.degree&&f.starting_date===C.starting_date&&f.complete_date===C.complete_date&&f.grade===C.grade;return u&&!M});w(f=>({...f,educations:[...v]}));const B=v.length>0;h(B)},_=async t=>{const n=x[t],g=x.filter((R,v)=>v!==t);if(N(g.length>0?g:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),n.id){const R=new Promise(async(v,B)=>{try{const f=await fetch("/education/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:n.id,user_id:r.id})}),D=await f.json();f.ok?(w(C=>({...C,educations:D.educations})),F(C=>({...C,educations:D.educations})),v(D.message||"Education record deleted successfully.")):(a(D.errors),console.error(D.errors),B(D.error||"Failed to delete education record."))}catch(f){B(f)}});P.promise(R,{pending:{render(){return e.jsxs("div",{className:"flex items-center",children:[e.jsx(ie,{size:"sm"}),e.jsx("span",{className:"ml-2",children:"Deleting education record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}},success:{render({data:v}){return e.jsx(e.Fragment,{children:v})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}},error:{render({data:v}){return e.jsx(e.Fragment,{children:v})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}}})}},i=async t=>{t.preventDefault(),p(!0);const n=new Promise(async(g,R)=>{try{const v=await fetch("/education/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({educations:x.map(f=>({...f,user_id:r.id}))})}),B=await v.json();v.ok?(F(f=>({...f,educations:B.educations})),p(!1),y(),g([...B.messages])):(p(!1),a(B.errors),console.error(B.errors),R(B.error||"Failed to update education records."))}catch(v){p(!1),R(v.message||"An unexpected error occurred while updating education records.")}});P.promise(n,{pending:{render(){return e.jsxs("div",{className:"flex items-center",children:[e.jsx(ie,{size:"sm"}),e.jsx("span",{className:"ml-2",children:"Updating education records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}},success:{render({data:g}){return e.jsx(e.Fragment,{children:g.map((R,v)=>e.jsx("div",{children:R},v))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}},error:{render({data:g}){return e.jsx(e.Fragment,{children:g})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}}})},s=async()=>{N([...x,{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}])};return e.jsxs(re,{open:E,onClose:y,maxWidth:"md",fullWidth:!0,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Education Information"}),e.jsx($,{isIconOnly:!0,variant:"light",onPress:y,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(V,{size:20})})]}),e.jsxs("form",{onSubmit:i,children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[x.map((t,n)=>e.jsx("div",{children:e.jsx(de,{children:e.jsxs("div",{className:"p-4 relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-base font-semibold text-gray-900 dark:text-white",children:["Education #",n+1]}),e.jsx($,{isIconOnly:!0,variant:"light",onPress:()=>_(n),className:"text-red-500 hover:text-red-700",children:e.jsx(V,{size:16})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(S,{label:"Institution",value:t.institution||"",onChange:g=>o(n,"institution",g.target.value),isInvalid:!!l[`educations.${n}.institution`],errorMessage:l[`educations.${n}.institution`]?l[`educations.${n}.institution`][0]:""})}),e.jsx("div",{children:e.jsx(S,{label:"Degree",value:t.degree||"",onChange:g=>o(n,"degree",g.target.value),isInvalid:!!l[`educations.${n}.degree`],errorMessage:l[`educations.${n}.degree`]?l[`educations.${n}.degree`][0]:""})}),e.jsx("div",{children:e.jsx(S,{label:"Subject",value:t.subject||"",onChange:g=>o(n,"subject",g.target.value),isInvalid:!!l[`educations.${n}.subject`],errorMessage:l[`educations.${n}.subject`]?l[`educations.${n}.subject`][0]:""})}),e.jsx("div",{children:e.jsx(S,{label:"Started in",type:"month",value:t.starting_date||"",onChange:g=>o(n,"starting_date",g.target.value),isInvalid:!!l[`educations.${n}.starting_date`],errorMessage:l[`educations.${n}.starting_date`]?l[`educations.${n}.starting_date`][0]:""})}),e.jsx("div",{children:e.jsx(S,{label:"Completed in",type:"month",value:t.complete_date||"",onChange:g=>o(n,"complete_date",g.target.value),isInvalid:!!l[`educations.${n}.complete_date`],errorMessage:l[`educations.${n}.complete_date`]?l[`educations.${n}.complete_date`][0]:""})}),e.jsx("div",{children:e.jsx(S,{label:"Grade",value:t.grade||"",onChange:g=>o(n,"grade",g.target.value),isInvalid:!!l[`educations.${n}.grade`],errorMessage:l[`educations.${n}.grade`]?l[`educations.${n}.grade`][0]:""})})]})]})})},n)),e.jsx("div",{className:"mt-4",children:e.jsx($,{size:"sm",color:"danger",variant:"bordered",onPress:s,startContent:e.jsx(Le,{size:16}),children:"Add More"})})]})}),e.jsx("div",{className:"flex items-center justify-center p-6 border-t border-gray-200 dark:border-gray-700",children:e.jsx($,{isDisabled:!b,className:"rounded-full px-8",variant:"bordered",color:"primary",type:"submit",isLoading:k,children:"Submit"})})]})]})},va=({user:r,open:E,closeModal:y,setUser:F})=>{const[d,w]=m.useState({id:r.id}),[b,h]=m.useState(!1),[x,N]=m.useState(r.experiences.length>0?r.experiences:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),[l,a]=m.useState({}),[k,p]=m.useState(!1),c=ae(),o=(t,n,g)=>{const R=[...x];R[t]={...R[t],[n]:g},N(R);const v=R.filter((f,D)=>{const C=r.experiences[D]||{},u=!C.id||f.company_name!==C.company_name||f.location!==C.location||f.job_position!==C.job_position||f.period_from!==C.period_from||f.period_to!==C.period_to||f.description!==C.description,M=C.id&&f.company_name===C.company_name&&f.location===C.location&&f.job_position===C.job_position&&f.period_from===C.period_from&&f.period_to===C.period_to&&f.description===C.description;return u&&!M});w(f=>({...f,experiences:[...v]}));const B=v.length>0;h(B)},_=async t=>{const n=x[t],g=x.filter((R,v)=>v!==t);if(N(g.length>0?g:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),n.id){const R=new Promise(async(v,B)=>{try{const f=await fetch("/experience/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:n.id,user_id:r.id})}),D=await f.json();f.ok?(w(C=>({...C,experiences:D.experiences})),F(C=>({...C,experiences:D.experiences})),v(D.message||"Experience record deleted successfully."),y()):(a([...D.errors]),B(D.error||"Failed to delete experience record."))}catch(f){B(f)}});P.promise(R,{pending:{render(){return e.jsxs("div",{className:"flex items-center",children:[e.jsx(ie,{size:"sm"}),e.jsx("span",{className:"ml-2",children:"Deleting experience record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}},success:{render({data:v}){return e.jsx(e.Fragment,{children:v})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}},error:{render({data:v}){return e.jsx(e.Fragment,{children:v})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}}})}},i=async t=>{t.preventDefault(),p(!0);const n=new Promise(async(g,R)=>{try{const v=await fetch("/experience/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({experiences:x.map(f=>({...f,user_id:r.id}))})}),B=await v.json();v.ok?(F(f=>({...f,experiences:B.experiences})),p(!1),y(),g([...B.messages])):(p(!1),a(B.errors),console.error(B.errors),R(B.error||"Failed to update experience records."))}catch(v){p(!1),R(v.message||"An unexpected error occurred while updating experience records.")}});P.promise(n,{pending:{render(){return e.jsxs("div",{className:"flex items-center",children:[e.jsx(ie,{size:"sm"}),e.jsx("span",{className:"ml-2",children:"Updating experience records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}},success:{render({data:g}){return e.jsx(e.Fragment,{children:g.map((R,v)=>e.jsx("div",{children:R},v))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}},error:{render({data:g}){return e.jsx(e.Fragment,{children:g})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:c.glassCard.background,border:c.glassCard.border,color:c.palette.text.primary}}})},s=async()=>{N([...x,{company:"",role:"",start_date:"",end_date:"",responsibilities:""}])};return e.jsxs(re,{open:E,onClose:y,maxWidth:"md",fullWidth:!0,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Experience Information"}),e.jsx($,{isIconOnly:!0,variant:"light",onPress:y,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(V,{size:20})})]}),e.jsxs("form",{onSubmit:i,children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[x.map((t,n)=>e.jsx("div",{children:e.jsx(de,{children:e.jsxs("div",{className:"p-4 relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-base font-semibold text-gray-900 dark:text-white",children:["Experience #",n+1]}),e.jsx($,{isIconOnly:!0,variant:"light",onPress:()=>_(n),className:"text-red-500 hover:text-red-700",children:e.jsx(V,{size:16})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(S,{label:"Company",value:t.company_name||"",onChange:g=>o(n,"company_name",g.target.value),isInvalid:!!l[`experiences.${n}.company_name`],errorMessage:l[`experiences.${n}.company_name`]?l[`experiences.${n}.company_name`][0]:""})}),e.jsx("div",{children:e.jsx(S,{label:"Location",value:t.location||"",onChange:g=>o(n,"location",g.target.value),isInvalid:!!l[`experiences.${n}.location`],errorMessage:l[`experiences.${n}.location`]?l[`experiences.${n}.location`][0]:""})}),e.jsx("div",{children:e.jsx(S,{label:"Role",value:t.job_position||"",onChange:g=>o(n,"job_position",g.target.value),isInvalid:!!l[`experiences.${n}.job_position`],errorMessage:l[`experiences.${n}.job_position`]?l[`experiences.${n}.job_position`][0]:""})}),e.jsx("div",{children:e.jsx(S,{label:"Started From",type:"date",value:t.period_from||"",onChange:g=>o(n,"period_from",g.target.value),isInvalid:!!l[`experiences.${n}.period_from`],errorMessage:l[`experiences.${n}.period_from`]?l[`experiences.${n}.period_from`][0]:""})}),e.jsx("div",{children:e.jsx(S,{label:"Ended On",type:"date",value:t.period_to||"",onChange:g=>o(n,"period_to",g.target.value),isInvalid:!!l[`experiences.${n}.period_to`],errorMessage:l[`experiences.${n}.period_to`]?l[`experiences.${n}.period_to`][0]:""})}),e.jsx("div",{className:"col-span-full",children:e.jsx(S,{label:"Responsibilities",value:t.description||"",onChange:g=>o(n,"description",g.target.value),isInvalid:!!l[`experiences.${n}.description`],errorMessage:l[`experiences.${n}.description`]?l[`experiences.${n}.description`][0]:""})})]})]})})},n)),e.jsx($,{size:"sm",color:"danger",variant:"bordered",onPress:s,startContent:e.jsx(Le,{size:16}),children:"Add More"})]})}),e.jsx("div",{className:"flex items-center justify-center p-6 border-t border-gray-200 dark:border-gray-700",children:e.jsx($,{isDisabled:!b,className:"rounded-full px-8",variant:"bordered",color:"primary",type:"submit",isLoading:k,children:"Submit"})})]})]})},Ca=({user:r,setUser:E})=>{const[y,F]=m.useState({id:r.id,salary_basis:r.salary_basis||"",salary_amount:r.salary_amount||"",payment_type:r.payment_type||"",pf_contribution:r.pf_contribution??!1,pf_no:r.pf_no||"",employee_pf_rate:r.employee_pf_rate||0,additional_pf_rate:r.additional_pf_rate||0,total_pf_rate:r.total_pf_rate||0,esi_contribution:r.esi_contribution??!1,esi_no:r.esi_no||"",employee_esi_rate:r.employee_esi_rate||0,additional_esi_rate:r.additional_esi_rate||0,total_esi_rate:r.total_esi_rate||0}),[d,w]=m.useState({id:r.id}),[b,h]=m.useState(!1),[x,N]=m.useState({}),[l,a]=m.useState(!1),{isDark:k}=ae();getThemePrimaryColor();const p=(o,_)=>{F(i=>{const s={...i,[o]:_};return _===""&&delete s[o],o==="pf_contribution"&&_===0?(s.pf_no="",s.employee_pf_rate=0,s.additional_pf_rate=0,s.total_pf_rate=0):(o==="employee_pf_rate"||o==="additional_pf_rate")&&(s.total_pf_rate=s.employee_pf_rate+s.additional_pf_rate),o==="esi_contribution"&&_===0?(s.esi_no="",s.employee_esi_rate=0,s.additional_esi_rate=0,s.total_esi_rate=0):(o==="employee_esi_rate"||o==="additional_esi_rate")&&(s.total_esi_rate=s.employee_esi_rate+s.additional_esi_rate),s}),w(i=>{const s={...i,[o]:_};return _===""&&delete s[o],o==="pf_contribution"&&_===0?(s.pf_no="",s.employee_pf_rate=0,s.additional_pf_rate=0,s.total_pf_rate=0):(o==="employee_pf_rate"||o==="additional_pf_rate")&&(s.total_pf_rate=s.employee_pf_rate+s.additional_pf_rate),o==="esi_contribution"&&_===0?(s.esi_no="",s.employee_esi_rate=0,s.additional_esi_rate=0,s.total_esi_rate=0):(o==="employee_esi_rate"||o==="additional_esi_rate")&&(s.total_esi_rate=s.employee_esi_rate+s.additional_esi_rate),s})};m.useEffect(()=>{for(const _ in d)_!=="id"&&d[_]===r[_]&&delete d[_];const o=Object.keys(d).filter(_=>_!=="id").length>0;h(o)},[y,d,r]);const c=async o=>{var _,i,s;o.preventDefault(),a(!0);try{const t=await axios.post(route("profile.update"),{ruleSet:"salary",...y});t.status===200?(E(t.data.user),a(!1),P.success(((_=t.data.messages)==null?void 0:_.length)>0?t.data.messages.join(" "):"Salary information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,color:theme.palette.text.primary}})):(a(!1),N(t.data.errors),P.error(t.data.error||"Failed to update salary information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,color:theme.palette.text.primary}}))}catch(t){a(!1),P.error(((s=(i=t.response)==null?void 0:i.data)==null?void 0:s.message)||"An unexpected error occurred.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,color:theme.palette.text.primary}}),console.error(t)}};return e.jsx(Grid,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:e.jsx(Grid,{item:!0,xs:12,md:12,sx:{display:"flex",flexDirection:"column"},children:e.jsxs(de,{children:[e.jsx(ve,{title:"Salary & Statutory Information"}),e.jsxs("form",{onSubmit:c,children:[e.jsxs(CardContent,{children:[e.jsx(Typography,{sx:{fontWeight:"bold",m:2},children:"Salary Information"}),e.jsxs(Grid,{container:!0,spacing:3,children:[e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"salary-basis-label",children:"Salary basis"}),e.jsxs(O,{labelId:"salary-basis-label",value:d.salary_basis||y.salary_basis||"na",onChange:o=>p("salary_basis",o.target.value),error:!!x.salary_basis,helperText:x.salary_basis,label:"Salary basis",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select salary basis type"}),e.jsx(MenuItem,{value:"Hourly",children:"Hourly"}),e.jsx(MenuItem,{value:"Daily",children:"Daily"}),e.jsx(MenuItem,{value:"Weekly",children:"Weekly"}),e.jsx(MenuItem,{value:"Monthly",children:"Monthly"})]})]})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsx(TextField,{label:"Salary amount",type:"number",fullWidth:!0,placeholder:"Type your salary amount",value:d.salary_amount||y.salary_amount||"",onChange:o=>p("salary_amount",o.target.value),InputProps:{startAdornment:e.jsx(InputAdornment,{position:"start",children:"$"})},error:!!x.salary_amount,helperText:x.salary_amount})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"payment-type-label",children:"Payment type"}),e.jsxs(O,{labelId:"payment-type-label",label:"Payment type",id:`gender-select-${r.id}`,value:d.payment_type||y.payment_type||"na",onChange:o=>p("payment_type",o.target.value),error:!!x.payment_type,helperText:x.payment_type,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select payment type"}),e.jsx(MenuItem,{value:"Bank transfer",children:"Bank transfer"}),e.jsx(MenuItem,{value:"Check",children:"Check"}),e.jsx(MenuItem,{value:"Cash",children:"Cash"})]})]})})]}),e.jsx(ue,{sx:{my:3}}),e.jsx(Typography,{sx:{fontWeight:"bold",m:2},children:"PF Information"}),e.jsxs(Grid,{container:!0,spacing:3,children:[e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"pf-contribution-label",children:"PF contribution"}),e.jsxs(O,{labelId:"pf-contribution-label",label:"PF contribution",id:`gender-select-${r.id}`,value:d.pf_contribution!==void 0?d.pf_contribution:y.pf_contribution!==void 0?y.pf_contribution:"na",onChange:o=>p("pf_contribution",o.target.value),error:!!x.pf_contribution,helperText:x.pf_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select PF contribution"}),e.jsx(MenuItem,{value:1,children:"Yes"}),e.jsx(MenuItem,{value:0,children:"No"})]})]})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsx(TextField,{disabled:!(d.pf_contribution||y.pf_contribution),InputLabelProps:{shrink:!0},label:"PF No.",fullWidth:!0,type:"text",placeholder:"Enter PF No.",value:d.pf_no||y.pf_no,onChange:o=>p("pf_no",o.target.value),error:!!x.pf_no,helperText:x.pf_no})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"employee-pf-rate-label",children:"Employee PF rate"}),e.jsxs(O,{disabled:!(d.pf_contribution||y.pf_contribution),labelId:"employee-pf-rate-label",label:"Employee PF rate",value:d.employee_pf_rate||y.employee_pf_rate||"na",onChange:o=>p("employee_pf_rate",o.target.value),error:!!x.employee_pf_rate,helperText:x.employee_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select pf rate"}),[...Array(11).keys()].map(o=>e.jsxs(MenuItem,{value:o,children:[o,"%"]},o))]})]})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"additional-rate-label",children:"Additional rate"}),e.jsxs(O,{disabled:!(d.pf_contribution||y.pf_contribution),labelId:"additional-rate-label",label:"Additional rate",id:`gender-select-${r.id}`,value:d.additional_pf_rate||y.additional_pf_rate||"na",onChange:o=>p("additional_pf_rate",o.target.value),error:!!x.additional_pf_rate,helperText:x.additional_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(o=>e.jsxs(MenuItem,{value:o,children:[o,"%"]},o))]})]})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsx(TextField,{disabled:!(d.pf_contribution||y.pf_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:d.total_pf_rate||y.total_pf_rate?`${d.total_pf_rate||y.total_pf_rate}%`:"",InputProps:{readOnly:!0},error:!!x.total_pf_rate,helperText:x.total_pf_rate})})]}),e.jsx(ue,{sx:{my:3}}),e.jsx(Typography,{sx:{fontWeight:"bold",m:2},children:"ESI Information"}),e.jsxs(Grid,{container:!0,spacing:3,children:[e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"esi-contribution-label",children:"ESI contribution"}),e.jsxs(O,{labelId:"esi-contribution-label",label:"ESI contribution",value:d.esi_contribution!==void 0?d.esi_contribution:y.esi_contribution!==void 0?y.esi_contribution:"na",onChange:o=>p("esi_contribution",o.target.value),error:!!x.esi_contribution,helperText:x.esi_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select ESI contribution"}),e.jsx(MenuItem,{value:1,children:"Yes"}),e.jsx(MenuItem,{value:0,children:"No"})]})]})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsx(TextField,{disabled:!(d.esi_contribution||y.esi_contribution),InputLabelProps:{shrink:!0},label:"ESI No.",fullWidth:!0,type:"text",placeholder:"Enter ESI No.",value:d.esi_no||y.esi_no,onChange:o=>p("esi_no",o.target.value),error:!!x.esi_no,helperText:x.esi_no})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"esi-contribution-label",children:"Employee ESI rate"}),e.jsxs(O,{disabled:!(d.esi_contribution||y.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:d.employee_esi_rate||y.employee_esi_rate||"na",onChange:o=>p("employee_esi_rate",o.target.value),error:!!x.employee_esi_rate,helperText:x.employee_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select esi rate"}),[...Array(11).keys()].map(o=>e.jsxs(MenuItem,{value:o,children:[o,"%"]},o))]})]})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsxs(FormControl,{fullWidth:!0,children:[e.jsx(InputLabel,{id:"esi-contribution-label",children:"Additional rate"}),e.jsxs(O,{disabled:!(d.esi_contribution||y.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:d.additional_esi_rate||y.additional_esi_rate||"na",onChange:o=>p("additional_esi_rate",o.target.value),error:!!x.additional_esi_rate,helperText:x.additional_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:theme.glassCard.background,border:theme.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e.jsx(MenuItem,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(o=>e.jsxs(MenuItem,{value:o,children:[o,"%"]},o))]})]})}),e.jsx(Grid,{item:!0,xs:12,md:4,children:e.jsx(TextField,{disabled:!(d.esi_contribution||y.esi_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:d.total_esi_rate||y.total_esi_rate?`${d.total_esi_rate||y.total_esi_rate}%`:"",InputProps:{readOnly:!0},error:!!x.total_esi_rate,helperText:x.total_esi_rate})})]})]}),e.jsx(CardActions,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e.jsx(LoadingButton,{disabled:!b,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:l,children:"Submit"})})]})]})})})},Na=({title:r,allUsers:E,report_to:y,departments:F,designations:d})=>{var ke,Se,Ie,Pe;const{auth:w}=Ee().props,{isDark:b}=useTheme(),[h,x]=m.useState(!1),[N,l]=m.useState(!1);m.useEffect(()=>{const j=()=>{x(window.innerWidth<640),l(window.innerWidth<768)};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const[a,k]=m.useState(Ee().props.user),[p,c]=m.useState("overview"),[o,_]=m.useState(!1),[i,s]=m.useState({profile:!1,personal:!1,emergency:!1,bank:!1,family:!1,education:!1,experience:!1,salary:!1}),[t,n]=m.useState({search:"",section:"all",completionStatus:"all",showEmpty:!0}),[g,R]=m.useState(!1),[v,B]=m.useState({completion_percentage:0,total_sections:8,completed_sections:0,last_updated:null,profile_views:0}),f=((ke=w.permissions)==null?void 0:ke.includes("profile.own.update"))||((Se=w.permissions)==null?void 0:Se.includes("profile.update"))||w.user.id===a.id,D=((Ie=w.permissions)==null?void 0:Ie.includes("profile.own.view"))||((Pe=w.permissions)==null?void 0:Pe.includes("profile.view"))||w.user.id===a.id,C=m.useCallback(j=>{s(T=>({...T,[j]:!0}))},[]),u=m.useCallback(j=>{s(T=>({...T,[j]:!1}))},[]),M=m.useCallback((j,T)=>{n(ce=>({...ce,[j]:T}))},[]),I=m.useCallback(()=>{const j=[a.name&&a.email,a.phone&&a.address,a.birthday&&a.gender,a.department&&a.designation,a.emergency_contact_primary_name,a.bank_name||a.bank_account_no,a.educations&&a.educations.length>0,a.experiences&&a.experiences.length>0],T=j.filter(Boolean).length,ce=Math.round(T/j.length*100);return B(Ge=>({...Ge,completion_percentage:ce,completed_sections:T,total_sections:j.length})),{completed:T,total:j.length,percentage:ce}},[a]),z=m.useCallback(async()=>{try{const j=await qe.get(route("profile.stats",{user:a.id}));j.data.stats&&B(T=>({...T,...j.data.stats}))}catch(j){console.error("Error fetching profile stats:",j),I()}},[a.id,I]);m.useEffect(()=>{I(),z()},[I,z]);const U=m.useCallback(j=>{j&&k(j),I(),z(),P.success("Profile updated successfully")},[I,z]),X=m.useMemo(()=>[{title:"Profile Completion",value:`${v.completion_percentage}%`,icon:e.jsx(xe,{}),color:v.completion_percentage>=80?"text-green-400":v.completion_percentage>=50?"text-orange-400":"text-red-400",iconBg:v.completion_percentage>=80?"bg-green-500/20":v.completion_percentage>=50?"bg-orange-500/20":"bg-red-500/20",description:`${v.completed_sections}/${v.total_sections} sections completed`},{title:"Last Updated",value:v.last_updated?oa(v.last_updated).fromNow():"Never",icon:e.jsx(Ve,{}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"Profile last modified"},{title:"Profile Views",value:v.profile_views||0,icon:e.jsx(na,{}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Times profile viewed"},{title:"Account Status",value:a.active?"Active":"Inactive",icon:a.active?e.jsx(xe,{}):e.jsx(le,{}),color:a.active?"text-green-400":"text-red-400",iconBg:a.active?"bg-green-500/20":"bg-red-500/20",description:"Current account status"}],[v,a.active]),G=m.useMemo(()=>{const j=[];return f&&j.push({label:h?"Edit":"Edit Profile",icon:e.jsx(ia,{className:"w-4 h-4"}),onPress:()=>C("profile"),color:"primary",variant:"solid"}),j.push({label:h?"":"Export",isIconOnly:h,icon:e.jsx(Be,{className:"w-4 h-4"}),color:"default",variant:"bordered"}),j},[f,h,C]),q=m.useCallback(j=>{switch(j){case"personal":return!a.passport_no&&!a.nationality&&!a.religion&&!a.marital_status;case"emergency":return!a.emergency_contact_primary_name&&!a.emergency_contact_secondary_name;case"bank":return!a.bank_name&&!a.bank_account_no&&!a.ifsc_code&&!a.pan_no;case"family":return!a.family_member_name&&!a.family_member_relationship;case"education":return!a.educations||a.educations.length===0;case"experience":return!a.experiences||a.experiences.length===0;default:return!1}},[a]),W=m.useCallback(j=>{switch(j){case"personal":return!!(a.passport_no&&a.nationality&&a.religion&&a.marital_status);case"emergency":return!!(a.emergency_contact_primary_name&&a.emergency_contact_primary_phone);case"bank":return!!(a.bank_name&&a.bank_account_no);case"family":return!!(a.family_member_name&&a.family_member_relationship);case"education":return!!(a.educations&&a.educations.length>0);case"experience":return!!(a.experiences&&a.experiences.length>0);default:return!1}},[a]);if(!D)return e.jsxs(ye,{children:[e.jsx(De,{title:r}),e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsx(oe,{className:"bg-white/10 backdrop-blur-md border-white/20 max-w-md",children:e.jsxs(ne,{className:"p-8 text-center",children:[e.jsx(le,{className:"w-16 h-16 text-warning-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-default-500",children:"You don't have permission to view this profile."})]})})})]});const he=()=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Z,{title:"Personal Information",icon:e.jsx(Y,{}),onEdit:()=>C("personal"),canEdit:f,isEmpty:q("personal"),isCompleted:W("personal"),children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(A,{label:"Passport No.",value:a.passport_no,icon:e.jsx(Y,{})}),e.jsx(A,{label:"Passport Expiry",value:a.passport_exp_date,type:"date",icon:e.jsx(fe,{})}),e.jsx(A,{label:"NID No.",value:a.nid,icon:e.jsx(Y,{})}),e.jsx(A,{label:"Nationality",value:a.nationality,icon:e.jsx(da,{})}),e.jsx(A,{label:"Religion",value:a.religion,icon:e.jsx(Q,{})}),e.jsx(A,{label:"Marital Status",value:a.marital_status,type:"chip",icon:e.jsx(me,{})}),e.jsx(A,{label:"Spouse Employment",value:a.employment_of_spouse,icon:e.jsx(se,{})}),e.jsx(A,{label:"Children",value:a.number_of_children,icon:e.jsx(be,{}),showDivider:!1})]})}),e.jsx(Z,{title:"Emergency Contacts",icon:e.jsx(ee,{}),onEdit:()=>C("emergency"),canEdit:f,isEmpty:q("emergency"),isCompleted:W("emergency"),children:e.jsxs("div",{className:"space-y-4",children:[a.emergency_contact_primary_name&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-semibold text-foreground mb-2",children:"Primary Contact"}),e.jsxs("div",{className:"space-y-1 pl-4 border-l-2 border-primary-500",children:[e.jsx(A,{label:"Name",value:a.emergency_contact_primary_name,icon:e.jsx(Q,{})}),e.jsx(A,{label:"Relationship",value:a.emergency_contact_primary_relationship,icon:e.jsx(me,{})}),e.jsx(A,{label:"Phone",value:a.emergency_contact_primary_phone,type:"phone",icon:e.jsx(ee,{}),showDivider:!1})]})]}),a.emergency_contact_secondary_name&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-semibold text-foreground mb-2",children:"Secondary Contact"}),e.jsxs("div",{className:"space-y-1 pl-4 border-l-2 border-secondary-500",children:[e.jsx(A,{label:"Name",value:a.emergency_contact_secondary_name,icon:e.jsx(Q,{})}),e.jsx(A,{label:"Relationship",value:a.emergency_contact_secondary_relationship,icon:e.jsx(me,{})}),e.jsx(A,{label:"Phone",value:a.emergency_contact_secondary_phone,type:"phone",icon:e.jsx(ee,{}),showDivider:!1})]})]})]})}),e.jsx(Z,{title:"Banking Information",icon:e.jsx(Re,{}),onEdit:()=>C("bank"),canEdit:f,isEmpty:q("bank"),isCompleted:W("bank"),children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(A,{label:"Bank Name",value:a.bank_name,icon:e.jsx(Qe,{})}),e.jsx(A,{label:"Account Number",value:a.bank_account_no,icon:e.jsx(Y,{})}),e.jsx(A,{label:"IFSC Code",value:a.ifsc_code,icon:e.jsx(Y,{})}),e.jsx(A,{label:"PAN Number",value:a.pan_no,icon:e.jsx(Y,{}),showDivider:!1})]})}),e.jsx(Z,{title:"Family Information",icon:e.jsx(be,{}),onEdit:()=>C("family"),canEdit:f,isEmpty:q("family"),isCompleted:W("family"),children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(A,{label:"Member Name",value:a.family_member_name,icon:e.jsx(Q,{})}),e.jsx(A,{label:"Relationship",value:a.family_member_relationship,icon:e.jsx(me,{})}),e.jsx(A,{label:"Date of Birth",value:a.family_member_dob,type:"date",icon:e.jsx(fe,{})}),e.jsx(A,{label:"Phone",value:a.family_member_phone,type:"phone",icon:e.jsx(ee,{}),showDivider:!1})]})}),e.jsx(Z,{title:"Education History",icon:e.jsx(Me,{}),onEdit:()=>C("education"),canEdit:f,isEmpty:q("education"),isCompleted:W("education"),className:"lg:col-span-2",children:a.educations&&a.educations.length>0?e.jsx("div",{className:"space-y-4",children:a.educations.map((j,T)=>e.jsxs(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.1},className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[e.jsx("h5",{className:"font-semibold text-foreground mb-2",children:j.institution}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-default-500",children:"Degree:"}),e.jsx("p",{className:"font-medium",children:j.degree||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-default-500",children:"Start Date:"}),e.jsx("p",{className:"font-medium",children:j.starting_date?new Date(j.starting_date).getFullYear():"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-default-500",children:"End Date:"}),e.jsx("p",{className:"font-medium",children:j.complete_date?new Date(j.complete_date).getFullYear():"N/A"})]})]})]},j.id||T))}):null}),e.jsx(Z,{title:"Work Experience",icon:e.jsx(se,{}),onEdit:()=>C("experience"),canEdit:f,isEmpty:q("experience"),isCompleted:W("experience"),className:"lg:col-span-2",children:a.experiences&&a.experiences.length>0?e.jsx("div",{className:"space-y-4",children:a.experiences.map((j,T)=>e.jsxs(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.1},className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[e.jsx("h5",{className:"font-semibold text-foreground mb-1",children:j.job_position}),e.jsx("p",{className:"text-primary-400 font-medium mb-2",children:j.company_name}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-default-500",children:"Duration:"}),e.jsxs("p",{className:"font-medium",children:[j.period_from?new Date(j.period_from).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"N/A"," ","- ",j.period_to?new Date(j.period_to).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Present"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-default-500",children:"Location:"}),e.jsx("p",{className:"font-medium",children:j.location||"N/A"})]})]}),j.description&&e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"text-default-500 text-sm",children:"Description:"}),e.jsx("p",{className:"text-sm mt-1",children:j.description})]})]},T))}):null})]}),Oe=()=>e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"p-8 bg-white/5 rounded-lg border border-white/10 max-w-md mx-auto",children:[e.jsx(se,{className:"w-16 h-16 text-default-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Projects Coming Soon"}),e.jsx("p",{className:"text-default-500 text-sm",children:"Project management integration will be available in a future update."})]})}),Ue=()=>e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"p-8 bg-white/5 rounded-lg border border-white/10 max-w-md mx-auto",children:[e.jsx(ge,{className:"w-16 h-16 text-default-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Salary Information"}),e.jsx("p",{className:"text-default-500 text-sm mb-4",children:"Access detailed salary and compensation information."}),f&&e.jsx($,{color:"primary",variant:"bordered",onPress:()=>C("salary"),startContent:e.jsx(ge,{className:"w-4 h-4"}),children:"View Salary Details"})]})}),ze=()=>e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"p-8 bg-white/5 rounded-lg border border-white/10 max-w-md mx-auto",children:[e.jsx(ca,{className:"w-16 h-16 text-default-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Assets Coming Soon"}),e.jsx("p",{className:"text-default-500 text-sm",children:"Asset management and tracking will be available in a future update."})]})}),We=()=>e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"p-8 bg-white/5 rounded-lg border border-white/10 max-w-md mx-auto",children:[e.jsx(Be,{className:"w-16 h-16 text-default-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Documents Coming Soon"}),e.jsx("p",{className:"text-default-500 text-sm",children:"Document management and storage will be available in a future update."})]})});return e.jsxs(ye,{children:[e.jsx(De,{title:a.name}),e.jsxs(pe,{children:[i.profile&&e.jsx(K,{isOpen:i.profile,onClose:()=>u("profile"),title:"Edit Profile",subtitle:"Update your basic profile information",icon:e.jsx(Q,{}),showFooter:!1,children:e.jsx(ba,{user:a,allUsers:E,departments:F,designations:d,open:i.profile,setUser:k,closeModal:()=>u("profile"),onSuccess:U})}),i.personal&&e.jsx(K,{isOpen:i.personal,onClose:()=>u("personal"),title:"Personal Information",subtitle:"Update your personal details and identification",icon:e.jsx(Y,{}),showFooter:!1,children:e.jsx(ga,{user:a,open:i.personal,setUser:k,closeModal:()=>u("personal"),onSuccess:U})}),i.emergency&&e.jsx(K,{isOpen:i.emergency,onClose:()=>u("emergency"),title:"Emergency Contacts",subtitle:"Manage your emergency contact information",icon:e.jsx(ee,{}),showFooter:!1,children:e.jsx(fa,{user:a,open:i.emergency,setUser:k,closeModal:()=>u("emergency"),onSuccess:U})}),i.bank&&e.jsx(K,{isOpen:i.bank,onClose:()=>u("bank"),title:"Banking Information",subtitle:"Update your banking and financial details",icon:e.jsx(Re,{}),showFooter:!1,children:e.jsx(ya,{user:a,open:i.bank,setUser:k,closeModal:()=>u("bank"),onSuccess:U})}),i.family&&e.jsx(K,{isOpen:i.family,onClose:()=>u("family"),title:"Family Information",subtitle:"Add or update family member details",icon:e.jsx(be,{}),showFooter:!1,children:e.jsx(_a,{user:a,open:i.family,setUser:k,closeModal:()=>u("family"),onSuccess:U})}),i.education&&e.jsx(K,{isOpen:i.education,onClose:()=>u("education"),title:"Education History",subtitle:"Manage your educational background",icon:e.jsx(Me,{}),showFooter:!1,children:e.jsx(ja,{user:a,open:i.education,setUser:k,closeModal:()=>u("education"),onSuccess:U})}),i.experience&&e.jsx(K,{isOpen:i.experience,onClose:()=>u("experience"),title:"Work Experience",subtitle:"Update your professional experience",icon:e.jsx(se,{}),showFooter:!1,children:e.jsx(va,{user:a,open:i.experience,setUser:k,closeModal:()=>u("experience"),onSuccess:U})}),i.salary&&e.jsx(K,{isOpen:i.salary,onClose:()=>u("salary"),title:"Salary Information",subtitle:"Review salary and compensation details",icon:e.jsx(ge,{}),showFooter:!1,children:e.jsx(Ca,{user:a,setUser:k})})]}),e.jsx(Ze,{title:`${a.name}'s Profile`,subtitle:"Comprehensive employee profile management with advanced features",icon:e.jsx(Q,{className:"w-8 h-8"}),variant:"default",actionButtons:G}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx(ea,{stats:X})}),e.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e.jsx(ha,{user:a,departments:F,designations:d,onEditClick:()=>C("profile"),profileStats:v,canEdit:f})}),e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(S,{label:"Search Profile Sections",placeholder:"Search sections, fields, or content...",value:t.search,onChange:j=>M("search",j.target.value),startContent:e.jsx(Xe,{className:"w-4 h-4",style:{color:"var(--theme-foreground-400, #71717A)"}}),variant:"bordered",size:h?"sm":"md",style:{borderRadius:"var(--borderRadius, 12px)",fontFamily:'var(--fontFamily, "Inter")'}})}),e.jsx("div",{className:"flex gap-2 items-end",children:e.jsx(ma,{variant:"bordered",className:"bg-white/5",children:e.jsxs($,{isIconOnly:h,color:g?"primary":"default",onPress:()=>R(!g),className:g?"bg-purple-500/20":"bg-white/5",children:[e.jsx(la,{className:"w-4 h-4"}),!h&&e.jsx("span",{className:"ml-1",children:"Filters"})]})})})]}),e.jsx(pe,{children:g&&e.jsx(L.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx(oe,{className:"bg-white/10 backdrop-blur-md border-white/20",children:e.jsxs(ne,{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(FormControl,{fullWidth:!0,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:2,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.15)"},"&.Mui-focused":{backgroundColor:"rgba(255, 255, 255, 0.2)"}},"& .MuiInputLabel-root":{color:"text.secondary"}},children:[e.jsx(InputLabel,{children:"Profile Section"}),e.jsxs(O,{value:t.section||"all",label:"Profile Section",onChange:j=>M("section",j.target.value),children:[e.jsx(MenuItem,{value:"all",children:"All Sections"}),e.jsx(MenuItem,{value:"basic",children:"Basic Information"}),e.jsx(MenuItem,{value:"personal",children:"Personal Details"}),e.jsx(MenuItem,{value:"work",children:"Work Information"}),e.jsx(MenuItem,{value:"emergency",children:"Emergency Contacts"}),e.jsx(MenuItem,{value:"bank",children:"Banking Details"}),e.jsx(MenuItem,{value:"education",children:"Education"}),e.jsx(MenuItem,{value:"experience",children:"Experience"})]})]}),e.jsxs(FormControl,{fullWidth:!0,variant:"outlined",sx:{"& .MuiOutlinedInput-root":{backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:2,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.15)"},"&.Mui-focused":{backgroundColor:"rgba(255, 255, 255, 0.2)"}},"& .MuiInputLabel-root":{color:"text.secondary"}},children:[e.jsx(InputLabel,{children:"Completion Status"}),e.jsxs(O,{value:t.completionStatus||"all",label:"Completion Status",onChange:j=>M("completionStatus",j.target.value),children:[e.jsx(MenuItem,{value:"all",children:"All Status"}),e.jsx(MenuItem,{value:"completed",children:"Completed"}),e.jsx(MenuItem,{value:"incomplete",children:"Incomplete"}),e.jsx(MenuItem,{value:"empty",children:"Empty"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-default-600",children:"Show Empty:"}),e.jsx($,{size:"sm",variant:t.showEmpty?"solid":"bordered",color:t.showEmpty?"primary":"default",onPress:()=>M("showEmpty",!t.showEmpty),children:t.showEmpty?"Yes":"No"})]})]}),(t.search||t.section!=="all"||t.completionStatus!=="all")&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-white/10",children:[t.search&&e.jsxs(J,{variant:"flat",color:"primary",size:"sm",onClose:()=>M("search",""),children:["Search: ",t.search]}),t.section!=="all"&&e.jsxs(J,{variant:"flat",color:"secondary",size:"sm",onClose:()=>M("section","all"),children:["Section: ",t.section]}),t.completionStatus!=="all"&&e.jsxs(J,{variant:"flat",color:"warning",size:"sm",onClose:()=>M("completionStatus","all"),children:["Status: ",t.completionStatus]})]})]})})})}),e.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e.jsx(oe,{className:"bg-white/10 backdrop-blur-md border-white/20",children:e.jsxs(ne,{className:"p-0",children:[e.jsxs(Ye,{selectedKey:p,onSelectionChange:c,variant:"underlined",classNames:{tabList:"gap-6 w-full relative rounded-none p-4 border-b border-white/10",cursor:"w-full bg-primary-500",tab:"max-w-fit px-4 h-12",tabContent:"group-data-[selected=true]:text-primary-foreground text-default-600 font-medium"},children:[e.jsx(te,{title:"Overview"},"overview"),e.jsx(te,{title:"Projects"},"projects"),e.jsx(te,{title:"Salary & Benefits"},"salary"),e.jsx(te,{title:"Assets"},"assets"),e.jsx(te,{title:"Documents"},"documents")]}),e.jsx("div",{className:"p-6",children:e.jsxs(pe,{mode:"wait",children:[p==="overview"&&e.jsx(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:he()},"overview"),p==="projects"&&e.jsx(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:Oe()},"projects"),p==="salary"&&e.jsx(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:Ue()},"salary"),p==="assets"&&e.jsx(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:ze()},"assets"),p==="documents"&&e.jsx(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:We()},"documents")]})})]})})})]})]})};Na.layout=r=>e.jsx(ye,{children:r});export{Na as default};
