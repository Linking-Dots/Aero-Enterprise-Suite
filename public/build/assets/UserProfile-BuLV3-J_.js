import{j as e,a as r,b as q,u as We,H as Ue}from"./app-BiR4HUU6.js";import{r as h,l as L,R as Ae,A as Fe}from"./react-core-SLWS96gT.js";import{P as Qe,p as ge,f as je,q as ue,n as Ke,B as j,e as Ze,A as $e,s as Le,b as Be,i as Me,t as Te,c as er,h as rr}from"./App-WMq6RoU3.js";import{P as ar}from"./PageHeader-Bpq-xkFY.js";import{S as tr}from"./StatsCards-BERqnUUA.js";import{F as Ee}from"./CheckCircleIcon-CDPGBXlV.js";import{F as ye}from"./ExclamationTriangleIcon-EI717oj0.js";import{F as Re}from"./PencilIcon-KhnBq3g6.js";import{F as or}from"./HashtagIcon-VyvdHRWi.js";import{F as nr}from"./EnvelopeIcon-C4jDV72b.js";import{F as ir}from"./MapPinIcon-880aLkdn.js";import{d as Je,U as lr,f as ae,b as Z,p as sr,e as xe,j as Oe,g as _e,C as dr,w as cr,x as pr,y as mr,B as ur,i as hr,D as br,s as qe,l as V,E as gr,F as be}from"./ui-libraries-CePrafQA.js";import{C as we}from"./Clear-CdK_0SvM.js";import{G as le}from"./GlassDialog-DV54zn6N.js";import{u as ee,p as se,T as z,o as X,h as m,B as he,a6 as fr,i as S,j as H,I as G,k as K,M as B,m as fe,q as de,r as ce,f as ve,e as Ce,s as Ve,C as xr,a9 as _r,t as ze,n as yr,a as He}from"./mui-libraries-CQTi8RHu.js";import{P as vr}from"./PhotoCamera-Bc15zNHu.js";import{L as te}from"./LoadingButton-ClHswgR_.js";import{G as ke}from"./logo-Bl0iXllB.js";import{C as De}from"./Clear-BDi6Vwln.js";import{A as Ye}from"./Add-DnwAGdHM.js";import{a as Cr}from"./utilities-DyZVG5is.js";import{d as kr}from"./dayjs.min-wsu5DwR-.js";import{F as wr}from"./ChartBarIcon-B6NbD6y8.js";import{F as Nr}from"./UserPlusIcon-HaxtqVIQ.js";import{F as Ge}from"./DocumentArrowDownIcon-Z7LEdu9S.js";import{F as pe}from"./UserIcon-CGZSeVa1.js";import{F as ie}from"./IdentificationIcon-B8lzZksZ.js";import{F as Sr}from"./AdjustmentsHorizontalIcon-DtQJ8a7G.js";import{F as Pr}from"./GlobeAltIcon-DcQuMnEx.js";import{F as Pe}from"./HeartIcon-BCRtkuZO.js";import{a as Fr}from"./ShieldCheckIcon-BRKjP3CW.js";import"./app-B9RuXsJe.js";const Er=({user:o,departments:$=[],designations:y=[],onEditClick:P,profileStats:c={},canEdit:D=!1})=>{const[g,v]=h.useState(!1),a=$.find(w=>w.id===o.department_id||w.id===o.department),k=y.find(w=>w.id===o.designation_id||w.id===o.designation),s=()=>o.active?"success":"danger",F=()=>{const w=c.completion_percentage||0;return w>=80?"success":w>=50?"warning":"danger"};return e(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:r(_e,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-300",onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:[e(Je,{className:"flex gap-4 pb-0",children:r("div",{className:"flex gap-4 items-start w-full",children:[e("div",{className:"relative",children:e(lr,{content:e("div",{className:`w-4 h-4 rounded-full ${o.active?"bg-success-500":"bg-danger-500"} border-2 border-background`}),placement:"bottom-right",className:"border-0",children:e(Qe,{src:o.profile_image_url||o.profile_image,name:o.name,size:"lg",className:"ring-2 ring-white/20 hover:ring-white/40 transition-all duration-300"})})}),r("div",{className:"flex flex-col gap-2 flex-1",children:[r("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[r("div",{children:[e("h3",{className:"text-xl font-bold text-foreground",children:o.name}),r("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[a&&e(ae,{size:"sm",variant:"flat",color:"primary",startContent:e(ge,{className:"w-3 h-3"}),children:a.name}),k&&e(ae,{size:"sm",variant:"flat",color:"secondary",children:k.title}),e(ae,{size:"sm",variant:"flat",color:s(),startContent:o.active?e(Ee,{className:"w-3 h-3"}):e(ye,{className:"w-3 h-3"}),children:o.active?"Active":"Inactive"})]})]}),D&&e(L.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e(Z,{color:"primary",variant:"bordered",size:"sm",startContent:e(Re,{className:"w-4 h-4"}),onPress:P,className:"bg-white/10 hover:bg-white/20 border-white/20",children:"Edit Profile"})})]}),r("div",{className:"mt-3",children:[r("div",{className:"flex items-center justify-between mb-2",children:[e("span",{className:"text-sm text-default-600",children:"Profile Completion"}),r("span",{className:"text-sm font-semibold text-foreground",children:[c.completion_percentage||0,"%"]})]}),e(sr,{value:c.completion_percentage||0,color:F(),size:"sm",className:"max-w-full"}),r("p",{className:"text-xs text-default-500 mt-1",children:[c.completed_sections||0," of ",c.total_sections||8," sections completed"]})]})]})]})}),r(xe,{className:"pt-4",children:[r("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[r("div",{className:"flex items-center gap-3",children:[e("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:e(or,{className:"w-4 h-4 text-blue-400"})}),r("div",{children:[e("p",{className:"text-xs text-default-500",children:"Employee ID"}),e("p",{className:"text-sm font-medium text-foreground",children:o.employee_id||"N/A"})]})]}),r("div",{className:"flex items-center gap-3",children:[e("div",{className:"p-2 bg-green-500/20 rounded-lg",children:e(je,{className:"w-4 h-4 text-green-400"})}),r("div",{children:[e("p",{className:"text-xs text-default-500",children:"Date of Joining"}),e("p",{className:"text-sm font-medium text-foreground",children:o.date_of_joining?new Date(o.date_of_joining).toLocaleDateString():"N/A"})]})]}),r("div",{className:"flex items-center gap-3",children:[e("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:e(nr,{className:"w-4 h-4 text-purple-400"})}),r("div",{className:"flex-1 min-w-0",children:[e("p",{className:"text-xs text-default-500",children:"Email"}),e("p",{className:"text-sm font-medium text-foreground truncate",children:o.email})]})]}),r("div",{className:"flex items-center gap-3",children:[e("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:e(ue,{className:"w-4 h-4 text-orange-400"})}),r("div",{children:[e("p",{className:"text-xs text-default-500",children:"Phone"}),e("p",{className:"text-sm font-medium text-foreground",children:o.phone||"N/A"})]})]})]}),o.address&&r(q,{children:[e(Oe,{className:"mb-4"}),r("div",{className:"flex items-start gap-3",children:[e("div",{className:"p-2 bg-teal-500/20 rounded-lg",children:e(ir,{className:"w-4 h-4 text-teal-400"})}),r("div",{className:"flex-1",children:[e("p",{className:"text-xs text-default-500",children:"Address"}),e("p",{className:"text-sm text-foreground",children:o.address})]})]})]}),(c.profile_views||c.last_updated)&&r(q,{children:[e(Oe,{className:"my-4"}),r("div",{className:"flex items-center justify-between text-xs text-default-500",children:[c.profile_views&&r("span",{children:["Views: ",c.profile_views]}),c.last_updated&&r("span",{children:["Updated: ",new Date(c.last_updated).toLocaleDateString()]})]})]})]})]})})},me=({title:o,icon:$,children:y,onEdit:P,canEdit:c=!1,isEmpty:D=!1,isCompleted:g=!1,className:v="",headerAction:a=null,...k})=>{const F=D?{color:"danger",icon:Ke,text:"Empty"}:g?{color:"success",icon:Ee,text:"Complete"}:{color:"warning",icon:ye,text:"Incomplete"},w=F.icon;return e(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},whileHover:{y:-2},className:v,children:r(_e,{className:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15 transition-all duration-300 h-full",...k,children:[e(Je,{className:"flex gap-3 pb-3",children:r("div",{className:"flex items-center gap-3 flex-1",children:[$&&e("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:Ae.cloneElement($,{className:"w-5 h-5 text-primary-400"})}),r("div",{className:"flex-1",children:[e("h4",{className:"text-lg font-semibold text-foreground",children:o}),e("div",{className:"flex items-center gap-2 mt-1",children:e(ae,{size:"sm",variant:"flat",color:F.color,startContent:e(w,{className:"w-3 h-3"}),children:F.text})})]}),r("div",{className:"flex items-center gap-2",children:[a,c&&P&&e(L.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e(Z,{isIconOnly:!0,size:"sm",variant:"bordered",color:"primary",onPress:P,className:"bg-white/10 hover:bg-white/20 border-white/20",children:e(Re,{className:"w-4 h-4"})})})]})]})}),e(xe,{className:"pt-0",children:D?e("div",{className:"text-center py-8",children:r("div",{className:"p-4 bg-default-100/50 rounded-lg",children:[e(ye,{className:"w-8 h-8 text-default-400 mx-auto mb-2"}),e("p",{className:"text-default-500 text-sm",children:"No information available"}),c&&P&&e(Z,{size:"sm",color:"primary",variant:"bordered",className:"mt-3",onPress:P,startContent:e(Re,{className:"w-4 h-4"}),children:"Add Information"})]})}):y})]})})},W=({label:o,value:$,icon:y,type:P="text",className:c="",valueClassName:D="",labelClassName:g="",showDivider:v=!0})=>{const a=(s,F)=>{if(!s||s==="N/A")return"N/A";switch(F){case"date":return new Date(s).toLocaleDateString();case"email":return s;case"phone":return s;case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s);default:return s}},k=()=>!$||$==="N/A"?"text-default-400":"text-foreground";return r("div",{className:`flex items-center justify-between py-3 ${v?"border-b border-white/10 last:border-b-0":""} ${c}`,children:[r("div",{className:`flex items-center gap-2 text-sm text-default-600 ${g}`,children:[y&&Ae.cloneElement(y,{className:"w-4 h-4"}),e("span",{children:o})]}),e("div",{className:`text-sm font-medium ${k()} text-right ${D}`,children:P==="chip"&&$&&$!=="N/A"?e(ae,{size:"sm",variant:"flat",color:"primary",children:a($,P)}):e("span",{children:a($,P)})})]})},re=({isOpen:o,onClose:$,title:y,subtitle:P,icon:c,children:D,onSave:g,onCancel:v,isLoading:a=!1,saveLabel:k="Save Changes",cancelLabel:s="Cancel",showFooter:F=!0,size:w="2xl",scrollBehavior:f="inside",placement:n="center",backdrop:i="blur",className:b="",headerClassName:p="",bodyClassName:t="",footerClassName:u="",...l})=>e(Fe,{children:o&&e(dr,{isOpen:o,onClose:$,size:w,scrollBehavior:f,placement:n,backdrop:i,classNames:{base:"bg-white/10 backdrop-blur-md border border-white/20",header:`bg-white/5 border-b border-white/10 ${p}`,body:`bg-transparent ${t}`,footer:`bg-white/5 border-t border-white/10 ${u}`},className:b,motionProps:{variants:{enter:{y:0,opacity:1,transition:{duration:.3,ease:"easeOut"}},exit:{y:-20,opacity:0,transition:{duration:.2,ease:"easeIn"}}}},...l,children:e(cr,{children:x=>r(q,{children:[e(pr,{className:"flex flex-col gap-1 px-6 py-4",children:r("div",{className:"flex items-center justify-between w-full",children:[r("div",{className:"flex items-center gap-3",children:[c&&e("div",{className:"p-2 bg-primary-500/20 rounded-lg",children:Ae.cloneElement(c,{className:"w-5 h-5 text-primary-400"})}),r("div",{children:[e("h3",{className:"text-lg font-semibold text-foreground",children:y}),P&&e("p",{className:"text-sm text-default-500 mt-1",children:P})]})]}),e(Z,{isIconOnly:!0,variant:"light",onPress:x,className:"text-default-500 hover:text-foreground",children:e(Ke,{className:"w-5 h-5"})})]})}),e(mr,{className:"px-6 py-4",children:e(L.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:D})}),F&&e(ur,{className:"px-6 py-4",children:r("div",{className:"flex gap-3 w-full sm:w-auto sm:ml-auto",children:[e(Z,{variant:"bordered",onPress:v||x,className:"bg-white/10 border-white/20 hover:bg-white/20",isDisabled:a,children:s}),g&&e(Z,{color:"primary",onPress:g,isLoading:a,className:"bg-primary-500/90 hover:bg-primary-500",children:k})]})})]})})})}),Dr=({user:o,allUsers:$,departments:y,designations:P,setUser:c,open:D,closeModal:g})=>{const[v,a]=h.useState({id:o.id,name:o.name||"",gender:o.gender||"",birthday:o.birthday||"",date_of_joining:o.date_of_joining||"",address:o.address||"",employee_id:o.employee_id||"",phone:o.phone||"",email:o.email||"",department:o.department||"",designation:o.designation||"",report_to:o.report_to||""}),[k,s]=h.useState({id:o.id}),[F,w]=h.useState(!1),[f,n]=h.useState({}),[i,b]=h.useState(!1),[p,t]=h.useState(!1),[u,l]=h.useState(null),[x,I]=h.useState(P),[E,T]=h.useState($),d=ee(),A=_=>{const R=_.target.files[0];if(R){const M=URL.createObjectURL(R);l(M);const O=new Promise(async(J,oe)=>{try{const Y=new FormData;if(Y.append("id",o.id),R){const Ie=R.type;if(["image/jpeg","image/jpg","image/png"].includes(Ie))Y.append("profile_image",R);else{console.error("Invalid file type. Only JPEG and PNG are allowed."),oe("Invalid file type");return}}const Ne=await fetch(route("profile.update"),{method:"POST",headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:Y}),ne=await Ne.json();Ne.ok?(c(ne.user),b(!1),J([...ne.messages])):(b(!1),n(ne.errors),oe(ne.error||"Failed to update profile image."),console.error(ne.errors))}catch(Y){b(!1),console.error(Y),oe(Y.message||"An unexpected error occurred.")}});j.promise(O,{pending:{render(){return r("div",{style:{display:"flex",alignItems:"center"},children:[e(ve,{}),e("span",{style:{marginLeft:"8px"},children:"Updating profile image..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},success:{render({data:J}){return e(q,{children:J.map((oe,Y)=>e("div",{children:oe},Y))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}},error:{render({data:J}){return e(q,{children:J})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}})}},C=(_,R)=>{a(M=>{const O={...M,[_]:R};return R===""&&delete O[_],O}),s(M=>{const O={...M,[_]:R};return R===""&&delete O[_],O})};return h.useEffect(()=>{o.department!==v.department&&(v.designation=null,v.report_to=null),I(P.filter(M=>M.department_id===(k.department||v.department))),T($.filter(M=>M.department===(k.department||v.department)));const _={...k};for(const M in _)M!=="id"&&_[M]===o[M]&&delete _[M];const R=Object.keys(_).length>1;w(R)},[v,k]),r(le,{open:D,onClose:g,children:[r(se,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(z,{children:"Profile Information"}),e(X,{variant:"outlined",color:"primary",onClick:g,sx:{position:"absolute",top:8,right:16},children:e(we,{})})]}),r("form",{onSubmit:async _=>{_.preventDefault(),b(!0);try{const R=await axios.post(route("profile.update"),{ruleSet:"profile",...v});R.status===200&&(c(R.data.user),j.success(R.data.messages?.length>0?R.data.messages.join(" "):"Profile information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),g())}catch(R){b(!1),R.response?(R.response.status===422?(n(R.response.data.errors||{}),j.error(R.response.data.error||"Failed to update profile information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}})):j.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(R.response.data)):R.request?(j.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error(R.request)):(j.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,color:d.palette.text.primary}}),console.error("Error",R.message))}finally{b(!1)}},children:[e(de,{children:r(m,{container:!0,spacing:2,children:[e(m,{item:!0,xs:12,display:"flex",alignItems:"center",justifyContent:"center",children:r(he,{position:"relative",display:"inline-block",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[e(fr,{alt:k.name||v.name,src:u||o.profile_image,sx:{width:100,height:100}}),p&&e(q,{children:e(he,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(0, 0, 0, 0.5)",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"},children:e(X,{color:"primary",component:"span",children:e(vr,{})})})}),e("input",{accept:"image/*",style:{display:"none"},id:"upload-button",type:"file",onChange:A}),e("label",{htmlFor:"upload-button",children:e(he,{sx:{position:"absolute",width:"100%",height:"100%",top:0,left:0,borderRadius:"50%",cursor:"pointer"}})})]})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Name",fullWidth:!0,value:k.name||v.name||"",onChange:_=>C("name",_.target.value),error:!!f.name,helperText:f.name})}),e(m,{item:!0,xs:12,md:6,children:r(H,{fullWidth:!0,children:[e(G,{id:"gender-label",children:"Gender"}),r(K,{labelId:"gender-label",value:k.gender||v.gender||"na",onChange:_=>C("gender",_.target.value),error:!!f.gender,label:"Gender",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(B,{disabled:!0,value:"na",children:"Select Gender"}),e(B,{value:"Male",children:"Male"}),e(B,{value:"Female",children:"Female"})]}),e(fe,{children:f.gender})]})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Birth Date",type:"date",fullWidth:!0,value:k.birthday||v.birthday||"",onChange:_=>C("birthday",_.target.value),InputLabelProps:{shrink:!0},error:!!f.birthday,helperText:f.birthday})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Joining Date",type:"date",fullWidth:!0,value:k.date_of_joining||v.date_of_joining||"",onChange:_=>C("date_of_joining",_.target.value),InputLabelProps:{shrink:!0},error:!!f.date_of_joining,helperText:f.date_of_joining})}),e(m,{item:!0,xs:12,children:e(S,{label:"Address",fullWidth:!0,value:k.address||v.address,onChange:_=>C("address",_.target.value),error:!!f.address,helperText:f.address})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Employee ID",fullWidth:!0,value:k.employee_id||v.employee_id||"",onChange:_=>C("employee_id",_.target.value),error:!!f.employee_id,helperText:f.employee_id})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Phone Number",fullWidth:!0,value:k.phone||v.phone,onChange:_=>C("phone",_.target.value),error:!!f.phone,helperText:f.phone})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Email Adress",fullWidth:!0,value:k.email||v.email,onChange:_=>C("email",_.target.value),error:!!f.email,helperText:f.email})}),e(m,{item:!0,xs:12,md:6,children:r(H,{fullWidth:!0,children:[e(G,{id:"department",children:"Department"}),r(K,{labelId:"department",onChange:_=>C("department",_.target.value),error:!!f.department,id:`department-select-${o.id}`,value:k.department||v.department||"na",label:"Department",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(B,{value:"na",disabled:!0,children:"Select Department"}),y.map(_=>e(B,{value:_.id,children:_.name},_.id))]}),e(fe,{children:f.department})]})}),e(m,{item:!0,xs:12,md:6,children:r(H,{fullWidth:!0,children:[e(G,{id:"designation",children:"Designation"}),r(K,{labelId:"designation",onChange:_=>C("designation",_.target.value),label:"Designation",error:!!f.designation,id:`designation-select-${o.id}`,value:k.designation||v.designation||"na",disabled:!o.department,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(B,{value:"na",disabled:!0,children:"Select Designation"}),x.map(_=>e(B,{value:_.id,children:_.title},_.id))]}),e(fe,{children:f.designation})]})}),e(m,{item:!0,xs:12,md:6,children:r(H,{fullWidth:!0,children:[e(G,{id:"report_to",children:"Reports To"}),r(K,{labelId:"report_to",value:k.report_to||v.report_to,onChange:_=>C("report_to",_.target.value),label:"Reports To",error:!!f.report_to,disabled:o.report_to==="na",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:d.glassCard.background,border:d.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(B,{value:"na",children:"--"}),E.map(_=>e(B,{value:_.id,children:_.name},_.id))]}),e(fe,{children:f.report_to})]})})]})}),e(ce,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!F,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:i,children:"Submit"})})]})]})},Ir=({user:o,setUser:$,open:y,closeModal:P})=>{const[c,D]=h.useState({id:o.id,passport_no:o.passport_no||"",passport_exp_date:o.passport_exp_date||"",nationality:o.nationality||"",religion:o.religion||"",marital_status:o.marital_status||"",employment_of_spouse:o.employment_of_spouse||"",number_of_children:o.number_of_children||"",nid:o.nid||""}),[g,v]=h.useState({id:o.id}),[a,k]=h.useState(!1),[s,F]=h.useState({}),[w,f]=h.useState(!1),n=ee(),i=(p,t)=>{D(u=>{const l={...u,[p]:t};return t===""&&delete l[p],p==="marital_status"&&t==="Single"&&(l.employment_of_spouse="",l.number_of_children=""),l}),v(u=>{const l={...u,[p]:t};return t===""&&delete l[p],p==="marital_status"&&t==="Single"&&(l.employment_of_spouse=null,l.number_of_children=null),l})};return h.useEffect(()=>{for(const t in g)t!=="id"&&g[t]===o[t]&&delete g[t];const p=Object.keys(g).filter(t=>t!=="id").length>0;k(p)},[c,g,o]),r(le,{open:y,onClose:P,children:[r(se,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(z,{children:"Personal Information"}),e(X,{variant:"outlined",color:"primary",onClick:P,sx:{position:"absolute",top:8,right:16},children:e(we,{})})]}),r("form",{onSubmit:async p=>{p.preventDefault(),f(!0);try{const t=await axios.post(route("profile.update"),{ruleSet:"personal",...c});t.status===200&&($(t.data.user),j.success(t.data.messages?.length>0?t.data.messages.join(" "):"Personal information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),P())}catch(t){f(!1),t.response?(t.response.status===422?(F(t.response.data.errors||{}),j.error(t.response.data.error||"Failed to update personal information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}})):j.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),console.error(t.response.data)):t.request?(j.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),console.error(t.request)):(j.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),console.error("Error",t.message))}finally{f(!1)}},children:[e(de,{children:r(m,{container:!0,spacing:2,children:[e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Passport No",fullWidth:!0,value:g.passport_no||c.passport_no||"",onChange:p=>i("passport_no",p.target.value),error:!!s.passport_no,helperText:s.passport_no})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Passport Expiry Date",fullWidth:!0,type:"date",value:g.passport_exp_date||c.passport_exp_date||"",onChange:p=>i("passport_exp_date",p.target.value),InputLabelProps:{shrink:!0},error:!!s.passport_exp_date,helperText:s.passport_exp_date})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"NID No",fullWidth:!0,value:g.nid||c.nid||"",onChange:p=>i("nid",p.target.value),error:!!s.nid,helperText:s.nid})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Nationality",fullWidth:!0,value:g.nationality||c.nationality||"",onChange:p=>i("nationality",p.target.value),error:!!s.nationality,helperText:s.nationality})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Religion",fullWidth:!0,value:g.religion||c.religion||"",onChange:p=>i("religion",p.target.value),error:!!s.religion,helperText:s.religion})}),e(m,{item:!0,xs:12,md:6,children:r(H,{fullWidth:!0,children:[e(G,{id:"marital-status-label",children:"Marital status"}),r(K,{labelId:"marital-status-label",value:g.marital_status||c.marital_status||"na",onChange:p=>i("marital_status",p.target.value),label:"Marital status",error:!!s.marital_status,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(B,{value:"na",children:"-"}),e(B,{value:"Single",children:"Single"}),e(B,{value:"Married",children:"Married"})]}),e(fe,{children:s.marital_status})]})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Employment of spouse",fullWidth:!0,value:g.marital_status==="Single"?"":g.employment_of_spouse||c.employment_of_spouse,onChange:p=>i("employment_of_spouse",p.target.value),error:!!s.employment_of_spouse,helperText:s.employment_of_spouse,disabled:g.marital_status==="Single"||c.marital_status==="Single"})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"No. of children",fullWidth:!0,type:"number",value:g.marital_status==="Single"?"":g.number_of_children||c.number_of_children,onChange:p=>i("number_of_children",p.target.value),error:!!s.number_of_children,helperText:s.number_of_children,disabled:g.marital_status==="Single"||c.marital_status==="Single"})})]})}),e(ce,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!a,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:w,children:"Submit"})})]})]})},Br=({user:o,setUser:$,open:y,closeModal:P})=>{const[c,D]=h.useState({id:o.id,emergency_contact_primary_name:o.emergency_contact_primary_name||"",emergency_contact_primary_relationship:o.emergency_contact_primary_relationship||"",emergency_contact_primary_phone:o.emergency_contact_primary_phone||"",emergency_contact_secondary_name:o.emergency_contact_secondary_name||"",emergency_contact_secondary_relationship:o.emergency_contact_secondary_relationship||"",emergency_contact_secondary_phone:o.emergency_contact_secondary_phone||""}),[g,v]=h.useState({id:o.id}),[a,k]=h.useState(!1),[s,F]=h.useState({}),[w,f]=h.useState(!1),n=ee(),i=(p,t)=>{D(u=>{const l={...u,[p]:t};return t===""&&delete l[p],l}),v(u=>{const l={...u,[p]:t};return t===""&&delete l[p],l})};return h.useEffect(()=>{for(const t in g)t!=="id"&&g[t]===o[t]&&delete g[t];const p=Object.keys(g).filter(t=>t!=="id").length>0;k(p)},[c,g,o]),r(le,{open:y,onClose:P,children:[r(se,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(z,{children:"Personal Information"}),e(X,{variant:"outlined",color:"primary",onClick:P,sx:{position:"absolute",top:8,right:16},children:e(we,{})})]}),r("form",{onSubmit:async p=>{p.preventDefault(),f(!0);try{const t=await axios.post(route("profile.update"),{ruleSet:"emergency",...c});t.status===200&&($(t.data.user),j.success(t.data.messages?.length>0?t.data.messages.join(" "):"Emergency contact updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),P())}catch(t){f(!1),t.response?(t.response.status===422?(F(t.response.data.errors||{}),j.error(t.response.data.error||"Failed to update emergency contact.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}})):j.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),console.error(t.response.data)):t.request?(j.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),console.error(t.request)):(j.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),console.error("Error",t.message))}finally{f(!1)}},children:[e(de,{children:r(m,{container:!0,spacing:2,children:[e(m,{item:!0,xs:12,children:e(ke,{children:r(Ce,{children:[e(z,{variant:"h5",gutterBottom:!0,children:"Primary Contact"}),r(m,{container:!0,spacing:2,children:[e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Name",required:!0,fullWidth:!0,value:g.emergency_contact_primary_name||c.emergency_contact_primary_name||"",onChange:p=>i("emergency_contact_primary_name",p.target.value),error:!!s.bank_name,helperText:s.bank_name})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Relationship",required:!0,fullWidth:!0,value:g.emergency_contact_primary_relationship||c.emergency_contact_primary_relationship||"",onChange:p=>i("emergency_contact_primary_relationship",p.target.value),error:!!s.bank_name,helperText:s.bank_name})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Phone",required:!0,fullWidth:!0,value:g.emergency_contact_primary_phone||c.emergency_contact_primary_phone||"",onChange:p=>i("emergency_contact_primary_phone",p.target.value),error:!!s.bank_name,helperText:s.bank_name})})]})]})})}),e(m,{item:!0,xs:12,children:e(ke,{children:r(Ce,{children:[e(z,{variant:"h5",gutterBottom:!0,children:"Secondary Contact"}),r(m,{container:!0,spacing:2,children:[e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Name",fullWidth:!0,value:g.emergency_contact_secondary_name||c.emergency_contact_secondary_name||"",onChange:p=>i("emergency_contact_secondary_name",p.target.value),error:!!s.bank_name,helperText:s.bank_name})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Relationship",fullWidth:!0,value:g.emergency_contact_secondary_relationship||c.emergency_contact_secondary_relationship||"",onChange:p=>i("emergency_contact_secondary_relationship",p.target.value),error:!!s.bank_name,helperText:s.bank_name})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Phone",fullWidth:!0,value:g.emergency_contact_secondary_phone||c.emergency_contact_secondary_phone||"",onChange:p=>i("emergency_contact_secondary_phone",p.target.value),error:!!s.bank_name,helperText:s.bank_name})})]})]})})})]})}),e(ce,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!a,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:w,children:"Submit"})})]})]})},Tr=({user:o,setUser:$,open:y,closeModal:P})=>{const[c,D]=h.useState({id:o.id,bank_name:o.bank_name||"",bank_account_no:o.bank_account_no||"",ifsc_code:o.ifsc_code||"",pan_no:o.pan_no||""}),[g,v]=h.useState({id:o.id}),[a,k]=h.useState(!1),[s,F]=h.useState({}),[w,f]=h.useState(!1),n=ee(),i=(p,t)=>{D(u=>{const l={...u,[p]:t};return t===""&&delete l[p],l}),v(u=>{const l={...u,[p]:t};return t===""&&delete l[p],l})};return h.useEffect(()=>{for(const t in g)t!=="id"&&g[t]===o[t]&&delete g[t];const p=Object.keys(g).filter(t=>t!=="id").length>0;k(p)},[c,g,o]),r(le,{open:y,onClose:P,children:[r(se,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(z,{children:"Bank Information"}),e(X,{variant:"outlined",color:"primary",onClick:P,sx:{position:"absolute",top:8,right:16},children:e(we,{})})]}),r("form",{onSubmit:async p=>{p.preventDefault(),f(!0);try{const t=await axios.post(route("profile.update"),{ruleSet:"bank",...c});t.status===200&&($(t.data.user),F({}),j.success(t.data.messages?.length>0?t.data.messages.join(" "):"Bank information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),P())}catch(t){f(!1),t.response?(t.response.status===422?(F(t.response.data.errors||{}),j.error(t.response.data.error||"Failed to update bank information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}})):j.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),console.error(t.response.data)):t.request?(j.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),console.error(t.request)):(j.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}),console.error("Error",t.message))}finally{f(!1)}},children:[e(de,{children:r(m,{container:!0,spacing:2,children:[e(m,{item:!0,xs:12,children:e(S,{label:"Bank Name",fullWidth:!0,value:g.bank_name||c.bank_name||"",onChange:p=>i("bank_name",p.target.value),error:!!s.bank_name,helperText:s.bank_name})}),e(m,{item:!0,xs:12,children:e(S,{size:"small",label:"Bank Account No.",fullWidth:!0,value:g.bank_account_no||c.bank_account_no||"",onChange:p=>i("bank_account_no",p.target.value),error:!!s.bank_account_no,helperText:s.bank_account_no})}),e(m,{item:!0,xs:12,children:e(S,{label:"IFSC Code",fullWidth:!0,value:g.ifsc_code||c.ifsc_code||"",onChange:p=>i("ifsc_code",p.target.value),error:!!s.ifsc_code,helperText:s.ifsc_code})}),e(m,{item:!0,xs:12,children:e(S,{label:"PAN No.",fullWidth:!0,value:g.pan_no||c.pan_no||"",onChange:p=>i("pan_no",p.target.value),error:!!s.pan_no,helperText:s.pan_no})})]})}),e(ce,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!a,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:w,children:"Submit"})})]})]})},jr=({user:o,open:$,closeModal:y,handleDelete:P,setUser:c})=>{const[D,g]=h.useState({id:o.id,family_member_name:o.family_member_name||"",family_member_relationship:o.family_member_relationship||"",family_member_dob:o.family_member_dob||"",family_member_phone:o.family_member_phone||""}),[v,a]=h.useState({id:o.id}),[k,s]=h.useState(!1),[F,w]=h.useState({}),[f,n]=h.useState(!1),i=ee(),b=(t,u)=>{g(l=>{const x={...l,[t]:u};return u===""&&delete x[t],x}),a(l=>{const x={...l,[t]:u};return u===""&&delete x[t],x})};return h.useEffect(()=>{for(const u in v)u!=="id"&&v[u]===o[u]&&delete v[u];const t=Object.keys(v).filter(u=>u!=="id").length>0;s(t)},[D,v,o]),r(le,{open:$,onClose:y,children:[r(se,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(z,{children:"Family Member"}),e(X,{variant:"outlined",color:"primary",onClick:y,sx:{position:"absolute",top:8,right:16},children:e(we,{})})]}),r("form",{onSubmit:async t=>{t.preventDefault(),n(!0);try{const u=await axios.post(route("profile.update"),{ruleSet:"family",...D});u.status===200&&(c(u.data.user),j.success(u.data.messages?.length>0?u.data.messages.join(" "):"Family information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:i.glassCard.background,border:i.glassCard.border,color:i.palette.text.primary}}),y())}catch(u){n(!1),u.response?(u.response.status===422?(w(u.response.data.errors||{}),j.error(u.response.data.error||"Failed to update family information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:i.glassCard.background,border:i.glassCard.border,color:i.palette.text.primary}})):j.error("An unexpected error occurred. Please try again later.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:i.glassCard.background,border:i.glassCard.border,color:i.palette.text.primary}}),console.error(u.response.data)):u.request?(j.error("No response received from the server. Please check your internet connection.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:i.glassCard.background,border:i.glassCard.border,color:i.palette.text.primary}}),console.error(u.request)):(j.error("An error occurred while setting up the request.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:i.glassCard.background,border:i.glassCard.border,color:i.palette.text.primary}}),console.error("Error",u.message))}finally{n(!1)}},children:[e(de,{children:r(m,{container:!0,spacing:2,children:[e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Name",fullWidth:!0,value:v.family_member_name||D.family_member_name||"",onChange:t=>b("family_member_name",t.target.value),error:!!F.family_member_name,helperText:F.family_member_name})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Relationship",fullWidth:!0,value:v.family_member_relationship||D.family_member_relationship||"",onChange:t=>b("family_member_relationship",t.target.value),error:!!F.family_member_relationship,helperText:F.family_member_relationship})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Date of Birth",fullWidth:!0,type:"date",value:v.family_member_dob||D.family_member_dob||"",onChange:t=>b("family_member_dob",t.target.value),InputLabelProps:{shrink:!0},error:!!F.family_member_dob,helperText:F.family_member_dob})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Phone",fullWidth:!0,value:v.family_member_phone||D.family_member_phone||"",onChange:t=>b("family_member_phone",t.target.value),error:!!F.family_member_phone,helperText:F.family_member_phone})})]})}),e(ce,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!k,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:f,children:"Submit"})})]})]})},$r=({user:o,open:$,closeModal:y,setUser:P})=>{const[c,D]=h.useState({id:o.id}),[g,v]=h.useState(!1),[a,k]=h.useState(o.educations&&o.educations.length>0?o.educations:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),[s,F]=h.useState({}),[w,f]=h.useState(!1),n=ee(),i=(u,l,x)=>{const I=[...a];I[u]={...I[u],[l]:x},k(I);const E=I.filter((d,A)=>{const C=o.educations[A]||{},Q=!C.id||d.institution!==C.institution||d.subject!==C.subject||d.degree!==C.degree||d.starting_date!==C.starting_date||d.complete_date!==C.complete_date||d.grade!==C.grade,_=C.id&&d.institution===C.institution&&d.subject===C.subject&&d.degree===C.degree&&d.starting_date===C.starting_date&&d.complete_date===C.complete_date&&d.grade===C.grade;return Q&&!_});D(d=>({...d,educations:[...E]}));const T=E.length>0;v(T)},b=async u=>{const l=a[u],x=a.filter((I,E)=>E!==u);if(k(x.length>0?x:[{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}]),l.id){const I=new Promise(async(E,T)=>{try{const d=await fetch("/education/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:l.id,user_id:o.id})}),A=await d.json();d.ok?(D(C=>({...C,educations:A.educations})),P(C=>({...C,educations:A.educations})),E(A.message||"Education record deleted successfully.")):(F(A.errors),console.error(A.errors),T(A.error||"Failed to delete education record."))}catch(d){T(d)}});j.promise(I,{pending:{render(){return r("div",{style:{display:"flex",alignItems:"center"},children:[e(ve,{}),e("span",{style:{marginLeft:"8px"},children:"Deleting education record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}},success:{render({data:E}){return e(q,{children:E})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}},error:{render({data:E}){return e(q,{children:E})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}})}},p=async u=>{u.preventDefault(),f(!0);const l=new Promise(async(x,I)=>{try{const E=await fetch("/education/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({educations:a.map(d=>({...d,user_id:o.id}))})}),T=await E.json();E.ok?(P(d=>({...d,educations:T.educations})),f(!1),y(),x([...T.messages])):(f(!1),F(T.errors),console.error(T.errors),I(T.error||"Failed to update education records."))}catch(E){f(!1),I(E.message||"An unexpected error occurred while updating education records.")}});j.promise(l,{pending:{render(){return r("div",{style:{display:"flex",alignItems:"center"},children:[e(ve,{}),e("span",{style:{marginLeft:"8px"},children:"Updating education records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}},success:{render({data:x}){return e(q,{children:x.map((I,E)=>e("div",{children:I},E))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}},error:{render({data:x}){return e(q,{children:x})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}})},t=async()=>{k([...a,{institution:"",subject:"",degree:"",starting_date:"",complete_date:"",grade:""}])};return r(le,{open:$,onClose:y,maxWidth:"md",fullWidth:!0,children:[r(se,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(z,{children:"Education Information"}),e(X,{onClick:y,sx:{position:"absolute",top:8,right:16},children:e(De,{})})]}),r("form",{onSubmit:p,children:[e(de,{children:r(he,{children:[e(m,{container:!0,spacing:2,children:a.map((u,l)=>e(m,{item:!0,xs:12,children:e(ke,{children:r(Ce,{children:[r(z,{variant:"h6",gutterBottom:!0,children:["Education #"+(l+1),e(X,{onClick:()=>b(l),sx:{position:"absolute",top:8,right:16},children:e(De,{})})]}),r(m,{container:!0,spacing:2,children:[e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Institution",fullWidth:!0,value:u.institution||"",onChange:x=>i(l,"institution",x.target.value),error:!!s[`educations.${l}.institution`],helperText:s[`educations.${l}.institution`]?s[`educations.${l}.institution`][0]:""})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Degree",fullWidth:!0,value:u.degree||"",onChange:x=>i(l,"degree",x.target.value),error:!!s[`educations.${l}.degree`],helperText:s[`educations.${l}.degree`]?s[`educations.${l}.degree`][0]:""})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Subject",fullWidth:!0,value:u.subject||"",onChange:x=>i(l,"subject",x.target.value),error:!!s[`educations.${l}.subject`],helperText:s[`educations.${l}.subject`]?s[`educations.${l}.subject`][0]:""})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Started in",type:"month",fullWidth:!0,InputLabelProps:{shrink:!0},value:u.starting_date||"",onChange:x=>i(l,"starting_date",x.target.value),error:!!s[`educations.${l}.starting_date`],helperText:s[`educations.${l}.starting_date`]?s[`educations.${l}.starting_date`][0]:""})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Completed in",type:"month",fullWidth:!0,InputLabelProps:{shrink:!0},value:u.complete_date||"",onChange:x=>i(l,"complete_date",x.target.value),error:!!s[`educations.${l}.complete_date`],helperText:s[`educations.${l}.complete_date`]?s[`educations.${l}.complete_date`][0]:""})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Grade",fullWidth:!0,value:u.grade||"",onChange:x=>i(l,"grade",x.target.value),error:!!s[`educations.${l}.grade`],helperText:s[`educations.${l}.grade`]?s[`educations.${l}.grade`][0]:""})})]})]})})},l))}),e(he,{mt:2,children:r(Ve,{size:"small",color:"error",sx:{mt:2},onClick:t,children:[e(Ye,{})," Add More"]})})]})}),e(ce,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!g,sx:{borderRadius:"50px",padding:"6px 16px"},size:"large",variant:"outlined",color:"primary",type:"submit",loading:w,children:"Submit"})})]})]})},Rr=({user:o,open:$,closeModal:y,setUser:P})=>{const[c,D]=h.useState({id:o.id}),[g,v]=h.useState(!1),[a,k]=h.useState(o.experiences.length>0?o.experiences:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),[s,F]=h.useState({}),[w,f]=h.useState(!1),n=ee(),i=(u,l,x)=>{const I=[...a];I[u]={...I[u],[l]:x},k(I);const E=I.filter((d,A)=>{const C=o.experiences[A]||{},Q=!C.id||d.company_name!==C.company_name||d.location!==C.location||d.job_position!==C.job_position||d.period_from!==C.period_from||d.period_to!==C.period_to||d.description!==C.description,_=C.id&&d.company_name===C.company_name&&d.location===C.location&&d.job_position===C.job_position&&d.period_from===C.period_from&&d.period_to===C.period_to&&d.description===C.description;return Q&&!_});D(d=>({...d,experiences:[...E]}));const T=E.length>0;v(T)},b=async u=>{const l=a[u],x=a.filter((I,E)=>E!==u);if(k(x.length>0?x:[{company_name:"",location:"",job_position:"",period_from:"",period_to:"",description:""}]),l.id){const I=new Promise(async(E,T)=>{try{const d=await fetch("/experience/delete",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:l.id,user_id:o.id})}),A=await d.json();d.ok?(D(C=>({...C,experiences:A.experiences})),P(C=>({...C,experiences:A.experiences})),E(A.message||"Experience record deleted successfully."),y()):(F([...A.errors]),T(A.error||"Failed to delete experience record."))}catch(d){T(d)}});j.promise(I,{pending:{render(){return r("div",{style:{display:"flex",alignItems:"center"},children:[e(ve,{}),e("span",{style:{marginLeft:"8px"},children:"Deleting experience record ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}},success:{render({data:E}){return e(q,{children:E})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}},error:{render({data:E}){return e(q,{children:E})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}})}},p=async u=>{u.preventDefault(),f(!0);const l=new Promise(async(x,I)=>{try{const E=await fetch("/experience/update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({experiences:a.map(d=>({...d,user_id:o.id}))})}),T=await E.json();E.ok?(P(d=>({...d,experiences:T.experiences})),f(!1),y(),x([...T.messages])):(f(!1),F(T.errors),console.error(T.errors),I(T.error||"Failed to update experience records."))}catch(E){f(!1),I(E.message||"An unexpected error occurred while updating experience records.")}});j.promise(l,{pending:{render(){return r("div",{style:{display:"flex",alignItems:"center"},children:[e(ve,{}),e("span",{style:{marginLeft:"8px"},children:"Updating experience records ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}},success:{render({data:x}){return e(q,{children:x.map((I,E)=>e("div",{children:I},E))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}},error:{render({data:x}){return e(q,{children:x})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:n.glassCard.background,border:n.glassCard.border,color:n.palette.text.primary}}})},t=async()=>{k([...a,{company:"",role:"",start_date:"",end_date:"",responsibilities:""}])};return r(le,{open:$,onClose:y,maxWidth:"md",fullWidth:!0,children:[r(se,{style:{cursor:"move"},id:"draggable-dialog-title",children:[e(z,{children:"Experience Information"}),e(X,{onClick:y,sx:{position:"absolute",top:8,right:16},children:e(De,{})})]}),r("form",{onSubmit:p,children:[e(de,{children:r(he,{children:[e(m,{container:!0,spacing:2,children:a.map((u,l)=>e(m,{item:!0,xs:12,children:e(ke,{children:r(Ce,{children:[r(z,{variant:"h6",gutterBottom:!0,children:["Experience #"+(l+1),e(X,{onClick:()=>b(l),sx:{position:"absolute",top:8,right:16},children:e(De,{})})]}),r(m,{container:!0,spacing:2,children:[e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Company",fullWidth:!0,value:u.company_name||"",onChange:x=>i(l,"company_name",x.target.value),error:!!s[`experiences.${l}.company_name`],helperText:s[`experiences.${l}.company_name`]?s[`experiences.${l}.company_name`][0]:""})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Location",fullWidth:!0,value:u.location||"",onChange:x=>i(l,"location",x.target.value),error:!!s[`experiences.${l}.location`],helperText:s[`experiences.${l}.location`]?s[`experiences.${l}.location`][0]:""})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Role",fullWidth:!0,value:u.job_position||"",onChange:x=>i(l,"job_position",x.target.value),error:!!s[`experiences.${l}.job_position`],helperText:s[`experiences.${l}.job_position`]?s[`experiences.${l}.job_position`][0]:""})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Started From",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:u.period_from||"",onChange:x=>i(l,"period_from",x.target.value),error:!!s[`experiences.${l}.period_from`],helperText:s[`experiences.${l}.period_from`]?s[`experiences.${l}.period_from`][0]:""})}),e(m,{item:!0,xs:12,md:6,children:e(S,{label:"Ended On",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:u.period_to||"",onChange:x=>i(l,"period_to",x.target.value),error:!!s[`experiences.${l}.period_to`],helperText:s[`experiences.${l}.period_to`]?s[`experiences.${l}.period_to`][0]:""})}),e(m,{item:!0,xs:12,children:e(S,{label:"Responsibilities",fullWidth:!0,multiline:!0,rows:3,value:u.description||"",onChange:x=>i(l,"description",x.target.value),error:!!s[`experiences.${l}.description`],helperText:s[`experiences.${l}.description`]?s[`experiences.${l}.description`][0]:""})})]})]})})},l))}),r(Ve,{size:"small",color:"error",sx:{mt:2},onClick:t,children:[e(Ye,{})," Add More"]})]})}),e(ce,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!g,sx:{borderRadius:"50px",padding:"6px 16px"},size:"large",variant:"outlined",color:"primary",type:"submit",loading:w,children:"Submit"})})]})]})},Ar=({user:o,setUser:$})=>{const[y,P]=h.useState({id:o.id,salary_basis:o.salary_basis||"",salary_amount:o.salary_amount||"",payment_type:o.payment_type||"",pf_contribution:o.pf_contribution??!1,pf_no:o.pf_no||"",employee_pf_rate:o.employee_pf_rate||0,additional_pf_rate:o.additional_pf_rate||0,total_pf_rate:o.total_pf_rate||0,esi_contribution:o.esi_contribution??!1,esi_no:o.esi_no||"",employee_esi_rate:o.employee_esi_rate||0,additional_esi_rate:o.additional_esi_rate||0,total_esi_rate:o.total_esi_rate||0}),[c,D]=h.useState({id:o.id}),[g,v]=h.useState(!1),[a,k]=h.useState({}),[s,F]=h.useState(!1),w=ee(),f=(i,b)=>{P(p=>{const t={...p,[i]:b};return b===""&&delete t[i],i==="pf_contribution"&&b===0?(t.pf_no="",t.employee_pf_rate=0,t.additional_pf_rate=0,t.total_pf_rate=0):(i==="employee_pf_rate"||i==="additional_pf_rate")&&(t.total_pf_rate=t.employee_pf_rate+t.additional_pf_rate),i==="esi_contribution"&&b===0?(t.esi_no="",t.employee_esi_rate=0,t.additional_esi_rate=0,t.total_esi_rate=0):(i==="employee_esi_rate"||i==="additional_esi_rate")&&(t.total_esi_rate=t.employee_esi_rate+t.additional_esi_rate),t}),D(p=>{const t={...p,[i]:b};return b===""&&delete t[i],i==="pf_contribution"&&b===0?(t.pf_no="",t.employee_pf_rate=0,t.additional_pf_rate=0,t.total_pf_rate=0):(i==="employee_pf_rate"||i==="additional_pf_rate")&&(t.total_pf_rate=t.employee_pf_rate+t.additional_pf_rate),i==="esi_contribution"&&b===0?(t.esi_no="",t.employee_esi_rate=0,t.additional_esi_rate=0,t.total_esi_rate=0):(i==="employee_esi_rate"||i==="additional_esi_rate")&&(t.total_esi_rate=t.employee_esi_rate+t.additional_esi_rate),t})};return h.useEffect(()=>{for(const b in c)b!=="id"&&c[b]===o[b]&&delete c[b];const i=Object.keys(c).filter(b=>b!=="id").length>0;v(i)},[y,c,o]),e(m,{container:!0,spacing:2,sx:{display:"flex",alignItems:"stretch"},children:e(m,{item:!0,xs:12,md:12,sx:{display:"flex",flexDirection:"column"},children:r(ke,{children:[e(xr,{title:"Salary & Statutory Information"}),r("form",{onSubmit:async i=>{i.preventDefault(),F(!0);try{const b=await axios.post(route("profile.update"),{ruleSet:"salary",...y});b.status===200?($(b.data.user),F(!1),j.success(b.data.messages?.length>0?b.data.messages.join(" "):"Salary information updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",background:w.glassCard.background,border:w.glassCard.border,color:w.palette.text.primary}})):(F(!1),k(b.data.errors),j.error(b.data.error||"Failed to update salary information.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:w.glassCard.background,border:w.glassCard.border,color:w.palette.text.primary}}))}catch(b){F(!1),j.error(b.response?.data?.message||"An unexpected error occurred.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",background:w.glassCard.background,border:w.glassCard.border,color:w.palette.text.primary}}),console.error(b)}},children:[r(Ce,{children:[e(z,{sx:{fontWeight:"bold",m:2},children:"Salary Information"}),r(m,{container:!0,spacing:3,children:[e(m,{item:!0,xs:12,md:4,children:r(H,{fullWidth:!0,children:[e(G,{id:"salary-basis-label",children:"Salary basis"}),r(K,{labelId:"salary-basis-label",value:c.salary_basis||y.salary_basis||"na",onChange:i=>f("salary_basis",i.target.value),error:!!a.salary_basis,helperText:a.salary_basis,label:"Salary basis",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:w.glassCard.background,border:w.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(B,{value:"na",disabled:!0,children:"Select salary basis type"}),e(B,{value:"Hourly",children:"Hourly"}),e(B,{value:"Daily",children:"Daily"}),e(B,{value:"Weekly",children:"Weekly"}),e(B,{value:"Monthly",children:"Monthly"})]})]})}),e(m,{item:!0,xs:12,md:4,children:e(S,{label:"Salary amount",type:"number",fullWidth:!0,placeholder:"Type your salary amount",value:c.salary_amount||y.salary_amount||"",onChange:i=>f("salary_amount",i.target.value),InputProps:{startAdornment:e(_r,{position:"start",children:"$"})},error:!!a.salary_amount,helperText:a.salary_amount})}),e(m,{item:!0,xs:12,md:4,children:r(H,{fullWidth:!0,children:[e(G,{id:"payment-type-label",children:"Payment type"}),r(K,{labelId:"payment-type-label",label:"Payment type",id:`gender-select-${o.id}`,value:c.payment_type||y.payment_type||"na",onChange:i=>f("payment_type",i.target.value),error:!!a.payment_type,helperText:a.payment_type,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:w.glassCard.background,border:w.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(B,{value:"na",disabled:!0,children:"Select payment type"}),e(B,{value:"Bank transfer",children:"Bank transfer"}),e(B,{value:"Check",children:"Check"}),e(B,{value:"Cash",children:"Cash"})]})]})})]}),e(ze,{sx:{my:3}}),e(z,{sx:{fontWeight:"bold",m:2},children:"PF Information"}),r(m,{container:!0,spacing:3,children:[e(m,{item:!0,xs:12,md:4,children:r(H,{fullWidth:!0,children:[e(G,{id:"pf-contribution-label",children:"PF contribution"}),r(K,{labelId:"pf-contribution-label",label:"PF contribution",id:`gender-select-${o.id}`,value:c.pf_contribution!==void 0?c.pf_contribution:y.pf_contribution!==void 0?y.pf_contribution:"na",onChange:i=>f("pf_contribution",i.target.value),error:!!a.pf_contribution,helperText:a.pf_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:w.glassCard.background,border:w.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(B,{value:"na",disabled:!0,children:"Select PF contribution"}),e(B,{value:1,children:"Yes"}),e(B,{value:0,children:"No"})]})]})}),e(m,{item:!0,xs:12,md:4,children:e(S,{disabled:!(c.pf_contribution||y.pf_contribution),InputLabelProps:{shrink:!0},label:"PF No.",fullWidth:!0,type:"text",placeholder:"Enter PF No.",value:c.pf_no||y.pf_no,onChange:i=>f("pf_no",i.target.value),error:!!a.pf_no,helperText:a.pf_no})}),e(m,{item:!0,xs:12,md:4,children:r(H,{fullWidth:!0,children:[e(G,{id:"employee-pf-rate-label",children:"Employee PF rate"}),r(K,{disabled:!(c.pf_contribution||y.pf_contribution),labelId:"employee-pf-rate-label",label:"Employee PF rate",value:c.employee_pf_rate||y.employee_pf_rate||"na",onChange:i=>f("employee_pf_rate",i.target.value),error:!!a.employee_pf_rate,helperText:a.employee_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:w.glassCard.background,border:w.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(B,{value:"na",disabled:!0,children:"Select pf rate"}),[...Array(11).keys()].map(i=>r(B,{value:i,children:[i,"%"]},i))]})]})}),e(m,{item:!0,xs:12,md:4,children:r(H,{fullWidth:!0,children:[e(G,{id:"additional-rate-label",children:"Additional rate"}),r(K,{disabled:!(c.pf_contribution||y.pf_contribution),labelId:"additional-rate-label",label:"Additional rate",id:`gender-select-${o.id}`,value:c.additional_pf_rate||y.additional_pf_rate||"na",onChange:i=>f("additional_pf_rate",i.target.value),error:!!a.additional_pf_rate,helperText:a.additional_pf_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:w.glassCard.background,border:w.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(B,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(i=>r(B,{value:i,children:[i,"%"]},i))]})]})}),e(m,{item:!0,xs:12,md:4,children:e(S,{disabled:!(c.pf_contribution||y.pf_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:c.total_pf_rate||y.total_pf_rate?`${c.total_pf_rate||y.total_pf_rate}%`:"",InputProps:{readOnly:!0},error:!!a.total_pf_rate,helperText:a.total_pf_rate})})]}),e(ze,{sx:{my:3}}),e(z,{sx:{fontWeight:"bold",m:2},children:"ESI Information"}),r(m,{container:!0,spacing:3,children:[e(m,{item:!0,xs:12,md:4,children:r(H,{fullWidth:!0,children:[e(G,{id:"esi-contribution-label",children:"ESI contribution"}),r(K,{labelId:"esi-contribution-label",label:"ESI contribution",value:c.esi_contribution!==void 0?c.esi_contribution:y.esi_contribution!==void 0?y.esi_contribution:"na",onChange:i=>f("esi_contribution",i.target.value),error:!!a.esi_contribution,helperText:a.esi_contribution,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:w.glassCard.background,border:w.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(B,{value:"na",disabled:!0,children:"Select ESI contribution"}),e(B,{value:1,children:"Yes"}),e(B,{value:0,children:"No"})]})]})}),e(m,{item:!0,xs:12,md:4,children:e(S,{disabled:!(c.esi_contribution||y.esi_contribution),InputLabelProps:{shrink:!0},label:"ESI No.",fullWidth:!0,type:"text",placeholder:"Enter ESI No.",value:c.esi_no||y.esi_no,onChange:i=>f("esi_no",i.target.value),error:!!a.esi_no,helperText:a.esi_no})}),e(m,{item:!0,xs:12,md:4,children:r(H,{fullWidth:!0,children:[e(G,{id:"esi-contribution-label",children:"Employee ESI rate"}),r(K,{disabled:!(c.esi_contribution||y.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:c.employee_esi_rate||y.employee_esi_rate||"na",onChange:i=>f("employee_esi_rate",i.target.value),error:!!a.employee_esi_rate,helperText:a.employee_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:w.glassCard.background,border:w.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(B,{value:"na",disabled:!0,children:"Select esi rate"}),[...Array(11).keys()].map(i=>r(B,{value:i,children:[i,"%"]},i))]})]})}),e(m,{item:!0,xs:12,md:4,children:r(H,{fullWidth:!0,children:[e(G,{id:"esi-contribution-label",children:"Additional rate"}),r(K,{disabled:!(c.esi_contribution||y.esi_contribution),labelId:"esi-contribution-label",label:"ESI contribution",value:c.additional_esi_rate||y.additional_esi_rate||"na",onChange:i=>f("additional_esi_rate",i.target.value),error:!!a.additional_esi_rate,helperText:a.additional_esi_rate,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:w.glassCard.background,border:w.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[e(B,{value:"na",disabled:!0,children:"Select additional rate"}),[...Array(11).keys()].map(i=>r(B,{value:i,children:[i,"%"]},i))]})]})}),e(m,{item:!0,xs:12,md:4,children:e(S,{disabled:!(c.esi_contribution||y.esi_contribution),InputLabelProps:{shrink:!0},fullWidth:!0,label:"Total rate",placeholder:"N/A",value:c.total_esi_rate||y.total_esi_rate?`${c.total_esi_rate||y.total_esi_rate}%`:"",InputProps:{readOnly:!0},error:!!a.total_esi_rate,helperText:a.total_esi_rate})})]})]}),e(yr,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:e(te,{disabled:!g,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:s,children:"Submit"})})]})]})})})},Wr=({title:o,allUsers:$,report_to:y,departments:P,designations:c})=>{const{auth:D}=We().props,g=ee(),v=He(g.breakpoints.down("sm"));He(g.breakpoints.down("md"));const[a,k]=h.useState(We().props.user),[s,F]=h.useState("overview"),[w,f]=h.useState(!1),[n,i]=h.useState({profile:!1,personal:!1,emergency:!1,bank:!1,family:!1,education:!1,experience:!1,salary:!1}),[b,p]=h.useState({search:"",section:"all",completionStatus:"all",showEmpty:!0}),[t,u]=h.useState(!1),[l,x]=h.useState({completion_percentage:0,total_sections:8,completed_sections:0,last_updated:null,profile_views:0}),I=D.permissions?.includes("profile.own.update")||D.permissions?.includes("profile.update")||D.user.id===a.id,E=D.permissions?.includes("profile.own.view")||D.permissions?.includes("profile.view")||D.user.id===a.id,T=h.useCallback(N=>{i(U=>({...U,[N]:!0}))},[]),d=h.useCallback(N=>{i(U=>({...U,[N]:!1}))},[]),A=h.useCallback((N,U)=>{p(Se=>({...Se,[N]:U}))},[]),C=h.useCallback(()=>{const N=[a.name&&a.email,a.phone&&a.address,a.birthday&&a.gender,a.department&&a.designation,a.emergency_contact_primary_name,a.bank_name||a.bank_account_no,a.educations&&a.educations.length>0,a.experiences&&a.experiences.length>0],U=N.filter(Boolean).length,Se=Math.round(U/N.length*100);return x(Xe=>({...Xe,completion_percentage:Se,completed_sections:U,total_sections:N.length})),{completed:U,total:N.length,percentage:Se}},[a]),Q=h.useCallback(async()=>{try{const N=await Cr.get(route("profile.stats",{user:a.id}));N.data.stats&&x(U=>({...U,...N.data.stats}))}catch(N){console.error("Error fetching profile stats:",N),C()}},[a.id,C]);h.useEffect(()=>{C(),Q()},[C,Q]);const _=h.useCallback(N=>{N&&k(N),C(),Q(),j.success("Profile updated successfully")},[C,Q]),R=h.useMemo(()=>[{title:"Profile Completion",value:`${l.completion_percentage}%`,icon:e(Ee,{}),color:l.completion_percentage>=80?"text-green-400":l.completion_percentage>=50?"text-orange-400":"text-red-400",iconBg:l.completion_percentage>=80?"bg-green-500/20":l.completion_percentage>=50?"bg-orange-500/20":"bg-red-500/20",description:`${l.completed_sections}/${l.total_sections} sections completed`},{title:"Last Updated",value:l.last_updated?kr(l.last_updated).fromNow():"Never",icon:e(Ze,{}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"Profile last modified"},{title:"Profile Views",value:l.profile_views||0,icon:e(wr,{}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Times profile viewed"},{title:"Account Status",value:a.active?"Active":"Inactive",icon:a.active?e(Ee,{}):e(ye,{}),color:a.active?"text-green-400":"text-red-400",iconBg:a.active?"bg-green-500/20":"bg-red-500/20",description:"Current account status"}],[l,a.active]),M=h.useMemo(()=>{const N=[];return I&&N.push({label:v?"Edit":"Edit Profile",icon:e(Nr,{className:"w-4 h-4"}),onPress:()=>T("profile"),color:"primary",variant:"solid"}),N.push({label:v?"":"Export",isIconOnly:v,icon:e(Ge,{className:"w-4 h-4"}),color:"default",variant:"bordered"}),N},[I,v,T]),O=h.useCallback(N=>{switch(N){case"personal":return!a.passport_no&&!a.nationality&&!a.religion&&!a.marital_status;case"emergency":return!a.emergency_contact_primary_name&&!a.emergency_contact_secondary_name;case"bank":return!a.bank_name&&!a.bank_account_no&&!a.ifsc_code&&!a.pan_no;case"family":return!a.family_member_name&&!a.family_member_relationship;case"education":return!a.educations||a.educations.length===0;case"experience":return!a.experiences||a.experiences.length===0;default:return!1}},[a]),J=h.useCallback(N=>{switch(N){case"personal":return!!(a.passport_no&&a.nationality&&a.religion&&a.marital_status);case"emergency":return!!(a.emergency_contact_primary_name&&a.emergency_contact_primary_phone);case"bank":return!!(a.bank_name&&a.bank_account_no);case"family":return!!(a.family_member_name&&a.family_member_relationship);case"education":return!!(a.educations&&a.educations.length>0);case"experience":return!!(a.experiences&&a.experiences.length>0);default:return!1}},[a]);if(!E)return r($e,{children:[e(Ue,{title:o}),e("div",{className:"min-h-screen flex items-center justify-center p-4",children:e(_e,{className:"bg-white/10 backdrop-blur-md border-white/20 max-w-md",children:r(xe,{className:"p-8 text-center",children:[e(ye,{className:"w-16 h-16 text-warning-500 mx-auto mb-4"}),e("h3",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),e("p",{className:"text-default-500",children:"You don't have permission to view this profile."})]})})})]});const oe=()=>r("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e(me,{title:"Personal Information",icon:e(ie,{}),onEdit:()=>T("personal"),canEdit:I,isEmpty:O("personal"),isCompleted:J("personal"),children:r("div",{className:"space-y-1",children:[e(W,{label:"Passport No.",value:a.passport_no,icon:e(ie,{})}),e(W,{label:"Passport Expiry",value:a.passport_exp_date,type:"date",icon:e(je,{})}),e(W,{label:"NID No.",value:a.nid,icon:e(ie,{})}),e(W,{label:"Nationality",value:a.nationality,icon:e(Pr,{})}),e(W,{label:"Religion",value:a.religion,icon:e(pe,{})}),e(W,{label:"Marital Status",value:a.marital_status,type:"chip",icon:e(Pe,{})}),e(W,{label:"Spouse Employment",value:a.employment_of_spouse,icon:e(ge,{})}),e(W,{label:"Children",value:a.number_of_children,icon:e(Be,{}),showDivider:!1})]})}),e(me,{title:"Emergency Contacts",icon:e(ue,{}),onEdit:()=>T("emergency"),canEdit:I,isEmpty:O("emergency"),isCompleted:J("emergency"),children:r("div",{className:"space-y-4",children:[a.emergency_contact_primary_name&&r("div",{children:[e("h5",{className:"text-sm font-semibold text-foreground mb-2",children:"Primary Contact"}),r("div",{className:"space-y-1 pl-4 border-l-2 border-primary-500",children:[e(W,{label:"Name",value:a.emergency_contact_primary_name,icon:e(pe,{})}),e(W,{label:"Relationship",value:a.emergency_contact_primary_relationship,icon:e(Pe,{})}),e(W,{label:"Phone",value:a.emergency_contact_primary_phone,type:"phone",icon:e(ue,{}),showDivider:!1})]})]}),a.emergency_contact_secondary_name&&r("div",{children:[e("h5",{className:"text-sm font-semibold text-foreground mb-2",children:"Secondary Contact"}),r("div",{className:"space-y-1 pl-4 border-l-2 border-secondary-500",children:[e(W,{label:"Name",value:a.emergency_contact_secondary_name,icon:e(pe,{})}),e(W,{label:"Relationship",value:a.emergency_contact_secondary_relationship,icon:e(Pe,{})}),e(W,{label:"Phone",value:a.emergency_contact_secondary_phone,type:"phone",icon:e(ue,{}),showDivider:!1})]})]})]})}),e(me,{title:"Banking Information",icon:e(Le,{}),onEdit:()=>T("bank"),canEdit:I,isEmpty:O("bank"),isCompleted:J("bank"),children:r("div",{className:"space-y-1",children:[e(W,{label:"Bank Name",value:a.bank_name,icon:e(rr,{})}),e(W,{label:"Account Number",value:a.bank_account_no,icon:e(ie,{})}),e(W,{label:"IFSC Code",value:a.ifsc_code,icon:e(ie,{})}),e(W,{label:"PAN Number",value:a.pan_no,icon:e(ie,{}),showDivider:!1})]})}),e(me,{title:"Family Information",icon:e(Be,{}),onEdit:()=>T("family"),canEdit:I,isEmpty:O("family"),isCompleted:J("family"),children:r("div",{className:"space-y-1",children:[e(W,{label:"Member Name",value:a.family_member_name,icon:e(pe,{})}),e(W,{label:"Relationship",value:a.family_member_relationship,icon:e(Pe,{})}),e(W,{label:"Date of Birth",value:a.family_member_dob,type:"date",icon:e(je,{})}),e(W,{label:"Phone",value:a.family_member_phone,type:"phone",icon:e(ue,{}),showDivider:!1})]})}),e(me,{title:"Education History",icon:e(Me,{}),onEdit:()=>T("education"),canEdit:I,isEmpty:O("education"),isCompleted:J("education"),className:"lg:col-span-2",children:a.educations&&a.educations.length>0?e("div",{className:"space-y-4",children:a.educations.map((N,U)=>r(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:U*.1},className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[e("h5",{className:"font-semibold text-foreground mb-2",children:N.institution}),r("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm",children:[r("div",{children:[e("span",{className:"text-default-500",children:"Degree:"}),e("p",{className:"font-medium",children:N.degree||"N/A"})]}),r("div",{children:[e("span",{className:"text-default-500",children:"Start Date:"}),e("p",{className:"font-medium",children:N.starting_date?new Date(N.starting_date).getFullYear():"N/A"})]}),r("div",{children:[e("span",{className:"text-default-500",children:"End Date:"}),e("p",{className:"font-medium",children:N.complete_date?new Date(N.complete_date).getFullYear():"N/A"})]})]})]},N.id||U))}):null}),e(me,{title:"Work Experience",icon:e(ge,{}),onEdit:()=>T("experience"),canEdit:I,isEmpty:O("experience"),isCompleted:J("experience"),className:"lg:col-span-2",children:a.experiences&&a.experiences.length>0?e("div",{className:"space-y-4",children:a.experiences.map((N,U)=>r(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:U*.1},className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[e("h5",{className:"font-semibold text-foreground mb-1",children:N.job_position}),e("p",{className:"text-primary-400 font-medium mb-2",children:N.company_name}),r("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[r("div",{children:[e("span",{className:"text-default-500",children:"Duration:"}),r("p",{className:"font-medium",children:[N.period_from?new Date(N.period_from).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"N/A"," ","- ",N.period_to?new Date(N.period_to).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Present"]})]}),r("div",{children:[e("span",{className:"text-default-500",children:"Location:"}),e("p",{className:"font-medium",children:N.location||"N/A"})]})]}),N.description&&r("div",{className:"mt-2",children:[e("span",{className:"text-default-500 text-sm",children:"Description:"}),e("p",{className:"text-sm mt-1",children:N.description})]})]},U))}):null})]}),Y=()=>e("div",{className:"text-center py-12",children:r("div",{className:"p-8 bg-white/5 rounded-lg border border-white/10 max-w-md mx-auto",children:[e(ge,{className:"w-16 h-16 text-default-400 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold mb-2",children:"Projects Coming Soon"}),e("p",{className:"text-default-500 text-sm",children:"Project management integration will be available in a future update."})]})}),Ne=()=>e("div",{className:"text-center py-12",children:r("div",{className:"p-8 bg-white/5 rounded-lg border border-white/10 max-w-md mx-auto",children:[e(Te,{className:"w-16 h-16 text-default-400 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold mb-2",children:"Salary Information"}),e("p",{className:"text-default-500 text-sm mb-4",children:"Access detailed salary and compensation information."}),I&&e(Z,{color:"primary",variant:"bordered",onPress:()=>T("salary"),startContent:e(Te,{className:"w-4 h-4"}),children:"View Salary Details"})]})}),ne=()=>e("div",{className:"text-center py-12",children:r("div",{className:"p-8 bg-white/5 rounded-lg border border-white/10 max-w-md mx-auto",children:[e(Fr,{className:"w-16 h-16 text-default-400 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold mb-2",children:"Assets Coming Soon"}),e("p",{className:"text-default-500 text-sm",children:"Asset management and tracking will be available in a future update."})]})}),Ie=()=>e("div",{className:"text-center py-12",children:r("div",{className:"p-8 bg-white/5 rounded-lg border border-white/10 max-w-md mx-auto",children:[e(Ge,{className:"w-16 h-16 text-default-400 mx-auto mb-4"}),e("h3",{className:"text-lg font-semibold mb-2",children:"Documents Coming Soon"}),e("p",{className:"text-default-500 text-sm",children:"Document management and storage will be available in a future update."})]})});return r($e,{children:[e(Ue,{title:a.name}),r(Fe,{children:[n.profile&&e(re,{isOpen:n.profile,onClose:()=>d("profile"),title:"Edit Profile",subtitle:"Update your basic profile information",icon:e(pe,{}),showFooter:!1,children:e(Dr,{user:a,allUsers:$,departments:P,designations:c,open:n.profile,setUser:k,closeModal:()=>d("profile"),onSuccess:_})}),n.personal&&e(re,{isOpen:n.personal,onClose:()=>d("personal"),title:"Personal Information",subtitle:"Update your personal details and identification",icon:e(ie,{}),showFooter:!1,children:e(Ir,{user:a,open:n.personal,setUser:k,closeModal:()=>d("personal"),onSuccess:_})}),n.emergency&&e(re,{isOpen:n.emergency,onClose:()=>d("emergency"),title:"Emergency Contacts",subtitle:"Manage your emergency contact information",icon:e(ue,{}),showFooter:!1,children:e(Br,{user:a,open:n.emergency,setUser:k,closeModal:()=>d("emergency"),onSuccess:_})}),n.bank&&e(re,{isOpen:n.bank,onClose:()=>d("bank"),title:"Banking Information",subtitle:"Update your banking and financial details",icon:e(Le,{}),showFooter:!1,children:e(Tr,{user:a,open:n.bank,setUser:k,closeModal:()=>d("bank"),onSuccess:_})}),n.family&&e(re,{isOpen:n.family,onClose:()=>d("family"),title:"Family Information",subtitle:"Add or update family member details",icon:e(Be,{}),showFooter:!1,children:e(jr,{user:a,open:n.family,setUser:k,closeModal:()=>d("family"),onSuccess:_})}),n.education&&e(re,{isOpen:n.education,onClose:()=>d("education"),title:"Education History",subtitle:"Manage your educational background",icon:e(Me,{}),showFooter:!1,children:e($r,{user:a,open:n.education,setUser:k,closeModal:()=>d("education"),onSuccess:_})}),n.experience&&e(re,{isOpen:n.experience,onClose:()=>d("experience"),title:"Work Experience",subtitle:"Update your professional experience",icon:e(ge,{}),showFooter:!1,children:e(Rr,{user:a,open:n.experience,setUser:k,closeModal:()=>d("experience"),onSuccess:_})}),n.salary&&e(re,{isOpen:n.salary,onClose:()=>d("salary"),title:"Salary Information",subtitle:"Review salary and compensation details",icon:e(Te,{}),showFooter:!1,children:e(Ar,{user:a,setUser:k})})]}),e(ar,{title:`${a.name}'s Profile`,subtitle:"Comprehensive employee profile management with advanced features",icon:e(pe,{className:"w-8 h-8"}),variant:"default",actionButtons:M}),r("div",{className:"p-4 space-y-6",children:[e(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e(tr,{stats:R})}),e(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e(Er,{user:a,departments:P,designations:c,onEditClick:()=>T("profile"),profileStats:l,canEdit:I})}),r(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"flex flex-col sm:flex-row gap-4",children:[e("div",{className:"flex-1",children:e(hr,{label:"Search Profile Sections",variant:"bordered",placeholder:"Search sections, fields, or content...",value:b.search,onValueChange:N=>A("search",N),startContent:e(er,{className:"w-4 h-4"}),classNames:{input:"bg-transparent",inputWrapper:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},size:v?"sm":"md"})}),e("div",{className:"flex gap-2 items-end",children:e(br,{variant:"bordered",className:"bg-white/5",children:r(Z,{isIconOnly:v,color:t?"primary":"default",onPress:()=>u(!t),className:t?"bg-purple-500/20":"bg-white/5",children:[e(Sr,{className:"w-4 h-4"}),!v&&e("span",{className:"ml-1",children:"Filters"})]})})})]}),e(Fe,{children:t&&e(L.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:e(_e,{className:"bg-white/10 backdrop-blur-md border-white/20",children:r(xe,{className:"p-4",children:[r("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r(qe,{label:"Profile Section",variant:"bordered",selectedKeys:b.section!=="all"?[b.section]:[],onSelectionChange:N=>{const U=Array.from(N)[0]||"all";A("section",U)},classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},children:[e(V,{value:"all",children:"All Sections"},"all"),e(V,{value:"basic",children:"Basic Information"},"basic"),e(V,{value:"personal",children:"Personal Details"},"personal"),e(V,{value:"work",children:"Work Information"},"work"),e(V,{value:"emergency",children:"Emergency Contacts"},"emergency"),e(V,{value:"bank",children:"Banking Details"},"bank"),e(V,{value:"education",children:"Education"},"education"),e(V,{value:"experience",children:"Experience"},"experience")]}),r(qe,{label:"Completion Status",variant:"bordered",selectedKeys:b.completionStatus!=="all"?[b.completionStatus]:[],onSelectionChange:N=>{const U=Array.from(N)[0]||"all";A("completionStatus",U)},classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},children:[e(V,{value:"all",children:"All Status"},"all"),e(V,{value:"completed",children:"Completed"},"completed"),e(V,{value:"incomplete",children:"Incomplete"},"incomplete"),e(V,{value:"empty",children:"Empty"},"empty")]}),r("div",{className:"flex items-center gap-2",children:[e("label",{className:"text-sm text-default-600",children:"Show Empty:"}),e(Z,{size:"sm",variant:b.showEmpty?"solid":"bordered",color:b.showEmpty?"primary":"default",onPress:()=>A("showEmpty",!b.showEmpty),children:b.showEmpty?"Yes":"No"})]})]}),(b.search||b.section!=="all"||b.completionStatus!=="all")&&r("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-white/10",children:[b.search&&r(ae,{variant:"flat",color:"primary",size:"sm",onClose:()=>A("search",""),children:["Search: ",b.search]}),b.section!=="all"&&r(ae,{variant:"flat",color:"secondary",size:"sm",onClose:()=>A("section","all"),children:["Section: ",b.section]}),b.completionStatus!=="all"&&r(ae,{variant:"flat",color:"warning",size:"sm",onClose:()=>A("completionStatus","all"),children:["Status: ",b.completionStatus]})]})]})})})}),e(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:e(_e,{className:"bg-white/10 backdrop-blur-md border-white/20",children:r(xe,{className:"p-0",children:[r(gr,{selectedKey:s,onSelectionChange:F,variant:"underlined",classNames:{tabList:"gap-6 w-full relative rounded-none p-4 border-b border-white/10",cursor:"w-full bg-primary-500",tab:"max-w-fit px-4 h-12",tabContent:"group-data-[selected=true]:text-primary-foreground text-default-600 font-medium"},children:[e(be,{title:"Overview"},"overview"),e(be,{title:"Projects"},"projects"),e(be,{title:"Salary & Benefits"},"salary"),e(be,{title:"Assets"},"assets"),e(be,{title:"Documents"},"documents")]}),e("div",{className:"p-6",children:r(Fe,{mode:"wait",children:[s==="overview"&&e(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:oe()},"overview"),s==="projects"&&e(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:Y()},"projects"),s==="salary"&&e(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:Ne()},"salary"),s==="assets"&&e(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:ne()},"assets"),s==="documents"&&e(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:Ie()},"documents")]})})]})})})]})]})};Wr.layout=o=>e($e,{children:o});export{Wr as default};
