import{x as h,r as p,j as e,Q as j,t as g}from"./app-Lr-3OgmL.js";function N(){const{data:a,setData:t,post:r,processing:c,errors:l}=h({employee_id:"",initiation_date:"",last_working_date:"",exit_interview_date:"",reason:"resignation",notes:"",tasks:[]}),[i,n]=p.useState({task:"",description:"",due_date:"",assigned_to:""}),o=()=>{i.task&&(t("tasks",[...a.tasks,i]),n({task:"",description:"",due_date:"",assigned_to:""}))},m=s=>t("tasks",a.tasks.filter((d,u)=>u!==s)),x=s=>{s.preventDefault(),r(route("hr.offboarding.store"))};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(j,{title:"Create Offboarding"}),e.jsx("h1",{className:"text-xl font-semibold",children:"New Offboarding"}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Employee ID"}),e.jsx("input",{className:"input",value:a.employee_id,onChange:s=>t("employee_id",s.target.value)}),l.employee_id&&e.jsx("p",{className:"error-text",children:l.employee_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Initiation Date"}),e.jsx("input",{type:"date",className:"input",value:a.initiation_date,onChange:s=>t("initiation_date",s.target.value)}),l.initiation_date&&e.jsx("p",{className:"error-text",children:l.initiation_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Last Working Date"}),e.jsx("input",{type:"date",className:"input",value:a.last_working_date,onChange:s=>t("last_working_date",s.target.value)}),l.last_working_date&&e.jsx("p",{className:"error-text",children:l.last_working_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Exit Interview Date"}),e.jsx("input",{type:"date",className:"input",value:a.exit_interview_date,onChange:s=>t("exit_interview_date",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Reason"}),e.jsx("select",{className:"input",value:a.reason,onChange:s=>t("reason",s.target.value),children:["resignation","termination","retirement","end-of-contract","other"].map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Notes"}),e.jsx("textarea",{className:"textarea",value:a.notes,onChange:s=>t("notes",s.target.value)})]})]}),e.jsx("div",{className:"md:col-span-2 space-y-4",children:e.jsxs("div",{className:"bg-white shadow-sm rounded-sm p-4 space-y-4",children:[e.jsx("h2",{className:"font-medium",children:"Tasks"}),e.jsxs("div",{className:"grid md:grid-cols-5 gap-2 items-end",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"form-label",children:"Task"}),e.jsx("input",{className:"input",value:i.task,onChange:s=>n({...i,task:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Due"}),e.jsx("input",{type:"date",className:"input",value:i.due_date,onChange:s=>n({...i,due_date:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Assignee ID"}),e.jsx("input",{className:"input",value:i.assigned_to,onChange:s=>n({...i,assigned_to:s.target.value})})]}),e.jsx("button",{type:"button",onClick:o,className:"btn btn-secondary w-full",children:"Add"})]}),e.jsxs("div",{children:[a.tasks.length===0&&e.jsx("p",{className:"text-xs text-gray-500",children:"No tasks added."}),e.jsx("ul",{className:"divide-y mt-2",children:a.tasks.map((s,d)=>e.jsxs("li",{className:"py-2 flex items-center justify-between text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.task}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",s.due_date||"—"," Assignee: ",s.assigned_to||"—"]})]}),e.jsx("button",{type:"button",className:"link text-red-600",onClick:()=>m(d),children:"Remove"})]},d))})]})]})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:"Create"}),e.jsx(g,{href:route("hr.offboarding.index"),className:"btn",children:"Cancel"})]})]})]})}export{N as default};
